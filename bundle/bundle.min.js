(()=>{var Rt=Object.defineProperty;var Ot=(_,Y,st)=>Y in _?Rt(_,Y,{enumerable:!0,configurable:!0,writable:!0,value:st}):_[Y]=st;var U=(_,Y,st)=>(Ot(_,typeof Y!="symbol"?Y+"":Y,st),st),mt=(_,Y,st)=>{if(!Y.has(_))throw TypeError("Cannot "+st)};var L=(_,Y,st)=>(mt(_,Y,"read from private field"),st?st.call(_):Y.get(_)),K=(_,Y,st)=>{if(Y.has(_))throw TypeError("Cannot add the same private member more than once");Y instanceof WeakSet?Y.add(_):Y.set(_,st)},et=(_,Y,st,dt)=>(mt(_,Y,"write to private field"),dt?dt.call(_,st):Y.set(_,st),st),$t=(_,Y,st,dt)=>({set _(P){et(_,Y,P,st)},get _(){return L(_,Y,dt)}}),it=(_,Y,st)=>(mt(_,Y,"access private method"),st);(()=>{var _={9218:()=>{(()=>{var P=Object.defineProperty,G=(x,d,m)=>d in x?P(x,d,{enumerable:!0,configurable:!0,writable:!0,value:m}):x[d]=m,o=(x,d,m)=>(G(x,typeof d!="symbol"?d+"":d,m),m),I=(x,d,m)=>{if(!d.has(x))throw TypeError("Cannot "+m)},b=(x,d,m)=>(I(x,d,"read from private field"),m?m.call(x):d.get(x)),T=(x,d,m)=>{if(d.has(x))throw TypeError("Cannot add the same private member more than once");d instanceof WeakSet?d.add(x):d.set(x,m)},C=(x,d,m,u)=>(I(x,d,"write to private field"),u?u.call(x,m):d.set(x,m),m),F=(x,d,m,u)=>({set _(s){C(x,d,s,m)},get _(){return b(x,d,u)}}),N=(x,d,m)=>(I(x,d,"access private method"),m);(()=>{var x={6010:(s,c,t)=>{"use strict";const e={config:void 0,minConfig:t(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(w,f=0,n=!1,l=e.getConfig(),i=!1,r=!1){let g;if(!i){const S=t(8138);g=this.run(()=>{const A=new S(String(w),l),y=A.getAttribute("parseOnce");return y(0,n),y()}),w=g.firstChild}const $=t(6986);return new $(String(w),f,l,r)},parse(w,f,n=e.MAX_STAGE,l=e.getConfig()){const i=t(8138);let r;return this.run(()=>{typeof w=="string"?r=new i(w,l):w instanceof i&&(r=w,w=String(r));try{r.parse(n,f)}catch(g){}}),r},run(w){return w()}},a={},h=new Set(["MAX_STAGE","minConfig"]),p=new Set(["config","normalizeTitle","parse"]);for(const w in e)h.has(w)?a[w]={enumerable:!1,writable:!1}:p.has(w)||(a[w]={enumerable:!1});Object.defineProperties(e,a),typeof self=="object"&&(self.Parser=e),s.exports=e},9205:(s,c,t)=>{"use strict";const{print:e}=t(231),a=t(3853),h=t(7507),p=class extends a{constructor(){super(...arguments),o(this,"name")}get length(){return this.childNodes.length}closest(f){const n=new Set(f.split(",").map(i=>i.trim()));let{parentNode:l}=this;for(;l;){if(n.has(l.type))return l;({parentNode:l}=l)}}append(...f){for(const n of f)this.insertAt(n)}replaceChildren(...f){for(let n=this.length-1;n>=0;n--)this.removeAt(n);this.append(...f)}setText(f,n=0){const l=this.childNodes[n],{type:i,data:r}=l;if(i==="text")return l.replaceData(f),r}toString(f,n=""){return this.childNodes.map(l=>l.toString()).join(n)}lint(f=0){const n=t(8058);if(this instanceof n||this.constructor.hidden||this.type==="ext-inner"&&p.lintIgnoredExt.has(this.name))return[];const l=[];for(let i=0,r=f+this.getPadding();i<this.length;i++){const g=this.childNodes[i];l.push(...g.lint(r)),r+=String(g).length+this.getGaps(i)}return l}print(f={}){return String(this)?`<span class="wpb-${f.class||this.type}">${e(this.childNodes,f)}</span>`:""}json(f){const{childNodes:n,...l}=this;return{...l,childNodes:n.map(i=>i.type==="text"?String(i):i.json())}}};let w=p;o(w,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),s.exports=w},3853:(s,c,t)=>{var e,a,h;const{text:p}=t(231);class w{constructor(){T(this,a),o(this,"type"),o(this,"childNodes",[]),T(this,e,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return b(this,e)}get nextSibling(){var n;const l=(n=b(this,e))==null?void 0:n.childNodes;return l&&l[l.indexOf(this)+1]}get previousSibling(){var n;const l=(n=b(this,e))==null?void 0:n.childNodes;return l&&l[l.indexOf(this)-1]}hasAttribute(n){const l=typeof n;return l==="string"||l==="number"||l==="symbol"?n in this:!1}getAttribute(n){return this.hasAttribute(n)?String(this[n]):void 0}setAttribute(n,l){return n==="parentNode"?C(this,e,l):this[n]=l,this}text(n=""){return p(this.childNodes,n)}removeAt(n){const l=[...this.childNodes],[i]=l.splice(n,1);return i.setAttribute("parentNode"),this.setAttribute("childNodes",l),i}insertAt(n,l=this.childNodes.length){const i=[...this.childNodes];return n.setAttribute("parentNode",this),i.splice(l,0,n),this.setAttribute("childNodes",i),n}normalize(){var n;const l=t(7507),i=[...this.childNodes];for(let r=i.length-1;r>=0;r--){const{type:g,data:$}=i[r];this.getGaps(r-1)||($===""?i.splice(r,1):g==="text"&&((n=i[r-1])==null?void 0:n.type)==="text"&&(i[r-1].setAttribute("data",i[r-1].data+$),i.splice(r,1)))}this.setAttribute("childNodes",i)}getRootNode(){let{parentNode:n}=this;for(;n!=null&&n.parentNode;)({parentNode:n}=n);return n!=null?n:this}posFromIndex(n){const l=String(this);if(n>=-l.length&&n<=l.length){const i=l.slice(0,n).split(`
`);return{top:i.length-1,left:i[i.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(n){let l;const i=(r,g)=>l.slice(0,r).reduce(($,S,A)=>$+String(S).length+g.getGaps(A),0)+g.getPadding();if(n===void 0){const{parentNode:r}=this;return r?({childNodes:l}=r,i(l.indexOf(this),r)):0}return{childNodes:l}=this,i(n,this)}get offsetHeight(){return N(this,a,h).call(this).height}get offsetWidth(){return N(this,a,h).call(this).width}}e=new WeakMap,a=new WeakSet,h=function(){const f=String(this).split(`
`);return{height:f.length,width:f[f.length-1].length}},s.exports=w},7507:(s,c,t)=>{var e,a;const h=t(3853),p=t(9205),w=/https?:|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu,f=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu;class n extends h{constructor(i=""){super(),T(this,e),o(this,"type","text"),o(this,"data"),this.data=i}toString(){return this.data}text(){return this.data}lint(i=0){var r;const{data:g,parentNode:$}=this,S=$==null?void 0:$.type,A=$==null?void 0:$.name,y=S==="free-ext-link"||S==="ext-link-url"||S==="image-parameter"&&A==="link"?f:w,k=[];if(g.search(y)!==-1){y.lastIndex=0;const v=this.getRootNode(),{top:R,left:E}=v.posFromIndex(i);for(let O=y.exec(g);O;O=y.exec(g)){const[,B]=O;let{0:z,index:M}=O;B&&(M+=B.length,z=z.slice(B.length));const H=i+M,X=g.slice(0,M).split(`
`),j=X.length+R-1,D=X[X.length-1],W=X.length>1?D.length:E+D.length,{0:V,length:Z}=z,rt=H+Z;let nt=V==="{"||V==="}"||Z>1?"error":"warning";if(V==="h")switch($==null?void 0:$.type){case"ext-link-text":nt="warning";break;case"attr-value":{const{parentNode:tt}=$;if(((tt==null?void 0:tt.name)==="src"||(tt==null?void 0:tt.name)==="srcset")&&((r=tt==null?void 0:tt.parentNode)==null?void 0:r.name)==="img")continue;break}case"ext-inner":if(A==="sm2"||A==="flashmp3")continue}k.push({message:`\u5B64\u7ACB\u7684"${V==="h"?z:V}"`,severity:nt,startIndex:H,endIndex:rt,startLine:j,endLine:j,startCol:W,endCol:W+Z})}}return k}replaceData(i=""){N(this,e,a).call(this,i)}}e=new WeakSet,a=function(l){return l=String(l),this.setAttribute("data",l),this},s.exports=n},6986:(s,c,t)=>{"use strict";const e=t(6010);class a{constructor(p,w=0,f=e.getConfig(),n=!1){o(this,"valid",!0),o(this,"ns",0);const{namespaces:l,nsid:i}=f;let r=l[w];if(n&&p.includes("%"))try{p=decodeURIComponent(p)}catch(A){}p=p.replace(/_/gu," ").trim(),p[0]===":"&&(r="",p=p.slice(1).trim());const g=p.split(":");if(g.length>1){const A=l[i[g[0].trim().toLowerCase()]];A!==void 0&&(r=A,p=g.slice(1).join(":").trim())}this.ns=i[r.toLowerCase()];const $=p.indexOf("#");let S="";$!==-1&&(S=p.slice($+1).trim(),p=p.slice(0,$).trim()),this.valid=Boolean(p||S)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(p)}}s.exports=a},2308:s=>{"use strict";const c=t=>{var e;return e=class extends t{text(){return""}},o(e,"hidden",!0),e};s.exports=c},8275:(s,c,t)=>{"use strict";const{removeComment:e}=t(231),a=t(6010),h=t(9450),p=t(1782),w=t(9544),f=(n,l=a.getConfig(),i=[])=>{var r,g,$,S,A;const y="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",k=[],v={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},R={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let E=new RegExp(y,"gmu"),O=E.exec(n),B=n.includes("}}"),z;for(;O||z<=n.length&&((g=(r=k[k.length-1])==null?void 0:r[0])==null?void 0:g[0])==="=";){if(O!=null&&O[1]){const[,{length:tt}]=O;O[0]=O[0].slice(tt),O.index+=tt}const{0:M,index:H}=O!=null?O:{0:`
`,index:n.length},X=($=k.pop())!=null?$:{},{0:j,index:D,parts:W,findEqual:V,pos:Z}=X,rt=M==="="&&V;if(M==="]]"||M==="}-")z=H+2;else if(M===`
`){z=H+1;const{pos:tt,findEqual:ot}=(S=k[k.length-1])!=null?S:{};if(!tt||ot||e(n.slice(tt,D))!==""){const lt=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(n.slice(D,H));lt&&(n=`${n.slice(0,D)}\0${i.length}h\x7F${n.slice(H)}`,z=D+4+String(i.length).length,new h(lt[1].length,lt.slice(2),l,i))}}else if(M==="|"||rt)z=H+1,W[W.length-1].push(n.slice(Z,H)),M==="|"&&W.push([]),X.pos=z,X.findEqual=M==="|",k.push(X);else if(M.startsWith("}}")){const tt=M.slice(0,Math.min(j.length,3)),ot=j.length-tt.length,{length:lt}=i;z=H+tt.length,W[W.length-1].push(n.slice(Z,H));let gt=!1,J="t";if(tt.length===3)new w(W.map(Q=>Q.join("=")),l,i);else{const Q=e(W[0][0]).trim();Q in R?J=R[Q]:/^(?:fullurl|canonicalurl|filepath):./iu.test(Q)&&(J="m");try{new p(W[0][0],W.slice(1),l,i)}catch(q){if(q instanceof Error&&q.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))z=D+j.length,gt=!0;else throw q}}gt||(n=`${n.slice(0,D+ot)}\0${lt}${J}\x7F${n.slice(z)}`,z=D+ot+3+String(lt).length,ot>1?k.push({0:j.slice(0,ot),index:D,pos:D+ot,parts:[[]]}):ot===1&&n[D-1]==="-"&&k.push({0:"-{",index:D-1,pos:D+1,parts:[[]]}))}else z=H+M.length,M[0]==="{"&&(O.pos=z,O.parts=[[]]),k.push(..."0"in X?[X]:[],O);B&&(B=n.slice(z).includes("}}"));let nt=k[k.length-1];!B&&((A=nt==null?void 0:nt[0])==null?void 0:A[0])==="{"&&(k.pop(),nt=k[k.length-1]),E=new RegExp(y+(nt?`|${v[nt[0][0]]}${nt.findEqual?"|=":""}`:""),"gmu"),E.lastIndex=z,O=E.exec(n)}return n};s.exports=f},4907:(s,c,t)=>{"use strict";const e=t(6010),a=t(851),h=t(3423),p=t(8655),w=t(7267),f=t(5749),n=(l,i=e.getConfig(),r=[],g=!1)=>{const $=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(g&&l.search($)!==-1)return l.replace($,(v,R)=>{const E=`\0${r.length}e\x7F`;return new a(R,i,r),E}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(v,R,E)=>E===""?R:(new h(E,i,r),`${R}\0${r.length-1}c\x7F`));const S=i.ext.join("|"),A=g?"includeonly":"(?:no|only)include",y=g?"noinclude":"includeonly",k=new RegExp(`<!--.*?(?:-->|$)|<${A}(?:\\s[^>]*?)?>|</${A}\\s*>|<(${S})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${y})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return l.replace(k,(v,R,E,O,B,z,M,H,X)=>{const j=`\0${r.length}${R?"e":"c"}\x7F`;if(R)new w(R,E,O,B,i,r);else if(v.startsWith("<!--")){const D=v.endsWith("-->");new f(v.slice(4,D?-3:void 0),D,i,r)}else z?new p(z,M,H,X,i,r):new h(v,i,r);return j})};s.exports=n},3765:(s,c,t)=>{"use strict";const e=t(6010),a=t(9910),h=(p,w=e.getConfig(),f=[])=>{const n=/-\{/gu,l=/-\{|\}-/gu,i=[];let r=n,g=r.exec(p);for(;g;){const{0:$,index:S}=g;if($==="}-"){const A=i.pop(),{length:y}=f,k=p.slice(A.index+2,S),v=k.indexOf("|"),[R,E]=v===-1?[[],k]:[k.slice(0,v).split(";"),k.slice(v+1)],O=E.replace(/(&[#a-z\d]+);/giu,"$1"),B=`(?:${w.variants.join("|")})`,z=O.split(new RegExp(`;(?=\\s*(?:${B}|[^;]*?=>\\s*${B})\\s*:)`,"u")).map(M=>M.replace(/\x01/gu,";"));new a(R,z,w,f),p=`${p.slice(0,A.index)}\0${y}v\x7F${p.slice(S+2)}`,i.length===0&&(r=n),r.lastIndex=A.index+3+String(y).length}else i.push(g),r=l,r.lastIndex=S+2;g=r.exec(p)}return p};s.exports=h},7513:(s,c,t)=>{"use strict";const{extUrlChar:e}=t(231),a=t(6010),h=t(741),p=(w,f=a.getConfig(),n=[])=>{const l=new RegExp(`\\[((?:${f.protocol}|//)${e}|\0\\d+m\x7F)(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return w.replace(l,(i,r,g,$)=>{const{length:S}=n,A=/&[lg]t;/u.exec(r);return A&&(r=r.slice(0,A.index),g="",$=`${r.slice(A.index)}${g}${$}`),new h(r,g,$,f,n),`\0${S}w\x7F`})};s.exports=p},2937:(s,c,t)=>{"use strict";const e=t(6010),a=t(7507),h=t(8138),p=t(2582),w=t(7815),f=({firstChild:{data:n},type:l,name:i},r=e.getConfig(),g=[])=>{const{doubleUnderscore:$}=r,S=new Set($[0]),A=new Set($[1]);return l!=="root"&&(l!=="ext-inner"||i!=="poem")&&(n=`\0${n}`),n=n.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(y,k,v)=>(new p(v.length,r,g),`${k}\0${g.length-1}r\x7F`)).replace(new RegExp(`__(${$.flat().join("|")})__`,"giu"),(y,k)=>S.has(k.toLowerCase())||A.has(k)?(new w(k,r,g),`\0${g.length-1}u\x7F`):y),l==="root"||l==="ext-inner"&&i==="poem"?n:n.slice(1)};s.exports=f},5130:(s,c,t)=>{"use strict";const e=t(6010),a=t(5649),h=t(2350),p=(w,f=e.getConfig(),n=[])=>{const l=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,i=new Set(f.html.flat()),r=w.split("<");let g=r.shift();for(const $ of r){const S=l.exec($),A=S==null?void 0:S[2],y=A==null?void 0:A.toLowerCase();if(!S||!i.has(y)){g+=`<${$}`;continue}const[,k,,v="",R,E]=S,O=new a(v,"html-attrs",y,f,n),B=O.getAttr("itemprop");if(y==="meta"&&(B===void 0||O.getAttr("content")===void 0)||y==="link"&&(B===void 0||O.getAttr("href")===void 0)){g+=`<${$}`,n.pop();continue}g+=`\0${n.length}x\x7F${E}`,new h(A,O,k==="/",R==="/>",f,n)}return g};s.exports=p},1452:(s,c,t)=>{"use strict";const e=t(6010),a=t(3905),h=t(7625),p=t(337),w=(f,n=e.getConfig(),l=[])=>{const i=t(3360),r=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,g=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,$=new RegExp(`^\\s*(?:${n.protocol})`,"iu"),S=f.split("[[");let A=S.shift();for(let y=0;y<S.length;y++){let k,v,R,E,O;const B=S[y],z=r.exec(B);if(z)[,v,R,E,O]=z,O[0]==="]"&&(E==null?void 0:E.includes("["))&&(E+="]",O=O.slice(1));else{const W=g.exec(B);W&&(k=!0,[,v,R,E]=W)}if(v===void 0||$.test(v)||/\0\d+[exhbru]\x7F/u.test(v)){A+=`[[${B}`;continue}const M=v.trim()[0]===":";if(M&&k){A+=`[[${B}`;continue}const H=e.normalizeTitle(v,0,!1,n,!0,!0),{ns:X,valid:j}=H;if(j){if(k){if(X!==6){A+=`[[${B}`;continue}let W;for(y++;y<S.length;y++){const V=S[y],Z=V.split("]]");if(Z.length>2){W=!0,E+=`[[${Z[0]}]]${Z[1]}`,O=Z.slice(2).join("]]");break}else if(Z.length===2)E+=`[[${Z[0]}]]${Z[1]}`;else{E+=`[[${V}`;break}}if(E=w(E,n,l),!W){A+=`[[${v}${R}${E}`;continue}}}else{A+=`[[${B}`;continue}E&&(E=i(E,n,l)),A+=`\0${l.length}l\x7F${O}`;let D=a;M||(X===6?D=h:X===14&&(D=p)),new D(v,E,H,n,l,R)}return A};s.exports=w},6622:(s,c,t)=>{"use strict";const e=t(6010),a=t(962),h=t(3434),p=(w,f=e.getConfig(),n=[])=>{const l=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(w);if(!l)return w;const[i,r,g]=l;w=`${r}\0${n.length}d\x7F${w.slice(i.length)}`,new a(g,f,n);let $=g.split(";").length-1;if(!$)return w;let S=/:+|-\{/gu,A=S.exec(w),y=0;for(;A&&$;){const{0:k,index:v}=A;if(k[0]===":"){if(k.length>=$)return new h(":".repeat($),f,n),`${w.slice(0,v)}\0${n.length-1}d\x7F${w.slice(v+$)}`;w=`${w.slice(0,v)}\0${n.length}d\x7F${w.slice(S.lastIndex)}`,$-=k.length,S.lastIndex=v+4+String(n.length).length,new h(k,f,n)}else if(k==="-{"){if(!y){const{lastIndex:R}=S;S=/-\{|\}-/gu,S.lastIndex=R}y++}else if(y--,!y){const{lastIndex:R}=S;S=/:+|-\{/gu,S.lastIndex=R}A=S.exec(w)}return w};s.exports=p},4737:(s,c,t)=>{"use strict";const{extUrlChar:e}=t(231),a=t(6010),h=t(8962),p=(w,f=a.getConfig(),n=[])=>{const l=new RegExp(`(^|[^\\p{L}\\d_])(?:${f.protocol})(${e})`,"giu");return w.replace(l,(i,r,g)=>{let $="",S=r?i.slice(1):i;const A=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(S);A&&($=S.slice(A.index),S=S.slice(0,A.index));const y=new RegExp(`[,;.:!?${S.includes("(")?"":")"}]+$`,"u"),k=y.exec(S);if(k){let v=0;k[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(S.slice(0,k.index))&&(v=1),$=`${S.slice(k.index+v)}${$}`,S=S.slice(0,k.index+v)}return $.length>=g.length?i:(new h(S,!1,f,n),`${r}\0${n.length-1}w\x7F${$}`)})};s.exports=p},3360:(s,c,t)=>{"use strict";const e=t(6010),a=t(6714),h=(p,w=e.getConfig(),f=[])=>{var n;const l=p.split(/('{2,})/u),{length:i}=l;if(i===1)return p;let r=0,g=0,$,S,A;for(let y=1;y<i;y+=2){const{length:k}=l[y];switch(k){case 2:g++;break;case 4:l[y-1]+="'",l[y]="'''";case 3:if(r++,$)break;l[y-1].endsWith(" ")?!S&&!A&&(A=y):l[y-1].slice(-2,-1)===" "?$=y:S||(S=y);break;default:l[y-1]+="'".repeat(k-5),l[y]="'''''",g++,r++}}if(g%2===1&&r%2===1){const y=(n=$!=null?$:S)!=null?n:A;l[y]="''",l[y-1]+="'"}for(let y=1;y<i;y+=2)new a(l[y].length,w,f),l[y]=`\0${f.length-1}q\x7F`;return l.join("")};s.exports=h},4624:(s,c,t)=>{"use strict";const e=t(6010),a=t(7507),h=t(8138),p=t(2840),w=t(3125),f=t(5567),n=t(3434),l=({firstChild:{data:i},type:r,name:g},$=e.getConfig(),S=[])=>{const A=[],y=i.split(`
`);let k=r==="root"||r==="parameter-value"||r==="ext-inner"&&g==="poem"?"":`
${y.shift()}`;const v=(R,E)=>{if(!E){k+=R;return}const{lastChild:O}=E;if(O.constructor===h)O.setText(String(O)+R);else{const B=new h(R,$,!0,S);B.type="table-inter",E.insertAt(B.setAttribute("stage",3))}};for(const R of y){let E=A.pop();const[O]=/^(?:\s|\0\d+c\x7F)*/u.exec(R),B=R.slice(O.length),z=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(B);if(z){for(;E&&E.type!=="td";)E=A.pop();const[,W,V,Z,rt]=z;W&&new n(W,$,S),v(`
${O}${W&&`\0${S.length-1}d\x7F`}${V}\0${S.length}b\x7F`,E);const nt=new p(Z,rt,$,S);A.push(...E?[E]:[],nt);continue}else if(!E){k+=`
${R}`;continue}const M=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(B);if(!M){v(`
${R}`,E),A.push(...E?[E]:[]);continue}const[,H,X,j,D]=M;if(H){for(;!(E instanceof p);)E=A.pop();E.close(`
${O}${H}`,!0),v(D,A[A.length-1])}else if(X){E.type==="td"&&(E=A.pop()),E.type==="tr"&&(E=A.pop());const W=new w(`
${O}${X}`,D,$,S);A.push(E,W),E.insertAt(W)}else{E.type==="td"&&(E=A.pop());const W=j==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let V=W.exec(D),Z=0,rt=`
${O}${j}`;for(;V;){const tt=new f(rt,D.slice(Z,V.index),$,S);E.insertAt(tt),{lastIndex:Z}=W,[rt]=V,V=W.exec(D)}const nt=new f(rt,D.slice(Z),$,S);A.push(E,nt),E.insertAt(nt)}}return k.slice(1)};s.exports=l},9544:(s,c,t)=>{"use strict";const{text:e}=t(231),{generateForSelf:a,generateForChild:h}=t(8277),p=t(6010),w=t(8138);class f extends w{constructor(l,i=p.getConfig(),r=[]){super(void 0,i,!0,r,{}),o(this,"type","arg");for(let g=0;g<l.length;g++)if(g===0||g>1){const $=t(g===0?9237:9263),S=new $(l[g],g===0?"arg-name":void 0,i,r,{});super.insertAt(S)}else{const $=new w(l[g],i,!0,r);$.type="arg-default",super.insertAt($.setAttribute("stage",2))}}toString(l){return`{{{${super.toString(l,"|")}}}}`}text(){return`{{{${e(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|",class:!this.getAttribute("include")&&"arg wpb-error"})}lint(l=0){if(!this.getAttribute("include"))return[a(this,{start:l},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[i,r,...g]}=this,$=i.lint(l+3);if(r&&$.push(...r.lint(l+4+String(i).length)),g.length>0){const S={start:l,...this.getRootNode().posFromIndex(l)};$.push(...g.map(A=>h(A,S,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return $}}s.exports=f},9263:(s,c,t)=>{"use strict";const e=t(2308),a=t(9237);class h extends e(a){constructor(){super(...arguments),o(this,"type","hidden")}}s.exports=h},9237:(s,c,t)=>{"use strict";const e=t(6010),a=t(8138);class h extends a{constructor(w,f,n=e.getConfig(),l=[],i=void 0){super(w,n,!0,l,i),o(this,"type","plain"),f&&(this.type=f)}}s.exports=h},5037:(s,c,t)=>{var e,a;const{generateForChild:h}=t(8277),{removeComment:p}=t(231),w=t(6010),f=t(8138),n=t(9237),l=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),i=new Set(["align"]),r=new Set(["cite"]),g=new Set(["cite","datetime"]),$=new Set(["width"]),S=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),A=new Set(["type"]),y={div:i,h1:i,h2:i,h3:i,h4:i,h5:i,h6:i,blockquote:r,q:r,p:i,br:new Set(["clear"]),pre:$,ins:g,del:g,ul:A,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:i,tr:new Set(["bgcolor","align","valign"]),td:S,th:S,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:$,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix"]),combooption:new Set(["name","for","inline","align"])},k=new Set,v={nowiki:k,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:k,inputbox:k,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:k,poll:new Set(["id","show-results-before-voting"]),sm2:A,flashmp3:A,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])};class R extends f{constructor(O,B,z="",M="",H=[],X=w.getConfig(),j=[]){const D=new n(B,"attr-key",X,j,{}),W=B==="title"?new f(M,X,!0,j,{}).setAttribute("type","attr-value").setAttribute("stage",w.MAX_STAGE-1):new n(M,"attr-value",X,j,{});super(void 0,X,!0,j),T(this,e,void 0),T(this,a,void 0),this.type=O,this.append(D,W),C(this,e,z),C(this,a,H),this.setAttribute("name",p(B).trim().toLowerCase())}get balanced(){return!b(this,e)||b(this,a)[0]===b(this,a)[1]}afterBuild(){return b(this,e).includes("\0")&&C(this,e,this.getAttribute("buildFromStr")(b(this,e),"string")),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(O){const[B="",z=""]=b(this,a);return b(this,e)?`${super.toString(O,`${b(this,e)}${B}`)}${z}`:this.firstChild.toString(O)}text(){return b(this,e)?`${super.text(`${b(this,e).trim()}"`)}"`:this.firstChild.text()}getGaps(){var O,B;return b(this,e)?b(this,e).length+((B=(O=b(this,a)[0])==null?void 0:O.length)!=null?B:0):0}print(){const[O="",B=""]=b(this,a);return b(this,e)?super.print({sep:`${b(this,e)}${O}`,post:B}):super.print()}lint(O=0){var B;const z=super.lint(O),{balanced:M,firstChild:H,lastChild:X,type:j,name:D,parentNode:W}=this,V=W==null?void 0:W.name;let Z;if(!M){const rt=this.getRootNode();Z={start:O,...rt.posFromIndex(O)};const nt=h(X,Z,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning"),tt=nt.startIndex-1,ot=nt.startCol-1;z.push({...nt,startIndex:tt,startCol:ot})}return!/\{\{[^{]+\}\}/u.test(D)&&(j==="ext-attr"&&!(V in y)&&v[V]&&!v[V].has(D)||(j==="html-attr"||j==="table-attr"||V in y)&&!((B=y[V])!=null&&B.has(D))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(D)&&(V==="meta"||V==="link"||!l.has(D)))&&(Z||(Z={start:O,...this.getRootNode().posFromIndex(O)}),z.push(h(H,Z,"\u975E\u6CD5\u7684\u5C5E\u6027\u540D"))),z}getValue(){return b(this,e)?this.lastChild.text():!0}}e=new WeakMap,a=new WeakMap,s.exports=R},5649:(s,c,t)=>{"use strict";const{generateForSelf:e,generateForChild:a}=t(8277),{removeComment:h}=t(231),p=t(6010),w=t(8138),f=t(9237),n=t(5037);class l extends w{get sanitized(){return this.getDirtyAttrs().length===0}constructor(r,g,$,S=p.getConfig(),A=[]){if(super(void 0,S,!0,A,{}),this.type=g,this.setAttribute("name",$),r){const y=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let k="",v=y.exec(r),R=0;const E=()=>{k&&(super.insertAt(new f(k,`${g.slice(0,-1)}-dirty`,S,A,{})),k="")};for(;v;){const{index:O,0:B,1:z,2:M,3:H,4:X,5:j,6:D}=v;if(k+=r.slice(R,O),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(h(z).trim())){const W=X!=null?X:D,V=[H,j],Z=new n(g.slice(0,-1),z,M,W,V,S,A);E(),super.insertAt(Z)}else k+=B;({lastIndex:R}=y),v=y.exec(r)}k+=r.slice(R),E()}}afterBuild(){var r,g;const $=t(5567);return this.type==="table-attrs"&&this.setAttribute("name",((r=this.parentNode)==null?void 0:r.subtype)==="caption"?"caption":(g=this.parentNode)==null?void 0:g.type),this}getDirtyAttrs(){return this.childNodes.filter(r=>r instanceof f&&r.text().trim())}getAttrTokens(r){return this.childNodes.filter(g=>g instanceof n&&g.name===r.toLowerCase().trim())}getAttrToken(r){const g=this.getAttrTokens(r);return g[g.length-1]}getAttr(r){var g;return(g=this.getAttrToken(r))==null?void 0:g.getValue()}lint(r=0){const g=t(2350),$=super.lint(r);let S;if(this.parentNode.closing&&this.text().trim()&&(S={start:r,...this.getRootNode().posFromIndex(r)},$.push(e(this,S,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"))),!this.sanitized){S||(S={start:r,...this.getRootNode().posFromIndex(r)});for(const A of this.getDirtyAttrs())$.push(a(A,S,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"))}return $}print(){const r=t(2350);return String(this)?`<span class="wpb-${this.type}${this.parentNode.closing&&this.text().trim()?" wpb-error":""}">${this.childNodes.map(g=>g.print({class:g instanceof f&&g.text().trim()&&"hidden"})).join("")}</span>`:""}}s.exports=l},8103:(s,c,t)=>{"use strict";const e=t(6010),a=t(8138),h=t(2158);class p extends a{constructor(f,n=e.getConfig(),l=[]){super(void 0,n,!0,l,{}),o(this,"type","ext-inner"),o(this,"name","charinsert");const i=h;this.append(...f.split(`
`).map(r=>new i(r,"charinsert-line",n,l)))}toString(f){return super.toString(f,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}s.exports=p},9910:(s,c,t)=>{"use strict";const{text:e,print:a}=t(231),h=t(6010),p=t(8138),w=t(6719),f=t(8683);class n extends p{constructor(i,r,g=h.getConfig(),$=[]){super(void 0,g,!0,$),o(this,"type","converter"),this.append(new w(i,g,$));const[S]=r,A=S.includes(":"),y=new f(S,A,g,$);A&&y.length===1?this.insertAt(new f(r.join(";"),!1,g,$)):this.append(y,...r.slice(1).map(k=>new f(k,!0,g,$)))}toString(i){const{childNodes:[r,...g]}=this;return`-{${r.toString()}${r.length>0?"|":""}${g.map(String).join(";")}}-`}text(){const{childNodes:[i,...r]}=this;return`-{${i.text()}|${e(r,";")}}-`}getPadding(){return 2}getGaps(i=0){return i=i<0?i+this.length:i,i||this.firstChild.length>0?1:0}print(){const{childNodes:[i,...r]}=this;return`<span class="wpb-converter">-{${i.print()}${i.length>0?"|":""}${a(r,{sep:";"})}}-</span>`}}s.exports=n},6719:(s,c,t)=>{var e;const{generateForChild:a}=t(8277),h=t(6010),p=t(8138),w=t(9237),f=new Set(["A","T","R","D","-","H","N"]);class n extends p{constructor(i,r=h.getConfig(),g=[]){super(void 0,r,!0,g,{}),o(this,"type","converter-flags"),T(this,e,void 0),this.append(...i.map($=>new w($,"converter-flag",r,g)))}afterBuild(){return C(this,e,this.childNodes.map(i=>i.text().trim())),this}toString(i){return super.toString(i,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(i=0){const r=this.getVariantFlags(),g=this.getUnknownFlags(),$=new Set(b(this,e).filter(E=>f.has(E))),{length:S}=b(this,e).filter(E=>!E),A=b(this,e).length-g.size-S,y=super.lint(i);if(r.size===A||$.size===A)return y;const k={start:i,...this.getRootNode().posFromIndex(i)},{childNodes:v,length:R}=this;for(let E=0;E<R;E++){const O=v[E],B=O.text().trim();if(B&&!r.has(B)&&!g.has(B)&&(r.size>0||!$.has(B))){const z=a(O,k,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");y.push(z)}}return y}getUnknownFlags(){return new Set(b(this,e).filter(i=>/\{\{[^{}]+\}\}/u.test(i)))}getVariantFlags(){const i=new Set(this.getAttribute("config").variants);return new Set(b(this,e).filter(r=>i.has(r)))}}e=new WeakMap,s.exports=n},8683:(s,c,t)=>{"use strict";const e=t(6010),a=t(8138),h=t(9237);class p extends a{constructor(f,n=!0,l=e.getConfig(),i=[]){if(super(void 0,l,!0,i),o(this,"type","converter-rule"),n){const r=f.indexOf(":"),g=f.slice(0,r).indexOf("=>"),$=g===-1?f.slice(0,r):f.slice(g+2,r),{variants:S}=l;S.includes($.trim())?(super.insertAt(new h($,"converter-rule-variant",l,i)),super.insertAt(new h(f.slice(r+1),"converter-rule-to",l,i)),g!==-1&&super.insertAt(new h(f.slice(0,g),"converter-rule-from",l,i),0)):super.insertAt(new h(f,"converter-rule-noconvert",l,i))}else super.insertAt(new h(f,"converter-rule-noconvert",l,i))}toString(f){if(this.length===3){const{childNodes:[n,l,i]}=this;return`${n.toString(f)}=>${l.toString(f)}:${i.toString(f)}`}return super.toString(f,":")}text(){if(this.length===3){const{childNodes:[f,n,l]}=this;return`${f.text()}=>${n.text()}:${l.text()}`}return super.text(":")}getGaps(f=0){const{length:n}=this;return f=f<0?f+n:f,f===0&&n===3?2:1}print(){if(this.length===3){const{childNodes:[f,n,l]}=this;return`<span class="wpb-converter-rule">${f.print()}=>${n.print()}:${l.print()}</span>`}return super.print({sep:":"})}}s.exports=p},741:(s,c,t)=>{var e;const a=t(6010),h=t(8138),p=t(8962);class w extends h{constructor(n,l,i,r=a.getConfig(),g=[]){if(super(void 0,r,!0,g,{}),o(this,"type","ext-link"),T(this,e,void 0),this.insertAt(new p(n,!0,r,g)),C(this,e,l),i){const $=new h(i,r,!0,g,{});$.type="ext-link-text",this.insertAt($.setAttribute("stage",a.MAX_STAGE-1))}}toString(n){return this.length===1?`[${super.toString(n)}${b(this,e)}]`:`[${super.toString(n,b(this,e))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return b(this,e).length}print(){const{length:n}=this;return super.print(n>1?{pre:"[",sep:b(this,e),post:"]"}:{pre:"[",post:`${b(this,e)}]`})}}e=new WeakMap,s.exports=w},1891:(s,c,t)=>{"use strict";const e=t(6010),a=t(8138),h=t(1031),p=t(9263);class w extends a{constructor(n,l=e.getConfig(),i=[]){var r;super(void 0,l,!0,i,{}),o(this,"type","ext-inner"),o(this,"name","gallery");const g=JSON.parse(JSON.stringify(l));for(const[$,S]of Object.entries(l.img))S==="width"&&delete g.img[$];for(const $ of(r=n==null?void 0:n.split(`
`))!=null?r:[]){const S=/^([^|]+)(?:\|(.*))?/u.exec($);if(!S){super.insertAt($.trim()?new p($,void 0,l,[],{}):$);continue}const[,A,y]=S,k=this.normalizeTitle(A,6,!0,!0);k.valid?super.insertAt(new h(A,y,k,g,i)):super.insertAt(new p($,void 0,l,[],{}))}}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(n=0){const{top:l,left:i}=this.getRootNode().posFromIndex(n),r=[];for(let g=0,$=n;g<this.length;g++){const S=this.childNodes[g],A=String(S),{length:y}=A,k=A.trim(),v=l+g,R=g?0:i;S.type==="hidden"&&k&&!/^<!--.*-->$/u.test(k)?r.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startIndex:$,endIndex:$+y,startLine:v,endLine:v,startCol:R,endCol:R+y}):S.type!=="hidden"&&S.type!=="text"&&r.push(...S.lint($)),$+=y+1}return r}}s.exports=w},2158:(s,c,t)=>{"use strict";const e=t(6010),a=t(8138),h=t(3423);class p extends a{constructor(f,n,l=e.getConfig(),i=[]){f=f.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(r,g,$,S)=>(new h(g,l,i),new h(S,l,i),`\0${i.length-1}c\x7F${$}\0${i.length}c\x7F`)),super(f,l,!0,i,{}),this.type=n}}s.exports=p},428:(s,c,t)=>{"use strict";const e=t(6010),a=t(2158);class h extends a{constructor(w,f=e.getConfig(),n=[]){super(w,"ext-inner",f,n),o(this,"name","pre"),this.setAttribute("stage",e.MAX_STAGE-1)}isPlain(){return!0}}s.exports=h},9450:(s,c,t)=>{"use strict";const{generateForSelf:e}=t(8277),a=t(6010),h=t(8138),p=t(8058);class w extends h{constructor(n,l,i=a.getConfig(),r=[]){super(void 0,i,!0,r),o(this,"type","heading"),this.setAttribute("name",String(n));const g=new h(l[0],i,!0,r);g.type="heading-title",g.setAttribute("stage",2);const $=new p(l[1],/^[^\S\n]*$/u,"heading-trail",i,r,{});this.append(g,$)}toString(n){const l="=".repeat(Number(this.name));return`${l}${this.firstChild.toString()}${l}${this.lastChild.toString()}`}text(){const n="=".repeat(Number(this.name));return`${n}${this.firstChild.text()}${n}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const n="=".repeat(Number(this.name)),l=String(this.firstChild);return super.print({pre:n,sep:n,class:(l[0]==="="||l.endsWith("=")||this.closest("html-attrs, table-attrs"))&&"heading wpb-error"})}lint(n=0){const l=super.lint(n),i=String(this.firstChild);let r;return this.name==="1"&&(r=e(this,{start:n},"<h1>"),l.push(r)),(i[0]==="="||i.endsWith("="))&&(r||(r=e(this,{start:n},"")),l.push({...r,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(r||(r=e(this,{start:n},"")),l.push({...r,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),l}}s.exports=w},2350:(s,c,t)=>{var e,a,h;const{generateForSelf:p}=t(8277),w=t(6010),f=t(8138);class n extends f{constructor(i,r,g,$,S=w.getConfig(),A=[]){super(void 0,S,!0,A),o(this,"type","html"),T(this,e,void 0),T(this,a,void 0),T(this,h,void 0),this.insertAt(r),this.setAttribute("name",i.toLowerCase()),C(this,e,g),C(this,a,$),C(this,h,i)}get closing(){return b(this,e)}toString(i){return`<${b(this,e)?"/":""}${b(this,h)}${super.toString()}${b(this,a)?"/":""}>`}text(){return`<${b(this,e)?"/":""}${b(this,h)}${b(this,e)?"":super.text()}${b(this,a)?"/":""}>`}getPadding(){return b(this,h).length+(b(this,e)?2:1)}print(){return super.print({pre:`&lt;${b(this,e)?"/":""}${b(this,h)}`,post:`${b(this,a)?"/":""}&gt;`,class:this.closest("table-attrs")&&"html wpb-error"})}lint(i=0){const r=super.lint(i);let g;this.name==="h1"&&!b(this,e)&&(g=p(this,{start:i},"<h1>"),r.push(g)),this.closest("table-attrs")&&(g||(g=p(this,{start:i},"")),r.push({...g,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:$}){g||(g=p(this,{start:i},""));const[S]=$.split("\uFF1A"),A={...g,message:S,severity:S==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};r.push(A)}return r}findMatchingTag(){const{html:i}=this.getAttribute("config"),{name:r,parentNode:g}=this,$=String(this);if(b(this,e)&&(b(this,a)||i[2].includes(r)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${$}`);if(i[2].includes(r)||b(this,a)&&i[1].includes(r))return this;if(b(this,a)&&i[0].includes(r))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${$}`);if(!g)return;const{childNodes:S}=g,A=S.indexOf(this),y=b(this,e)?S.slice(0,A).reverse().filter(({type:v,name:R})=>v==="html"&&R===r):S.slice(A+1).filter(({type:v,name:R})=>v==="html"&&R===r);let k=b(this,e)?-1:1;for(const v of y)if(v.closing?k--:k++,k===0)return v;throw new SyntaxError(`\u672A${b(this,e)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${$}`)}}e=new WeakMap,a=new WeakMap,h=new WeakMap,s.exports=n},1874:(s,c,t)=>{var e,a,h;const{print:p,extUrlChar:w}=t(231),f=t(6010),n=t(8138),l=class extends n{constructor(r,g=f.getConfig(),$=[]){var S=(...v)=>{super(...v),o(this,"type","image-parameter"),T(this,h,"")},A;const y=Object.entries(g.img).map(([v,R])=>[v,R,new RegExp(`^(\\s*)${v.replace("$1","(.*)")}(\\s*)$`,"u")]),k=y.find(([,,v])=>v.test(r));if(k){const v=k[2].exec(r);if(v.length!==4||N(A=l,e,a).call(A,k[1],v[2],g,!0)){v.length===3?(S(void 0,g,!0,$),C(this,h,r)):(S(v[2],g,!0,$,{}),C(this,h,`${v[1]}${k[0]}${v[3]}`)),this.setAttribute("name",k[1]);return}}S(r,g,!0,$),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(r){return b(this,h)?b(this,h).replace("$1",super.toString(r)):super.toString(r)}text(){return b(this,h)?b(this,h).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,b(this,h).indexOf("$1"))}print(){return b(this,h)?`<span class="wpb-image-parameter">${b(this,h).replace("$1",`<span class="wpb-image-caption">${p(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let i=l;e=new WeakSet,a=function(r,g,$=f.getConfig(),S=!1){switch(g=g.replace(/\0\d+t\x7F/gu,"").trim(),r){case"width":return/^\d*(?:x\d*)?$/u.test(g);case"link":return!g||new RegExp(`(?:${$.protocol}|//)${w}(?=\0\\d+t\x7F|$)`,"iu").test(g)?!0:(g.startsWith("[[")&&g.endsWith("]]")&&(g=g.slice(2,-2)),f.normalizeTitle(g,0,!1,$,S,!0).valid);case"lang":return $.variants.includes(g);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(g)}},h=new WeakMap,T(i,e),s.exports=i},2641:(s,c,t)=>{"use strict";const{generateForSelf:e,generateForChild:a}=t(8277),h=t(6010),p=t(8138),w=t(3423),f=t(1031),n=t(2571);class l extends p{constructor(r,g=h.getConfig(),$=[]){if(super(void 0,g,!0,$,{}),o(this,"type","ext-inner"),o(this,"name","imagemap"),!r)return;const S=r.split(`
`),A=new Set(g.protocol.split("|")),y=w,k=E=>{super.insertAt(new y(E,g,$))};let v=!0,R=!1;for(const E of S){const O=E.trim();if(!(R||!O||O[0]==="#")){if(v){const[B,...z]=E.split("|"),M=this.normalizeTitle(B,0,!0);if(M.valid&&!M.interwiki&&M.ns===6){const H=new f(B,z.length>0?z.join("|"):void 0,M,g,$);H.type="imagemap-image",super.insertAt(H),v=!1;continue}else R=!0}else if(E.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(E);continue}else if(E.includes("[")){const B=E.indexOf("["),z=E.slice(B),M=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(z);if(M){const H=this.normalizeTitle(M[1],0,!0);if(H.valid){super.insertAt(new n(E.slice(0,B),[...M.slice(1),H],z.slice(z.indexOf("]]")+2),g,$));continue}}else if(A.has(z.slice(1,z.indexOf(":")+1))||A.has(z.slice(1,z.indexOf("//")+2))){const H=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(z);if(H){super.insertAt(new n(E.slice(0,B),H.slice(1),z.slice(z.indexOf("]")+1),g,$));continue}}}}k(E)}}get image(){return this.childNodes.find(({type:r})=>r==="imagemap-image")}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`,class:!this.image&&"ext-inner wpb-error"})}lint(r=0){const g=super.lint(r),$={start:r,...this.getRootNode().posFromIndex(r)};return this.image?g.push(...this.childNodes.filter(S=>{const A=String(S).trim();return S.type==="noinclude"&&A&&A[0]!=="#"}).map(S=>a(S,$,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):g.push(e(this,$,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),g}}s.exports=l},2571:(s,c,t)=>{"use strict";const e=t(6986),a=t(8138),h=t(3423),p=t(3905),w=t(741);class f extends a{constructor(l,i,r,g,$){const S=i[2]instanceof e?p:w;super(void 0,g,!0,$),o(this,"type","imagemap-link"),this.append(l,new S(...i,g,$),new h(r,g,$))}}s.exports=f},8138:(s,c,t)=>{var e,a,h,p,w,f,n,l,i,r,g,$,S,A,y,k,v,R,E,O,B,z,M,H,X,j,D,W,V;const{text:Z}=t(231),rt=t(6010),nt=t(9205),tt=t(7507),{MAX_STAGE:ot}=rt,lt=class extends nt{constructor(J,Q=rt.getConfig(),q=!1,ut=[],xt=void 0){super(),T(this,l),T(this,r),T(this,$),T(this,A),T(this,k),T(this,R),T(this,O),T(this,z),T(this,H),T(this,j),T(this,W),o(this,"type","root"),T(this,e,0),T(this,a,void 0),T(this,h,void 0),T(this,p,void 0),T(this,w,(ct=b(this,e),at=!1)=>{if(ct<b(this,e)||!this.isPlain()||this.length===0)return this;switch(ct){case 0:this.type==="root"&&b(this,h).shift(),C(this,p,Boolean(at)),N(this,l,i).call(this,at);break;case 1:N(this,r,g).call(this);break;case 2:N(this,$,S).call(this);break;case 3:N(this,A,y).call(this);break;case 4:N(this,k,v).call(this);break;case 5:N(this,R,E).call(this);break;case 6:N(this,O,B).call(this);break;case 7:N(this,z,M).call(this);break;case 8:N(this,H,X).call(this);break;case 9:N(this,j,D).call(this);break;case 10:N(this,W,V).call(this)}if(this.type==="root")for(const ht of b(this,h))ht.getAttribute("parseOnce")(ct,at);return F(this,e)._++,this}),T(this,f,(ct,at)=>{const ht=ct.split(/[\0\x7F]/u).map((pt,Bt)=>{if(Bt%2===0)return new tt(pt);if(isNaN(pt[pt.length-1]))return b(this,h)[Number(pt.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${pt}`)});return at==="string"?ht.map(String).join(""):at==="text"?Z(ht):ht}),T(this,n,()=>{C(this,e,ot);const{length:ct,firstChild:at}=this,ht=String(at);if(ct===1&&at.type==="text"&&ht.includes("\0")&&(this.replaceChildren(...b(this,f).call(this,ht)),this.normalize(),this.type==="root"))for(const pt of b(this,h))pt.getAttribute("build")()}),typeof J=="string"&&this.insertAt(q?J:J.replace(/[\0\x7F]/gu,"")),C(this,a,Q),C(this,h,ut),ut.push(this)}getAttribute(J){switch(J){case"config":return JSON.parse(JSON.stringify(b(this,a)));case"accum":return b(this,h);case"parseOnce":return b(this,w);case"buildFromStr":return b(this,f);case"build":return b(this,n);case"include":{if(b(this,p)!==void 0)return b(this,p);const Q=this.getRootNode();return Q.type==="root"&&Q!==this?Q.getAttribute("include"):!1}default:return super.getAttribute(J)}}setAttribute(J,Q){switch(J){case"stage":return b(this,e)===0&&this.type==="root"&&b(this,h).shift(),C(this,e,Q),this;default:return super.setAttribute(J,Q)}}isPlain(){return this.constructor===lt}insertAt(J,Q=this.length){return typeof J=="string"&&(J=new tt(J)),super.insertAt(J,Q),J.type==="root"&&(J.type="plain"),J}normalizeTitle(J,Q=0,q=!1,ut=!1){return rt.normalizeTitle(J,Q,b(this,p),b(this,a),q,ut)}afterBuild(){if(this.type==="root")for(const J of b(this,h))J.afterBuild();return this}parse(J=ot,Q=!1){for(;b(this,e)<J;)b(this,w).call(this,b(this,e),Q);return J&&(b(this,n).call(this),this.afterBuild()),this}};let gt=lt;e=new WeakMap,a=new WeakMap,h=new WeakMap,p=new WeakMap,w=new WeakMap,f=new WeakMap,n=new WeakMap,l=new WeakSet,i=function(J){const Q=t(4907);this.setText(Q(String(this.firstChild),b(this,a),b(this,h),J))},r=new WeakSet,g=function(){const J=t(8275),Q=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,q=J(Q,b(this,a),b(this,h));this.setText(this.type==="root"?q:q.slice(1))},$=new WeakSet,S=function(){const J=t(5130);this.setText(J(String(this.firstChild),b(this,a),b(this,h)))},A=new WeakSet,y=function(){const J=t(4624),Q=t(2840);this.setText(J(this,b(this,a),b(this,h)));for(const q of b(this,h))if(q instanceof Q&&q.type!=="td"){q.normalize();const{childNodes:[,ut]}=q;if(typeof ut=="string"&&ut.includes("\0")){q.removeAt(1);const xt=new lt(ut,b(this,a),!0,b(this,h));q.insertAt(xt,1),xt.setAttribute("stage",4)}}},k=new WeakSet,v=function(){const J=t(2937);this.setText(J(this,b(this,a),b(this,h)))},R=new WeakSet,E=function(){const J=t(1452);this.setText(J(String(this.firstChild),b(this,a),b(this,h)))},O=new WeakSet,B=function(){const J=t(3360),Q=String(this.firstChild).split(`
`);for(let q=0;q<Q.length;q++)Q[q]=J(Q[q],b(this,a),b(this,h));this.setText(Q.join(`
`))},z=new WeakSet,M=function(){const J=t(7513);this.setText(J(String(this.firstChild),b(this,a),b(this,h)))},H=new WeakSet,X=function(){const J=t(4737);this.setText(J(String(this.firstChild),b(this,a),b(this,h)))},j=new WeakSet,D=function(){if(this.type==="image-parameter")return;const J=t(6622),Q=String(this.firstChild).split(`
`);let q=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;q<Q.length;q++)Q[q]=J(Q[q],b(this,a),b(this,h));this.setText(Q.join(`
`))},W=new WeakSet,V=function(){const J=t(3765);this.setText(J(String(this.firstChild),b(this,a),b(this,h)))},s.exports=gt},337:(s,c,t)=>{"use strict";const e=t(3905);class a extends e{constructor(){super(...arguments),o(this,"type","category")}}s.exports=a},7625:(s,c,t)=>{var e,a;const{explode:h}=t(231),{generateForChild:p}=t(8277),w=t(6010),f=t(3905),n=t(1874),l=new Set(["manualthumb","frameless","framed","thumbnail"]),i=new Set(["left","right","center","none"]),r=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class g extends f{constructor(S,A,y,k=w.getConfig(),v=[],R="|"){super(S,void 0,y,k,v,R),T(this,e),o(this,"type","file"),this.append(...h("-{","}-","|",A).map(E=>new n(E,k,v)))}lint(S=0){const A=super.lint(S),y=this.getAllArgs(),k=[...new Set(y.map(({name:B})=>B))],v=k.filter(B=>l.has(B)),R=k.filter(B=>i.has(B)),E=k.filter(B=>r.has(B));if(y.length===k.length&&v.length<2&&R.length<2&&E.length<2)return A;const O={start:S,...this.getRootNode().posFromIndex(S)};for(const B of k){let z=y.filter(({name:M})=>M===B);B==="caption"&&(z=[...z.slice(0,-1).filter(M=>M.text()),z[z.length-1]]),z.length>1&&A.push(...z.map(M=>p(M,O,`\u91CD\u590D\u7684\u56FE\u7247${B}\u53C2\u6570`)))}return v.size>1&&A.push(...y.filter(({name:B})=>l.has(B)).map(B=>p(B,O,"\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),R.size>1&&A.push(...y.filter(({name:B})=>i.has(B)).map(B=>p(B,O,"\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),E.size>1&&A.push(...y.filter(({name:B})=>r.has(B)).map(B=>p(B,O,"\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),A}getAllArgs(){return this.childNodes.slice(1)}getArgs(S){return this.getAllArgs().filter(({name:A})=>S===A)}getFrameArgs(){return N(this,e,a).call(this,l,"\u6846\u67B6")}getHorizAlignArgs(){return N(this,e,a).call(this,i,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return N(this,e,a).call(this,r,"\u5782\u76F4\u5BF9\u9F50")}}e=new WeakSet,a=function($,S){return this.getAllArgs().filter(({name:A})=>$.has(A))},s.exports=g},1031:(s,c,t)=>{var e;const{generateForSelf:a}=t(8277),h=t(6010),p=t(8138),w=t(7625);class f extends w{constructor(l,i,r,g=h.getConfig(),$=[]){let S;if(i!==void 0){S=new p(i,g,!0,$),S.type="temp";for(let A=1;A<h.MAX_STAGE;A++)S.getAttribute("parseOnce")();$.splice($.indexOf(S),1)}super(l,S==null?void 0:S.toString(),r,g,$),o(this,"type","gallery-image"),T(this,e,!1),this.setAttribute("bracket",!1)}afterBuild(){const l=this.type==="imagemap-image",{interwiki:i,ns:r}=this.normalizeTitle(String(this.firstChild),l?0:6,!0,!l);return C(this,e,i||r!==6),this}getPadding(){return 0}lint(l=0){const i=super.lint(l);return b(this,e)&&i.push(a(this,{start:l},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),i}print(){return super.print({class:b(this,e)&&"gallery-image wpb-error"})}}e=new WeakMap,s.exports=f},3905:(s,c,t)=>{var e,a;const{generateForChild:h}=t(8277),p=t(6010),w=t(7507),f=t(8138),n=t(9237);class l extends f{constructor(r,g,$,S=p.getConfig(),A=[],y="|"){if(super(void 0,S,!0,A,{}),o(this,"type","link"),T(this,e,!0),T(this,a,void 0),this.insertAt(new n(r,"link-target",S,A,{})),g!==void 0){const k=new f(g,S,!0,A,{});k.type="link-text",this.insertAt(k.setAttribute("stage",p.MAX_STAGE-1))}C(this,a,y)}afterBuild(){var r;return(r=b(this,a))!=null&&r.includes("\0")&&C(this,a,this.getAttribute("buildFromStr")(b(this,a),"string")),this}setAttribute(r,g){return r==="bracket"?(C(this,e,Boolean(g)),this):super.setAttribute(r,g)}toString(r){const g=super.toString(r,b(this,a));return b(this,e)?`[[${g}]]`:g}text(){const r=super.text("|");return b(this,e)?`[[${r}]]`:r}getPadding(){return 2}getGaps(){return b(this,a).length}print(){return super.print(b(this,e)?{pre:"[[",post:"]]",sep:b(this,a)}:{sep:b(this,a)})}lint(r=0){var g;const $=super.lint(r),{childNodes:[,S]}=this;return(g=S==null?void 0:S.childNodes)!=null&&g.some(({type:A,data:y})=>A==="text"&&y.includes("|"))&&$.push(h(S,{token:this,start:r},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"')),$}}e=new WeakMap,a=new WeakMap,s.exports=l},8962:(s,c,t)=>{"use strict";const{generateForChild:e}=t(8277),a=t(6010),h=t(8138);class p extends h{constructor(f,n,l=a.getConfig(),i=[]){super(f,l,!0,i,{}),o(this,"type","free-ext-link"),n&&(this.type="ext-link-url")}lint(f=0){const n=super.lint(f),l="[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+";let i;for(const r of this.childNodes){const g=String(r);if(r.type!=="text"||!new RegExp(l,"u").test(g))continue;i||(i={start:f,...this.getRootNode().posFromIndex(f)});const $=e(r,i,"URL\u4E2D\u7684\u5168\u89D2\u6807\u70B9","warning"),S=new RegExp(l,"gu");for(let A=S.exec(g);A;A=S.exec(g)){const{index:y,0:{length:k}}=A,v=g.slice(0,y).split(`
`),{length:R}=v,{length:E}=v[R-1],O=f+y,B=O+k,z=$.startLine+R-1,M=R>1?E:$.startCol+E,H=M+k;n.push({...$,startIndex:O,endIndex:B,startLine:z,endLine:z,startCol:M,endCol:H})}}return n}}s.exports=p},9389:(s,c,t)=>{"use strict";const e=t(6010),a=t(8889);class h extends a{constructor(w,f=e.getConfig(),n=[]){super(w,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],f,n),o(this,"name","choose")}}s.exports=h},9269:(s,c,t)=>{"use strict";const e=t(6010),a=t(8889);class h extends a{constructor(w,f=e.getConfig(),n=[]){super(w,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],f,n),o(this,"name","combobox")}}s.exports=h},8889:(s,c,t)=>{"use strict";const{generateForChild:e}=t(8277),a=t(6010),h=t(8138),p=t(7267),w=t(3423),f=t(5749);class n extends h{constructor(i,r,g,$=a.getConfig(),S=[]){var A;const y=(A=i==null?void 0:i.replace(r,(k,v,R,E,O)=>{const B=`\0${S.length+1}${v?"e":"c"}\x7F`;if(v)new p(v,R,E,O,$,S);else{const z=k.endsWith("-->");new f(k.slice(4,z?-3:void 0),z,$,S)}return B}))==null?void 0:A.replace(/(^|\0\d+[ce]\x7F)(.*?)(?=$|\0\d+[ce]\x7F)/gsu,(k,v,R)=>R===""?v:(new w(R,$,S),`${v}\0${S.length}c\x7F`));super(y,$,!0,S,{}),o(this,"type","ext-inner")}lint(i=0){let r;return[...super.lint(i),...this.childNodes.filter(g=>{if(g.type==="ext"||g.type==="comment")return!1;const $=String(g).trim();return $&&!/^<!--.*-->$/u.test($)}).map(g=>(r||(r={start:i,...this.getRootNode().posFromIndex(i)}),e(g,r,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}s.exports=n},5937:(s,c,t)=>{"use strict";const e=t(6010),a=t(8889);class h extends a{constructor(w,f=e.getConfig(),n=[]){super(w,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],f,n),o(this,"name","references")}}s.exports=h},7033:(s,c,t)=>{var e={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function a(p){var w=h(p);return t(w)}function h(p){if(!t.o(e,p)){var w=new Error("Cannot find module '"+p+"'");throw w.code="MODULE_NOT_FOUND",w}return e[p]}a.keys=function(){return Object.keys(e)},a.resolve=h,s.exports=a,a.id=7033},5749:(s,c,t)=>{"use strict";const e=t(2308),{generateForSelf:a}=t(8277),h=t(6010),p=t(6935);class w extends e(p){constructor(n,l=!0,i=h.getConfig(),r=[]){super(n,i,r),o(this,"type","comment"),o(this,"closed"),this.closed=l}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":"",class:!this.closed&&"comment wpb-error"})}lint(n=0){return this.closed?[]:[a(this,{start:n},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(n){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}s.exports=w},3434:(s,c,t)=>{"use strict";const e=t(6935);class a extends e{constructor(){super(...arguments),o(this,"type","dd")}}s.exports=a},7815:(s,c,t)=>{"use strict";const e=t(2308),a=t(6935);class h extends e(a){constructor(){super(...arguments),o(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(w){return`__${String(this.firstChild)}__`}}s.exports=h},2582:(s,c,t)=>{"use strict";const e=t(6010),a=t(6935);class h extends a{constructor(w,f=e.getConfig(),n=[]){super("-".repeat(w),f,n),o(this,"type","hr")}}s.exports=h},6935:(s,c,t)=>{"use strict";const{generateForSelf:e}=t(8277),a=t(6010),h=t(8138);class p extends h{constructor(f,n=a.getConfig(),l=[]){super(f,n,!0,l),o(this,"type","ext-inner")}lint(f=0){const{type:n,name:l}=this;return n==="ext-inner"&&(l==="templatestyles"||l==="section")&&String(this)?[e(this,{start:f},`<${l}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(f)}}s.exports=p},962:(s,c,t)=>{"use strict";const e=t(3434);class a extends e{constructor(){super(...arguments),o(this,"type","list")}}s.exports=a},3423:(s,c,t)=>{"use strict";const e=t(2308),a=t(6935);class h extends e(a){constructor(){super(...arguments),o(this,"type","noinclude")}}s.exports=h},6714:(s,c,t)=>{"use strict";const{generateForSelf:e}=t(8277),a=t(6010),h=t(7507),p=t(6935);class w extends p{constructor(n,l=a.getConfig(),i=[]){super("'".repeat(n),l,i),o(this,"type","quote")}lint(n=0){const{previousSibling:l,nextSibling:i}=this,r=`\u5B64\u7ACB\u7684"'"`,g=[];let $;if((l==null?void 0:l.type)==="text"&&l.data.endsWith("'")){$=e(this,{start:n},r);const{startIndex:S,startLine:A,startCol:y}=$,[,{length:k}]=l.data.match(/(?:^|[^'])('+)$/u),v=n-k;g.push({...$,startIndex:v,endIndex:S,startCol:y-k,endLine:A,endCol:y})}if((i==null?void 0:i.type)==="text"&&i.data[0]==="'"){$||($=e(this,{start:n},r));const{endIndex:S,endLine:A,endCol:y}=$,[{length:k}]=i.data.match(/^'+/u),v=S+k;g.push({...$,startIndex:S,endIndex:v,startLine:A,startCol:y,endCol:y+k})}return g}}s.exports=w},851:(s,c,t)=>{"use strict";const e=t(6010),a=t(8138);class h extends a{constructor(w,f=e.getConfig(),n=[]){super(w,f,!0,n),o(this,"type","onlyinclude")}toString(w){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}s.exports=h},9380:(s,c,t)=>{"use strict";const{generateForChild:e}=t(8277),a=t(6010),h=t(8138),p=t(9237);class w extends h{constructor(n,l=a.getConfig(),i=[]){if(super(void 0,l,!0,i,{}),o(this,"type","ext-inner"),n){const r=p;this.append(...n.split(`
`).map(g=>new r(g,"param-line",l,i,{})))}}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(n=0){let l;return this.childNodes.filter(i=>{const{childNodes:r}=i,g=r.findIndex(({type:S})=>S!=="text"),$=(g>=0?r.slice(0,g).map(String).join(""):String(i)).trim();return $&&!(g>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test($)}).map(i=>(l||(l={start:n,...this.getRootNode().posFromIndex(n)}),e(i,l,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}s.exports=w},9799:(s,c,t)=>{"use strict";const{extUrlChar:e}=t(231),{generateForChild:a}=t(8277),h=t(6010),p=t(8138);class w extends p{constructor(n,l,i=h.getConfig(),r=[]){super(void 0,i,!0,r),o(this,"type","parameter");const g=new p(typeof n=="number"?void 0:n,i,!0,r,{}),$=new p(l,i,!0,r);g.type="parameter-key",$.type="parameter-value",this.append(g,$.setAttribute("stage",2))}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const n=t(1782),l=String(this.firstChild).replace(/<!--.*?-->/gu,"").trim(),{parentNode:i}=this;this.setAttribute("name",l),i instanceof n&&i.getArgs(l,!1,!1).add(this)}return this}toString(n){return this.anon?this.lastChild.toString(n):super.toString(n,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(n=0){var l;const i=super.lint(n),{firstChild:r}=this,g=(l=new RegExp(`https?://${e}$`,"iu").exec(String(r).replace(/<!--.*?-->/gu,"")))==null?void 0:l[0];if(g&&new URL(g).search){const $=a(r,{token:this,start:n},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");i.push({...$,startIndex:$.endIndex,endIndex:$.endIndex+1,startLine:$.endLine,startCol:$.endCol,endCol:$.endCol+1})}return i}}s.exports=w},8058:(s,c,t)=>{"use strict";const e=t(6010),a=t(8138);class h extends a{constructor(w,f,n="plain",l=e.getConfig(),i=[],r=void 0){super(w,l,!0,i,r),this.type=n}}s.exports=h},2840:(s,c,t)=>{"use strict";const{generateForChild:e}=t(8277),a=t(3125),h=t(8058);class p extends a{constructor(){super(...arguments),o(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(f=0){const n=super.lint(f);if(!this.closed){const{firstChild:l}=this,i=e(l,{token:this,start:f},"\u672A\u95ED\u5408\u7684\u8868\u683C");n.push(i)}return n}close(f=`
|}`,n=!1){const l=this.getAttribute("config"),i=this.getAttribute("accum");super.insertAt(new h(f,void 0,"table-syntax",l,i))}}s.exports=p},5567:(s,c,t)=>{var e;const a=t(6010),h=t(8138),p=t(3125);class w extends p{constructor(n,l,i=a.getConfig(),r=[]){let g=l==null?void 0:l.match(/\||\0\d+!\x7F/u),$=g?l.slice(0,g.index):"";/\[\[|-\{/u.test($)&&(g=void 0,$=""),super(n,$,i,r),o(this,"type","td"),T(this,e,""),g&&([F(this,e)._]=g);const S=new h(l==null?void 0:l.slice((g==null?void 0:g.index)+b(this,e).length),i,!0,r);S.type="td-inner",this.insertAt(S.setAttribute("stage",4))}get subtype(){return this.getSyntax().subtype}getSyntax(){const n=this.firstChild.text(),l=n[n.length-1];let i="td";return l==="!"?i="th":l==="+"&&(i="caption"),{subtype:i}}afterBuild(){return b(this,e).includes("\0")&&C(this,e,this.getAttribute("buildFromStr")(b(this,e),"string")),this}toString(n){const{childNodes:[l,i,r]}=this;return`${l.toString()}${i.toString()}${b(this,e)}${r.toString()}`}text(){const{childNodes:[n,l,i]}=this;return`${n.text()}${l.text()}${b(this,e)}${i.text()}`}getGaps(n=0){return n=n<0?n+this.length:n,n===1?b(this,e).length:0}print(){const{childNodes:[n,l,i]}=this;return`<span class="wpb-td">${n.print()}${l.print()}${b(this,e)}${i.print()}</span>`}}e=new WeakMap,s.exports=w},3125:(s,c,t)=>{"use strict";const{generateForChild:e}=t(8277),a=t(6010),h=t(8138),p=t(8058),w=t(5649);class f extends h{constructor(l,i="",r=a.getConfig(),g=[],$=void 0){super(void 0,r,!0,g,{}),o(this,"type","tr"),this.append(new p(l,$,"table-syntax",r,g,{}),new w(i,"table-attrs",this.type,r,g))}lint(l=0){const i=t(1782),r=super.lint(l),g=this.childNodes.find(({type:A})=>A==="table-inter");if(!g)return r;const $=g.childNodes.find(A=>A.text().trim());if($){if(($==null?void 0:$.type)==="magic-word")try{if($.getPossibleValues().every(A=>/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u.test(A.text())))return r}catch(A){}}else return r;const S=e(g,{token:this,start:l},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return r.push({...S,startIndex:S.startIndex+1,startLine:S.startLine+1,startCol:0}),r}text(){const l=super.text();return this.type==="tr"&&!l.trim().includes(`
`)?"":l}}s.exports=f},7267:(s,c,t)=>{"use strict";const{generateForSelf:e}=t(8277),a=t(6010),h=t(8138),p=t(1074),w=t(5649);class f extends p{constructor(l,i="",r="",g=void 0,$=a.getConfig(),S=[]){i=!i||/^\s/u.test(i)?i:` ${i}`;const A=l.toLowerCase(),y=new w(i,"ext-attrs",A,$,S),k=JSON.parse(JSON.stringify($)),v=new Set(k.ext);let R;switch(v.delete(A),k.ext=[...v],A){case"tab":v.delete("tabs"),k.ext=[...v];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":R=new h(r,k,!0,S);break;case"gallery":{const E=t(1891);R=new E(r,k,S);break}case"pre":{const E=t(428);R=new E(r,k,S);break}case"charinsert":{const E=t(8103);R=new E(r,k,S);break}case"references":case"choose":case"combobox":{const E=t(8889),O=t(7033)(`./${A}`);R=new O(r,k,S);break}case"imagemap":{const E=t(2641);R=new E(r,$,S);break}case"dynamicpagelist":{const E=t(9380);R=new E(r,k,S);break}default:{const E=t(6935);R=new E(r,$)}}R.setAttribute("name",A).type="ext-inner",super(l,y,R,g,$,S),o(this,"type","ext"),o(this,"closed",!0)}lint(l=0){const i=super.lint(l);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const r=this.getRootNode(),g={start:l,...r.posFromIndex(l)};i.push(e(this,g,"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6269\u5C55\u6807\u7B7E"))}return i}print(){return super.print({class:this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")&&"ext wpb-error"})}}s.exports=f},8655:(s,c,t)=>{"use strict";const e=t(2308),{generateForSelf:a}=t(8277),h=t(6010),p=t(1074);class w extends e(p){constructor(n,l="",i=void 0,r=void 0,g=h.getConfig(),$=[]){super(n,l,i!=null?i:"",i===void 0||r!=null?r:"",g,$),o(this,"type","include")}lint(n=0){return this.closed?[]:[a(this,{start:n},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}print(){return super.print({class:!this.closed&&`${this.type} wpb-error`})}}s.exports=w},1074:(s,c,t)=>{var e,a,h;const p=t(6010),w=t(8138);class f extends w{constructor(l,i,r,g,$=p.getConfig(),S=[]){super(void 0,$,!0),T(this,e,void 0),T(this,a,void 0),T(this,h,void 0),C(this,h,[l,g||l]),C(this,e,g===void 0),C(this,a,g!==""),this.append(i,r);let A=S.indexOf(i);A===-1&&(A=S.indexOf(r)),A===-1&&(A=1/0),S.splice(A,0,this)}get closed(){return b(this,a)}toString(l){const{firstChild:i,lastChild:r}=this,[g,$]=b(this,h);return b(this,e)?`<${g}${String(i)}/>`:`<${g}${String(i)}>${String(r)}${b(this,a)?`</${$}>`:""}`}text(){const[l,i]=b(this,h);return b(this,e)?`<${l}${this.firstChild.text()}/>`:`<${l}${super.text(">")}${b(this,a)?`</${i}>`:""}`}getPadding(){return b(this,h)[0].length+1}getGaps(){return 1}print(){const[l,i]=b(this,h);return super.print(b(this,e)?{pre:`&lt;${l}`,post:"/&gt;"}:{pre:`&lt;${l}`,sep:"&gt;",post:b(this,a)?`&lt;/${i}&gt;`:""})}}e=new WeakMap,a=new WeakMap,h=new WeakMap,s.exports=f},1782:(s,c,t)=>{var e,a,h;const{removeComment:p,print:w,text:f}=t(231),{generateForChild:n}=t(8277),l=t(6010),i=t(8138),r=t(9799),g=t(9237),$=t(8058);class S extends i{constructor(y,k,v=l.getConfig(),R=[]){super(void 0,v,!0,R,{}),T(this,a),o(this,"type","template"),o(this,"modifier",""),T(this,e,{});const{parserFunction:[E,O,B]}=v;if(y.includes(":")){const[H,...X]=y.split(":");this.setModifier(H)&&(y=X.join(":"))}if(y.includes(":")||k.length===0&&!B.includes(this.modifier.toLowerCase())){const[H,...X]=y.split(":"),j=p(H),D=j.trim(),W=O.includes(D),V=E[D.toLowerCase()];if(!(X.length>0&&/\s$/u.test(j))&&(W||V)){this.setAttribute("name",V||D.toLowerCase()).type="magic-word";const Z=new RegExp(`^\\s*${D}\\s*$`,W?"u":"iu"),rt=new $(H,Z,"magic-word-name",v,R,{});if(this.insertAt(rt),X.length>0&&k.unshift([X.join(":")]),this.name==="invoke")for(let nt=0;nt<2;nt++){const tt=k.shift();if(!tt)break;const ot=new g(tt.join("="),`invoke-${nt?"function":"module"}`,v,R,{});this.insertAt(ot)}}}if(this.type==="template"){const H=p(y).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test(H))throw R.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${H}`);const X=new g(y,"template-name",v,R,{});this.insertAt(X)}const z=this.isTemplate();let M=1;for(const H of k)z||(H[0]=H.join("="),H.length=1),H.length===1&&(H.unshift(M),M++),this.insertAt(new r(...H,v,R))}setModifier(y=""){if(/\s$/u.test(y))return!1;const{parserFunction:[,,k,v]}=this.getAttribute("config"),R=y.trim().toLowerCase(),E=k.includes(R),O=v.includes(R);return E||O||y===""?(this.setAttribute("modifier",y),Boolean(y)):!1}toString(y){const{childNodes:k,firstChild:v,modifier:R}=this;return`{{${R}${R&&":"}${this.type==="magic-word"?`${String(v)}${k.length>1?":":""}${k.slice(1).map(String).join("|")}`:super.toString(y,"|")}}}`}text(){const{childNodes:y,firstChild:k,modifier:v}=this;return`{{${v}${v&&":"}${this.type==="magic-word"?`${k.text()}${y.length>1?":":""}${f(y.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:y,firstChild:k,modifier:v}=this;return`<span class="wpb-${this.type}">{{${v}${v&&":"}${this.type==="magic-word"?`${k.print()}${y.length>1?":":""}${w(y.slice(1),{sep:"|"})}`:w(y,{sep:"|"})}}}</span>`}lint(y=0){const k=super.lint(y);if(!this.isTemplate())return k;const v=this.getDuplicatedArgs();if(v.length>0){const R={start:y,...this.getRootNode().posFromIndex(y)};k.push(...v.flatMap(([,E])=>E).map(E=>n(E,R,"\u91CD\u590D\u53C2\u6570")))}return k}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(y,k=this.length){return super.insertAt(y,k),y.anon?N(this,a,h).call(this,y):y.name&&this.getArgs(y.name,!1,!1).add(y),y}getAllArgs(){return this.childNodes.filter(y=>y instanceof r)}getAnonArgs(){return this.getAllArgs().filter(({anon:y})=>y)}getArgs(y,k,v=!0){const R=String(y).trim();let E;return Object.prototype.hasOwnProperty.call(b(this,e),R)?E=b(this,e)[R]:(E=new Set(this.getAllArgs().filter(({name:O})=>R===O)),b(this,e)[R]=E),E}getDuplicatedArgs(){return this.isTemplate()?Object.entries(b(this,e)).filter(([,{size:y}])=>y>1).map(([y,k])=>[y,[...k]]):[]}getPossibleValues(){const{type:y,name:k,childNodes:v,constructor:{name:R}}=this;if(y==="template")throw new Error(`${R}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let E;switch(k){case"if":case"ifexist":case"ifexpr":case"iferror":E=2;break;case"ifeq":E=3;break;default:throw new Error(`${R}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const O=v.slice(E,E+2).map(({childNodes:[,B]})=>B);for(let B=0;B<O.length;){const{length:z,0:M}=O[B].childNodes.filter(H=>H.text().trim());if(z===0)O.splice(B,1);else if(z>1||M.type!=="magic-word")B++;else try{const H=M.getPossibleValues();O.splice(B,1,...H),B+=H.length}catch(H){B++}}return O}}e=new WeakMap,a=new WeakSet,h=function(A){const y=this.getAnonArgs(),k=y.indexOf(A);for(let v=k;v<y.length;v++){const R=y[v],{name:E}=R,O=String(v+1);E!==O&&this.getArgs(O,!1,!1).add(R.setAttribute("name",O))}},s.exports=S},8277:(s,c,t)=>{"use strict";const e=t(8138),a=(p,w,f,n="error")=>{const l=p.getRelativeIndex(),{offsetHeight:i,offsetWidth:r,parentNode:g,length:$}=p,{top:S,left:A}=g.posFromIndex(l),{token:y,start:k}=w,{top:v,left:R}=y?y.getRootNode().posFromIndex(k):w,E=k+l,O=E+$,B=v+S,z=B+i-1,M=S?A:R+A,H=i>1?r:M+r;return{message:f,severity:n,startIndex:E,endIndex:O,startLine:B,endLine:z,startCol:M,endCol:H}},h=(p,w,f,n="error")=>{const{start:l}=w,{offsetHeight:i,offsetWidth:r,length:g}=p,{top:$,left:S}="top"in w?w:p.getRootNode().posFromIndex(l);return{message:f,severity:n,startIndex:l,endIndex:l+g,startLine:$,endLine:$+i-1,startCol:S,endCol:i>1?r:S+r}};s.exports={generateForChild:a,generateForSelf:h}},231:(s,c,t)=>{"use strict";const e='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',a=n=>n.replace(/\0\d+c\x7F/gu,""),h=(n,l={})=>{const i=t(7507),r=t(9205),{pre:g="",post:$="",sep:S=""}=l,A={"&":"amp","<":"lt",">":"gt"};return`${g}${n.map(y=>y instanceof r?y.print():String(y).replace(/[&<>]/gu,k=>`&${A[k]};`)).join(S)}${$}`},p=n=>n.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),w=(n,l,i,r)=>{if(r===void 0)return[];const g=new RegExp(`${[n,l,i].map(p).join("|")}`,"gu"),$=[];let S=g.exec(r),A=0,y=0;for(;S;){const{0:k,index:v}=S;k!==i?A+=k===n?1:-1:A===0&&($.push(r.slice(y,v)),{lastIndex:y}=g),S=g.exec(r)}return $.push(r.slice(y)),$},f=(n,l="")=>{const i=t(3853);return n.map(r=>typeof r=="string"?r:r.text()).join(l)};s.exports={extUrlChar:e,removeComment:a,print:h,escapeRegExp:p,explode:w,text:f}},8166:s=>{"use strict";s.exports=JSON.parse('{"ext":["nowiki","pre","gallery","indicator"],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"0":"","6":"File","14":"Category"},"nsid":{"":0,"file":6,"image":6,"\u56FE\u50CF":6,"\u5716\u50CF":6,"\u6587\u4EF6":6,"\u6863\u6848":6,"\u6A94\u6848":6,"category":14,"\u5206\u7C7B":14,"\u5206\u985E":14},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{"thumbnail":"thumbnail","thumb":"thumbnail","\u7F29\u7565\u56FE":"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","\u7F29\u7565\u56FE=$1":"manualthumb","left":"left","\u5DE6":"left","right":"right","\u53F3":"right","none":"none","\u65E0":"none","$1px":"width","$1\u50CF\u7D20":"width","center":"center","centre":"center","\u5C45\u4E2D":"center","framed":"framed","enframed":"framed","frame":"framed","\u6709\u6846":"framed","frameless":"frameless","\u65E0\u6846":"frameless","upright":"upright","\u53F3\u4E0A":"upright","upright=$1":"manual-upright","upright $1":"manual-upright","\u53F3\u4E0A=$1":"manual-upright","\u53F3\u4E0A$1":"manual-upright","border":"border","\u8FB9\u6846":"border","alt=$1":"alt","\u66FF\u4EE3=$1":"alt","\u66FF\u4EE3\u6587\u672C=$1":"alt","class=$1":"class","\u7C7B=$1":"class","link=$1":"link","\u94FE\u63A5=$1":"link","baseline":"baseline","\u57FA\u7EBF":"baseline","sub":"sub","\u5B50":"sub","super":"super","sup":"super","\u8D85":"super","top":"top","\u9876\u90E8":"top","text-top":"text-top","\u6587\u5B57\u9876\u90E8":"text-top","middle":"middle","\u4E2D\u95F4":"middle","bottom":"bottom","\u5E95\u90E8":"bottom","text-bottom":"text-bottom","\u6587\u5B57\u5E95\u90E8":"text-bottom","lang=$1":"lang","\u8BED\u8A00=$1":"lang","page=$1":"page","page $1":"page","\u9875\u6570=$1":"page","$1\u9875":"page"},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},d={};function m(s){var c=d[s];if(c!==void 0)return c.exports;var t=d[s]={exports:{}};return x[s](t,t.exports,m),t.exports}m.o=(s,c)=>Object.prototype.hasOwnProperty.call(s,c);var u=m(6010)})()})()},6010:(P,G,o)=>{"use strict";const I={config:void 0,minConfig:o(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(F,N=0,x=!1,d=I.getConfig(),m=!1,u=!1){let s;if(!m){const e=o(8138);s=this.run(()=>{const a=new e(String(F),d),h=a.getAttribute("parseOnce");return h(0,x),h()}),F=s.firstChild}const c=o(6986);return new c(String(F),N,d,u)},parse(F,N,x=I.MAX_STAGE,d=I.getConfig()){const m=o(8138);let u;return this.run(()=>{typeof F=="string"?u=new m(F,d):F instanceof m&&(u=F,F=String(u));try{u.parse(x,N)}catch(s){}}),u},run(F){return F()}},b={},T=new Set(["MAX_STAGE","minConfig"]),C=new Set(["config","normalizeTitle","parse"]);for(const F in I)T.has(F)?b[F]={enumerable:!1,writable:!1}:C.has(F)||(b[F]={enumerable:!1});Object.defineProperties(I,b),typeof self=="object"&&(self.Parser=I),P.exports=I},9205:(P,G,o)=>{"use strict";const{print:I}=o(231),b=o(3853),T=o(7507),F=class extends b{constructor(){super(...arguments);U(this,"name")}get length(){return this.childNodes.length}closest(d){const m=new Set(d.split(",").map(s=>s.trim()));let{parentNode:u}=this;for(;u;){if(m.has(u.type))return u;({parentNode:u}=u)}}append(...d){for(const m of d)this.insertAt(m)}replaceChildren(...d){for(let m=this.length-1;m>=0;m--)this.removeAt(m);this.append(...d)}setText(d,m=0){const u=this.childNodes[m],{type:s,data:c}=u;if(s==="text")return u.replaceData(d),c}toString(d,m=""){return this.childNodes.map(u=>u.toString()).join(m)}lint(d=0){const m=o(8058);if(this instanceof m||this.constructor.hidden||this.type==="ext-inner"&&F.lintIgnoredExt.has(this.name))return[];const u=[];for(let s=0,c=d+this.getPadding();s<this.length;s++){const t=this.childNodes[s];u.push(...t.lint(c)),c+=String(t).length+this.getGaps(s)}return u}print(d={}){return String(this)?`<span class="wpb-${d.class||this.type}">${I(this.childNodes,d)}</span>`:""}json(d){const{childNodes:m,...u}=this;return{...u,childNodes:m.map(c=>c.type==="text"?String(c):c.json())}}};let C=F;U(C,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),P.exports=C},3853:(P,G,o)=>{var T,C,wt;"use strict";const{text:I}=o(231);class b{constructor(){K(this,C);U(this,"type");U(this,"childNodes",[]);K(this,T,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return L(this,T)}get nextSibling(){var d;const x=(d=L(this,T))==null?void 0:d.childNodes;return x&&x[x.indexOf(this)+1]}get previousSibling(){var d;const x=(d=L(this,T))==null?void 0:d.childNodes;return x&&x[x.indexOf(this)-1]}hasAttribute(x){const d=typeof x;return d==="string"||d==="number"||d==="symbol"?x in this:!1}getAttribute(x){return this.hasAttribute(x)?String(this[x]):void 0}setAttribute(x,d){return x==="parentNode"?et(this,T,d):this[x]=d,this}text(x=""){return I(this.childNodes,x)}removeAt(x){const d=[...this.childNodes],[m]=d.splice(x,1);return m.setAttribute("parentNode"),this.setAttribute("childNodes",d),m}insertAt(x,d=this.childNodes.length){const m=[...this.childNodes];return-1===-1&&x.setAttribute("parentNode",this),m.splice(d,0,x),this.setAttribute("childNodes",m),x}normalize(){var m;const x=o(7507),d=[...this.childNodes];for(let u=d.length-1;u>=0;u--){const{type:s,data:c}=d[u];this.getGaps(u-1)||(c===""?d.splice(u,1):s==="text"&&((m=d[u-1])==null?void 0:m.type)==="text"&&(d[u-1].setAttribute("data",d[u-1].data+c),d.splice(u,1)))}this.setAttribute("childNodes",d)}getRootNode(){let{parentNode:x}=this;for(;x!=null&&x.parentNode;)({parentNode:x}=x);return x!=null?x:this}posFromIndex(x){const d=String(this);if(x>=-d.length&&x<=d.length){const m=d.slice(0,x).split(`
`);return{top:m.length-1,left:m[m.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(x){let d;const m=(u,s)=>d.slice(0,u).reduce((c,t,e)=>c+String(t).length+s.getGaps(e),0)+s.getPadding();if(x===void 0){const{parentNode:u}=this;return u?({childNodes:d}=u,m(d.indexOf(this),u)):0}return{childNodes:d}=this,m(x,this)}get offsetHeight(){return it(this,C,wt).call(this).height}get offsetWidth(){return it(this,C,wt).call(this).width}}T=new WeakMap,C=new WeakSet,wt=function(){const x=String(this).split(`
`);return{height:x.length,width:x[x.length-1].length}},P.exports=b},7507:(P,G,o)=>{var N,bt;"use strict";const I=o(3853),b=o(9205),T=/https?:|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu,C=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu;class F extends I{constructor(u=""){super();K(this,N);U(this,"type","text");U(this,"data");this.data=u}toString(){return this.data}text(){return this.data}lint(u=0){var p;const{data:s,parentNode:c}=this,t=c==null?void 0:c.type,e=c==null?void 0:c.name,a=t==="free-ext-link"||t==="ext-link-url"||t==="image-parameter"&&e==="link"?C:T,h=[];if(s.search(a)!==-1){a.lastIndex=0;const w=this.getRootNode(),{top:f,left:n}=w.posFromIndex(u);for(let l=a.exec(s);l;l=a.exec(s)){const[,i]=l;let{0:r,index:g}=l;i&&(g+=i.length,r=r.slice(i.length));const $=u+g,S=s.slice(0,g).split(`
`),A=S.length+f-1,y=S[S.length-1],k=S.length>1?y.length:n+y.length,{0:v,length:R}=r,E=$+R;let O=v==="{"||v==="}"||R>1?"error":"warning";if(v==="h")switch(c==null?void 0:c.type){case"ext-link-text":O="warning";break;case"attr-value":{const{parentNode:B}=c;if(((B==null?void 0:B.name)==="src"||(B==null?void 0:B.name)==="srcset")&&((p=B==null?void 0:B.parentNode)==null?void 0:p.name)==="img")continue;break}case"ext-inner":if(e==="sm2"||e==="flashmp3")continue}h.push({message:`\u5B64\u7ACB\u7684"${v==="h"?r:v}"`,severity:O,startIndex:$,endIndex:E,startLine:A,endLine:A,startCol:k,endCol:k+R})}}return h}replaceData(u=""){it(this,N,bt).call(this,u)}}N=new WeakSet,bt=function(u){return u=String(u),this.setAttribute("data",u),this},P.exports=F},6986:(P,G,o)=>{"use strict";const I=o(9218);class b{constructor(C,F=0,N=I.getConfig(),x=!1){U(this,"valid",!0);U(this,"ns",0);const{namespaces:d,nsid:m}=N;let u=d[F];if(x&&C.includes("%"))try{C=decodeURIComponent(C)}catch(e){}C=C.replace(/_/gu," ").trim(),C[0]===":"&&(u="",C=C.slice(1).trim());const s=C.split(":");if(s.length>1){const e=d[m[s[0].trim().toLowerCase()]];e!==void 0&&(u=e,C=s.slice(1).join(":").trim())}this.ns=m[u.toLowerCase()];const c=C.indexOf("#");let t="";c!==-1&&(t=C.slice(c+1).trim(),C=C.slice(0,c).trim()),this.valid=Boolean(C||t)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(C)}}P.exports=b},2308:P=>{"use strict";const G=o=>{var I;return I=class extends o{text(){return""}},U(I,"hidden",!0),I};P.exports=G},8275:(P,G,o)=>{"use strict";const{removeComment:I}=o(231),b=o(9218),T=o(9450),C=o(1782),F=o(9544),N=(x,d=b.getConfig(),m=[])=>{var w,f,n,l,i;const u="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",s=[],c={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},t={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let e=new RegExp(u,"gmu"),a=e.exec(x),h=x.includes("}}"),p;for(;a||p<=x.length&&((f=(w=s[s.length-1])==null?void 0:w[0])==null?void 0:f[0])==="=";){if(a!=null&&a[1]){const[,{length:O}]=a;a[0]=a[0].slice(O),a.index+=O}const{0:r,index:g}=a!=null?a:{0:`
`,index:x.length},$=(n=s.pop())!=null?n:{},{0:S,index:A,parts:y,findEqual:k,pos:v}=$,R=r==="="&&k;if(r==="]]"||r==="}-")p=g+2;else if(r===`
`){p=g+1;const{pos:O,findEqual:B}=(l=s[s.length-1])!=null?l:{};if(!O||B||I(x.slice(O,A))!==""){const z=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(x.slice(A,g));z&&(x=`${x.slice(0,A)}\0${m.length}h\x7F${x.slice(g)}`,p=A+4+String(m.length).length,new T(z[1].length,z.slice(2),d,m))}}else if(r==="|"||R)p=g+1,y[y.length-1].push(x.slice(v,g)),r==="|"&&y.push([]),$.pos=p,$.findEqual=r==="|",s.push($);else if(r.startsWith("}}")){const O=r.slice(0,Math.min(S.length,3)),B=S.length-O.length,{length:z}=m;p=g+O.length,y[y.length-1].push(x.slice(v,g));let M=!1,H="t";if(O.length===3)new F(y.map(X=>X.join("=")),d,m);else{const X=I(y[0][0]).trim();X in t?H=t[X]:/^(?:fullurl|canonicalurl|filepath):./iu.test(X)&&(H="m");try{new C(y[0][0],y.slice(1),d,m)}catch(j){if(j instanceof Error&&j.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))p=A+S.length,M=!0;else throw j}}M||(x=`${x.slice(0,A+B)}\0${z}${H}\x7F${x.slice(p)}`,p=A+B+3+String(z).length,B>1?s.push({0:S.slice(0,B),index:A,pos:A+B,parts:[[]]}):B===1&&x[A-1]==="-"&&s.push({0:"-{",index:A-1,pos:A+1,parts:[[]]}))}else p=g+r.length,r[0]==="{"&&(a.pos=p,a.parts=[[]]),s.push(..."0"in $?[$]:[],a);h&&(h=x.slice(p).includes("}}"));let E=s[s.length-1];!h&&((i=E==null?void 0:E[0])==null?void 0:i[0])==="{"&&(s.pop(),E=s[s.length-1]),e=new RegExp(u+(E?`|${c[E[0][0]]}${E.findEqual?"|=":""}`:""),"gmu"),e.lastIndex=p,a=e.exec(x)}return x};P.exports=N},4907:(P,G,o)=>{"use strict";const I=o(9218),b=o(851),T=o(3423),C=o(8655),F=o(7267),N=o(5749),x=(d,m=I.getConfig(),u=[],s=!1)=>{const c=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(s&&d.search(c)!==-1)return d.replace(c,(p,w)=>{const f=`\0${u.length}e\x7F`;return new b(w,m,u),f}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(p,w,f)=>f===""?w:(new T(f,m,u),`${w}\0${u.length-1}c\x7F`));const t=m.ext.join("|"),e=s?"includeonly":"(?:no|only)include",a=s?"noinclude":"includeonly",h=new RegExp(`<!--.*?(?:-->|$)|<${e}(?:\\s[^>]*?)?>|</${e}\\s*>|<(${t})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${a})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return d.replace(h,(p,w,f,n,l,i,r,g,$)=>{const S=`\0${u.length}${w?"e":"c"}\x7F`;if(w)new F(w,f,n,l,m,u);else if(p.startsWith("<!--")){const A=p.endsWith("-->");new N(p.slice(4,A?-3:void 0),A,m,u)}else i?new C(i,r,g,$,m,u):new T(p,m,u);return S})};P.exports=x},3765:(P,G,o)=>{"use strict";const I=o(9218),b=o(9910),T=(C,F=I.getConfig(),N=[])=>{const x=/-\{/gu,d=/-\{|\}-/gu,m=[];let u=x,s=u.exec(C);for(;s;){const{0:c,index:t}=s;if(c==="}-"){const e=m.pop(),{length:a}=N,h=C.slice(e.index+2,t),p=h.indexOf("|"),[w,f]=p===-1?[[],h]:[h.slice(0,p).split(";"),h.slice(p+1)],n=f.replace(/(&[#a-z\d]+);/giu,"$1"),l=`(?:${F.variants.join("|")})`,i=n.split(new RegExp(`;(?=\\s*(?:${l}|[^;]*?=>\\s*${l})\\s*:)`,"u")).map(r=>r.replace(/\x01/gu,";"));new b(w,i,F,N),C=`${C.slice(0,e.index)}\0${a}v\x7F${C.slice(t+2)}`,m.length===0&&(u=x),u.lastIndex=e.index+3+String(a).length}else m.push(s),u=d,u.lastIndex=t+2;s=u.exec(C)}return C};P.exports=T},7513:(P,G,o)=>{"use strict";const{extUrlChar:I}=o(231),b=o(9218),T=o(741),C=(F,N=b.getConfig(),x=[])=>{const d=new RegExp(`\\[((?:${N.protocol}|//)${I}|\0\\d+m\x7F)(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return F.replace(d,(m,u,s,c)=>{const{length:t}=x,e=/&[lg]t;/u.exec(u);return e&&(u=u.slice(0,e.index),s="",c=`${u.slice(e.index)}${s}${c}`),new T(u,s,c,N,x),`\0${t}w\x7F`})};P.exports=C},2937:(P,G,o)=>{"use strict";const I=o(9218),b=o(7507),T=o(8138),C=o(2582),F=o(7815),N=({firstChild:{data:x},type:d,name:m},u=I.getConfig(),s=[])=>{const{doubleUnderscore:c}=u,t=new Set(c[0]),e=new Set(c[1]);return d!=="root"&&(d!=="ext-inner"||m!=="poem")&&(x=`\0${x}`),x=x.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(a,h,p)=>(new C(p.length,u,s),`${h}\0${s.length-1}r\x7F`)).replace(new RegExp(`__(${c.flat().join("|")})__`,"giu"),(a,h)=>t.has(h.toLowerCase())||e.has(h)?(new F(h,u,s),`\0${s.length-1}u\x7F`):a),d==="root"||d==="ext-inner"&&m==="poem"?x:x.slice(1)};P.exports=N},5130:(P,G,o)=>{"use strict";const I=o(9218),b=o(5649),T=o(2350),C=(F,N=I.getConfig(),x=[])=>{const d=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,m=new Set(N.html.flat()),u=F.split("<");let s=u.shift();for(const c of u){const t=d.exec(c),e=t==null?void 0:t[2],a=e==null?void 0:e.toLowerCase();if(!t||!m.has(a)){s+=`<${c}`;continue}const[,h,,p="",w,f]=t,n=new b(p,"html-attrs",a,N,x),l=n.getAttr("itemprop");if(a==="meta"&&(l===void 0||n.getAttr("content")===void 0)||a==="link"&&(l===void 0||n.getAttr("href")===void 0)){s+=`<${c}`,x.pop();continue}s+=`\0${x.length}x\x7F${f}`,new T(e,n,h==="/",w==="/>",N,x)}return s};P.exports=C},1452:(P,G,o)=>{"use strict";const I=o(9218),b=o(3905),T=o(7625),C=o(337),F=(N,x=I.getConfig(),d=[])=>{const m=o(3360),u=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,s=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,c=new RegExp(`^\\s*(?:${x.protocol})`,"iu"),t=N.split("[[");let e=t.shift();for(let a=0;a<t.length;a++){let h,p,w,f,n;const l=t[a],i=u.exec(l);if(i)[,p,w,f,n]=i,n[0]==="]"&&(f==null?void 0:f.includes("["))&&(f+="]",n=n.slice(1));else{const y=s.exec(l);y&&(h=!0,[,p,w,f]=y)}if(p===void 0||c.test(p)||/\0\d+[exhbru]\x7F/u.test(p)){e+=`[[${l}`;continue}const r=p.trim()[0]===":";if(r&&h){e+=`[[${l}`;continue}const g=I.normalizeTitle(p,0,!1,x,!0,!0),{ns:$,valid:S}=g;if(S){if(h){if($!==6){e+=`[[${l}`;continue}let y;for(a++;a<t.length;a++){const k=t[a],v=k.split("]]");if(v.length>2){y=!0,f+=`[[${v[0]}]]${v[1]}`,n=v.slice(2).join("]]");break}else if(v.length===2)f+=`[[${v[0]}]]${v[1]}`;else{f+=`[[${k}`;break}}if(f=F(f,x,d),!y){e+=`[[${p}${w}${f}`;continue}}}else{e+=`[[${l}`;continue}f&&(f=m(f,x,d)),e+=`\0${d.length}l\x7F${n}`;let A=b;r||($===6?A=T:$===14&&(A=C)),new A(p,f,g,x,d,w)}return e};P.exports=F},6622:(P,G,o)=>{"use strict";const I=o(9218),b=o(962),T=o(3434),C=(F,N=I.getConfig(),x=[])=>{const d=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(F);if(!d)return F;const[m,u,s]=d;F=`${u}\0${x.length}d\x7F${F.slice(m.length)}`,new b(s,N,x);let c=s.split(";").length-1;if(!c)return F;let t=/:+|-\{/gu,e=t.exec(F),a=0;for(;e&&c;){const{0:h,index:p}=e;if(h[0]===":"){if(h.length>=c)return new T(":".repeat(c),N,x),`${F.slice(0,p)}\0${x.length-1}d\x7F${F.slice(p+c)}`;F=`${F.slice(0,p)}\0${x.length}d\x7F${F.slice(t.lastIndex)}`,c-=h.length,t.lastIndex=p+4+String(x.length).length,new T(h,N,x)}else if(h==="-{"){if(!a){const{lastIndex:w}=t;t=/-\{|\}-/gu,t.lastIndex=w}a++}else if(a--,!a){const{lastIndex:w}=t;t=/:+|-\{/gu,t.lastIndex=w}e=t.exec(F)}return F};P.exports=C},4737:(P,G,o)=>{"use strict";const{extUrlChar:I}=o(231),b=o(9218),T=o(8962),C=(F,N=b.getConfig(),x=[])=>{const d=new RegExp(`(^|[^\\p{L}\\d_])(?:${N.protocol})(${I})`,"giu");return F.replace(d,(m,u,s)=>{let c="",t=u?m.slice(1):m;const e=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(t);e&&(c=t.slice(e.index),t=t.slice(0,e.index));const a=new RegExp(`[,;.:!?${t.includes("(")?"":")"}]+$`,"u"),h=a.exec(t);if(h){let p=0;h[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(t.slice(0,h.index))&&(p=1),c=`${t.slice(h.index+p)}${c}`,t=t.slice(0,h.index+p)}return c.length>=s.length?m:(new T(t,!1,N,x),`${u}\0${x.length-1}w\x7F${c}`)})};P.exports=C},3360:(P,G,o)=>{"use strict";const I=o(9218),b=o(6714),T=(C,F=I.getConfig(),N=[])=>{var e;const x=C.split(/('{2,})/u),{length:d}=x;if(d===1)return C;let m=0,u=0,s,c,t;for(let a=1;a<d;a+=2){const{length:h}=x[a];switch(h){case 2:u++;break;case 4:x[a-1]+="'",x[a]="'''";case 3:if(m++,s)break;x[a-1].endsWith(" ")?!c&&!t&&(t=a):x[a-1].slice(-2,-1)===" "?s=a:c||(c=a);break;default:x[a-1]+="'".repeat(h-5),x[a]="'''''",u++,m++}}if(u%2===1&&m%2===1){const a=(e=s!=null?s:c)!=null?e:t;x[a]="''",x[a-1]+="'"}for(let a=1;a<d;a+=2)new b(x[a].length,F,N),x[a]=`\0${N.length-1}q\x7F`;return x.join("")};P.exports=T},4624:(P,G,o)=>{"use strict";const I=o(9218),b=o(7507),T=o(8138),C=o(2840),F=o(3125),N=o(5567),x=o(3434),d=({firstChild:{data:m},type:u,name:s},c=I.getConfig(),t=[])=>{const e=[],a=m.split(`
`);let h=u==="root"||u==="parameter-value"||u==="ext-inner"&&s==="poem"?"":`
${a.shift()}`;const p=(w,f)=>{if(!f){h+=w;return}const{lastChild:n}=f;if(n.constructor===T)n.setText(String(n)+w);else{const l=new T(w,c,!0,t);l.type="table-inter",f.insertAt(l.setAttribute("stage",3))}};for(const w of a){let f=e.pop();const[n]=/^(?:\s|\0\d+c\x7F)*/u.exec(w),l=w.slice(n.length),i=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(l);if(i){for(;f&&f.type!=="td";)f=e.pop();const[,y,k,v,R]=i;y&&new x(y,c,t),p(`
${n}${y&&`\0${t.length-1}d\x7F`}${k}\0${t.length}b\x7F`,f);const E=new C(v,R,c,t);e.push(...f?[f]:[],E);continue}else if(!f){h+=`
${w}`;continue}const r=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(l);if(!r){p(`
${w}`,f),e.push(...f?[f]:[]);continue}const[,g,$,S,A]=r;if(g){for(;!(f instanceof C);)f=e.pop();f.close(`
${n}${g}`,!0),p(A,e[e.length-1])}else if($){f.type==="td"&&(f=e.pop()),f.type==="tr"&&(f=e.pop());const y=new F(`
${n}${$}`,A,c,t);e.push(f,y),f.insertAt(y)}else{f.type==="td"&&(f=e.pop());const y=S==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let k=y.exec(A),v=0,R=`
${n}${S}`;for(;k;){const O=new N(R,A.slice(v,k.index),c,t);f.insertAt(O),{lastIndex:v}=y,[R]=k,k=y.exec(A)}const E=new N(R,A.slice(v),c,t);e.push(f,E),f.insertAt(E)}}return h.slice(1)};P.exports=d},9544:(P,G,o)=>{"use strict";const{text:I}=o(231),{generateForSelf:b,generateForChild:T}=o(8277),C=o(9218),F=o(8138);class N extends F{constructor(m,u=C.getConfig(),s=[]){super(void 0,u,!0,s,{});U(this,"type","arg");for(let c=0;c<m.length;c++)if(c===0||c>1){const t=o(c===0?9237:9263),e=new t(m[c],c===0?"arg-name":void 0,u,s,{});super.insertAt(e)}else{const t=new F(m[c],u,!0,s);t.type="arg-default",super.insertAt(t.setAttribute("stage",2))}}toString(m){return`{{{${super.toString(m,"|")}}}}`}text(){return`{{{${I(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|",class:!this.getAttribute("include")&&"arg wpb-error"})}lint(m=0){if(!this.getAttribute("include"))return[b(this,{start:m},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[u,s,...c]}=this,t=u.lint(m+3);if(s&&t.push(...s.lint(m+4+String(u).length)),c.length>0){const e={start:m,...this.getRootNode().posFromIndex(m)};t.push(...c.map(a=>T(a,e,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return t}}P.exports=N},9263:(P,G,o)=>{"use strict";const I=o(2308),b=o(9237);class T extends I(b){constructor(){super(...arguments);U(this,"type","hidden")}}P.exports=T},9237:(P,G,o)=>{"use strict";const I=o(9218),b=o(8138);class T extends b{constructor(N,x,d=I.getConfig(),m=[],u=void 0){super(N,d,!0,m,u);U(this,"type","plain");x&&(this.type=x)}}P.exports=T},5037:(P,G,o)=>{var p,w;"use strict";const{generateForChild:I}=o(8277),{removeComment:b}=o(231),T=o(9218),C=o(8138),F=o(9237),N=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),x=new Set(["align"]),d=new Set(["cite"]),m=new Set(["cite","datetime"]),u=new Set(["width"]),s=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),c=new Set(["type"]),t={div:x,h1:x,h2:x,h3:x,h4:x,h5:x,h6:x,blockquote:d,q:d,p:x,br:new Set(["clear"]),pre:u,ins:m,del:m,ul:c,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:x,tr:new Set(["bgcolor","align","valign"]),td:s,th:s,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:u,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix"]),combooption:new Set(["name","for","inline","align"])},e=new Set,a={nowiki:e,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:e,inputbox:e,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:e,poll:new Set(["id","show-results-before-voting"]),sm2:c,flashmp3:c,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])};class h extends C{constructor(l,i,r="",g="",$=[],S=T.getConfig(),A=[]){const y=new F(i,"attr-key",S,A,{}),k=i==="title"?new C(g,S,!0,A,{}).setAttribute("type","attr-value").setAttribute("stage",T.MAX_STAGE-1):new F(g,"attr-value",S,A,{});super(void 0,S,!0,A);K(this,p,void 0);K(this,w,void 0);this.type=l,this.append(y,k),et(this,p,r),et(this,w,$),this.setAttribute("name",b(i).trim().toLowerCase())}get balanced(){return!L(this,p)||L(this,w)[0]===L(this,w)[1]}afterBuild(){return L(this,p).includes("\0")&&et(this,p,this.getAttribute("buildFromStr")(L(this,p),"string")),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(l){const[i="",r=""]=L(this,w);return L(this,p)?`${super.toString(l,`${L(this,p)}${i}`)}${r}`:this.firstChild.toString(l)}text(){return L(this,p)?`${super.text(`${L(this,p).trim()}"`)}"`:this.firstChild.text()}getGaps(){var l,i;return L(this,p)?L(this,p).length+((i=(l=L(this,w)[0])==null?void 0:l.length)!=null?i:0):0}print(){const[l="",i=""]=L(this,w);return L(this,p)?super.print({sep:`${L(this,p)}${l}`,post:i}):super.print()}lint(l=0){var R;const i=super.lint(l),{balanced:r,firstChild:g,lastChild:$,type:S,name:A,parentNode:y}=this,k=y==null?void 0:y.name;let v;if(!r){const E=this.getRootNode();v={start:l,...E.posFromIndex(l)};const O=I($,v,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning"),B=O.startIndex-1,z=O.startCol-1;i.push({...O,startIndex:B,startCol:z})}return!/\{\{[^{]+\}\}/u.test(A)&&(S==="ext-attr"&&!(k in t)&&a[k]&&!a[k].has(A)||(S==="html-attr"||S==="table-attr"||k in t)&&!((R=t[k])!=null&&R.has(A))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(A)&&(k==="meta"||k==="link"||!N.has(A)))&&(v||(v={start:l,...this.getRootNode().posFromIndex(l)}),i.push(I(g,v,"\u975E\u6CD5\u7684\u5C5E\u6027\u540D"))),i}getValue(){return L(this,p)?this.lastChild.text():!0}}p=new WeakMap,w=new WeakMap,P.exports=h},5649:(P,G,o)=>{"use strict";const{generateForSelf:I,generateForChild:b}=o(8277),{removeComment:T}=o(231),C=o(9218),F=o(8138),N=o(9237),x=o(5037);class d extends F{get sanitized(){return this.getDirtyAttrs().length===0}constructor(u,s,c,t=C.getConfig(),e=[]){if(super(void 0,t,!0,e,{}),this.type=s,this.setAttribute("name",c),u){const a=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let h="",p=a.exec(u),w=0;const f=()=>{h&&(super.insertAt(new N(h,`${s.slice(0,-1)}-dirty`,t,e,{})),h="")};for(;p;){const{index:n,0:l,1:i,2:r,3:g,4:$,5:S,6:A}=p;if(h+=u.slice(w,n),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(T(i).trim())){const y=$!=null?$:A,k=[g,S],v=new x(s.slice(0,-1),i,r,y,k,t,e);f(),super.insertAt(v)}else h+=l;({lastIndex:w}=a),p=a.exec(u)}h+=u.slice(w),f()}}afterBuild(){var s,c;const u=o(5567);return this.type==="table-attrs"&&this.setAttribute("name",((s=this.parentNode)==null?void 0:s.subtype)==="caption"?"caption":(c=this.parentNode)==null?void 0:c.type),this}getDirtyAttrs(){return this.childNodes.filter(u=>u instanceof N&&u.text().trim())}getAttrTokens(u){return this.childNodes.filter(s=>s instanceof x&&s.name===u.toLowerCase().trim())}getAttrToken(u){const s=this.getAttrTokens(u);return s[s.length-1]}getAttr(u){var s;return(s=this.getAttrToken(u))==null?void 0:s.getValue()}lint(u=0){const s=o(2350),c=super.lint(u);let t;if(this.parentNode.closing&&this.text().trim()&&(t={start:u,...this.getRootNode().posFromIndex(u)},c.push(I(this,t,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"))),!this.sanitized){t||(t={start:u,...this.getRootNode().posFromIndex(u)});for(const e of this.getDirtyAttrs())c.push(b(e,t,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"))}return c}print(){const u=o(2350);return String(this)?`<span class="wpb-${this.type}${this.parentNode.closing&&this.text().trim()?" wpb-error":""}">${this.childNodes.map(s=>s.print({class:s instanceof N&&s.text().trim()&&"hidden"})).join("")}</span>`:""}}P.exports=d},8103:(P,G,o)=>{"use strict";const I=o(9218),b=o(8138),T=o(2158);class C extends b{constructor(x,d=I.getConfig(),m=[]){super(void 0,d,!0,m,{});U(this,"type","ext-inner");U(this,"name","charinsert");const u=T;this.append(...x.split(`
`).map(s=>new u(s,"charinsert-line",d,m)))}toString(x){return super.toString(x,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}P.exports=C},9910:(P,G,o)=>{"use strict";const{text:I,print:b}=o(231),T=o(9218),C=o(8138),F=o(6719),N=o(8683);class x extends C{constructor(u,s,c=T.getConfig(),t=[]){super(void 0,c,!0,t);U(this,"type","converter");this.append(new F(u,c,t));const[e]=s,a=e.includes(":"),h=new N(e,a,c,t);a&&h.length===1?this.insertAt(new N(s.join(";"),!1,c,t)):this.append(h,...s.slice(1).map(p=>new N(p,!0,c,t)))}toString(u){const{childNodes:[s,...c]}=this;return`-{${s.toString()}${s.length>0?"|":""}${c.map(String).join(";")}}-`}text(){const{childNodes:[u,...s]}=this;return`-{${u.text()}|${I(s,";")}}-`}getPadding(){return 2}getGaps(u=0){return u=u<0?u+this.length:u,u||this.firstChild.length>0?1:0}print(){const{childNodes:[u,...s]}=this;return`<span class="wpb-converter">-{${u.print()}${u.length>0?"|":""}${b(s,{sep:";"})}}-</span>`}}P.exports=x},6719:(P,G,o)=>{var x;"use strict";const{generateForChild:I}=o(8277),b=o(9218),T=o(8138),C=o(9237),F=new Set(["A","T","R","D","-","H","N"]);class N extends T{constructor(u,s=b.getConfig(),c=[]){super(void 0,s,!0,c,{});U(this,"type","converter-flags");K(this,x,void 0);this.append(...u.map(t=>new C(t,"converter-flag",s,c)))}afterBuild(){return et(this,x,this.childNodes.map(u=>u.text().trim())),this}toString(u){return super.toString(u,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(u=0){const s=this.getVariantFlags(),c=this.getUnknownFlags(),t=new Set(L(this,x).filter(n=>F.has(n))),{length:e}=L(this,x).filter(n=>!n),a=L(this,x).length-c.size-e,h=super.lint(u);if(s.size===a||t.size===a)return h;const p={start:u,...this.getRootNode().posFromIndex(u)},{childNodes:w,length:f}=this;for(let n=0;n<f;n++){const l=w[n],i=l.text().trim();if(i&&!s.has(i)&&!c.has(i)&&(s.size>0||!t.has(i))){const r=I(l,p,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");h.push(r)}}return h}getUnknownFlags(){return new Set(L(this,x).filter(u=>/\{\{[^{}]+\}\}/u.test(u)))}getVariantFlags(){const u=new Set(this.getAttribute("config").variants);return new Set(L(this,x).filter(s=>u.has(s)))}}x=new WeakMap,P.exports=N},8683:(P,G,o)=>{"use strict";const I=o(9218),b=o(8138),T=o(9237);class C extends b{constructor(x,d=!0,m=I.getConfig(),u=[]){super(void 0,m,!0,u);U(this,"type","converter-rule");if(d){const s=x.indexOf(":"),c=x.slice(0,s).indexOf("=>"),t=c===-1?x.slice(0,s):x.slice(c+2,s),{variants:e}=m;e.includes(t.trim())?(super.insertAt(new T(t,"converter-rule-variant",m,u)),super.insertAt(new T(x.slice(s+1),"converter-rule-to",m,u)),c!==-1&&super.insertAt(new T(x.slice(0,c),"converter-rule-from",m,u),0)):super.insertAt(new T(x,"converter-rule-noconvert",m,u))}else super.insertAt(new T(x,"converter-rule-noconvert",m,u))}toString(x){if(this.length===3){const{childNodes:[d,m,u]}=this;return`${d.toString(x)}=>${m.toString(x)}:${u.toString(x)}`}return super.toString(x,":")}text(){if(this.length===3){const{childNodes:[x,d,m]}=this;return`${x.text()}=>${d.text()}:${m.text()}`}return super.text(":")}getGaps(x=0){const{length:d}=this;return x=x<0?x+d:x,x===0&&d===3?2:1}print(){if(this.length===3){const{childNodes:[x,d,m]}=this;return`<span class="wpb-converter-rule">${x.print()}=>${d.print()}:${m.print()}</span>`}return super.print({sep:":"})}}P.exports=C},741:(P,G,o)=>{var F;"use strict";const I=o(9218),b=o(8138),T=o(8962);class C extends b{constructor(d,m,u,s=I.getConfig(),c=[]){super(void 0,s,!0,c,{});U(this,"type","ext-link");K(this,F,void 0);if(this.insertAt(new T(d,!0,s,c)),et(this,F,m),u){const t=new b(u,s,!0,c,{});t.type="ext-link-text",this.insertAt(t.setAttribute("stage",I.MAX_STAGE-1))}}toString(d){return this.length===1?`[${super.toString(d)}${L(this,F)}]`:`[${super.toString(d,L(this,F))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return L(this,F).length}print(){const{length:d}=this;return super.print(d>1?{pre:"[",sep:L(this,F),post:"]"}:{pre:"[",post:`${L(this,F)}]`})}}F=new WeakMap,P.exports=C},1891:(P,G,o)=>{"use strict";const I=o(9218),b=o(8138),T=o(1031),C=o(9263);class F extends b{constructor(d,m=I.getConfig(),u=[]){var c;super(void 0,m,!0,u,{});U(this,"type","ext-inner");U(this,"name","gallery");const s=JSON.parse(JSON.stringify(m));for(const[t,e]of Object.entries(m.img))e==="width"&&delete s.img[t];for(const t of(c=d==null?void 0:d.split(`
`))!=null?c:[]){const e=/^([^|]+)(?:\|(.*))?/u.exec(t);if(!e){super.insertAt(t.trim()?new C(t,void 0,m,[],{}):t);continue}const[,a,h]=e,p=this.normalizeTitle(a,6,!0,!0);p.valid?super.insertAt(new T(a,h,p,s,u)):super.insertAt(new C(t,void 0,m,[],{}))}}toString(d){return super.toString(d,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(d=0){const{top:m,left:u}=this.getRootNode().posFromIndex(d),s=[];for(let c=0,t=d;c<this.length;c++){const e=this.childNodes[c],a=String(e),{length:h}=a,p=a.trim(),w=m+c,f=c?0:u;e.type==="hidden"&&p&&!/^<!--.*-->$/u.test(p)?s.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startIndex:t,endIndex:t+h,startLine:w,endLine:w,startCol:f,endCol:f+h}):e.type!=="hidden"&&e.type!=="text"&&s.push(...e.lint(t)),t+=h+1}return s}}P.exports=F},2158:(P,G,o)=>{"use strict";const I=o(9218),b=o(8138),T=o(3423);class C extends b{constructor(N,x,d=I.getConfig(),m=[]){N=N.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(u,s,c,t)=>(new T(s,d,m),new T(t,d,m),`\0${m.length-1}c\x7F${c}\0${m.length}c\x7F`)),super(N,d,!0,m,{}),this.type=x}}P.exports=C},428:(P,G,o)=>{"use strict";const I=o(9218),b=o(2158);class T extends b{constructor(N,x=I.getConfig(),d=[]){super(N,"ext-inner",x,d);U(this,"name","pre");this.setAttribute("stage",I.MAX_STAGE-1)}isPlain(){return!0}}P.exports=T},9450:(P,G,o)=>{"use strict";const{generateForSelf:I}=o(8277),b=o(9218),T=o(8138),C=o(8058);class F extends T{constructor(d,m,u=b.getConfig(),s=[]){super(void 0,u,!0,s);U(this,"type","heading");this.setAttribute("name",String(d));const c=new T(m[0],u,!0,s);c.type="heading-title",c.setAttribute("stage",2);const t=new C(m[1],/^[^\S\n]*$/u,"heading-trail",u,s,{});this.append(c,t)}toString(d){const m="=".repeat(Number(this.name));return`${m}${this.firstChild.toString()}${m}${this.lastChild.toString()}`}text(){const d="=".repeat(Number(this.name));return`${d}${this.firstChild.text()}${d}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const d="=".repeat(Number(this.name)),m=String(this.firstChild);return super.print({pre:d,sep:d,class:(m[0]==="="||m.endsWith("=")||this.closest("html-attrs, table-attrs"))&&"heading wpb-error"})}lint(d=0){const m=super.lint(d),u=String(this.firstChild);let s;return this.name==="1"&&(s=I(this,{start:d},"<h1>"),m.push(s)),(u[0]==="="||u.endsWith("="))&&(s||(s=I(this,{start:d},"")),m.push({...s,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(s||(s=I(this,{start:d},"")),m.push({...s,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),m}}P.exports=F},2350:(P,G,o)=>{var F,N,x;"use strict";const{generateForSelf:I}=o(8277),b=o(9218),T=o(8138);class C extends T{constructor(u,s,c,t,e=b.getConfig(),a=[]){super(void 0,e,!0,a);U(this,"type","html");K(this,F,void 0);K(this,N,void 0);K(this,x,void 0);this.insertAt(s),this.setAttribute("name",u.toLowerCase()),et(this,F,c),et(this,N,t),et(this,x,u)}get closing(){return L(this,F)}toString(u){return`<${L(this,F)?"/":""}${L(this,x)}${super.toString()}${L(this,N)?"/":""}>`}text(){return`<${L(this,F)?"/":""}${L(this,x)}${L(this,F)?"":super.text()}${L(this,N)?"/":""}>`}getPadding(){return L(this,x).length+(L(this,F)?2:1)}print(){return super.print({pre:`&lt;${L(this,F)?"/":""}${L(this,x)}`,post:`${L(this,N)?"/":""}&gt;`,class:this.closest("table-attrs")&&"html wpb-error"})}lint(u=0){const s=super.lint(u);let c;this.name==="h1"&&!L(this,F)&&(c=I(this,{start:u},"<h1>"),s.push(c)),this.closest("table-attrs")&&(c||(c=I(this,{start:u},"")),s.push({...c,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:t}){c||(c=I(this,{start:u},""));const[e]=t.split("\uFF1A"),a={...c,message:e,severity:e==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};s.push(a)}return s}findMatchingTag(){const{html:u}=this.getAttribute("config"),{name:s,parentNode:c}=this,t=String(this);if(L(this,F)&&(L(this,N)||u[2].includes(s)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${t}`);if(u[2].includes(s)||L(this,N)&&u[1].includes(s))return this;if(L(this,N)&&u[0].includes(s))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${t}`);if(!c)return;const{childNodes:e}=c,a=e.indexOf(this),h=L(this,F)?e.slice(0,a).reverse().filter(({type:w,name:f})=>w==="html"&&f===s):e.slice(a+1).filter(({type:w,name:f})=>w==="html"&&f===s);let p=L(this,F)?-1:1;for(const w of h)if(w.closing?p--:p++,p===0)return w;throw new SyntaxError(`\u672A${L(this,F)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${t}`)}}F=new WeakMap,N=new WeakMap,x=new WeakMap,P.exports=C},1874:(P,G,o)=>{var N,St,d;"use strict";const{print:I,extUrlChar:b}=o(231),T=o(9218),C=o(8138),u=class extends C{constructor(t,e=T.getConfig(),a=[]){var c=(...m)=>{super(...m);U(this,"type","image-parameter");K(this,d,"")};var w;const h=Object.entries(e.img).map(([f,n])=>[f,n,new RegExp(`^(\\s*)${f.replace("$1","(.*)")}(\\s*)$`,"u")]),p=h.find(([,,f])=>f.test(t));if(p){const f=p[2].exec(t);if(f.length!==4||it(w=u,N,St).call(w,p[1],f[2],e,!0)){f.length===3?(c(void 0,e,!0,a),et(this,d,t)):(c(f[2],e,!0,a,{}),et(this,d,`${f[1]}${p[0]}${f[3]}`)),this.setAttribute("name",p[1]);return}}c(t,e,!0,a),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(t){return L(this,d)?L(this,d).replace("$1",super.toString(t)):super.toString(t)}text(){return L(this,d)?L(this,d).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,L(this,d).indexOf("$1"))}print(){return L(this,d)?`<span class="wpb-image-parameter">${L(this,d).replace("$1",`<span class="wpb-image-caption">${I(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let F=u;N=new WeakSet,St=function(t,e,a=T.getConfig(),h=!1){switch(e=e.replace(/\0\d+t\x7F/gu,"").trim(),t){case"width":return/^\d*(?:x\d*)?$/u.test(e);case"link":return!e||new RegExp(`(?:${a.protocol}|//)${b}(?=\0\\d+t\x7F|$)`,"iu").test(e)?!0:(e.startsWith("[[")&&e.endsWith("]]")&&(e=e.slice(2,-2)),T.normalizeTitle(e,0,!1,a,h,!0).valid);case"lang":return a.variants.includes(e);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(e)}},d=new WeakMap,K(F,N),P.exports=F},2641:(P,G,o)=>{"use strict";const{generateForSelf:I,generateForChild:b}=o(8277),T=o(9218),C=o(8138),F=o(3423),N=o(1031),x=o(2571);class d extends C{constructor(s,c=T.getConfig(),t=[]){super(void 0,c,!0,t,{});U(this,"type","ext-inner");U(this,"name","imagemap");if(!s)return;const e=s.split(`
`),a=new Set(c.protocol.split("|")),h=F,p=n=>{super.insertAt(new h(n,c,t))};let w=!0,f=!1;for(const n of e){const l=n.trim();if(!(f||!l||l[0]==="#")){if(w){const[i,...r]=n.split("|"),g=this.normalizeTitle(i,0,!0);if(g.valid&&!g.interwiki&&g.ns===6){const $=new N(i,r.length>0?r.join("|"):void 0,g,c,t);$.type="imagemap-image",super.insertAt($),w=!1;continue}else f=!0}else if(n.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(n);continue}else if(n.includes("[")){const i=n.indexOf("["),r=n.slice(i),g=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(r);if(g){const $=this.normalizeTitle(g[1],0,!0);if($.valid){super.insertAt(new x(n.slice(0,i),[...g.slice(1),$],r.slice(r.indexOf("]]")+2),c,t));continue}}else if(a.has(r.slice(1,r.indexOf(":")+1))||a.has(r.slice(1,r.indexOf("//")+2))){const $=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(r);if($){super.insertAt(new x(n.slice(0,i),$.slice(1),r.slice(r.indexOf("]")+1),c,t));continue}}}}p(n)}}get image(){return this.childNodes.find(({type:s})=>s==="imagemap-image")}toString(s){return super.toString(s,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`,class:!this.image&&"ext-inner wpb-error"})}lint(s=0){const c=super.lint(s),t={start:s,...this.getRootNode().posFromIndex(s)};return this.image?c.push(...this.childNodes.filter(e=>{const a=String(e).trim();return e.type==="noinclude"&&a&&a[0]!=="#"}).map(e=>b(e,t,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):c.push(I(this,t,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),c}}P.exports=d},2571:(P,G,o)=>{"use strict";const I=o(6986),b=o(8138),T=o(3423),C=o(3905),F=o(741);class N extends b{constructor(m,u,s,c,t){const e=u[2]instanceof I?C:F;super(void 0,c,!0,t);U(this,"type","imagemap-link");this.append(m,new e(...u,c,t),new T(s,c,t))}}P.exports=N},8138:(P,G,o)=>{var x,d,m,u,s,c,t,e,yt,h,At,w,Ct,n,Ft,i,kt,g,Tt,S,vt,y,Nt,v,Et,E,It,B,Pt;"use strict";const{text:I}=o(231),b=o(9218),T=o(9205),C=o(7507),{MAX_STAGE:F}=b,M=class extends T{constructor(j,D=b.getConfig(),W=!1,V=[],Z=void 0){super();K(this,e);K(this,h);K(this,w);K(this,n);K(this,i);K(this,g);K(this,S);K(this,y);K(this,v);K(this,E);K(this,B);U(this,"type","root");K(this,x,0);K(this,d,void 0);K(this,m,void 0);K(this,u,void 0);K(this,s,(j=L(this,x),D=!1)=>{if(j<L(this,x)||!this.isPlain()||this.length===0)return this;switch(j){case 0:this.type==="root"&&L(this,m).shift(),et(this,u,Boolean(D)),it(this,e,yt).call(this,D);break;case 1:it(this,h,At).call(this);break;case 2:it(this,w,Ct).call(this);break;case 3:it(this,n,Ft).call(this);break;case 4:it(this,i,kt).call(this);break;case 5:it(this,g,Tt).call(this);break;case 6:it(this,S,vt).call(this);break;case 7:it(this,y,Nt).call(this);break;case 8:it(this,v,Et).call(this);break;case 9:it(this,E,It).call(this);break;case 10:it(this,B,Pt).call(this)}if(this.type==="root")for(const W of L(this,m))W.getAttribute("parseOnce")(j,D);return $t(this,x)._++,this});K(this,c,(j,D)=>{const W=j.split(/[\0\x7F]/u).map((V,Z)=>{if(Z%2===0)return new C(V);if(isNaN(V[V.length-1]))return L(this,m)[Number(V.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${V}`)});return D==="string"?W.map(String).join(""):D==="text"?I(W):W});K(this,t,()=>{et(this,x,F);const{length:j,firstChild:D}=this,W=String(D);if(j===1&&D.type==="text"&&W.includes("\0")&&(this.replaceChildren(...L(this,c).call(this,W)),this.normalize(),this.type==="root"))for(const V of L(this,m))V.getAttribute("build")()});typeof j=="string"&&this.insertAt(W?j:j.replace(/[\0\x7F]/gu,"")),et(this,d,D),et(this,m,V),V.push(this)}getAttribute(j){switch(j){case"config":return JSON.parse(JSON.stringify(L(this,d)));case"accum":return L(this,m);case"parseOnce":return L(this,s);case"buildFromStr":return L(this,c);case"build":return L(this,t);case"include":{if(L(this,u)!==void 0)return L(this,u);const D=this.getRootNode();return D.type==="root"&&D!==this?D.getAttribute("include"):!1}default:return super.getAttribute(j)}}setAttribute(j,D){switch(j){case"stage":return L(this,x)===0&&this.type==="root"&&L(this,m).shift(),et(this,x,D),this;default:return super.setAttribute(j,D)}}isPlain(){return this.constructor===M}insertAt(j,D=this.length){return typeof j=="string"&&(j=new C(j)),super.insertAt(j,D),j.type==="root"&&(j.type="plain"),j}normalizeTitle(j,D=0,W=!1,V=!1){return b.normalizeTitle(j,D,L(this,u),L(this,d),W,V)}afterBuild(){if(this.type==="root")for(const j of L(this,m))j.afterBuild();return this}parse(j=F,D=!1){for(;L(this,x)<j;)L(this,s).call(this,L(this,x),D);return j&&(L(this,t).call(this),this.afterBuild()),this}};let N=M;x=new WeakMap,d=new WeakMap,m=new WeakMap,u=new WeakMap,s=new WeakMap,c=new WeakMap,t=new WeakMap,e=new WeakSet,yt=function(j){const D=o(4907);this.setText(D(String(this.firstChild),L(this,d),L(this,m),j))},h=new WeakSet,At=function(){const j=o(8275),D=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,W=j(D,L(this,d),L(this,m));this.setText(this.type==="root"?W:W.slice(1))},w=new WeakSet,Ct=function(){const j=o(5130);this.setText(j(String(this.firstChild),L(this,d),L(this,m)))},n=new WeakSet,Ft=function(){const j=o(4624),D=o(2840);this.setText(j(this,L(this,d),L(this,m)));for(const W of L(this,m))if(W instanceof D&&W.type!=="td"){W.normalize();const{childNodes:[,V]}=W;if(typeof V=="string"&&V.includes("\0")){W.removeAt(1);const Z=new M(V,L(this,d),!0,L(this,m));W.insertAt(Z,1),Z.setAttribute("stage",4)}}},i=new WeakSet,kt=function(){const j=o(2937);this.setText(j(this,L(this,d),L(this,m)))},g=new WeakSet,Tt=function(){const j=o(1452);this.setText(j(String(this.firstChild),L(this,d),L(this,m)))},S=new WeakSet,vt=function(){const j=o(3360),D=String(this.firstChild).split(`
`);for(let W=0;W<D.length;W++)D[W]=j(D[W],L(this,d),L(this,m));this.setText(D.join(`
`))},y=new WeakSet,Nt=function(){const j=o(7513);this.setText(j(String(this.firstChild),L(this,d),L(this,m)))},v=new WeakSet,Et=function(){const j=o(4737);this.setText(j(String(this.firstChild),L(this,d),L(this,m)))},E=new WeakSet,It=function(){if(this.type==="image-parameter")return;const j=o(6622),D=String(this.firstChild).split(`
`);let W=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;W<D.length;W++)D[W]=j(D[W],L(this,d),L(this,m));this.setText(D.join(`
`))},B=new WeakSet,Pt=function(){const j=o(3765);this.setText(j(String(this.firstChild),L(this,d),L(this,m)))},P.exports=N},337:(P,G,o)=>{"use strict";const I=o(3905);class b extends I{constructor(){super(...arguments);U(this,"type","category")}}P.exports=b},7625:(P,G,o)=>{var u,ft;"use strict";const{explode:I}=o(231),{generateForChild:b}=o(8277),T=o(9218),C=o(3905),F=o(1874),N=new Set(["manualthumb","frameless","framed","thumbnail"]),x=new Set(["left","right","center","none"]),d=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class m extends C{constructor(e,a,h,p=T.getConfig(),w=[],f="|"){super(e,void 0,h,p,w,f);K(this,u);U(this,"type","file");this.append(...I("-{","}-","|",a).map(n=>new F(n,p,w)))}lint(e=0){const a=super.lint(e),h=this.getAllArgs(),p=[...new Set(h.map(({name:i})=>i))],w=p.filter(i=>N.has(i)),f=p.filter(i=>x.has(i)),n=p.filter(i=>d.has(i));if(h.length===p.length&&w.length<2&&f.length<2&&n.length<2)return a;const l={start:e,...this.getRootNode().posFromIndex(e)};for(const i of p){let r=h.filter(({name:g})=>g===i);i==="caption"&&(r=[...r.slice(0,-1).filter(g=>g.text()),r[r.length-1]]),r.length>1&&a.push(...r.map(g=>b(g,l,`\u91CD\u590D\u7684\u56FE\u7247${i}\u53C2\u6570`)))}return w.size>1&&a.push(...h.filter(({name:i})=>N.has(i)).map(i=>b(i,l,"\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),f.size>1&&a.push(...h.filter(({name:i})=>x.has(i)).map(i=>b(i,l,"\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),n.size>1&&a.push(...h.filter(({name:i})=>d.has(i)).map(i=>b(i,l,"\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),a}getAllArgs(){return this.childNodes.slice(1)}getArgs(e){return this.getAllArgs().filter(({name:a})=>e===a)}getFrameArgs(){return it(this,u,ft).call(this,N,"\u6846\u67B6")}getHorizAlignArgs(){return it(this,u,ft).call(this,x,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return it(this,u,ft).call(this,d,"\u5782\u76F4\u5BF9\u9F50")}}u=new WeakSet,ft=function(e,a){return this.getAllArgs().filter(({name:p})=>e.has(p))},P.exports=m},1031:(P,G,o)=>{var N;"use strict";const{generateForSelf:I}=o(8277),b=o(9218),T=o(8138),C=o(7625);class F extends C{constructor(m,u,s,c=b.getConfig(),t=[]){let e;if(u!==void 0){e=new T(u,c,!0,t),e.type="temp";for(let a=1;a<b.MAX_STAGE;a++)e.getAttribute("parseOnce")();t.splice(t.indexOf(e),1)}super(m,e==null?void 0:e.toString(),s,c,t);U(this,"type","gallery-image");K(this,N,!1);this.setAttribute("bracket",!1)}afterBuild(){const m=this.type==="imagemap-image",{interwiki:u,ns:s}=this.normalizeTitle(String(this.firstChild),m?0:6,!0,!m);return et(this,N,u||s!==6),this}getPadding(){return 0}lint(m=0){const u=super.lint(m);return L(this,N)&&u.push(I(this,{start:m},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),u}print(){return super.print({class:L(this,N)&&"gallery-image wpb-error"})}}N=new WeakMap,P.exports=F},3905:(P,G,o)=>{var x,d;"use strict";const{generateForChild:I}=o(8277),b=o(9218),T=o(7507),C=o(8138),F=o(9237);class N extends C{constructor(s,c,t,e=b.getConfig(),a=[],h="|"){super(void 0,e,!0,a,{});U(this,"type","link");K(this,x,!0);K(this,d,void 0);if(this.insertAt(new F(s,"link-target",e,a,{})),c!==void 0){const p=new C(c,e,!0,a,{});p.type="link-text",this.insertAt(p.setAttribute("stage",b.MAX_STAGE-1))}et(this,d,h)}afterBuild(){var s;return(s=L(this,d))!=null&&s.includes("\0")&&et(this,d,this.getAttribute("buildFromStr")(L(this,d),"string")),this}setAttribute(s,c){return s==="bracket"?(et(this,x,Boolean(c)),this):super.setAttribute(s,c)}toString(s){const c=super.toString(s,L(this,d));return L(this,x)?`[[${c}]]`:c}text(){const s=super.text("|");return L(this,x)?`[[${s}]]`:s}getPadding(){return 2}getGaps(){return L(this,d).length}print(){return super.print(L(this,x)?{pre:"[[",post:"]]",sep:L(this,d)}:{sep:L(this,d)})}lint(s=0){var e;const c=super.lint(s),{childNodes:[,t]}=this;return(e=t==null?void 0:t.childNodes)!=null&&e.some(({type:a,data:h})=>a==="text"&&h.includes("|"))&&c.push(I(t,{token:this,start:s},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"')),c}}x=new WeakMap,d=new WeakMap,P.exports=N},8962:(P,G,o)=>{"use strict";const{generateForChild:I}=o(8277),b=o(9218),T=o(8138);class C extends T{constructor(x,d,m=b.getConfig(),u=[]){super(x,m,!0,u,{});U(this,"type","free-ext-link");d&&(this.type="ext-link-url")}lint(x=0){const d=super.lint(x),m="[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+";let u;for(const s of this.childNodes){const c=String(s);if(s.type!=="text"||!new RegExp(m,"u").test(c))continue;u||(u={start:x,...this.getRootNode().posFromIndex(x)});const t=I(s,u,"URL\u4E2D\u7684\u5168\u89D2\u6807\u70B9","warning"),e=new RegExp(m,"gu");for(let a=e.exec(c);a;a=e.exec(c)){const{index:h,0:{length:p}}=a,w=c.slice(0,h).split(`
`),{length:f}=w,{length:n}=w[f-1],l=x+h,i=l+p,r=t.startLine+f-1,g=f>1?n:t.startCol+n,$=g+p;d.push({...t,startIndex:l,endIndex:i,startLine:r,endLine:r,startCol:g,endCol:$})}}return d}}P.exports=C},9389:(P,G,o)=>{"use strict";const I=o(9218),b=o(8889);class T extends b{constructor(N,x=I.getConfig(),d=[]){super(N,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],x,d);U(this,"name","choose")}}P.exports=T},9269:(P,G,o)=>{"use strict";const I=o(9218),b=o(8889);class T extends b{constructor(N,x=I.getConfig(),d=[]){super(N,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],x,d);U(this,"name","combobox")}}P.exports=T},8889:(P,G,o)=>{"use strict";const{generateForChild:I}=o(8277),b=o(9218),T=o(8138),C=o(7267),F=o(3423),N=o(5749);class x extends T{constructor(u,s,c,t=b.getConfig(),e=[]){var h;const a=(h=u==null?void 0:u.replace(s,(p,w,f,n,l)=>{const i=`\0${e.length+1}${w?"e":"c"}\x7F`;if(w)new C(w,f,n,l,t,e);else{const r=p.endsWith("-->");new N(p.slice(4,r?-3:void 0),r,t,e)}return i}))==null?void 0:h.replace(/(^|\0\d+[ce]\x7F)(.*?)(?=$|\0\d+[ce]\x7F)/gsu,(p,w,f)=>f===""?w:(new F(f,t,e),`${w}\0${e.length}c\x7F`));super(a,t,!0,e,{});U(this,"type","ext-inner")}lint(u=0){let s;return[...super.lint(u),...this.childNodes.filter(c=>{if(c.type==="ext"||c.type==="comment")return!1;const t=String(c).trim();return t&&!/^<!--.*-->$/u.test(t)}).map(c=>(s||(s={start:u,...this.getRootNode().posFromIndex(u)}),I(c,s,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}P.exports=x},5937:(P,G,o)=>{"use strict";const I=o(9218),b=o(8889);class T extends b{constructor(N,x=I.getConfig(),d=[]){super(N,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],x,d);U(this,"name","references")}}P.exports=T},7033:(P,G,o)=>{var I={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function b(C){var F=T(C);return o(F)}function T(C){if(!o.o(I,C)){var F=new Error("Cannot find module '"+C+"'");throw F.code="MODULE_NOT_FOUND",F}return I[C]}b.keys=function(){return Object.keys(I)},b.resolve=T,P.exports=b,b.id=7033},5749:(P,G,o)=>{"use strict";const I=o(2308),{generateForSelf:b}=o(8277),T=o(9218),C=o(6935);class F extends I(C){constructor(d,m=!0,u=T.getConfig(),s=[]){super(d,u,s);U(this,"type","comment");U(this,"closed");this.closed=m}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":"",class:!this.closed&&"comment wpb-error"})}lint(d=0){return this.closed?[]:[b(this,{start:d},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(d){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}P.exports=F},3434:(P,G,o)=>{"use strict";const I=o(6935);class b extends I{constructor(){super(...arguments);U(this,"type","dd")}}P.exports=b},7815:(P,G,o)=>{"use strict";const I=o(2308),b=o(6935);class T extends I(b){constructor(){super(...arguments);U(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(N){return`__${String(this.firstChild)}__`}}P.exports=T},2582:(P,G,o)=>{"use strict";const I=o(9218),b=o(6935);class T extends b{constructor(N,x=I.getConfig(),d=[]){super("-".repeat(N),x,d);U(this,"type","hr")}}P.exports=T},6935:(P,G,o)=>{"use strict";const{generateForSelf:I}=o(8277),b=o(9218),T=o(8138);class C extends T{constructor(x,d=b.getConfig(),m=[]){super(x,d,!0,m);U(this,"type","ext-inner")}lint(x=0){const{type:d,name:m}=this;return d==="ext-inner"&&(m==="templatestyles"||m==="section")&&String(this)?[I(this,{start:x},`<${m}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(x)}}P.exports=C},962:(P,G,o)=>{"use strict";const I=o(3434);class b extends I{constructor(){super(...arguments);U(this,"type","list")}}P.exports=b},3423:(P,G,o)=>{"use strict";const I=o(2308),b=o(6935);class T extends I(b){constructor(){super(...arguments);U(this,"type","noinclude")}}P.exports=T},6714:(P,G,o)=>{"use strict";const{generateForSelf:I}=o(8277),b=o(9218),T=o(7507),C=o(6935);class F extends C{constructor(d,m=b.getConfig(),u=[]){super("'".repeat(d),m,u);U(this,"type","quote")}lint(d=0){const{previousSibling:m,nextSibling:u}=this,s=`\u5B64\u7ACB\u7684"'"`,c=[];let t;if((m==null?void 0:m.type)==="text"&&m.data.endsWith("'")){t=I(this,{start:d},s);const{startIndex:e,startLine:a,startCol:h}=t,[,{length:p}]=m.data.match(/(?:^|[^'])('+)$/u),w=d-p;c.push({...t,startIndex:w,endIndex:e,startCol:h-p,endLine:a,endCol:h})}if((u==null?void 0:u.type)==="text"&&u.data[0]==="'"){t||(t=I(this,{start:d},s));const{endIndex:e,endLine:a,endCol:h}=t,[{length:p}]=u.data.match(/^'+/u),w=e+p;c.push({...t,startIndex:e,endIndex:w,startLine:a,startCol:h,endCol:h+p})}return c}}P.exports=F},851:(P,G,o)=>{"use strict";const I=o(9218),b=o(8138);class T extends b{constructor(N,x=I.getConfig(),d=[]){super(N,x,!0,d);U(this,"type","onlyinclude")}toString(N){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}P.exports=T},9380:(P,G,o)=>{"use strict";const{generateForChild:I}=o(8277),b=o(9218),T=o(8138),C=o(9237);class F extends T{constructor(d,m=b.getConfig(),u=[]){super(void 0,m,!0,u,{});U(this,"type","ext-inner");if(d){const s=C;this.append(...d.split(`
`).map(c=>new s(c,"param-line",m,u,{})))}}toString(d){return super.toString(d,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(d=0){let m;return this.childNodes.filter(u=>{const{childNodes:s}=u,c=s.findIndex(({type:e})=>e!=="text"),t=(c>=0?s.slice(0,c).map(String).join(""):String(u)).trim();return t&&!(c>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(t)}).map(u=>(m||(m={start:d,...this.getRootNode().posFromIndex(d)}),I(u,m,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}P.exports=F},9799:(P,G,o)=>{"use strict";const{extUrlChar:I}=o(231),{generateForChild:b}=o(8277),T=o(9218),C=o(8138);class F extends C{constructor(d,m,u=T.getConfig(),s=[]){super(void 0,u,!0,s);U(this,"type","parameter");const c=new C(typeof d=="number"?void 0:d,u,!0,s,{}),t=new C(m,u,!0,s);c.type="parameter-key",t.type="parameter-value",this.append(c,t.setAttribute("stage",2))}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const d=o(1782),m=String(this.firstChild).replace(/<!--.*?-->/gu,"").trim(),{parentNode:u}=this;this.setAttribute("name",m),u instanceof d&&u.getArgs(m,!1,!1).add(this)}return this}toString(d){return this.anon?this.lastChild.toString(d):super.toString(d,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(d=0){var c;const m=super.lint(d),{firstChild:u}=this,s=(c=new RegExp(`https?://${I}$`,"iu").exec(String(u).replace(/<!--.*?-->/gu,"")))==null?void 0:c[0];if(s&&new URL(s).search){const t=b(u,{token:this,start:d},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");m.push({...t,startIndex:t.endIndex,endIndex:t.endIndex+1,startLine:t.endLine,startCol:t.endCol,endCol:t.endCol+1})}return m}}P.exports=F},8058:(P,G,o)=>{"use strict";const I=o(9218),b=o(8138);class T extends b{constructor(F,N,x="plain",d=I.getConfig(),m=[],u=void 0){super(F,d,!0,m,u),this.type=x}}P.exports=T},2840:(P,G,o)=>{"use strict";const{generateForChild:I}=o(8277),b=o(3125),T=o(8058);class C extends b{constructor(){super(...arguments);U(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(x=0){const d=super.lint(x);if(!this.closed){const{firstChild:m}=this,u=I(m,{token:this,start:x},"\u672A\u95ED\u5408\u7684\u8868\u683C");d.push(u)}return d}close(x=`
|}`,d=!1){const m=this.getAttribute("config"),u=this.getAttribute("accum");super.insertAt(new T(x,void 0,"table-syntax",m,u))}}P.exports=C},5567:(P,G,o)=>{var F;"use strict";const I=o(9218),b=o(8138),T=o(3125);class C extends T{constructor(d,m,u=I.getConfig(),s=[]){let c=m==null?void 0:m.match(/\||\0\d+!\x7F/u),t=c?m.slice(0,c.index):"";/\[\[|-\{/u.test(t)&&(c=void 0,t="");super(d,t,u,s);U(this,"type","td");K(this,F,"");c&&([$t(this,F)._]=c);const e=new b(m==null?void 0:m.slice((c==null?void 0:c.index)+L(this,F).length),u,!0,s);e.type="td-inner",this.insertAt(e.setAttribute("stage",4))}get subtype(){return this.getSyntax().subtype}getSyntax(){const d=this.firstChild.text(),m=d[d.length-1];let u="td";return m==="!"?u="th":m==="+"&&(u="caption"),{subtype:u}}afterBuild(){return L(this,F).includes("\0")&&et(this,F,this.getAttribute("buildFromStr")(L(this,F),"string")),this}toString(d){const{childNodes:[m,u,s]}=this;return`${m.toString()}${u.toString()}${L(this,F)}${s.toString()}`}text(){const{childNodes:[d,m,u]}=this;return`${d.text()}${m.text()}${L(this,F)}${u.text()}`}getGaps(d=0){return d=d<0?d+this.length:d,d===1?L(this,F).length:0}print(){const{childNodes:[d,m,u]}=this;return`<span class="wpb-td">${d.print()}${m.print()}${L(this,F)}${u.print()}</span>`}}F=new WeakMap,P.exports=C},3125:(P,G,o)=>{"use strict";const{generateForChild:I}=o(8277),b=o(9218),T=o(8138),C=o(8058),F=o(5649);class N extends T{constructor(m,u="",s=b.getConfig(),c=[],t=void 0){super(void 0,s,!0,c,{});U(this,"type","tr");this.append(new C(m,t,"table-syntax",s,c,{}),new F(u,"table-attrs",this.type,s,c))}lint(m=0){const u=o(1782),s=super.lint(m),c=this.childNodes.find(({type:a})=>a==="table-inter");if(!c)return s;const t=c.childNodes.find(a=>a.text().trim());if(t){if((t==null?void 0:t.type)==="magic-word")try{if(t.getPossibleValues().every(h=>/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u.test(h.text())))return s}catch(a){}}else return s;const e=I(c,{token:this,start:m},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return s.push({...e,startIndex:e.startIndex+1,startLine:e.startLine+1,startCol:0}),s}text(){const m=super.text();return this.type==="tr"&&!m.trim().includes(`
`)?"":m}}P.exports=N},7267:(P,G,o)=>{"use strict";const{generateForSelf:I}=o(8277),b=o(9218),T=o(8138),C=o(1074),F=o(5649);class N extends C{constructor(m,u="",s="",c=void 0,t=b.getConfig(),e=[]){u=!u||/^\s/u.test(u)?u:` ${u}`;const a=m.toLowerCase(),h=new F(u,"ext-attrs",a,t,e),p=JSON.parse(JSON.stringify(t)),w=new Set(p.ext);let f;switch(w.delete(a),p.ext=[...w],a){case"tab":w.delete("tabs"),p.ext=[...w];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":f=new T(s,p,!0,e);break;case"gallery":{const n=o(1891);f=new n(s,p,e);break}case"pre":{const n=o(428);f=new n(s,p,e);break}case"charinsert":{const n=o(8103);f=new n(s,p,e);break}case"references":case"choose":case"combobox":{const n=o(8889),l=o(7033)(`./${a}`);f=new l(s,p,e);break}case"imagemap":{const n=o(2641);f=new n(s,t,e);break}case"dynamicpagelist":{const n=o(9380);f=new n(s,p,e);break}default:{const n=o(6935);f=new n(s,t)}}f.setAttribute("name",a).type="ext-inner";super(m,h,f,c,t,e);U(this,"type","ext");U(this,"closed",!0)}lint(m=0){const u=super.lint(m);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const s=this.getRootNode(),c={start:m,...s.posFromIndex(m)};u.push(I(this,c,"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6269\u5C55\u6807\u7B7E"))}return u}print(){return super.print({class:this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")&&"ext wpb-error"})}}P.exports=N},8655:(P,G,o)=>{"use strict";const I=o(2308),{generateForSelf:b}=o(8277),T=o(9218),C=o(1074);class F extends I(C){constructor(d,m="",u=void 0,s=void 0,c=T.getConfig(),t=[]){super(d,m,u!=null?u:"",u===void 0||s!=null?s:"",c,t);U(this,"type","include")}lint(d=0){return this.closed?[]:[b(this,{start:d},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}print(){return super.print({class:!this.closed&&`${this.type} wpb-error`})}}P.exports=F},1074:(P,G,o)=>{var C,F,N;"use strict";const I=o(9218),b=o(8138);class T extends b{constructor(m,u,s,c,t=I.getConfig(),e=[]){super(void 0,t,!0);K(this,C,void 0);K(this,F,void 0);K(this,N,void 0);et(this,N,[m,c||m]),et(this,C,c===void 0),et(this,F,c!==""),this.append(u,s);let a=e.indexOf(u);a===-1&&(a=e.indexOf(s)),a===-1&&(a=1/0),e.splice(a,0,this)}get closed(){return L(this,F)}toString(m){const{firstChild:u,lastChild:s}=this,[c,t]=L(this,N);return L(this,C)?`<${c}${String(u)}/>`:`<${c}${String(u)}>${String(s)}${L(this,F)?`</${t}>`:""}`}text(){const[m,u]=L(this,N);return L(this,C)?`<${m}${this.firstChild.text()}/>`:`<${m}${super.text(">")}${L(this,F)?`</${u}>`:""}`}getPadding(){return L(this,N)[0].length+1}getGaps(){return 1}print(){const[m,u]=L(this,N);return super.print(L(this,C)?{pre:`&lt;${m}`,post:"/&gt;"}:{pre:`&lt;${m}`,sep:"&gt;",post:L(this,F)?`&lt;/${u}&gt;`:""})}}C=new WeakMap,F=new WeakMap,N=new WeakMap,P.exports=T},1782:(P,G,o)=>{var s,c,Lt;"use strict";const{removeComment:I,print:b,text:T}=o(231),{generateForChild:C}=o(8277),F=o(9218),N=o(8138),x=o(9799),d=o(9237),m=o(8058);class u extends N{constructor(h,p,w=F.getConfig(),f=[]){super(void 0,w,!0,f,{});K(this,c);U(this,"type","template");U(this,"modifier","");K(this,s,{});const{parserFunction:[n,l,i]}=w;if(h.includes(":")){const[$,...S]=h.split(":");this.setModifier($)&&(h=S.join(":"))}if(h.includes(":")||p.length===0&&!i.includes(this.modifier.toLowerCase())){const[$,...S]=h.split(":"),A=I($),y=A.trim(),k=l.includes(y),v=n[y.toLowerCase()];if(!(S.length>0&&/\s$/u.test(A))&&(k||v)){this.setAttribute("name",v||y.toLowerCase()).type="magic-word";const R=new RegExp(`^\\s*${y}\\s*$`,k?"u":"iu"),E=new m($,R,"magic-word-name",w,f,{});if(this.insertAt(E),S.length>0&&p.unshift([S.join(":")]),this.name==="invoke")for(let O=0;O<2;O++){const B=p.shift();if(!B)break;const z=new d(B.join("="),`invoke-${O?"function":"module"}`,w,f,{});this.insertAt(z)}}}if(this.type==="template"){const $=I(h).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test($))throw f.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${$}`);const S=new d(h,"template-name",w,f,{});this.insertAt(S)}const r=this.isTemplate();let g=1;for(const $ of p)r||($[0]=$.join("="),$.length=1),$.length===1&&($.unshift(g),g++),this.insertAt(new x(...$,w,f))}setModifier(h=""){if(/\s$/u.test(h))return!1;const{parserFunction:[,,p,w]}=this.getAttribute("config"),f=h.trim().toLowerCase(),n=p.includes(f),l=w.includes(f);return n||l||h===""?(this.setAttribute("modifier",h),Boolean(h)):!1}toString(h){const{childNodes:p,firstChild:w,modifier:f}=this;return`{{${f}${f&&":"}${this.type==="magic-word"?`${String(w)}${p.length>1?":":""}${p.slice(1).map(String).join("|")}`:super.toString(h,"|")}}}`}text(){const{childNodes:h,firstChild:p,modifier:w}=this;return`{{${w}${w&&":"}${this.type==="magic-word"?`${p.text()}${h.length>1?":":""}${T(h.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:h,firstChild:p,modifier:w}=this;return`<span class="wpb-${this.type}">{{${w}${w&&":"}${this.type==="magic-word"?`${p.print()}${h.length>1?":":""}${b(h.slice(1),{sep:"|"})}`:b(h,{sep:"|"})}}}</span>`}lint(h=0){const p=super.lint(h);if(!this.isTemplate())return p;const w=this.getDuplicatedArgs();if(w.length>0){const f={start:h,...this.getRootNode().posFromIndex(h)};p.push(...w.flatMap(([,n])=>n).map(n=>C(n,f,"\u91CD\u590D\u53C2\u6570")))}return p}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(h,p=this.length){return super.insertAt(h,p),h.anon?it(this,c,Lt).call(this,h):h.name&&this.getArgs(h.name,!1,!1).add(h),h}getAllArgs(){return this.childNodes.filter(h=>h instanceof x)}getAnonArgs(){return this.getAllArgs().filter(({anon:h})=>h)}getArgs(h,p,w=!0){const f=String(h).trim();let n;return Object.prototype.hasOwnProperty.call(L(this,s),f)?n=L(this,s)[f]:(n=new Set(this.getAllArgs().filter(({name:l})=>f===l)),L(this,s)[f]=n),n}getDuplicatedArgs(){return this.isTemplate()?Object.entries(L(this,s)).filter(([,{size:h}])=>h>1).map(([h,p])=>[h,[...p]]):[]}getPossibleValues(){const{type:h,name:p,childNodes:w,constructor:{name:f}}=this;if(h==="template")throw new Error(`${f}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let n;switch(p){case"if":case"ifexist":case"ifexpr":case"iferror":n=2;break;case"ifeq":n=3;break;default:throw new Error(`${f}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const l=w.slice(n,n+2).map(({childNodes:[,i]})=>i);for(let i=0;i<l.length;){const{length:r,0:g}=l[i].childNodes.filter($=>$.text().trim());if(r===0)l.splice(i,1);else if(r>1||g.type!=="magic-word")i++;else try{const $=g.getPossibleValues();l.splice(i,1,...$),i+=$.length}catch($){i++}}return l}}s=new WeakMap,c=new WeakSet,Lt=function(h){const p=this.getAnonArgs(),w=p.indexOf(h);for(let f=w;f<p.length;f++){const n=p[f],{name:l}=n,i=String(f+1);l!==i&&this.getArgs(i,!1,!1).add(n.setAttribute("name",i))}},P.exports=u},8277:(P,G,o)=>{"use strict";const I=o(8138),b=(C,F,N,x="error")=>{const d=C.getRelativeIndex(),{offsetHeight:m,offsetWidth:u,parentNode:s,length:c}=C,{top:t,left:e}=s.posFromIndex(d),{token:a,start:h}=F,{top:p,left:w}=a?a.getRootNode().posFromIndex(h):F,f=h+d,n=f+c,l=p+t,i=l+m-1,r=t?e:w+e,g=m>1?u:r+u;return{message:N,severity:x,startIndex:f,endIndex:n,startLine:l,endLine:i,startCol:r,endCol:g}},T=(C,F,N,x="error")=>{const{start:d}=F,{offsetHeight:m,offsetWidth:u,length:s}=C,{top:c,left:t}="top"in F?F:C.getRootNode().posFromIndex(d);return{message:N,severity:x,startIndex:d,endIndex:d+s,startLine:c,endLine:c+m-1,startCol:t,endCol:m>1?u:t+u}};P.exports={generateForChild:b,generateForSelf:T}},231:(P,G,o)=>{"use strict";const I='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',b=x=>x.replace(/\0\d+c\x7F/gu,""),T=(x,d={})=>{const m=o(7507),u=o(9205),{pre:s="",post:c="",sep:t=""}=d,e={"&":"amp","<":"lt",">":"gt"};return`${s}${x.map(a=>a instanceof u?a.print():String(a).replace(/[&<>]/gu,h=>`&${e[h]};`)).join(t)}${c}`},C=x=>x.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),F=(x,d,m,u)=>{if(u===void 0)return[];const s=new RegExp(`${[x,d,m].map(C).join("|")}`,"gu"),c=[];let t=s.exec(u),e=0,a=0;for(;t;){const{0:h,index:p}=t;h!==m?e+=h===x?1:-1:e===0&&(c.push(u.slice(a,p)),{lastIndex:a}=s),t=s.exec(u)}return c.push(u.slice(a)),c},N=(x,d="")=>{const m=o(3853);return x.map(u=>typeof u=="string"?u:u.text()).join(d)};P.exports={extUrlChar:I,removeComment:b,print:T,escapeRegExp:C,explode:F,text:N}},8166:P=>{"use strict";P.exports=JSON.parse('{"ext":["nowiki","pre","gallery","indicator"],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"0":"","6":"File","14":"Category"},"nsid":{"":0,"file":6,"image":6,"\u56FE\u50CF":6,"\u5716\u50CF":6,"\u6587\u4EF6":6,"\u6863\u6848":6,"\u6A94\u6848":6,"category":14,"\u5206\u7C7B":14,"\u5206\u985E":14},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{"thumbnail":"thumbnail","thumb":"thumbnail","\u7F29\u7565\u56FE":"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","\u7F29\u7565\u56FE=$1":"manualthumb","left":"left","\u5DE6":"left","right":"right","\u53F3":"right","none":"none","\u65E0":"none","$1px":"width","$1\u50CF\u7D20":"width","center":"center","centre":"center","\u5C45\u4E2D":"center","framed":"framed","enframed":"framed","frame":"framed","\u6709\u6846":"framed","frameless":"frameless","\u65E0\u6846":"frameless","upright":"upright","\u53F3\u4E0A":"upright","upright=$1":"manual-upright","upright $1":"manual-upright","\u53F3\u4E0A=$1":"manual-upright","\u53F3\u4E0A$1":"manual-upright","border":"border","\u8FB9\u6846":"border","alt=$1":"alt","\u66FF\u4EE3=$1":"alt","\u66FF\u4EE3\u6587\u672C=$1":"alt","class=$1":"class","\u7C7B=$1":"class","link=$1":"link","\u94FE\u63A5=$1":"link","baseline":"baseline","\u57FA\u7EBF":"baseline","sub":"sub","\u5B50":"sub","super":"super","sup":"super","\u8D85":"super","top":"top","\u9876\u90E8":"top","text-top":"text-top","\u6587\u5B57\u9876\u90E8":"text-top","middle":"middle","\u4E2D\u95F4":"middle","bottom":"bottom","\u5E95\u90E8":"bottom","text-bottom":"text-bottom","\u6587\u5B57\u5E95\u90E8":"text-bottom","lang=$1":"lang","\u8BED\u8A00=$1":"lang","page=$1":"page","page $1":"page","\u9875\u6570=$1":"page","$1\u9875":"page"},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},Y={};function st(P){var G=Y[P];if(G!==void 0)return G.exports;var o=Y[P]={exports:{}};return _[P](o,o.exports,st),o.exports}st.o=(P,G)=>Object.prototype.hasOwnProperty.call(P,G);var dt=st(6010)})();})();
