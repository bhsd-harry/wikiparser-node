(()=>{(()=>{"use strict";var Qt={891:(Q,D,t)=>{t.d(D,{default:()=>M});const C={minConfig:t(166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config,excludes:[]}},msg($,m=""){var x,a;return((a=(x=this.i18n)==null?void 0:x[$])!=null?a:$).replace("$1",m)},normalizeTitle($,m=0,x=!1,a=C.getConfig(),e=!1,i=!1,u=!1){const{Title:l}=t(599);if(e)return new l($,m,a,i,u);const{Token:o}=t(541),r=this.run(()=>new o($,a).parseOnce(0,x).parseOnce());return new l(String(r),m,a,i,u)},parse($,m,x=C.MAX_STAGE,a=C.getConfig()){const{Token:e}=t(541);let i;return this.run(()=>{i=new e($.replace(/[\0\x7F]/gu,""),a);try{i.parse(x,m)}catch(u){}}),i},run($){return $()}},I={},R=new Set(["MAX_STAGE","minConfig"]),b=new Set(["config","normalizeTitle","parse"]);for(const $ in C)R.has($)?I[$]={enumerable:!1,writable:!1}:b.has($)||(I[$]={enumerable:!1});Object.defineProperties(C,I),typeof self=="object"?Object.assign(self,{Parser:C}):typeof globalThis=="object"&&Object.assign(globalThis,{Parser:C});const M=C},599:(Q,D,t)=>{t.r(D),t.d(D,{Title:()=>$});var C=t(467),I=t(891),R=Object.defineProperty,b=(m,x,a)=>x in m?R(m,x,{enumerable:!0,configurable:!0,writable:!0,value:a}):m[x]=a,M=(m,x,a)=>(b(m,typeof x!="symbol"?x+"":x,a),a);class ${constructor(x,a=0,e=I.default.getConfig(),i=!1,u=!1){M(this,"valid"),M(this,"ns"),M(this,"fragment"),M(this,"encoded",!1);var l;const{namespaces:o,nsid:r}=e;let p=(l=o[a])!=null?l:"";if(x=(0,C.m9)(x),i&&x.includes("%"))try{const E=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(x);x=decodeURIComponent(x),this.encoded=E}catch(E){}x=x.replace(/_/gu," ").trim(),x.startsWith(":")&&(p="",x=x.slice(1).trim());const c=x.split(":");if(c.length>1){const E=r[c[0].trim().toLowerCase()],O=E===void 0?void 0:o[E];O!==void 0&&(p=O,x=c.slice(1).join(":").trim())}this.ns=r[p.toLowerCase()];const g=x.indexOf("#");let S;g!==-1&&(S=x.slice(g+1).trim(),x=x.slice(0,g).trim()),this.valid=!!(x||u&&S!==void 0)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]|%[\da-f]{2}/iu.test(x),this.fragment=S}}},959:(Q,D,t)=>{t.d(D,{a:()=>b});var C=Object.defineProperty,I=(M,$,m)=>$ in M?C(M,$,{enumerable:!0,configurable:!0,writable:!0,value:m}):M[$]=m,R=(M,$,m)=>(I(M,typeof $!="symbol"?$+"":$,m),m);const b=M=>{class $ extends M{text(){return""}}return R($,"hidden",!0),$}},313:(Q,D,t)=>{t.r(D),t.d(D,{parseBraces:()=>d});var C=t(467),I=t(891),R=t(485),b=t(169),M=t(541),$=Object.defineProperty,m=(s,n,h)=>n in s?$(s,n,{enumerable:!0,configurable:!0,writable:!0,value:h}):s[n]=h,x=(s,n,h)=>(m(s,typeof n!="symbol"?n+"":n,h),h);const a=s=>s.toString(new Set(["comment","noinclude","include"])).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");class e extends M.Token{constructor(n,h,_=I.default.getConfig(),W=[]){super(void 0,_,W),x(this,"type","parameter");const y=new M.Token(typeof n=="number"?void 0:n,_,W,{}),N=new M.Token(h,_,W);y.type="parameter-key",N.type="parameter-value",N.setAttribute("stage",2),this.append(y,N)}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const{parentNode:n,firstChild:h}=this,_=a(h);this.setAttribute("name",_),n&&n.getArgs(_,!1,!1).add(this)}}toString(n){return this.anon?this.lastChild.toString(n):super.toString(n,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(n){return this.anon||n===1?0:1}lint(n=this.getAbsoluteIndex()){var h;const _=super.lint(n),{firstChild:W}=this,y=(h=new RegExp(`https?://${C._X}${C.Qk}$`,"iu").exec(W.toString(new Set(["comment","noinclude","include"]))))==null?void 0:h[0];if(y&&new URL(y).search){const N=(0,b.D)(W,{start:n},"unescaped query string in an anonymous parameter");_.push({...N,startIndex:N.endIndex,endIndex:N.endIndex+1,startLine:N.endLine,startCol:N.endCol,endCol:N.endCol+1})}return _}print(){return super.print({sep:this.anon?"":"="})}}var i=t(34),u=t(669),l=Object.defineProperty,o=(s,n,h)=>n in s?l(s,n,{enumerable:!0,configurable:!0,writable:!0,value:h}):s[n]=h,r=(s,n,h)=>(o(s,typeof n!="symbol"?n+"":n,h),h),p=(s,n,h)=>{if(!n.has(s))throw TypeError("Cannot "+h)},c=(s,n,h)=>(p(s,n,"read from private field"),h?h.call(s):n.get(s)),g=(s,n,h)=>{if(n.has(s))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(s):n.set(s,h)},S=(s,n,h,_)=>(p(s,n,"write to private field"),_?_.call(s,h):n.set(s,h),h),E=(s,n,h)=>(p(s,n,"access private method"),h),O,B,z,Y,G,A;class v extends M.Token{constructor(n,h,_=I.default.getConfig(),W=[]){var y,N;super(void 0,_,W,{}),g(this,G),r(this,"type","template"),r(this,"modifier",""),g(this,O,void 0),g(this,B,!0),g(this,z,!1),g(this,Y,new Map);const{parserFunction:[V,X]}=_,k=(y=/^(?:\s|\0\d+c\x7F)*\0\d+s\x7F/u.exec(n))==null?void 0:y[0];if(k)this.setAttribute("modifier",k),n=n.slice(k.length);else if(n.includes(":")){const[et,...q]=n.split(":"),[at]=/^(?:\s|\0\d+c\x7F)*/u.exec((N=q[0])!=null?N:"");this.setModifier(`${et}:${at}`)&&(n=q.join(":").slice(at.length))}if(n.includes(":")||h.length===0&&!c(this,z)){const[et,...q]=n.split(":"),at=(0,C.PN)(et),nt=at.trim(),dt=X.includes(nt),J=V[nt.toLowerCase()];if(!(q.length>0&&/\s$/u.test(at))&&(dt||J)){this.setAttribute("name",J!=null?J:nt.toLowerCase()),this.type="magic-word";const st=new RegExp(`^\\s*${nt}\\s*$`,dt?"u":"iu"),it=new u.SyntaxToken(et,st,"magic-word-name",_,W,{});if(super.insertAt(it),q.length>0&&h.unshift([q.join(":")]),this.name==="invoke")for(let lt=0;lt<2;lt++){const ut=h.shift();if(!ut)break;const ot=new i.D(ut.join("="),`invoke-${lt?"function":"module"}`,_,W);super.insertAt(ot)}}}if(this.type==="template"){const et=(0,C.PN)((0,C.m9)(n)).split("#")[0].trim();if(!et||/\0\d+[eh!+-]\x7F|[<>[\]{}\n]|%[\da-f]{2}/u.test(et))throw W.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${(0,C.jq)(et)}`);const q=new i.D(n,"template-name",_,W,{});super.insertAt(q)}const j=this.isTemplate();let tt=1;for(let et=0;et<h.length;et++){const q=h[et];!j&&!(this.name==="switch"&&et>0)&&(q[0]=q.join("="),q.length=1),q.length===1&&(q.unshift(tt),tt++),this.insertAt(new e(...q,_,W))}}setModifier(n){const{parserFunction:[,,h,_]}=this.getAttribute("config"),W=(0,C.PN)(n).trim();if(n&&!W.endsWith(":"))return!1;const y=W.slice(0,-1).toLowerCase(),N=h.includes(y),V=_.includes(y);return c(this,z)&&N||!c(this,z)&&(V||n==="")||this.length>1&&(N||V||n==="")?(this.setAttribute("modifier",n),S(this,z,N),!!n):!1}isTemplate(){return this.type==="template"||this.name==="invoke"}afterBuild(){if(this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,"string")),this.isTemplate()){const n=this.type==="template",h=this.childNodes[n?0:1];if(h){const _=this.normalizeTitle(h.text(),n?10:828);S(this,O,_.fragment),S(this,B,_.valid)}}}toString(n){return`{{${this.modifier}${this.type==="magic-word"?`${this.firstChild.toString(n)}${this.length===1?"":":"}${this.childNodes.slice(1).map(h=>h.toString(n)).join("|")}`:super.toString(n,"|")}}}`}text(){const{childNodes:n,length:h,firstChild:_,modifier:W,type:y,name:N}=this;return y==="magic-word"&&N==="vardefine"?"":`{{${W}${y==="magic-word"?`${_.text()}${h===1?"":":"}${(0,C.fL)(n.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier.length+2}getGaps(n){return n<this.length-1?1:0}lint(n=this.getAbsoluteIndex()){const h=super.lint(n),{type:_,childNodes:W}=this;let y;if(this.isTemplate())c(this,O)!==void 0&&(y={start:n,...this.getRootNode().posFromIndex(n)},h.push((0,b.D)(W[_==="template"?0:1],y,"useless fragment")));else return h;c(this,B)?_==="magic-word"&&(y!=null||(y={start:n,...this.getRootNode().posFromIndex(n)}),h.push((0,b.Y)(this,y,"missing module name"))):(y!=null||(y={start:n,...this.getRootNode().posFromIndex(n)}),h.push((0,b.D)(W[1],y,"illegal module name")));const N=this.getDuplicatedArgs();return N.length>0&&(y!=null||(y={start:n,...this.getRootNode().posFromIndex(n)}),h.push(...N.flatMap(([,V])=>V).map(V=>(0,b.D)(V,y,"duplicated parameter")))),h}insertAt(n,h=this.length){return super.insertAt(n,h),n.anon?E(this,G,A).call(this,n):n.name&&this.getArgs(n.name,!1,!1).add(n),n}getAllArgs(){return this.childNodes.filter(n=>n.type==="parameter")}getAnonArgs(){return this.getAllArgs().filter(({anon:n})=>n)}getArgs(n,h=!1,_=!0){const W=String(n).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let y;return c(this,Y).has(W)?y=c(this,Y).get(W):(y=new Set(this.getAllArgs().filter(({name:N})=>W===N)),c(this,Y).set(W,y)),y}getDuplicatedArgs(){return this.isTemplate()?[...c(this,Y)].filter(([,{size:n}])=>n>1).map(([n,h])=>[n,[...h]]):[]}getPossibleValues(){const{type:n,name:h,childNodes:_,constructor:{name:W}}=this;if(n==="template")throw new Error(`${W}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let y;switch(h){case"if":case"ifexist":case"ifexpr":case"iferror":y=2;break;case"ifeq":y=3;break;default:throw new Error(`${W}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const N=_.slice(y,y+2).map(({childNodes:[,V]})=>V);for(let V=0;V<N.length;){const{length:X,0:k}=N[V].childNodes.filter(j=>j.text().trim());if(X===0)N.splice(V,1);else if(X>1||k.type!=="magic-word")V++;else try{const j=k.getPossibleValues();N.splice(V,1,...j),V+=j.length}catch(j){V++}}return N}print(){const{childNodes:n,length:h,firstChild:_,modifier:W,type:y}=this;return`<span class="wpb-${y}">{{${W}${y==="magic-word"?`${_.print()}${h===1?"":":"}${(0,C.S0)(n.slice(1),{sep:"|"})}`:(0,C.S0)(n,{sep:"|"})}}}</span>`}}O=new WeakMap,B=new WeakMap,z=new WeakMap,Y=new WeakMap,G=new WeakSet,A=function(s){const n=this.getAnonArgs(),h=typeof s!="number";for(let _=h?n.indexOf(s):s-1;_<n.length;_++){const W=n[_],{name:y}=W,N=String(_+1);y!==N&&(W.setAttribute("name",N),this.getArgs(N,!1,!1).add(W))}};var w=t(465),U=Object.defineProperty,K=(s,n,h)=>n in s?U(s,n,{enumerable:!0,configurable:!0,writable:!0,value:h}):s[n]=h,F=(s,n,h)=>(K(s,typeof n!="symbol"?n+"":n,h),h);class P extends M.Token{constructor(n,h=I.default.getConfig(),_=[]){super(void 0,h,_,{}),F(this,"type","arg");for(let W=0;W<n.length;W++)if(W===0){const y=new i.D(n[W],"arg-name",h,_,{});super.insertAt(y)}else if(W>1){const y=new w.R(n[W],h,_,{});super.insertAt(y)}else{const y=new M.Token(n[W],h,_);y.type="arg-default",y.setAttribute("stage",2),super.insertAt(y)}}get default(){var n,h;return(h=(n=this.childNodes[1])==null?void 0:n.text())!=null?h:!1}toString(n){return`{{{${super.toString(n,"|")}}}}`}text(){return`{{{${(0,C.fL)(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(n){return n<this.length-1?1:0}lint(n=this.getAbsoluteIndex()){if(!this.getAttribute("include"))return[(0,b.Y)(this,{start:n},"unexpected template argument")];const{childNodes:[h,_,...W]}=this,y=h.lint(n+3);if(_&&y.push(..._.lint(n+4+String(h).length)),W.length>0){const N={start:n,...this.getRootNode().posFromIndex(n)};y.push(...W.map(V=>{const X=(0,b.D)(V,N,"invisible content inside triple braces"),{startIndex:k,startCol:j}=X;return{...X,startIndex:k-1,startCol:j-1}}))}return y}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}}const d=(s,n=I.default.getConfig(),h=[])=>{var _,W,y,N,V,X;const k=`${(_=n.excludes)!=null&&_.includes("heading")?"":"^(\0\\d+c\x7F)*={1,6}|"}\\[\\[|\\{{2,}|-\\{(?!\\{)`,{parserFunction:[,,,j]}=n,tt=[],et={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},q=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"]]);let at=new RegExp(k,"gmu"),nt=at.exec(s),dt=s.includes("}}"),J;for(;nt||J!==void 0&&J<=s.length&&((y=(W=tt[tt.length-1])==null?void 0:W[0])!=null&&y.startsWith("="));){if(nt!=null&&nt[1]){const[,{length:pt}]=nt;nt[0]=nt[0].slice(pt),nt.index+=pt}const{0:st,index:it}=nt!=null?nt:{0:`
`,index:s.length},lt=(N=tt.pop())!=null?N:{},{0:ut,index:ot,parts:ft,findEqual:At,pos:Ct}=lt,$t=st==="="&&At;if(st==="]]"||st==="}-")J=it+2;else if(st===`
`){J=it+1;const{pos:pt,findEqual:gt}=(V=tt[tt.length-1])!=null?V:{};if(pt===void 0||gt||(0,C.PN)(s.slice(pt,ot))!==""){const xt=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(s.slice(ot,it));xt&&(s=`${s.slice(0,ot)}\0${h.length}h\x7F${s.slice(it)}`,J=ot+4+String(h.length).length,new R.D(xt[1].length,xt.slice(2),n,h))}}else if(st==="|"||$t)J=it+1,ft[ft.length-1].push(s.slice(Ct,it)),st==="|"&&ft.push([]),lt.pos=J,lt.findEqual=st==="|",tt.push(lt);else if(st.startsWith("}}")){const pt=st.slice(0,Math.min(ut.length,3)),gt=ut.length-pt.length,{length:xt}=h;J=it+pt.length,ft[ft.length-1].push(s.slice(Ct,it));let St=!1,Et="t";if(pt.length===3){const ht=ft.map(L=>L.join("=")),_t=ht.length>1&&(0,C.PN)(ht[1]).trim();new P(ht,n,h),_t&&_t.endsWith(":")&&j.includes(_t.slice(0,-1).toLowerCase())&&(Et="s")}else try{new v(ft[0][0],ft.slice(1),n,h);const ht=(0,C.PN)(ft[0][0]).trim();q.has(ht)?Et=q.get(ht):/^(?:filepath|(?:full|canonical)urle?):.|^server$/iu.test(ht)?Et="m":/^#vardefine:./iu.test(ht)&&(Et="c")}catch(ht){if(ht instanceof SyntaxError&&ht.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))J=ot+ut.length,St=!0;else throw ht}St||(s=`${s.slice(0,ot+gt)}\0${xt}${Et}\x7F${s.slice(J)}`,J=ot+gt+3+String(xt).length,gt>1?tt.push({0:ut.slice(0,gt),index:ot,pos:ot+gt,parts:[[]]}):gt===1&&s[ot-1]==="-"&&tt.push({0:"-{",index:ot-1,pos:ot+1,parts:[[]]}))}else J=it+st.length,st.startsWith("{")&&(nt.pos=J,nt.parts=[[]]),tt.push(..."0"in lt?[lt]:[],nt);dt&&(dt=s.slice(J).includes("}}"));let vt=tt[tt.length-1];!dt&&((X=vt==null?void 0:vt[0])!=null&&X.startsWith("{"))&&(tt.pop(),vt=tt[tt.length-1]),at=new RegExp(k+(vt?`|${et[vt[0][0]]}${vt.findEqual?"|=":""}`:""),"gmu"),at.lastIndex=J,nt=at.exec(s)}return s}},551:(Q,D,t)=>{t.r(D),t.d(D,{parseCommentAndExt:()=>p});var C=t(891),I=t(541),R=Object.defineProperty,b=(c,g,S)=>g in c?R(c,g,{enumerable:!0,configurable:!0,writable:!0,value:S}):c[g]=S,M=(c,g,S)=>(b(c,typeof g!="symbol"?g+"":g,S),S);class $ extends I.Token{constructor(){super(...arguments),M(this,"type","onlyinclude")}toString(g){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}isPlain(){return!0}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}}var m=t(826),x=t(959),a=t(415),e=Object.defineProperty,i=(c,g,S)=>g in c?e(c,g,{enumerable:!0,configurable:!0,writable:!0,value:S}):c[g]=S,u=(c,g,S)=>(i(c,typeof g!="symbol"?g+"":g,S),S);class l extends(0,x.a)(a.m){constructor(g,S="",E,O,B=C.default.getConfig(),z=[]){super(g,S,E!=null?E:"",E===void 0||O!=null?O:"",B,z),u(this,"type","include")}}var o=t(895),r=t(976);const p=(c,g=C.default.getConfig(),S=[],E=!1)=>{const O="<onlyinclude>",B="</onlyinclude>",{length:z}=O;if(E){let w=c.indexOf(O),U=c.indexOf(B,w+z);if(w!==-1&&U!==-1){let K="";for(;w!==-1&&U!==-1;){const F=`\0${S.length}e\x7F`;new $(c.slice(w+z,U),g,S),w>0?(new m.O(c.slice(0,w),g,S),K+=`\0${S.length-1}c\x7F${F}`):K+=F,c=c.slice(U+z+1),w=c.indexOf(O),U=c.indexOf(B,w+z)}return`${K}${c}`}}const Y=g.ext.join("|"),G=E?"includeonly":"(?:no|only)include",A=E?"noinclude":"includeonly",v=new RegExp(`<!--.*?(?:-->|$)|<${G}(?:\\s[^>]*?)?>|</${G}\\s*>|<(${Y})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${A})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return c.replace(v,(w,U,K,F,P,d,s,n,h)=>{const _=`\0${S.length}${U?"e":"c"}\x7F`;if(U)new o.$(U,K,F,P,g,S);else if(w.startsWith("<!--")){const W=w.endsWith("-->");new r.T(w.slice(4,W?-3:void 0),W,g,S)}else d?new l(d,s,n,h,g,S):new m.O(w,g,S);return _})}},295:(Q,D,t)=>{t.r(D),t.d(D,{parseConverter:()=>Y});var C=t(891),I=t(467),R=t(541),b=t(169),M=t(34),$=Object.defineProperty,m=(G,A,v)=>A in G?$(G,A,{enumerable:!0,configurable:!0,writable:!0,value:v}):G[A]=v,x=(G,A,v)=>(m(G,typeof A!="symbol"?A+"":A,v),v),a=(G,A,v)=>{if(!A.has(G))throw TypeError("Cannot "+v)},e=(G,A,v)=>(a(G,A,"read from private field"),v?v.call(G):A.get(G)),i=(G,A,v)=>{if(A.has(G))throw TypeError("Cannot add the same private member more than once");A instanceof WeakSet?A.add(G):A.set(G,v)},u=(G,A,v,w)=>(a(G,A,"write to private field"),w?w.call(G,v):A.set(G,v),v),l;const o=new Set(["A","T","R","D","-","H","N"]);class r extends R.Token{constructor(A,v=C.default.getConfig(),w=[]){super(void 0,v,w,{}),x(this,"type","converter-flags"),i(this,l,void 0),this.append(...A.map(U=>new M.D(U,"converter-flag",v,w)))}afterBuild(){u(this,l,this.childNodes.map(A=>A.text().trim()))}toString(A){return super.toString(A,";")}text(){return super.text(";")}getGaps(A){return A<this.length-1?1:0}getUnknownFlags(){return new Set(e(this,l).filter(A=>/\{{3}[^{}]+\}{3}/u.test(A)))}getVariantFlags(){const A=new Set(this.getAttribute("config").variants);return new Set(e(this,l).filter(v=>A.has(v)))}lint(A=this.getAbsoluteIndex()){const v=this.getVariantFlags(),w=this.getUnknownFlags(),U=new Set(e(this,l).filter(h=>o.has(h))),{length:K}=e(this,l).filter(h=>!h),F=e(this,l).length-w.size-K,P=super.lint(A);if(v.size===F||U.size===F)return P;const d={start:A,...this.getRootNode().posFromIndex(A)},{childNodes:s,length:n}=this;for(let h=0;h<n;h++){const _=s[h],W=_.text().trim();if(W&&!v.has(W)&&!w.has(W)&&(v.size>0||!U.has(W))){const y=(0,b.D)(_,d,"invalid conversion flag");P.push(y)}}return P}print(){return super.print({sep:";"})}}l=new WeakMap;var p=Object.defineProperty,c=(G,A,v)=>A in G?p(G,A,{enumerable:!0,configurable:!0,writable:!0,value:v}):G[A]=v,g=(G,A,v)=>(c(G,typeof A!="symbol"?A+"":A,v),v);class S extends R.Token{constructor(A,v=!0,w=C.default.getConfig(),U=[]){if(super(void 0,w,U),g(this,"type","converter-rule"),v){const K=A.indexOf(":"),F=A.slice(0,K).indexOf("=>"),P=F===-1?A.slice(0,K):A.slice(F+2,K);w.variants.includes(P.trim())?(super.insertAt(new M.D(P,"converter-rule-variant",w,U)),super.insertAt(new M.D(A.slice(K+1),"converter-rule-to",w,U)),F!==-1&&super.insertAt(new M.D(A.slice(0,F),"converter-rule-from",w,U),0)):super.insertAt(new M.D(A,"converter-rule-noconvert",w,U))}else super.insertAt(new M.D(A,"converter-rule-noconvert",w,U))}toString(A){const{childNodes:v}=this;if(v.length===3){const[w,U,K]=v;return`${w.toString(A)}=>${U.toString(A)}:${K.toString(A)}`}return super.toString(A,":")}text(){const{childNodes:A}=this;if(A.length===3){const[v,w,U]=A;return`${v.text()}=>${w.text()}:${U.text()}`}return super.text(":")}getGaps(A){return A===0&&this.length===3?2:1}print(){const{childNodes:A}=this;if(A.length===3){const[v,w,U]=A;return`<span class="wpb-converter-rule">${v.print()}=>${w.print()}:${U.print()}</span>`}return super.print({sep:":"})}}var E=Object.defineProperty,O=(G,A,v)=>A in G?E(G,A,{enumerable:!0,configurable:!0,writable:!0,value:v}):G[A]=v,B=(G,A,v)=>(O(G,typeof A!="symbol"?A+"":A,v),v);class z extends R.Token{constructor(A,v,w=C.default.getConfig(),U=[]){super(void 0,w,U),B(this,"type","converter"),this.append(new r(A,w,U));const[K]=v,F=K.includes(":"),P=new S(K,F,w,U);F&&P.length===1?this.insertAt(new S(v.join(";"),!1,w,U)):this.append(P,...v.slice(1).map(d=>new S(d,!0,w,U)))}toString(A){const{childNodes:[v,...w]}=this;return`-{${v.toString()}${v.length>0?"|":""}${w.map(U=>U.toString()).join(";")}}-`}text(){const{childNodes:[A,...v]}=this;return`-{${A.text()}|${(0,I.fL)(v,";")}}-`}getPadding(){return 2}getGaps(A){return A||this.firstChild.length>0?1:0}print(){const{childNodes:[A,...v]}=this;return`<span class="wpb-converter">-{${A.print()}${A.length>0?"|":""}${(0,I.S0)(v,{sep:";"})}}-</span>`}}const Y=(G,A=C.default.getConfig(),v=[])=>{const w=/-\{/gu,U=/-\{|\}-/gu,K=[];let F=w,P=F.exec(G);for(;P;){const{0:d,index:s}=P;if(d==="}-"){const n=K.pop(),{length:h}=v,_=G.slice(n.index+2,s),W=_.indexOf("|"),[y,N]=W===-1?[[],_]:[_.slice(0,W).split(";"),_.slice(W+1)],V=N.replace(/(&[#a-z\d]+);/giu,"$1"),X=`(?:${A.variants.join("|")})`,k=V.split(new RegExp(`;(?=\\s*(?:${X}|[^;]*?=>\\s*${X})\\s*:)`,"u")).map(j=>j.replace(/\x01/gu,";"));new z(y,k,A,v),G=`${G.slice(0,n.index)}\0${h}v\x7F${G.slice(s+2)}`,K.length===0&&(F=w),F.lastIndex=n.index+3+String(h).length}else K.push(P),F=U,F.lastIndex=s+2;P=F.exec(G)}return G}},418:(Q,D,t)=>{t.r(D),t.d(D,{parseExternalLinks:()=>b});var C=t(467),I=t(891),R=t(944);const b=(M,$=I.default.getConfig(),m=[])=>{const x=new RegExp(`\\[((?:(?:${$.protocol}|//)${C._X}|\0\\d+m\x7F)${C.Qk})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return M.replace(x,(a,e,i,u)=>{const{length:l}=m,o=/&[lg]t;/u.exec(e);return o&&(e=e.slice(0,o.index),i="",u=`${e.slice(o.index)}${i}${u}`),new R.a(e,i,u,$,m),`\0${l}w\x7F`})}},362:(Q,D,t)=>{t.r(D),t.d(D,{parseHrAndDoubleUnderscore:()=>l});var C=t(891),I=t(439),R=Object.defineProperty,b=(o,r,p)=>r in o?R(o,r,{enumerable:!0,configurable:!0,writable:!0,value:p}):o[r]=p,M=(o,r,p)=>(b(o,typeof r!="symbol"?r+"":r,p),p);class $ extends I.h{constructor(){super(...arguments),M(this,"type","hr")}}var m=t(959),x=Object.defineProperty,a=(o,r,p)=>r in o?x(o,r,{enumerable:!0,configurable:!0,writable:!0,value:p}):o[r]=p,e=(o,r,p)=>(a(o,typeof r!="symbol"?r+"":r,p),p);class i extends(0,m.a)(I.h){constructor(r,p,c=C.default.getConfig(),g=[]){super(r,c,g),e(this,"type","double-underscore")}getPadding(){return 2}toString(r){return`__${this.firstChild.data}__`}print(){return super.print({pre:"__",post:"__"})}}var u=t(485);const l=({firstChild:{data:o},type:r,name:p},c=C.default.getConfig(),g=[])=>{const{doubleUnderscore:S}=c,E=new Set(S[0]),O=new Set(S[1]);return r!=="root"&&(r!=="ext-inner"||p!=="poem")&&(o=`\0${o}`),o=o.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(B,z,Y)=>(new $(Y,c,g),`${z}\0${g.length-1}r\x7F`)).replace(new RegExp(`__(${S.flat().join("|")})__`,"giu"),(B,z)=>{const Y=O.has(z);return Y||E.has(z.toLowerCase())?(new i(z,Y,c,g),`\0${g.length-1}u\x7F`):B}).replace(/^((?:\0\d+c\x7F)*)(={1,6})(.+)\2((?:[^\S\n]|\0\d+c\x7F)*)$/gmu,(B,z,Y,G,A)=>{const v=`${z}\0${g.length}h\x7F`;return new u.D(Y.length,[G,A],c,g),v}),r==="root"||r==="ext-inner"&&p==="poem"?o:o.slice(1)}},980:(Q,D,t)=>{t.r(D),t.d(D,{parseHtml:()=>g});var C=t(891),I=t(83),R=t(169),b=t(467),M=t(541),$=Object.defineProperty,m=(S,E,O)=>E in S?$(S,E,{enumerable:!0,configurable:!0,writable:!0,value:O}):S[E]=O,x=(S,E,O)=>(m(S,typeof E!="symbol"?E+"":E,O),O),a=(S,E,O)=>{if(!E.has(S))throw TypeError("Cannot "+O)},e=(S,E,O)=>(a(S,E,"read from private field"),O?O.call(S):E.get(S)),i=(S,E,O)=>{if(E.has(S))throw TypeError("Cannot add the same private member more than once");E instanceof WeakSet?E.add(S):E.set(S,O)},u=(S,E,O,B)=>(a(S,E,"write to private field"),B?B.call(S,O):E.set(S,O),O),l,o,r;const p=new Set(["if","ifeq","ifexpr","ifexist","iferror","switch"]);class c extends M.Token{constructor(E,O,B,z,Y=C.default.getConfig(),G=[]){super(void 0,Y,G),x(this,"type","html"),i(this,l,void 0),i(this,o,void 0),i(this,r,void 0),this.insertAt(O),this.setAttribute("name",E.toLowerCase()),u(this,l,B),u(this,o,z),u(this,r,E)}get closing(){return e(this,l)}toString(E){return`<${e(this,l)?"/":""}${e(this,r)}${super.toString()}${e(this,o)?"/":""}>`}text(){return`<${e(this,l)?"/":""}${e(this,r)}${e(this,l)?"":super.text()}${e(this,o)?"/":""}>`}getPadding(){return e(this,r).length+(e(this,l)?2:1)}lint(E=this.getAbsoluteIndex()){const O=super.lint(E);let B;this.name==="h1"&&!e(this,l)&&(B=(0,R.Y)(this,{start:E},"<h1>"),O.push(B)),this.closest("table-attrs")&&(B!=null||(B=(0,R.Y)(this,{start:E},"")),O.push({...B,message:C.default.msg("HTML tag in table attributes")}));try{this.findMatchingTag()}catch(z){if(z instanceof SyntaxError){const{message:Y}=z;B!=null||(B=(0,R.Y)(this,{start:E},""));const[G]=Y.split(":"),A={...B,message:C.default.msg(G)};if(G==="unclosed tag")A.severity="warning";else if(G==="unmatched closing tag"){const v=this.closest("magic-word");v&&p.has(v.name)&&(A.severity="warning")}O.push(A)}}return O}findMatchingTag(){const{html:E}=this.getAttribute("config"),{name:O,parentNode:B}=this,z=(0,b.jq)(String(this));if(e(this,l)&&(e(this,o)||E[2].includes(O)))throw new SyntaxError(`tag that is both closing and self-closing: ${z}`);if(E[2].includes(O)||e(this,o)&&E[1].includes(O))return this;if(e(this,o)&&E[0].includes(O))throw new SyntaxError(`invalid self-closing tag: ${z}`);if(!B)return;const{childNodes:Y}=B,G=Y.indexOf(this),A=e(this,l)?Y.slice(0,G).reverse().filter(({type:w,name:U})=>w==="html"&&U===O):Y.slice(G+1).filter(({type:w,name:U})=>w==="html"&&U===O);let v=e(this,l)?-1:1;for(const w of A)if(w.closing?v--:v++,v===0)return w;throw new SyntaxError(`${e(this,l)?"unmatched closing":"unclosed"} tag: ${z}`)}print(){return super.print({pre:`&lt;${e(this,l)?"/":""}${e(this,r)}`,post:`${e(this,o)?"/":""}&gt;`})}}l=new WeakMap,o=new WeakMap,r=new WeakMap;const g=(S,E=C.default.getConfig(),O=[])=>{const B=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,z=new Set(E.html.flat()),Y=S.split("<");let G=Y.shift();for(const A of Y){const v=B.exec(A),w=v==null?void 0:v[2],U=w==null?void 0:w.toLowerCase();if(!v||!z.has(U)){G+=`<${A}`;continue}const[,K,,F="",P,d]=v,s=new I.x(F,"html-attrs",U,E,O),n=s.getAttr("itemprop");if(U==="meta"&&(n===void 0||s.getAttr("content")===void 0)||U==="link"&&(n===void 0||s.getAttr("href")===void 0)){G+=`<${A}`,O.pop();continue}G+=`\0${O.length}x\x7F${d}`,new c(w,s,K==="/",P==="/>",E,O)}return G}},106:(Q,D,t)=>{t.r(D),t.d(D,{parseLinks:()=>x});var C=t(891),I=t(524),R=t(533),b=Object.defineProperty,M=(a,e,i)=>e in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,$=(a,e,i)=>(M(a,typeof e!="symbol"?e+"":e,i),i);class m extends I.h{constructor(){super(...arguments),$(this,"type","category")}}const x=(a,e=C.default.getConfig(),i=[])=>{const{parseQuotes:u}=t(704),l=e.inExt?/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su:/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]])?)?\]\](.*)$/su,o=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,r=new RegExp(`^\\s*(?:${e.protocol})`,"iu"),p=a.split("[[");let c=p.shift();for(let g=0;g<p.length;g++){let S=!1,E,O,B,z;const Y=p[g],G=l.exec(Y);if(G)[,E,O,B,z]=G,z.startsWith("]")&&(B!=null&&B.includes("["))&&(B+="]",z=z.slice(1));else{const F=o.exec(Y);F&&(S=!0,[,E,O,B]=F)}if(E===void 0||r.test(E)||/\0\d+[exhbru]\x7F/u.test(E)){c+=`[[${Y}`;continue}const A=E.trim().startsWith(":");if(A&&S){c+=`[[${Y}`;continue}const v=C.default.normalizeTitle(E,0,!1,e,!0,!0,!0),{ns:w,valid:U}=v;if(U){if(S){if(w!==6){c+=`[[${Y}`;continue}let F=!1;for(g++;g<p.length;g++){const P=p[g],d=P.split("]]");if(d.length>2){F=!0,B+=`[[${d[0]}]]${d[1]}`,z=d.slice(2).join("]]");break}else if(d.length===2)B+=`[[${d[0]}]]${d[1]}`;else{B+=`[[${P}`;break}}if(B=x(B,e,i),!F){c+=`[[${E}${O}${B}`;continue}}}else{c+=`[[${Y}`;continue}B&&(B=u(B,e,i)),c+=`\0${i.length}l\x7F${z}`;let K=I.h;A||(w===6?K=R.q:w===14&&(K=m)),B===void 0&&O&&(B=""),new K(E,B,e,i,O)}return c}},904:(Q,D,t)=>{t.r(D),t.d(D,{parseList:()=>x});var C=t(891),I=t(933),R=Object.defineProperty,b=(a,e,i)=>e in a?R(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,M=(a,e,i)=>(b(a,typeof e!="symbol"?e+"":e,i),i);class $ extends I.T{constructor(){super(...arguments),M(this,"type","list")}}var m=t(461);const x=(a,e=C.default.getConfig(),i=[])=>{const u=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(a);if(!u)return a;const[l,o,r]=u;let p=`${o}\0${i.length}d\x7F${a.slice(l.length)}`,c=r.split(";").length-1;if(new $(r,e,i),!c)return p;let g=/:+|-\{/gu,S=g.exec(p),E=0;for(;S&&c;){const{0:O,index:B}=S;if(O.startsWith(":")){if(O.length>=c)return new m.k(":".repeat(c),e,i),`${p.slice(0,B)}\0${i.length-1}d\x7F${p.slice(B+c)}`;p=`${p.slice(0,B)}\0${i.length}d\x7F${p.slice(g.lastIndex)}`,c-=O.length,g.lastIndex=B+4+String(i.length).length,new m.k(O,e,i)}else if(O==="-{"){if(!E){const{lastIndex:z}=g;g=/-\{|\}-/gu,g.lastIndex=z}E++}else if(E--,!E){const{lastIndex:z}=g;g=/:+|-\{/gu,g.lastIndex=z}S=g.exec(p)}return p}},311:(Q,D,t)=>{t.r(D),t.d(D,{parseMagicLinks:()=>b});var C=t(467),I=t(891),R=t(686);const b=(M,$=I.default.getConfig(),m=[])=>{const x=new RegExp(`(^|[^\\p{L}\\d_])(?:${$.protocol})(${C._X}${C.Qk})`,"giu");return M.replace(x,(a,e,i)=>{let u="",l=e?a.slice(1):a;const o=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(l);o&&(u=l.slice(o.index),l=l.slice(0,o.index));const r=new RegExp(`[,;.:!?${l.includes("(")?"":")"}]+$`,"u"),p=r.exec(l);if(p){let c=0;p[0].startsWith(";")&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(l.slice(0,p.index))&&(c=1),u=`${l.slice(p.index+c)}${u}`,l=l.slice(0,p.index+c)}return u.length>=i.length?a:(new R.k(l,!1,$,m),`${e}\0${m.length-1}w\x7F${u}`)})}},704:(Q,D,t)=>{t.r(D),t.d(D,{parseQuotes:()=>x});var C=t(891),I=t(169),R=t(439),b=Object.defineProperty,M=(a,e,i)=>e in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,$=(a,e,i)=>(M(a,typeof e!="symbol"?e+"":e,i),i);class m extends R.h{constructor(){super(...arguments),$(this,"type","quote")}lint(e=this.getAbsoluteIndex()){const{previousSibling:i,nextSibling:u}=this,l=C.default.msg('lonely "$1"',"'"),o=[];let r;if((i==null?void 0:i.type)==="text"&&i.data.endsWith("'")){r=(0,I.Y)(this,{start:e},l);const{startIndex:p,startLine:c,startCol:g}=r,[,{length:S}]=i.data.match(/(?:^|[^'])('+)$/u),E=e-S;o.push({...r,startIndex:E,endIndex:p,startCol:g-S,endLine:c,endCol:g})}if((u==null?void 0:u.type)==="text"&&u.data.startsWith("'")){r!=null||(r=(0,I.Y)(this,{start:e},l));const{endIndex:p,endLine:c,endCol:g}=r,[{length:S}]=u.data.match(/^'+/u),E=p+S;o.push({...r,startIndex:p,endIndex:E,startLine:c,startCol:g,endCol:g+S})}return o}}const x=(a,e=C.default.getConfig(),i=[])=>{var u;const l=a.split(/('{2,})/u),{length:o}=l;if(o===1)return a;let r=0,p=0,c,g,S;for(let E=1;E<o;E+=2){const{length:O}=l[E];switch(O){case 2:p++;break;case 4:l[E-1]+="'",l[E]="'''";case 3:if(r++,c!==void 0)break;l[E-1].endsWith(" ")?g===void 0&&S===void 0&&(S=E):l[E-1].slice(-2,-1)===" "?c=E:g!=null||(g=E);break;default:l[E-1]+="'".repeat(O-5),l[E]="'''''",p++,r++}}if(p%2===1&&r%2===1){const E=(u=c!=null?c:g)!=null?u:S;E!==void 0&&(l[E]="''",l[E-1]+="'")}for(let E=1;E<o;E+=2)new m(l[E],e,i),l[E]=`\0${i.length-1}q\x7F`;return l.join("")}},508:(Q,D,t)=>{t.r(D),t.d(D,{parseTable:()=>F});var C=t(891),I=t(541),R=t(169),b=t(669),M=t(83);class $ extends I.Token{constructor(d,s,n,h=C.default.getConfig(),_=[],W={}){super(void 0,h,_,W),this.append(new b.SyntaxToken(s,d,"table-syntax",h,_,{}),new M.x(n,"table-attrs",this.type,h,_))}}class m extends ${lint(d=this.getAbsoluteIndex()){const s=super.lint(d),n=this.childNodes.find(({type:y})=>y==="table-inter");if(!n)return s;const h=n.childNodes.find(y=>y.text().trim()),_=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!h||_.test(String(h))||h.type==="arg"&&_.test(h.default||""))return s;if(h.type==="magic-word")try{if(h.getPossibleValues().every(y=>_.test(y.text())))return s}catch(y){}const W=(0,R.D)(n,{start:d},"content to be moved out from the table");return s.push({...W,startIndex:W.startIndex+1,startLine:W.startLine+1,startCol:0}),s}text(){const d=super.text();return this.type==="tr"&&!d.trim().includes(`
`)?"":d}}var x=Object.defineProperty,a=(P,d,s)=>d in P?x(P,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):P[d]=s,e=(P,d,s)=>(a(P,typeof d!="symbol"?d+"":d,s),s);const i=/^\n[^\S\n]*(?:\|\}|\{\{\s*!\s*\}\}\}|\{\{\s*!\)\s*\}\})$/u;class u extends m{constructor(d,s,n=C.default.getConfig(),h=[]){super(/^(?:\{\||\{\{\{\s*!\s*\}\}|\{\{\s*\(!\s*\}\})$/u,d,s,n,h,{}),e(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(d=this.getAbsoluteIndex()){const s=super.lint(d);if(!this.closed){const{firstChild:n}=this,h=(0,R.D)(n,{start:d},"unclosed table");s.push(h)}return s}close(d=`
|}`,s=!1){const n=this.getAttribute("config"),h=this.getAttribute("accum"),_=[d],W=super.insertAt(C.default.run(()=>new b.SyntaxToken(void 0,i,"table-syntax",n,h,{})));this.lastChild.replaceChildren(..._)}}var l=Object.defineProperty,o=(P,d,s)=>d in P?l(P,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):P[d]=s,r=(P,d,s)=>(o(P,typeof d!="symbol"?d+"":d,s),s);class p extends m{constructor(d,s,n=C.default.getConfig(),h=[]){super(/^\n[^\S\n]*(?:\|-+|\{\{\s*!\s*\}\}-+|\{\{\s*!-\s*\}\}-*)$/u,d,s,n,h,{}),r(this,"type","tr")}}var c=Object.defineProperty,g=(P,d,s)=>d in P?c(P,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):P[d]=s,S=(P,d,s)=>(g(P,typeof d!="symbol"?d+"":d,s),s),E=(P,d,s)=>{if(!d.has(P))throw TypeError("Cannot "+s)},O=(P,d,s)=>(E(P,d,"read from private field"),s?s.call(P):d.get(P)),B=(P,d,s)=>{if(d.has(P))throw TypeError("Cannot add the same private member more than once");d instanceof WeakSet?d.add(P):d.set(P,s)},z=(P,d,s,n)=>(E(P,d,"write to private field"),n?n.call(P,s):d.set(P,s),s),Y=(P,d,s,n)=>({set _(h){z(P,d,h,s)},get _(){return O(P,d,n)}}),G=(P,d,s)=>(E(P,d,"access private method"),s),A,v,w;class U extends ${constructor(d,s,n=C.default.getConfig(),h=[]){var _;let W=s==null?void 0:s.match(/\||\0\d+!\x7F/u),y=W?s.slice(0,W.index):"";/\[\[|-\{/u.test(y)&&(W=void 0,y=""),super(/^(?:\n[^\S\n]*(?:[|!]|\|\+|\{\{\s*!\s*\}\}\+?)|(?:\||\{\{\s*!\s*\}\}){2}|!!|\{\{\s*!!\s*\}\})$/u,d,y,n,h),B(this,v),S(this,"type","td"),B(this,A,""),W&&([Y(this,A)._]=W);const N=new I.Token(s==null?void 0:s.slice(((_=W==null?void 0:W.index)!=null?_:NaN)+O(this,A).length),n,h);N.type="td-inner",N.setAttribute("stage",4),this.insertAt(N)}get subtype(){return G(this,v,w).call(this).subtype}afterBuild(){O(this,A).includes("\0")&&z(this,A,this.buildFromStr(O(this,A),"string"))}toString(d){const{childNodes:[s,n,h]}=this;return`${s.toString()}${n.toString()}${O(this,A)}${h.toString()}`}text(){const{childNodes:[d,s,n]}=this;return`${d.text()}${s.text()}${O(this,A)}${n.text()}`}getGaps(d){return d===1?O(this,A).length:0}lint(d=this.getAbsoluteIndex()){const s=super.lint(d);d+=this.getRelativeIndex(this.length-1);for(const n of this.lastChild.childNodes)n.type==="text"&&n.data.includes("|")&&s.push((0,R.D)(n,{start:d},'additional "|" in a table cell',"warning"));return s}print(){const{childNodes:[d,s,n]}=this;return`<span class="wpb-td">${d.print()}${s.print()}${O(this,A)}${n.print()}</span>`}}A=new WeakMap,v=new WeakSet,w=function(){const P=this.firstChild.text(),d=P[P.length-1];let s="td";return d==="!"?s="th":d==="+"&&(s="caption"),{subtype:s}};var K=t(461);const F=({firstChild:{data:P},type:d,name:s},n=C.default.getConfig(),h=[])=>{const _=[],W=P.split(`
`);let y=d==="root"||d==="parameter-value"||d==="ext-inner"&&s==="poem"?"":`
${W.shift()}`;const N=(V,X)=>{if(!X){y+=V;return}const{lastChild:k}=X;if(k.constructor===I.Token)k.setText(String(k)+V);else{const j=new I.Token(V,n,h);j.type="table-inter",j.setAttribute("stage",3),X.insertAt(j)}};for(const V of W){let X=_.pop();const[k]=/^(?:\s|\0\d+c\x7F)*/u.exec(V),j=V.slice(k.length),tt=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{(?:\0\d+c\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(j);if(tt){for(;X&&X.type!=="td";)X=_.pop();const[,J,st,it,lt]=tt;J&&new K.k(J,n,h),N(`
${k}${J&&`\0${h.length-1}d\x7F`}${st}\0${h.length}b\x7F`,X),_.push(...X?[X]:[],new u(it,lt,n,h));continue}else if(!X){y+=`
${V}`;continue}const et=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(j);if(!et){N(`
${V}`,X),_.push(X);continue}const[,q,at,nt,dt]=et;if(q){for(;X.type!=="table";)X=_.pop();X.close(`
${k}${q}`,!0),N(dt,_[_.length-1])}else if(at){X.type==="td"&&(X=_.pop()),X.type==="tr"&&(X=_.pop());const J=new p(`
${k}${at}`,dt,n,h);_.push(X,J),X.insertAt(J)}else{X.type==="td"&&(X=_.pop());const J=nt==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let st=J.exec(dt),it=0,lt=`
${k}${nt}`;for(;st;)X.insertAt(new U(lt,dt.slice(it,st.index),n,h)),{lastIndex:it}=J,[lt]=st,st=J.exec(dt);const ut=new U(lt,dt.slice(it),n,h);_.push(X,ut),X.insertAt(ut)}}return y.slice(1)}},34:(Q,D,t)=>{t.d(D,{D:()=>R});var C=t(891),I=t(541);class R extends I.Token{constructor(M,$,m=C.default.getConfig(),x=[],a){super(M,m,x,a),this.type=$}}},83:(Q,D,t)=>{t.d(D,{x:()=>G});var C=t(169),I=t(467),R=t(891),b=t(541),M=t(34),$=(A,v,w)=>{if(!v.has(A))throw TypeError("Cannot "+w)},m=(A,v,w)=>($(A,v,"read from private field"),w?w.call(A):v.get(A)),x=(A,v,w)=>{if(v.has(A))throw TypeError("Cannot add the same private member more than once");v instanceof WeakSet?v.add(A):v.set(A,w)},a=(A,v,w,U)=>($(A,v,"write to private field"),U?U.call(A,w):v.set(A,w),w),e,i,u;const l=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),o=new Set(["align"]),r=new Set(["cite"]),p=new Set(["cite","datetime"]),c=new Set(["width"]),g=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),S=new Set(["type"]),E={div:o,h1:o,h2:o,h3:o,h4:o,h5:o,h6:o,blockquote:r,q:r,p:o,br:new Set(["clear"]),pre:c,ins:p,del:p,ul:S,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:o,tr:new Set(["bgcolor","align","valign"]),td:g,th:g,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:c,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline","align"])},O=new Set,B={nowiki:O,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:O,inputbox:O,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:O,poll:new Set(["id","show-results-before-voting"]),sm2:S,flashmp3:S,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},z=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class Y extends b.Token{constructor(v,w,U,K="",F,P=[],d=R.default.getConfig(),s=[]){const n=new M.D(U,"attr-key",d,s,{});let h;if(U==="title"||w==="img"&&U==="alt")h=new b.Token(F,d,s,{}),h.type="attr-value",h.setAttribute("stage",R.default.MAX_STAGE-1);else if(w==="gallery"&&U==="caption"){const _={...d,excludes:[...d.excludes,"quote","extLink","magicLink","list"]};h=new b.Token(F,_,s,{}),h.type="attr-value",h.setAttribute("stage",5)}else if(w==="choose"&&(U==="before"||U==="after")){const _={...d,excludes:[...d.excludes,"heading","html","table","hr","list"]};h=new b.Token(F,_,s,{}),h.type="attr-value",h.setAttribute("stage",1)}else h=new M.D(F,"attr-value",d,s,{});super(void 0,d,s),x(this,e,void 0),x(this,i,void 0),x(this,u,void 0),this.type=v,this.append(n,h),a(this,e,K),a(this,i,P),a(this,u,w),this.setAttribute("name",(0,I.PN)(U).trim().toLowerCase())}get balanced(){return!m(this,e)||m(this,i)[0]===m(this,i)[1]}get tag(){return m(this,u)}get value(){return this.getValue()}afterBuild(){m(this,e).includes("\0")&&a(this,e,this.buildFromStr(m(this,e),"string")),this.parentNode&&a(this,u,this.parentNode.name),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(v){const[w="",U=""]=m(this,i);return m(this,e)?`${super.toString(v,`${m(this,e)}${w}`)}${U}`:this.firstChild.toString(v)}text(){return m(this,e)?`${super.text(`${m(this,e).trim()}"`)}"`:this.firstChild.text()}getGaps(v){var w,U;return m(this,e)&&v===0?m(this,e).length+((U=(w=m(this,i)[0])==null?void 0:w.length)!=null?U:0):0}lint(v=this.getAbsoluteIndex()){var w;const U=super.lint(v),{balanced:K,firstChild:F,lastChild:P,type:d,name:s,value:n}=this,h=m(this,u);let _;if(!K){const W=this.getRootNode();_={start:v,...W.posFromIndex(v)};const y=(0,C.D)(P,_,"unclosed quotes","warning"),N=y.startIndex-1;U.push({...y,startIndex:N,startCol:y.startCol-1})}return B[h]&&!B[h].has(s)||(d!=="ext-attr"&&!/\{\{[^{]+\}\}/u.test(s)||h in E)&&!((w=E[h])!=null&&w.has(s))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(s)&&(h==="meta"||h==="link"||!l.has(s))?(_!=null||(_={start:v,...this.getRootNode().posFromIndex(v)}),U.push((0,C.D)(F,_,"illegal attribute name"))):s==="style"&&typeof n=="string"&&z.test(n)?(_!=null||(_={start:v,...this.getRootNode().posFromIndex(v)}),U.push((0,C.D)(P,_,"insecure style"))):s==="tabindex"&&typeof n=="string"&&n.trim()!=="0"&&(_!=null||(_={start:v,...this.getRootNode().posFromIndex(v)}),U.push((0,C.D)(P,_,"nonzero tabindex"))),U}getValue(){if(m(this,e)){const v=this.lastChild.text();return m(this,i)[1]?v:v.trim()}return this.type==="ext-attr"||""}print(){const[v="",w=""]=m(this,i);return m(this,e)?super.print({sep:`${m(this,e)}${v}`,post:w}):super.print()}}e=new WeakMap,i=new WeakMap,u=new WeakMap;class G extends b.Token{constructor(v,w,U,K=R.default.getConfig(),F=[]){if(super(void 0,K,F,{}),this.type=w,this.setAttribute("name",U),v){const P=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let d="",s=P.exec(v),n=0;const h=()=>{d&&(super.insertAt(new M.D(d,`${w.slice(0,-1)}-dirty`,K,F)),d="")};for(;s;){const{index:_,0:W,1:y,2:N,3:V,4:X,5:k,6:j}=s;if(d+=v.slice(n,_),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test((0,I.PN)(y).trim())){const tt=X!=null?X:j,et=[V,k],q=new Y(w.slice(0,-1),U,y,N,tt,et,K,F);h(),super.insertAt(q)}else d+=W;({lastIndex:n}=P),s=P.exec(v)}d+=v.slice(n),h()}}afterBuild(){if(this.type==="table-attrs"){const{parentNode:v}=this;this.setAttribute("name",(v==null?void 0:v.type)==="td"&&v.subtype==="caption"?"caption":v==null?void 0:v.type)}}getAttrTokens(v){return this.childNodes.filter(w=>w instanceof Y&&w.name===v.toLowerCase().trim())}getAttrToken(v){const w=this.getAttrTokens(v);return w[w.length-1]}getAttr(v){var w;return(w=this.getAttrToken(v))==null?void 0:w.getValue()}lint(v=this.getAbsoluteIndex()){const w=super.lint(v),{parentNode:U,length:K,childNodes:F}=this,P=new Map,d=new Set;let s;(U==null?void 0:U.type)==="html"&&U.closing&&this.text().trim()&&(s={start:v,...this.getRootNode().posFromIndex(v)},w.push((0,C.Y)(this,s,"attributes of a closing tag")));for(let n=0;n<K;n++){const h=F[n];if(h instanceof M.D&&h.text().trim())s!=null||(s={start:v,...this.getRootNode().posFromIndex(v)}),w.push((0,C.D)(h,s,"containing invalid attribute"));else if(h instanceof Y){const{name:_}=h;P.has(_)?(d.add(_),P.get(_).push(h)):_!=="class"&&P.set(_,[h])}}if(d.size>0){s!=null||(s={start:v,...this.getRootNode().posFromIndex(v)});for(const n of d)w.push(...P.get(n).map(h=>(0,C.D)(h,s,R.default.msg("duplicated $1 attribute",n))))}return w}print(){return String(this)?`<span class="wpb-${this.type}">${this.childNodes.map(v=>v.print(v instanceof M.D&&v.text().trim()?{class:"hidden"}:void 0)).join("")}</span>`:""}}},944:(Q,D,t)=>{t.d(D,{a:()=>u});var C=t(891),I=t(541),R=t(686),b=Object.defineProperty,M=(l,o,r)=>o in l?b(l,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):l[o]=r,$=(l,o,r)=>(M(l,typeof o!="symbol"?o+"":o,r),r),m=(l,o,r)=>{if(!o.has(l))throw TypeError("Cannot "+r)},x=(l,o,r)=>(m(l,o,"read from private field"),r?r.call(l):o.get(l)),a=(l,o,r)=>{if(o.has(l))throw TypeError("Cannot add the same private member more than once");o instanceof WeakSet?o.add(l):o.set(l,r)},e=(l,o,r,p)=>(m(l,o,"write to private field"),p?p.call(l,r):o.set(l,r),r),i;class u extends I.Token{constructor(o,r="",p="",c=C.default.getConfig(),g=[]){if(super(void 0,c,g,{}),$(this,"type","ext-link"),a(this,i,void 0),this.insertAt(new R.k(o,!0,c,g)),e(this,i,r),p){const S=new I.Token(p,c,g,{});S.type="ext-link-text",S.setAttribute("stage",C.default.MAX_STAGE-1),this.insertAt(S)}}toString(o){return this.length===1?`[${super.toString(o)}${x(this,i)}]`:`[${super.toString(o,x(this,i))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(o){return o===0?x(this,i).length:0}print(){return super.print(this.length===1?{pre:"[",post:`${x(this,i)}]`}:{pre:"[",sep:x(this,i),post:"]"})}}i=new WeakMap},420:(Q,D,t)=>{t.r(D),t.d(D,{GalleryToken:()=>x});var C=t(891),I=t(541),R=t(39),b=t(465),M=Object.defineProperty,$=(a,e,i)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,m=(a,e,i)=>($(a,typeof e!="symbol"?e+"":e,i),i);class x extends I.Token{constructor(e,i=C.default.getConfig(),u=[]){var l;super(void 0,i,u,{}),m(this,"type","ext-inner");for(const o of(l=e==null?void 0:e.split(`
`))!=null?l:[]){const r=/^([^|]+)(?:\|(.*))?/u.exec(o);if(!r){super.insertAt(o.trim()?new b.R(o,i,[],{}):o);continue}const[,p,c]=r;this.normalizeTitle(p,6,!0,!0).valid?super.insertAt(new R._("gallery",p,c,i,u)):super.insertAt(new b.R(o,i,[],{}))}}toString(e){return super.toString(e,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(e){return e<this.length-1?1:0}lint(e=this.getAbsoluteIndex()){const{top:i,left:u}=this.getRootNode().posFromIndex(e),l=[];for(let o=0;o<this.length;o++){const r=this.childNodes[o],p=String(r),{length:c}=p,g=p.trim(),S=i+o,E=o?0:u;r.type==="hidden"&&g&&!/^<!--.*-->$/u.test(g)?l.push({message:C.default.msg("invalid content in <$1>","gallery"),severity:"error",startIndex:e,endIndex:e+c,startLine:S,endLine:S,startCol:E,endCol:E+c}):r.type!=="hidden"&&r.type!=="text"&&l.push(...r.lint(e)),e+=c+1}return l}print(){return super.print({sep:`
`})}}},485:(Q,D,t)=>{t.d(D,{D:()=>l});var C=t(169),I=t(891),R=t(541),b=t(669),M=Object.defineProperty,$=(o,r,p)=>r in o?M(o,r,{enumerable:!0,configurable:!0,writable:!0,value:p}):o[r]=p,m=(o,r,p)=>($(o,typeof r!="symbol"?r+"":r,p),p),x=(o,r,p)=>{if(!r.has(o))throw TypeError("Cannot "+p)},a=(o,r,p)=>(x(o,r,"read from private field"),p?p.call(o):r.get(o)),e=(o,r,p)=>{if(r.has(o))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(o):r.set(o,p)},i,u;class l extends R.Token{constructor(r,p,c=I.default.getConfig(),g=[]){super(void 0,c,g),e(this,i),m(this,"type","heading"),this.setAttribute("name",String(r));const S=new R.Token(p[0],c,g);S.type="heading-title",S.setAttribute("stage",2);const E=new b.SyntaxToken(p[1],/^[^\S\n]*$/u,"heading-trail",c,g,{});this.append(S,E)}get level(){return Number(this.name)}toString(r){const p=a(this,i,u);return`${p}${this.firstChild.toString()}${p}${this.lastChild.toString()}`}text(){const r=a(this,i,u);return`${r}${this.firstChild.text()}${r}`}getPadding(){return super.getPadding()+this.level}getGaps(r){return r===0?this.level:0}lint(r=this.getAbsoluteIndex()){const p=super.lint(r),c=String(this.firstChild);let g;return this.name==="1"&&(g=(0,C.Y)(this,{start:r},"<h1>"),p.push(g)),(c.startsWith("=")||c.endsWith("="))&&(g!=null||(g=(0,C.Y)(this,{start:r},"")),p.push({...g,message:I.default.msg('unbalanced "=" in a section header')})),this.closest("html-attrs, table-attrs")&&(g!=null||(g=(0,C.Y)(this,{start:r},"")),p.push({...g,message:I.default.msg("section header in a HTML tag")})),p}print(){const r=a(this,i,u);return super.print({pre:r,sep:r})}}i=new WeakSet,u=function(){return"=".repeat(this.level)}},465:(Q,D,t)=>{t.d(D,{R:()=>$});var C=t(959),I=t(541),R=Object.defineProperty,b=(m,x,a)=>x in m?R(m,x,{enumerable:!0,configurable:!0,writable:!0,value:a}):m[x]=a,M=(m,x,a)=>(b(m,typeof x!="symbol"?x+"":x,a),a);class $ extends(0,C.a)(I.Token){constructor(){super(...arguments),M(this,"type","hidden")}}},842:(Q,D,t)=>{t.r(D),t.d(D,{ImagemapToken:()=>r});var C=t(169),I=t(891),R=t(541),b=t(826),M=t(39),$=t(524),m=t(944),x=Object.defineProperty,a=(p,c,g)=>c in p?x(p,c,{enumerable:!0,configurable:!0,writable:!0,value:g}):p[c]=g,e=(p,c,g)=>(a(p,typeof c!="symbol"?c+"":c,g),g);class i extends R.Token{constructor(c,g,S,E=I.default.getConfig(),O=[]){super(void 0,E,O),e(this,"type","imagemap-link"),this.append(c,g.length===2?new $.h(...g,E,O):new m.a(...g,E,O),new b.O(S,E,O))}}var u=Object.defineProperty,l=(p,c,g)=>c in p?u(p,c,{enumerable:!0,configurable:!0,writable:!0,value:g}):p[c]=g,o=(p,c,g)=>(l(p,typeof c!="symbol"?c+"":c,g),g);class r extends R.Token{constructor(c,g=I.default.getConfig(),S=[]){if(super(void 0,g,S,{}),o(this,"type","ext-inner"),!c)return;const E=c.split(`
`),O=new Set(g.protocol.split("|")),B=b.O;let z=!0,Y=!1;for(const G of E){const A=G.trim();if(!(Y||!A||A.startsWith("#"))){if(z){const[v,...w]=G.split("|"),U=this.normalizeTitle(v,0,!0);if(U.valid&&U.ns===6){const K=new M._("imagemap",v,w.length>0?w.join("|"):void 0,g,S);super.insertAt(K),z=!1;continue}else Y=!0}else if(G.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(G);continue}else if(G.includes("[")){const v=G.indexOf("["),w=G.slice(v),U=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(w);if(U){if(this.normalizeTitle(U[1],0,!0,!1,!0).valid){super.insertAt(new i(G.slice(0,v),U.slice(1),w.slice(w.indexOf("]]")+2),g,S));continue}}else if(O.has(w.slice(1,w.indexOf(":")+1))||O.has(w.slice(1,w.indexOf("//")+2))){const K=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(w);if(K){super.insertAt(new i(G.slice(0,v),K.slice(1),w.slice(w.indexOf("]")+1),g,S));continue}}}}super.insertAt(new B(G,g,S))}}get image(){return this.childNodes.find(({type:c})=>c==="imagemap-image")}toString(c){return super.toString(c,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(c){return c<this.length-1?1:0}lint(c=this.getAbsoluteIndex()){const g=super.lint(c),S={start:c,...this.getRootNode().posFromIndex(c)};return this.image?g.push(...this.childNodes.filter(E=>{const O=String(E).trim();return E.type==="noinclude"&&O&&!O.startsWith("#")}).map(E=>(0,C.D)(E,S,"invalid link in <imagemap>"))):g.push((0,C.Y)(this,S,"<imagemap> without an image")),g}print(){return super.print({sep:`
`})}}},541:(Q,D,t)=>{t.r(D),t.d(D,{Token:()=>_t});var C=t(467),I=t(891),R=Object.defineProperty,b=(L,f,T)=>f in L?R(L,f,{enumerable:!0,configurable:!0,writable:!0,value:T}):L[f]=T,M=(L,f,T)=>(b(L,typeof f!="symbol"?f+"":f,T),T),$=(L,f,T)=>{if(!f.has(L))throw TypeError("Cannot "+T)},m=(L,f,T)=>($(L,f,"read from private field"),T?T.call(L):f.get(L)),x=(L,f,T)=>{if(f.has(L))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(L):f.set(L,T)},a=(L,f,T,H)=>($(L,f,"write to private field"),H?H.call(L,T):f.set(L,T),T),e=(L,f,T)=>($(L,f,"access private method"),T),i,u,l;class o{constructor(){x(this,u),M(this,"childNodes",[]),x(this,i,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return m(this,i)}get nextSibling(){var f;const T=(f=m(this,i))==null?void 0:f.childNodes;return T&&T[T.indexOf(this)+1]}get previousSibling(){var f;const T=(f=m(this,i))==null?void 0:f.childNodes;return T&&T[T.indexOf(this)-1]}get offsetHeight(){return e(this,u,l).call(this).height}get offsetWidth(){return e(this,u,l).call(this).width}getAttribute(f){return f in this?String(this[f]):void 0}setAttribute(f,T){f==="parentNode"?a(this,i,T):this[f]=T}getRootNode(){let{parentNode:f}=this;for(;f!=null&&f.parentNode;)({parentNode:f}=f);return f!=null?f:this}posFromIndex(f){const T=String(this);if(f>=-T.length&&f<=T.length){const H=T.slice(0,f).split(`
`);return{top:H.length-1,left:H[H.length-1].length}}}getPadding(){return 0}getGaps(f){return 0}getRelativeIndex(f){let T;const H=(Z,rt)=>T.slice(0,Z).reduce((mt,It,bt)=>mt+String(It).length+rt.getGaps(bt),0)+rt.getPadding();if(f===void 0){const{parentNode:Z}=this;return Z?({childNodes:T}=Z,H(T.indexOf(this),Z)):0}return{childNodes:T}=this,H(f,this)}getAbsoluteIndex(){const{parentNode:f}=this;return f?f.getAbsoluteIndex()+this.getRelativeIndex():0}}i=new WeakMap,u=new WeakSet,l=function(){const L=String(this).split(`
`);return{height:L.length,width:L[L.length-1].length}};const r=new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"]);class p extends o{get length(){return this.childNodes.length}text(f){return(0,C.fL)(this.childNodes,f)}normalize(){const{childNodes:f}=this;for(let T=f.length-1;T>=0;T--){const{type:H,data:Z}=f[T],rt=f[T-1];H!=="text"||this.getGaps(T-1)||(Z===""?f.splice(T,1):(rt==null?void 0:rt.type)==="text"&&(rt.setAttribute("data",rt.data+Z),f.splice(T,1)))}}removeAt(f){const{childNodes:T}=this,[H]=T.splice(f,1);return H}insertAt(f,T=this.length){const{childNodes:H}=this;return f.setAttribute("parentNode",this),H.splice(T,0,f),f}closest(f){let{parentNode:T}=this,H;const Z=new Set(f.split(",").map(rt=>rt.trim()));for(H=({type:rt})=>Z.has(rt);T;){if(H(T))return T;({parentNode:T}=T)}}append(...f){for(const T of f)this.insertAt(T)}replaceChildren(...f){this.childNodes.length=0,this.append(...f)}setText(f,T=0){const H=this.childNodes[T],{data:Z}=H;return H.replaceData(f),Z}toString(f,T=""){return this.childNodes.map(H=>H.toString()).join(T)}lint(f=this.getAbsoluteIndex()){const{SyntaxToken:T}=t(669);if(this instanceof T||this.constructor.hidden||this.type==="ext-inner"&&r.has(this.name))return[];const H=[];for(let Z=0,rt=f+this.getPadding();Z<this.length;Z++){const mt=this.childNodes[Z];H.push(...mt.lint(rt)),rt+=String(mt).length+this.getGaps(Z)}return H}print(f={}){var T;return String(this)?`<span class="wpb-${(T=f.class)!=null?T:this.type}">${(0,C.S0)(this.childNodes,f)}</span>`:""}}var c=Object.defineProperty,g=(L,f,T)=>f in L?c(L,f,{enumerable:!0,configurable:!0,writable:!0,value:T}):L[f]=T,S=(L,f,T)=>(g(L,typeof f!="symbol"?f+"":f,T),T),E=(L,f,T)=>{if(!f.has(L))throw TypeError("Cannot "+T)},O=(L,f,T)=>{if(f.has(L))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(L):f.set(L,T)},B=(L,f,T)=>(E(L,f,"access private method"),T),z,Y;const G=/https?:\/\/|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,A=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,v=["html","head","style","title","body","a","audio","img","video","embed","iframe","object","canvas","script","col","colgroup","tbody","tfoot","thead","button","input","label","option","select","textarea"];class w extends o{constructor(f){super(),O(this,z),S(this,"type","text"),S(this,"data",""),this.data=f}toString(){return this.data}text(){return this.data}lint(f=this.getAbsoluteIndex()){const{data:T,parentNode:H,nextSibling:Z,previousSibling:rt}=this,mt=H==null?void 0:H.type,It=H==null?void 0:H.name,bt=Z==null?void 0:Z.type,Vt=rt==null?void 0:rt.type,yt=mt==="free-ext-link"||mt==="ext-link-url"||mt==="image-parameter"&&It==="link"?A:G,Bt=[],{ext:Jt,html:Zt}=this.getRootNode().getAttribute("config");if(T.search(yt)!==-1){yt.lastIndex=0;const Ut=this.getRootNode(),{top:kt,left:jt}=Ut.posFromIndex(f),qt=new Set([Jt,Zt,v].flat(2));for(let Ot=yt.exec(T);Ot;Ot=yt.exec(T)){const[,Ft,te]=Ot;let{0:Dt,index:Tt}=Ot;Ft&&Ft!=="]"&&(Tt+=Ft.length,Dt=Dt.slice(Ft.length));const Nt=f+Tt,Mt=T.slice(0,Tt).split(`
`),Kt=Mt.length+kt-1,Gt=Mt[Mt.length-1],zt=Mt.length===1?jt+Gt.length:Gt.length,{0:ct,length:Wt}=Dt,Ht=Nt+Wt,Yt=String(Ut),wt=Yt[Ht],Lt=Yt[Nt-1],ee=Wt>1&&(ct!=="<"||/[\s/>]/u.test(wt!=null?wt:""))||ct==="{"&&(wt===ct||Lt==="-")||ct==="}"&&(Lt===ct||wt==="-")||ct==="["&&(wt===ct||mt==="ext-link-text"||!T.slice(Tt+1).trim()&&bt==="free-ext-link")||ct==="]"&&(Lt===ct||!T.slice(0,Tt).trim()&&Vt==="free-ext-link")?"error":"warning";(ct!=="h"||Tt>0)&&(ct!=="<"||qt.has(te.toLowerCase()))&&Bt.push({message:I.default.msg('lonely "$1"',ct==="h"?Dt:ct),severity:ee,startIndex:Nt,endIndex:Ht,startLine:Kt,endLine:Kt,startCol:zt,endCol:zt+Wt})}return Bt}return[]}replaceData(f){B(this,z,Y).call(this,f)}}z=new WeakSet,Y=function(L){this.setAttribute("data",L)};var U=Object.defineProperty,K=(L,f,T)=>f in L?U(L,f,{enumerable:!0,configurable:!0,writable:!0,value:T}):L[f]=T,F=(L,f,T)=>(K(L,typeof f!="symbol"?f+"":f,T),T),P=(L,f,T)=>{if(!f.has(L))throw TypeError("Cannot "+T)},d=(L,f,T)=>(P(L,f,"read from private field"),T?T.call(L):f.get(L)),s=(L,f,T)=>{if(f.has(L))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(L):f.set(L,T)},n=(L,f,T,H)=>(P(L,f,"write to private field"),H?H.call(L,T):f.set(L,T),T),h=(L,f,T,H)=>({set _(Z){n(L,f,Z,T)},get _(){return d(L,f,H)}}),_=(L,f,T)=>(P(L,f,"access private method"),T),W,y,N,V,X,k,j,tt,et,q,at,nt,dt,J,st,it,lt,ut,ot,ft,At,Ct,$t,vt,pt,gt,xt,St;const{MAX_STAGE:Et}=I.default,ht=class Xt extends p{constructor(f,T=I.default.getConfig(),H=[],Z){super(),s(this,X),s(this,j),s(this,et),s(this,at),s(this,dt),s(this,st),s(this,lt),s(this,ot),s(this,At),s(this,$t),s(this,pt),s(this,xt),F(this,"type","root"),s(this,W,0),s(this,y,void 0),s(this,N,void 0),s(this,V,void 0),typeof f=="string"&&this.insertAt(f),n(this,y,T),n(this,N,H),H.push(this)}parseOnce(f=d(this,W),T=!1){if(f<d(this,W)||!this.isPlain()||this.length===0)return this;switch(f){case 0:this.type==="root"&&d(this,N).shift(),n(this,V,T),_(this,j,tt).call(this,T);break;case 1:_(this,et,q).call(this);break;case 2:_(this,at,nt).call(this);break;case 3:_(this,dt,J).call(this);break;case 4:_(this,st,it).call(this);break;case 5:_(this,lt,ut).call(this);break;case 6:_(this,ot,ft).call(this);break;case 7:_(this,At,Ct).call(this);break;case 8:_(this,$t,vt).call(this);break;case 9:_(this,pt,gt).call(this);break;case 10:_(this,xt,St).call(this)}if(this.type==="root")for(const H of d(this,N))H.parseOnce(f,T);return h(this,W)._++,this}buildFromStr(f,T){const H=f.split(/[\0\x7F]/u).map((Z,rt)=>{if(rt%2===0)return new w(Z);if(isNaN(Z[Z.lengtht-1]))return d(this,N)[Number(Z.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${Z}`)});return T==="string"?H.map(String).join(""):T==="text"?(0,C.fL)(H):H}afterBuild(){if(this.type==="root")for(const f of d(this,N))f.afterBuild()}parse(f=Et,T=!1){for(;d(this,W)<f;)this.parseOnce(d(this,W),T);return f&&(_(this,X,k).call(this),this.afterBuild()),this}getAttribute(f){switch(f){case"config":return JSON.parse(JSON.stringify(d(this,y)));case"accum":return d(this,N);case"include":{if(d(this,V)!==void 0)return d(this,V);const T=this.getRootNode();return T.type==="root"&&T!==this?T.getAttribute("include"):!1}default:return super.getAttribute(f)}}setAttribute(f,T){switch(f){case"stage":d(this,W)===0&&this.type==="root"&&d(this,N).shift(),n(this,W,T);break;default:super.setAttribute(f,T)}}isPlain(){return this.constructor===Xt}insertAt(f,T=this.length){const H=typeof f=="string"?new w(f):f;return super.insertAt(H,T),H.type==="root"&&(H.type="plain"),H}normalizeTitle(f,T=0,H=!1,Z=!1,rt=!1){return I.default.normalizeTitle(f,T,d(this,V),d(this,y),H,Z,rt)}};W=new WeakMap,y=new WeakMap,N=new WeakMap,V=new WeakMap,X=new WeakSet,k=function(){var L;n(this,W,Et);const{length:f,firstChild:T}=this,H=String(T);if(f===1&&T.type==="text"&&H.includes("\0")&&(this.replaceChildren(...this.buildFromStr(H)),this.normalize(),this.type==="root"))for(const Z of d(this,N))_(L=Z,X,k).call(L)},j=new WeakSet,tt=function(L){const{parseCommentAndExt:f}=t(551);this.setText(f(String(this.firstChild),d(this,y),d(this,N),L))},et=new WeakSet,q=function(){const{parseBraces:L}=t(313),f=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,T=L(f,d(this,y),d(this,N));this.setText(this.type==="root"?T:T.slice(1))},at=new WeakSet,nt=function(){var L;if((L=d(this,y).excludes)!=null&&L.includes("html"))return;const{parseHtml:f}=t(980);this.setText(f(String(this.firstChild),d(this,y),d(this,N)))},dt=new WeakSet,J=function(){var L;if((L=d(this,y).excludes)!=null&&L.includes("table"))return;const{parseTable:f}=t(508);this.setText(f(this,d(this,y),d(this,N)))},st=new WeakSet,it=function(){var L;if((L=d(this,y).excludes)!=null&&L.includes("hr"))return;const{parseHrAndDoubleUnderscore:f}=t(362);this.setText(f(this,d(this,y),d(this,N)))},lt=new WeakSet,ut=function(){const{parseLinks:L}=t(106);this.setText(L(String(this.firstChild),d(this,y),d(this,N)))},ot=new WeakSet,ft=function(){var L;if((L=d(this,y).excludes)!=null&&L.includes("quote"))return;const{parseQuotes:f}=t(704),T=String(this.firstChild).split(`
`);for(let H=0;H<T.length;H++)T[H]=f(T[H],d(this,y),d(this,N));this.setText(T.join(`
`))},At=new WeakSet,Ct=function(){var L;if((L=d(this,y).excludes)!=null&&L.includes("extLink"))return;const{parseExternalLinks:f}=t(418);this.setText(f(String(this.firstChild),d(this,y),d(this,N)))},$t=new WeakSet,vt=function(){var L;if((L=d(this,y).excludes)!=null&&L.includes("magicLink"))return;const{parseMagicLinks:f}=t(311);this.setText(f(String(this.firstChild),d(this,y),d(this,N)))},pt=new WeakSet,gt=function(){var L;if((L=d(this,y).excludes)!=null&&L.includes("list"))return;const{parseList:f}=t(904),T=String(this.firstChild).split(`
`);let H=this.type==="root"||this.type==="ext-inner"&&this.name==="poem"?0:1;for(;H<T.length;H++)T[H]=f(T[H],d(this,y),d(this,N));this.setText(T.join(`
`))},xt=new WeakSet,St=function(){if(d(this,y).variants.length>0){const{parseConverter:L}=t(295);this.setText(L(String(this.firstChild),d(this,y),d(this,N)))}};let _t=ht},299:(Q,D,t)=>{t.d(D,{o:()=>l});var C=t(169),I=t(891),R=t(541),b=t(34),M=(o,r,p)=>{if(!r.has(o))throw TypeError("Cannot "+p)},$=(o,r,p)=>(M(o,r,"read from private field"),p?p.call(o):r.get(o)),m=(o,r,p)=>{if(r.has(o))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(o):r.set(o,p)},x=(o,r,p,c)=>(M(o,r,"write to private field"),c?c.call(o,p):r.set(o,p),p),a,e,i,u;class l extends R.Token{constructor(r,p,c=I.default.getConfig(),g=[],S="|"){if(super(void 0,c,g,{}),m(this,a,!0),m(this,e,void 0),m(this,i,void 0),m(this,u,!1),this.insertAt(new b.D(r,"link-target",c,g,{})),p!==void 0){const E=new R.Token(p,c,g,{});E.type="link-text",E.setAttribute("stage",I.default.MAX_STAGE-1),this.insertAt(E)}x(this,e,S)}afterBuild(){const r=this.normalizeTitle(this.firstChild.text(),0,!1,!0,!0);x(this,i,r.fragment),x(this,u,r.encoded),$(this,e).includes("\0")&&x(this,e,this.buildFromStr($(this,e),"string"))}setAttribute(r,p){r==="bracket"?x(this,a,!!p):super.setAttribute(r,p)}toString(r){const p=super.toString(r,$(this,e));return $(this,a)?`[[${p}]]`:p}text(){const r=super.text("|");return $(this,a)?`[[${r}]]`:r}getPadding(){return 2}getGaps(r){return r>=this.length-1?0:r===0?$(this,e).length:1}lint(r=this.getAbsoluteIndex()){const p=super.lint(r),{childNodes:[c,g],type:S}=this;let E;return S==="link"&&c.childNodes.some(({type:O})=>O==="template")&&(E={start:r,...this.getRootNode().posFromIndex(r)},p.push((0,C.D)(c,E,"template in an internal link target","warning"))),$(this,u)&&(E!=null||(E={start:r,...this.getRootNode().posFromIndex(r)}),p.push((0,C.D)(c,E,"unnecessary URL encoding in an internal link"))),S==="link"&&(g!=null&&g.childNodes.some(({type:O,data:B})=>O==="text"&&B.includes("|")))?(E!=null||(E={start:r,...this.getRootNode().posFromIndex(r)}),p.push((0,C.D)(g,E,'additional "|" in the link text',"warning"))):S!=="link"&&$(this,i)!==void 0&&(E!=null||(E={start:r,...this.getRootNode().posFromIndex(r)}),p.push((0,C.D)(c,E,"useless fragment"))),p}print(){return super.print($(this,a)?{pre:"[[",post:"]]",sep:$(this,e)}:{sep:$(this,e)})}}a=new WeakMap,e=new WeakMap,i=new WeakMap,u=new WeakMap},533:(Q,D,t)=>{t.d(D,{q:()=>U});var C=t(467),I=t(169),R=t(891),b=t(299),M=t(541),$=Object.defineProperty,m=(K,F,P)=>F in K?$(K,F,{enumerable:!0,configurable:!0,writable:!0,value:P}):K[F]=P,x=(K,F,P)=>(m(K,typeof F!="symbol"?F+"":F,P),P),a=(K,F,P)=>{if(!F.has(K))throw TypeError("Cannot "+P)},e=(K,F,P)=>(a(K,F,"read from private field"),P?P.call(K):F.get(K)),i=(K,F,P)=>{if(F.has(K))throw TypeError("Cannot add the same private member more than once");F instanceof WeakSet?F.add(K):F.set(K,P)},u=(K,F,P,d)=>(a(K,F,"write to private field"),d?d.call(K,P):F.set(K,P),P),l;const o=new Set(["alt","link","lang","page","caption"]);function r(K,F,P=R.default.getConfig(),d=!1){F=F.trim();let s=F.replace(/\0\d+t\x7F/gu,"").trim();switch(K){case"width":return!s||/^(?:\d+x?|\d*x\d+)$/u.test(s);case"link":{if(!s||new RegExp(`^(?:(?:${P.protocol}|//)${C._X}|\0\\d+m\x7F)${C.Qk}$`,"iu").test(s))return F;s.startsWith("[[")&&s.endsWith("]]")&&(s=s.slice(2,-2));const h=R.default.normalizeTitle(s,0,!1,P,d,!0,!0);return h.valid&&h}case"lang":return!s||P.variants.includes(s);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(s)}}class p extends M.Token{constructor(F,P=R.default.getConfig(),d=[]){var s=(...y)=>{super(...y),x(this,"type","image-parameter"),i(this,l,"")},n;let h;const _=Object.entries(P.img).map(([y,N])=>[y,N,new RegExp(`^(\\s*)${y.replace("$1","(.*)")}(\\s*)$`,"u")]),W=_.find(([,y,N])=>(h=N.exec(F),h&&(h.length!==4||r(y,h[2],P,!0)!==!1)));if(W&&h){h.length===3?(s(void 0,P,d),u(this,l,F)):(s(h[2],P,d,{}),u(this,l,`${h[1]}${W[0]}${h[3]}`)),this.setAttribute("name",W[1]);return}s(F,{...P,excludes:[...(n=P.excludes)!=null?n:[],"list"]},d),this.setAttribute("name","caption"),this.setAttribute("stage",7)}get link(){return this.name==="link"?r("link",super.text(),this.getAttribute("config")):void 0}afterBuild(){var F;((F=this.parentNode)==null?void 0:F.type)==="gallery-image"&&!o.has(this.name)&&this.setAttribute("name","invalid")}isPlain(){return this.name==="caption"}toString(F){return e(this,l)?e(this,l).replace("$1",super.toString(F)):super.toString(F)}text(){return e(this,l)?e(this,l).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,e(this,l).indexOf("$1"))}lint(F=this.getAbsoluteIndex()){const P=super.lint(F),{link:d,name:s}=this;return s==="invalid"?P.push((0,I.Y)(this,{start:F},"invalid gallery image parameter")):typeof d=="object"&&d.encoded&&P.push((0,I.Y)(this,{start:F},"unnecessary URL encoding in an internal link")),P}print(){return e(this,l)?`<span class="wpb-image-parameter">${e(this,l).replace("$1",`<span class="wpb-image-caption">${(0,C.S0)(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}}l=new WeakMap;var c=Object.defineProperty,g=(K,F,P)=>F in K?c(K,F,{enumerable:!0,configurable:!0,writable:!0,value:P}):K[F]=P,S=(K,F,P)=>(g(K,typeof F!="symbol"?F+"":F,P),P),E=(K,F,P)=>{if(!F.has(K))throw TypeError("Cannot "+P)},O=(K,F,P)=>{if(F.has(K))throw TypeError("Cannot add the same private member more than once");F instanceof WeakSet?F.add(K):F.set(K,P)},B=(K,F,P)=>(E(K,F,"access private method"),P),z,Y;const G=new Set(["manualthumb","frameless","framed","thumbnail"]),A=new Set(["left","right","center","none"]),v=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]),w=(K,F,P,d)=>{if(d===void 0)return[];const s=new RegExp(`${[K,F,P].map(C.hr).join("|")}`,"gu"),n=[];let h=s.exec(d),_=0,W=0;for(;h;){const{0:y,index:N}=h;y!==P?_+=y===K?1:-1:_===0&&(n.push(d.slice(W,N)),{lastIndex:W}=s),h=s.exec(d)}return n.push(d.slice(W)),n};class U extends b.o{constructor(F,P,d=R.default.getConfig(),s=[],n="|"){super(F,void 0,d,s,n),O(this,z),S(this,"type","file"),this.append(...w("-{","}-","|",P).map(h=>new p(h,d,s)))}lint(F=this.getAbsoluteIndex()){const P=super.lint(F),d=this.getAllArgs().filter(({childNodes:N})=>{const V=N.filter(X=>X.text().trim());return V.length!==1||V[0].type!=="arg"}),s=[...new Set(d.map(({name:N})=>N))].filter(N=>N!=="invalid"),n=s.filter(N=>G.has(N)),h=s.filter(N=>A.has(N)),_=s.filter(N=>v.has(N));if(d.length===s.length&&n.length<2&&h.length<2&&_.length<2)return P;const W={start:F,...this.getRootNode().posFromIndex(F)},y=(N,V)=>X=>(0,I.D)(X,W,R.default.msg(`${N} image $1 parameter`,V));for(const N of s){let V=d.filter(({name:X})=>X===N);N==="caption"&&(V=[...V.slice(0,-1).filter(X=>X.text()),...V.slice(-1)]),V.length>1&&P.push(...V.map(y("duplicated",N)))}return n.length>1&&P.push(...d.filter(({name:N})=>G.has(N)).map(y("conflicting","frame"))),h.length>1&&P.push(...d.filter(({name:N})=>A.has(N)).map(y("conflicting","horizontal-alignment"))),_.length>1&&P.push(...d.filter(({name:N})=>v.has(N)).map(y("conflicting","vertical-alignment"))),P}getAllArgs(){return this.childNodes.slice(1)}getArgs(F){return this.getAllArgs().filter(({name:P})=>F===P)}getFrameArgs(){return B(this,z,Y).call(this,G,"\u6846\u67B6")}getHorizAlignArgs(){return B(this,z,Y).call(this,A,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return B(this,z,Y).call(this,v,"\u5782\u76F4\u5BF9\u9F50")}}z=new WeakSet,Y=function(K,F){return this.getAllArgs().filter(({name:d})=>K.has(d))}},39:(Q,D,t)=>{t.d(D,{_:()=>e});var C=t(169),I=t(891),R=t(541),b=t(533),M=(i,u,l)=>{if(!u.has(i))throw TypeError("Cannot "+l)},$=(i,u,l)=>(M(i,u,"read from private field"),l?l.call(i):u.get(i)),m=(i,u,l)=>{if(u.has(i))throw TypeError("Cannot add the same private member more than once");u instanceof WeakSet?u.add(i):u.set(i,l)},x=(i,u,l,o)=>(M(i,u,"write to private field"),o?o.call(i,l):u.set(i,l),l),a;class e extends b.q{constructor(u,l,o,r=I.default.getConfig(),p=[]){let c;if(o!==void 0){c=new R.Token(o,r,p),c.type="plain";for(let g=1;g<I.default.MAX_STAGE;g++)c.parseOnce();p.splice(p.indexOf(c),1)}super(l,c==null?void 0:c.toString(),r,p),m(this,a,!1),this.setAttribute("bracket",!1),this.type=`${u}-image`}afterBuild(){const u=this.type==="imagemap-image",l=this.normalizeTitle(String(this.firstChild),u?0:6,!0,!u);x(this,a,l.ns!==6)}getPadding(){return 0}lint(u=this.getAbsoluteIndex()){const l=super.lint(u);return $(this,a)&&l.push((0,C.Y)(this,{start:u},"invalid gallery image")),l}}a=new WeakMap},524:(Q,D,t)=>{t.d(D,{h:()=>M});var C=t(299),I=Object.defineProperty,R=($,m,x)=>m in $?I($,m,{enumerable:!0,configurable:!0,writable:!0,value:x}):$[m]=x,b=($,m,x)=>(R($,typeof m!="symbol"?m+"":m,x),x);class M extends C.o{constructor(){super(...arguments),b(this,"type","link")}}},686:(Q,D,t)=>{t.d(D,{k:()=>b});var C=t(169),I=t(891),R=t(541);class b extends R.Token{constructor($,m=!1,x=I.default.getConfig(),a=[]){super($,x,a,{}),this.type=m?"ext-link-url":"free-ext-link"}lint($=this.getAbsoluteIndex()){const m=super.lint($),x=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`,a=new RegExp(x,"u"),e=new RegExp(x,"gu");let i;for(const u of this.childNodes){const{type:l,data:o}=u;if(l!=="text"||!a.test(o))continue;i!=null||(i={start:$,...this.getRootNode().posFromIndex($)});const r=(0,C.D)(u,i,"","warning");e.lastIndex=0;for(let p=e.exec(o);p;p=e.exec(o)){const{index:c,0:g}=p,S=o.slice(0,c).split(`
`),{length:E}=S,{length:O}=S[S.length-1],B=$+c,z=r.startLine+E-1,Y=E===1?r.startCol+O:O;m.push({...r,message:I.default.msg("$1 in URL",g.startsWith("|")?'"|"':I.default.msg("full-width punctuation")),startIndex:B,endIndex:B+g.length,startLine:z,endLine:z,startCol:Y,endCol:Y+g.length})}}return m}}},57:(Q,D,t)=>{t.r(D),t.d(D,{NestedToken:()=>e});var C=t(169),I=t(891),R=t(541),b=t(895),M=t(826),$=t(976),m=Object.defineProperty,x=(i,u,l)=>u in i?m(i,u,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[u]=l,a=(i,u,l)=>(x(i,typeof u!="symbol"?u+"":u,l),l);class e extends R.Token{constructor(u,l,o,r=I.default.getConfig(),p=[]){var c;u=(c=u==null?void 0:u.replace(l,(g,S,E,O,B)=>{const z=`\0${p.length+1}${S?"e":"c"}\x7F`;if(S)new b.$(S,E,O,B,r,p);else{const Y=g.endsWith("-->");new $.T(g.slice(4,Y?-3:void 0),Y,r,p)}return z}))==null?void 0:c.replace(/(^|\0\d+[ce]\x7F)([^\0]+)(?=$|\0\d+[ce]\x7F)/gu,(g,S,E)=>(new M.O(E,r,p),`${S}\0${p.length}c\x7F`)),super(u,r,p,{}),a(this,"type","ext-inner")}lint(u=this.getAbsoluteIndex()){let l;return[...super.lint(u),...this.childNodes.filter(o=>{if(o.type==="ext"||o.type==="comment")return!1;const r=String(o).trim();return r&&!/^<!--.*-->$/su.test(r)}).map(o=>(l!=null||(l={start:u,...this.getRootNode().posFromIndex(u)}),(0,C.D)(o,l,I.default.msg("invalid content in <$1>",this.name))))]}}},439:(Q,D,t)=>{t.d(D,{h:()=>R});var C=t(891),I=t(541);class R extends I.Token{constructor(M="",$=C.default.getConfig(),m=[]){super(M,$,m)}}},976:(Q,D,t)=>{t.d(D,{T:()=>x});var C=t(169),I=t(959),R=t(891),b=t(439),M=Object.defineProperty,$=(a,e,i)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,m=(a,e,i)=>($(a,typeof e!="symbol"?e+"":e,i),i);class x extends(0,I.a)(b.h){constructor(e,i=!0,u=R.default.getConfig(),l=[]){super(e,u,l),m(this,"type","comment"),m(this,"closed"),this.closed=i}getPadding(){return 4}lint(e=this.getAbsoluteIndex()){return this.closed?[]:[(0,C.Y)(this,{start:e},"unclosed HTML comment")]}toString(e){return`<!--${this.firstChild.data}${this.closed?"-->":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}}},461:(Q,D,t)=>{t.d(D,{k:()=>M});var C=t(933),I=Object.defineProperty,R=($,m,x)=>m in $?I($,m,{enumerable:!0,configurable:!0,writable:!0,value:x}):$[m]=x,b=($,m,x)=>(R($,typeof m!="symbol"?m+"":m,x),x);class M extends C.T{constructor(){super(...arguments),b(this,"type","dd")}}},491:(Q,D,t)=>{t.r(D),t.d(D,{NowikiToken:()=>m});var C=t(169),I=t(891),R=t(439),b=Object.defineProperty,M=(x,a,e)=>a in x?b(x,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):x[a]=e,$=(x,a,e)=>(M(x,typeof a!="symbol"?a+"":a,e),e);class m extends R.h{constructor(){super(...arguments),$(this,"type","ext-inner")}lint(a=this.getAbsoluteIndex()){const{name:e,firstChild:{data:i}}=this;return(e==="templatestyles"||e==="section")&&i?[(0,C.Y)(this,{start:a},I.default.msg("nothing should be in <$1>",e))]:super.lint(a)}}},933:(Q,D,t)=>{t.d(D,{T:()=>I});var C=t(439);class I extends C.h{}},826:(Q,D,t)=>{t.d(D,{O:()=>$});var C=t(959),I=t(439),R=Object.defineProperty,b=(m,x,a)=>x in m?R(m,x,{enumerable:!0,configurable:!0,writable:!0,value:a}):m[x]=a,M=(m,x,a)=>(b(m,typeof x!="symbol"?x+"":x,a),a);class $ extends(0,C.a)(I.h){constructor(){super(...arguments),M(this,"type","noinclude")}}},160:(Q,D,t)=>{t.r(D),t.d(D,{ParamTagToken:()=>x});var C=t(169),I=t(891),R=t(541),b=t(34),M=Object.defineProperty,$=(a,e,i)=>e in a?M(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,m=(a,e,i)=>($(a,typeof e!="symbol"?e+"":e,i),i);class x extends R.Token{constructor(e,i=I.default.getConfig(),u=[],l={}){if(super(void 0,i,u,{}),m(this,"type","ext-inner"),e){const o=b.D;this.append(...e.split(`
`).map(r=>new o(r,"param-line",i,u,{})))}}toString(e){return super.toString(e,`
`)}text(){return super.text(`
`)}getGaps(e){return e<this.length-1?1:0}lint(e=this.getAbsoluteIndex()){let i;return this.childNodes.filter(u=>{const{childNodes:l}=u,o=l.findIndex(({type:p})=>p!=="text"),r=(o>=0?l.slice(0,o).map(String).join(""):String(u)).trim();return r&&!(o>=0?/^[a-z]+(?:\[\])?\s*(?:=|$)/iu:/^[a-z]+(?:\[\])?\s*=/iu).test(r)}).map(u=>(i!=null||(i={start:e,...this.getRootNode().posFromIndex(e)}),(0,C.D)(u,i,I.default.msg("invalid parameter of $1",this.name))))}print(){return super.print({sep:`
`})}}},504:(Q,D,t)=>{t.r(D),t.d(D,{InputboxToken:()=>b});var C=t(313),I=t(891),R=t(160);class b extends R.ParamTagToken{constructor($,m=I.default.getConfig(),x=[]){const a=Symbol("InputboxToken");x.push(a),$&&($=(0,C.parseBraces)($,m,x)),x.splice(x.indexOf(a),1),super($,m,x,{})}}},435:(Q,D,t)=>{t.r(D),t.d(D,{PreToken:()=>m});var C=t(891),I=t(541),R=t(826),b=Object.defineProperty,M=(x,a,e)=>a in x?b(x,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):x[a]=e,$=(x,a,e)=>(M(x,typeof a!="symbol"?a+"":a,e),e);class m extends I.Token{constructor(a,e=C.default.getConfig(),i=[]){if(a){const u="<nowiki>",l="</nowiki>",{length:o}=u;let r=a.indexOf(u),p=a.indexOf(l,r+o),c="";for(;r!==-1&&p!==-1;)new R.O(u,e,i),new R.O(l,e,i),c+=`${a.slice(0,r)}\0${i.length-1}c\x7F${a.slice(r+o,p)}\0${i.length}c\x7F`,a=a.slice(p+o+1),r=a.indexOf(u),p=a.indexOf(l,r+o);a=`${c}${a}`}super(a,e,i,{}),$(this,"type","ext-inner"),this.setAttribute("stage",C.default.MAX_STAGE-1)}isPlain(){return!0}}},669:(Q,D,t)=>{t.r(D),t.d(D,{SyntaxToken:()=>R});var C=t(891),I=t(541);class R extends I.Token{constructor(M,$,m="plain",x=C.default.getConfig(),a=[],e){super(M,x,a,e),this.type=m}}},895:(Q,D,t)=>{t.d(D,{$:()=>e});var C=t(169),I=t(891),R=t(541),b=t(415),M=t(83),$=Object.defineProperty,m=(i,u,l)=>u in i?$(i,u,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[u]=l,x=(i,u,l)=>(m(i,typeof u!="symbol"?u+"":u,l),l);const a=(i,u)=>{const l=new Set(i);return l.delete(u),[...l]};class e extends b.m{constructor(u,l,o,r,p=I.default.getConfig(),c=[]){var g;const S=u.toLowerCase(),E=new M.x(!l||/^\s/u.test(l)?l:` ${l}`,"ext-attrs",S,p,c),O={...p,ext:a(p.ext,S),excludes:[...(g=p.excludes)!=null?g:[]]};let B;switch(O.inExt=!0,S){case"tab":O.ext=a(O.ext,"tabs");case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":S==="poem"&&O.excludes.push("heading"),B=new R.Token(o,O,c);break;case"pre":{const{PreToken:z}=t(435);B=new z(o,O,c);break}case"dynamicpagelist":{const{ParamTagToken:z}=t(160);B=new z(o,O,c);break}case"inputbox":{O.excludes.push("heading");const{InputboxToken:z}=t(504);B=new z(o,O,c);break}case"references":{const{NestedToken:z}=t(57);B=new z(o,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],O,c);break}case"choose":{const{NestedToken:z}=t(57);B=new z(o,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],O,c);break}case"combobox":{const{NestedToken:z}=t(57);B=new z(o,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],O,c);break}case"gallery":{const{GalleryToken:z}=t(420);B=new z(o,O,c);break}case"imagemap":{const{ImagemapToken:z}=t(842);B=new z(o,O,c);break}default:{const{NowikiToken:z}=t(491);B=new z(o,O)}}B.setAttribute("name",S),B.type="ext-inner",super(u,E,B,r,p,c),x(this,"type","ext")}lint(u=this.getAbsoluteIndex()){const l=super.lint(u);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const o=this.getRootNode(),r={start:u,...o.posFromIndex(u)};l.push((0,C.Y)(this,r,"extension tag in HTML tag attributes"))}return l}}},415:(Q,D,t)=>{t.d(D,{m:()=>e});var C=t(891),I=t(541),R=(i,u,l)=>{if(!u.has(i))throw TypeError("Cannot "+l)},b=(i,u,l)=>(R(i,u,"read from private field"),l?l.call(i):u.get(i)),M=(i,u,l)=>{if(u.has(i))throw TypeError("Cannot add the same private member more than once");u instanceof WeakSet?u.add(i):u.set(i,l)},$=(i,u,l,o)=>(R(i,u,"write to private field"),o?o.call(i,l):u.set(i,l),l),m,x,a;class e extends I.Token{constructor(u,l,o,r,p=C.default.getConfig(),c=[]){super(void 0,p),M(this,m,void 0),M(this,x,void 0),M(this,a,void 0),this.setAttribute("name",u.toLowerCase()),$(this,a,[u,r||u]),$(this,m,r===void 0),$(this,x,r!==""),this.append(l,o);const g=typeof l=="string"?-1:c.indexOf(l);c.splice(g===-1?1/0:g,0,this)}get closed(){return b(this,x)}toString(u){const{firstChild:l,lastChild:o}=this,[r,p]=b(this,a);return b(this,m)?`<${r}${l.toString(u)}/>`:`<${r}${l.toString(u)}>${o.toString(u)}${this.closed?`</${p}>`:""}`}text(){const[u,l]=b(this,a);return b(this,m)?`<${u}${this.firstChild.text()}/>`:`<${u}${super.text(">")}${this.closed?`</${l}>`:""}`}getPadding(){return b(this,a)[0].length+1}getGaps(u){return 1}print(){const[u,l]=b(this,a);return super.print(b(this,m)?{pre:`&lt;${u}`,post:"/&gt;"}:{pre:`&lt;${u}`,sep:"&gt;",post:this.closed?`&lt;/${l}&gt;`:""})}}m=new WeakMap,x=new WeakMap,a=new WeakMap},169:(Q,D,t)=>{t.d(D,{D:()=>I,Y:()=>R});var C=t(891);const I=(b,M,$,m="error")=>{const x=b.getRelativeIndex(),{offsetHeight:a,offsetWidth:e,parentNode:i}=b,{top:u,left:l}=i.posFromIndex(x),{start:o}=M,{top:r,left:p}="top"in M?M:b.getRootNode().posFromIndex(o),c=String(b),g=o+x,S=r+u,E=u?l:p+l;return{message:C.default.msg($),severity:m,startIndex:g,endIndex:g+c.length,startLine:S,endLine:S+a-1,startCol:E,endCol:a===1?E+e:e}},R=(b,M,$,m="error")=>{const{start:x}=M,{offsetHeight:a,offsetWidth:e}=b,i=String(b),{top:u,left:l}="top"in M?M:b.getRootNode().posFromIndex(x);return{message:C.default.msg($),severity:m,startIndex:x,endIndex:x+i.length,startLine:u,endLine:u+a-1,startCol:l,endCol:a===1?l+e:e}}},467:(Q,D,t)=>{t.d(D,{PN:()=>R,Qk:()=>I,S0:()=>x,_X:()=>C,fL:()=>M,hr:()=>b,jq:()=>m,m9:()=>$});const C='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])',I='(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',R=a=>a.replace(/\0\d+c\x7F/gu,""),b=a=>a.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),M=(a,e="")=>a.map(i=>typeof i=="string"?i:i.text()).join(e),$=a=>a.replace(/&#(\d+|x[\da-f]+);/giu,(e,i)=>String.fromCodePoint(+`${i[0].toLowerCase()==="x"?"0":""}${i}`)),m=a=>a.replace(/\n/gu,"\\n"),x=(a,e={})=>{const{pre:i="",post:u="",sep:l=""}=e,o={"&":"amp","<":"lt",">":"gt"};return`${i}${a.map(r=>r.type==="text"?r.data.replace(/[&<>]/gu,p=>`&${o[p]};`):r.print()).join(l)}${u}`}},166:Q=>{Q.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"6":"File","10":"Template"},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#regex":"regex","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":[]}')}},Rt={};function Pt(Q){var D=Rt[Q];if(D!==void 0)return D.exports;var t=Rt[Q]={exports:{}};return Qt[Q](t,t.exports,Pt),t.exports}Pt.d=(Q,D)=>{for(var t in D)Pt.o(D,t)&&!Pt.o(Q,t)&&Object.defineProperty(Q,t,{enumerable:!0,get:D[t]})},Pt.o=(Q,D)=>Object.prototype.hasOwnProperty.call(Q,D),Pt.r=Q=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var ne=Pt(891)})();})();
