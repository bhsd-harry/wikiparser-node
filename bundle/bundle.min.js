(()=>{var At=Object.defineProperty;var yt=(M,j,D)=>j in M?At(M,j,{enumerable:!0,configurable:!0,writable:!0,value:D}):M[j]=D;var b=(M,j,D)=>(yt(M,typeof j!="symbol"?j+"":j,D),D),nt=(M,j,D)=>{if(!j.has(M))throw TypeError("Cannot "+D)};var A=(M,j,D)=>(nt(M,j,"read from private field"),D?D.call(M):j.get(M)),L=(M,j,D)=>{if(j.has(M))throw TypeError("Cannot add the same private member more than once");j instanceof WeakSet?j.add(M):j.set(M,D)},H=(M,j,D,q)=>(nt(M,j,"write to private field"),q?q.call(M,D):j.set(M,D),D),rt=(M,j,D,q)=>({set _(x){H(M,j,x,D)},get _(){return A(M,j,q)}}),B=(M,j,D)=>(nt(M,j,"access private method"),D);(()=>{var M={6010:(x,k,s)=>{"use strict";const g={config:void 0,minConfig:s(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(a,c=0,o=!1,i=g.getConfig(),e=!1,t=!1){let n;if(!e){const h=s(8138);n=this.run(()=>{const d=new h(String(a),i),p=d.getAttribute("parseOnce");return p(0,o),p()}),a=n.firstChild}const r=s(6986);return new r(String(a),c,i,t)},parse(a,c,o=g.MAX_STAGE,i=g.getConfig()){const e=s(8138);let t;return this.run(()=>{typeof a=="string"?t=new e(a,i):a instanceof e&&(t=a,a=String(t));try{t.parse(o,c)}catch(n){}}),t},run(a){return a()}},m={},$=new Set(["MAX_STAGE","minConfig"]),u=new Set(["config","normalizeTitle","parse"]);for(const a in g)$.has(a)?m[a]={enumerable:!1,writable:!1}:u.has(a)||(m[a]={enumerable:!1});Object.defineProperties(g,m),typeof self=="object"&&(self.Parser=g),x.exports=g},9205:(x,k,s)=>{"use strict";const{print:g}=s(231),m=s(3853),$=s(7507),a=class extends m{constructor(){super(...arguments);b(this,"name")}get length(){return this.childNodes.length}closest(i){const e=new Set(i.split(",").map(n=>n.trim()));let{parentNode:t}=this;for(;t;){if(e.has(t.type))return t;({parentNode:t}=t)}}append(...i){for(const e of i)this.insertAt(e)}replaceChildren(...i){for(let e=this.childNodes.length-1;e>=0;e--)this.removeAt(e);this.append(...i)}setText(i,e=0){const t=this.childNodes[e],{type:n,data:r}=t;if(n==="text")return t.replaceData(i),r}toString(i,e=""){return this.childNodes.map(t=>t.toString()).join(e)}lint(i=0){const e=s(8058);if(this instanceof e||this.constructor.hidden||this.type==="ext-inner"&&a.lintIgnoredExt.has(this.name))return[];const t=[];for(let n=0,r=i+this.getPadding();n<this.childNodes.length;n++){const l=this.childNodes[n];t.push(...l.lint(r)),r+=String(l).length+this.getGaps(n)}return t}print(i={}){return String(this)?`<span class="wpb-${i.class||this.type}">${g(this.childNodes,i)}</span>`:""}};let u=a;b(u,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),x.exports=u},3853:(x,k,s)=>{var $,u,tt,c,it;"use strict";const{text:g}=s(231);class m{constructor(){L(this,u);L(this,c);b(this,"type");b(this,"childNodes",[]);L(this,$,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return A(this,$)}get nextSibling(){var t;const e=(t=A(this,$))==null?void 0:t.childNodes;return e&&e[e.indexOf(this)+1]}get previousSibling(){var t;const e=(t=A(this,$))==null?void 0:t.childNodes;return e&&e[e.indexOf(this)-1]}hasAttribute(e){const t=typeof e;return t==="string"||t==="number"||t==="symbol"?e in this:!1}getAttribute(e){return this.hasAttribute(e)?String(this[e]):void 0}setAttribute(e,t){return e==="parentNode"?H(this,$,t):this[e]=t,this}text(e=""){return g(this.childNodes,e)}removeAt(e){const t=[...this.childNodes],[n]=t.splice(e,1);return n.setAttribute("parentNode"),this.setAttribute("childNodes",t),n}insertAt(e,t=this.childNodes.length){const n=[...this.childNodes];return-1===-1&&e.setAttribute("parentNode",this),n.splice(t,0,e),this.setAttribute("childNodes",n),e}normalize(){var n;const e=s(7507),t=[...this.childNodes];for(let r=t.length-1;r>=0;r--){const{type:l,data:h}=t[r];this.getGaps(r-1)||(h===""?t.splice(r,1):l==="text"&&((n=t[r-1])==null?void 0:n.type)==="text"&&(t[r-1].setAttribute("data",t[r-1].data+h),t.splice(r,1)))}this.setAttribute("childNodes",t)}getRootNode(){let{parentNode:e}=this;for(;e!=null&&e.parentNode;)({parentNode:e}=e);return e!=null?e:this}posFromIndex(e){const t=String(this);if(e>=-t.length&&e<=t.length){const n=t.slice(0,e).split(`
`);return{top:n.length-1,left:n[n.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(e){let t;const n=(r,l)=>t.slice(0,r).reduce((h,d,p)=>h+String(d).length+l.getGaps(p),0)+l.getPadding();if(e===void 0){const{parentNode:r}=this;return r?({childNodes:t}=r,n(t.indexOf(this),r)):0}return{childNodes:t}=this,n(e,this)}get offsetHeight(){return B(this,u,tt).call(this).height}get offsetWidth(){return B(this,u,tt).call(this).width}get style(){return{...B(this,c,it).call(this),...B(this,u,tt).call(this),padding:this.getPadding()}}}$=new WeakMap,u=new WeakSet,tt=function(){const e=String(this).split(`
`);return{height:e.length,width:e[e.length-1].length}},c=new WeakSet,it=function(e){var t,n;return e===void 0?(n=(t=this.parentNode)==null?void 0:t.posFromIndex(this.getRelativeIndex()))!=null?n:{top:0,left:0}:this.posFromIndex(this.getRelativeIndex(e))},x.exports=m},7507:(x,k,s)=>{var c,ot;"use strict";const g=s(3853),m=s(9205),$=/https?:|[{}]+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu,u=/[{}]+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu;class a extends g{constructor(t=""){super();L(this,c);b(this,"type","text");b(this,"data");this.data=t}toString(){return this.data}text(){return this.data}lint(t=0){var f;const{data:n,parentNode:r}=this,l=r==null?void 0:r.type,h=r==null?void 0:r.name,d=l==="free-ext-link"||l==="ext-link-url"||l==="image-parameter"&&h==="link"?u:$,p=[];if(n.search(d)!==-1){d.lastIndex=0;const y=this.getRootNode(),{top:T,left:C}=y.posFromIndex(t);for(let N=d.exec(n);N;N=d.exec(n)){const[,S]=N;let{0:w,index:v}=N;S&&(v+=S.length,w=w.slice(S.length));const P=n.slice(0,v).split(`
`),z=P.length+T-1,R=P[P.length-1],E=P.length>1?R.length:C+R.length,{0:U,length:G}=w;if(U==="h"&&(r==null?void 0:r.type)==="attr-value"){const{parentNode:V}=r;if(((V==null?void 0:V.name)==="src"||(V==null?void 0:V.name)==="srcset")&&((f=V==null?void 0:V.parentNode)==null?void 0:f.name)==="img")continue}p.push({message:`\u5B64\u7ACB\u7684"${U==="h"?w:U}"`,severity:U==="{"||U==="}"||G>1?"error":"warning",startLine:z,endLine:z,startCol:E,endCol:E+G})}}return p}replaceData(t=""){B(this,c,ot).call(this,t)}}c=new WeakSet,ot=function(t){return t=String(t),this.setAttribute("data",t),this},x.exports=a},6986:(x,k,s)=>{"use strict";const g=s(6010);class m{constructor(u,a=0,c=g.getConfig(),o=!1){b(this,"valid",!0);b(this,"ns",0);const{namespaces:i,nsid:e}=c;let t=i[a];if(o&&u.includes("%"))try{u=decodeURIComponent(u)}catch(h){}u=u.replace(/_/gu," ").trim(),u[0]===":"&&(t="",u=u.slice(1).trim());const n=u.split(":");if(n.length>1){const h=i[e[n[0].trim().toLowerCase()]];h!==void 0&&(t=h,u=n.slice(1).join(":").trim())}this.ns=e[t.toLowerCase()];const r=u.indexOf("#");let l="";r!==-1&&(l=u.slice(r+1).trim(),u=u.slice(0,r).trim()),this.valid=Boolean(u||l)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(u)}}x.exports=m},2308:x=>{"use strict";const k=s=>{var g;return g=class extends s{text(){return""}},b(g,"hidden",!0),g};x.exports=k},8275:(x,k,s)=>{"use strict";const{removeComment:g}=s(231),m=s(6010),$=s(9450),u=s(1782),a=s(9544),c=(o,i=m.getConfig(),e=[])=>{var y,T,C,N,S;const t="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",n=[],r={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},l={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let h=new RegExp(t,"gmu"),d=h.exec(o),p=o.includes("}}"),f;for(;d||f<=o.length&&((T=(y=n[n.length-1])==null?void 0:y[0])==null?void 0:T[0])==="=";){if(d!=null&&d[1]){const[,{length:Q}]=d;d[0]=d[0].slice(Q),d.index+=Q}const{0:w,index:v}=d!=null?d:{0:`
`,index:o.length},P=(C=n.pop())!=null?C:{},{0:z,index:R,parts:E,findEqual:U,pos:G}=P,V=w==="="&&U;if(w==="]]"||w==="}-")f=v+2;else if(w===`
`){f=v+1;const{pos:Q,findEqual:X}=(N=n[n.length-1])!=null?N:{};if(!Q||X||g(o.slice(Q,R))!==""){const K=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(o.slice(R,v));K&&(o=`${o.slice(0,R)}\0${e.length}h\x7F${o.slice(v)}`,f=R+4+String(e.length).length,new $(K[1].length,K.slice(2),i,e))}}else if(w==="|"||V)f=v+1,E[E.length-1].push(o.slice(G,v)),w==="|"&&E.push([]),P.pos=f,P.findEqual=w==="|",n.push(P);else if(w.startsWith("}}")){const Q=w.slice(0,Math.min(z.length,3)),X=z.length-Q.length,{length:K}=e;f=v+Q.length,E[E.length-1].push(o.slice(G,v));let Z=!1,st="t";if(Q.length===3)new a(E.map(Y=>Y.join("=")),i,e);else{const Y=g(E[0][0]).trim();Y in l?st=l[Y]:/^(?:fullurl|canonicalurl|filepath):./iu.test(Y)&&(st="m");try{new u(E[0][0],E.slice(1),i,e)}catch(F){if(F instanceof Error&&F.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))f=R+z.length,Z=!0;else throw F}}Z||(o=`${o.slice(0,R+X)}\0${K}${st}\x7F${o.slice(f)}`,f=R+X+3+String(K).length,X>1?n.push({0:z.slice(0,X),index:R,pos:R+X,parts:[[]]}):X===1&&o[R-1]==="-"&&n.push({0:"-{",index:R-1,pos:R+1,parts:[[]]}))}else f=v+w.length,w[0]==="{"&&(d.pos=f,d.parts=[[]]),n.push(..."0"in P?[P]:[],d);p&&(p=o.slice(f).includes("}}"));let W=n[n.length-1];!p&&((S=W==null?void 0:W[0])==null?void 0:S[0])==="{"&&(n.pop(),W=n[n.length-1]),h=new RegExp(t+(W?`|${r[W[0][0]]}${W.findEqual?"|=":""}`:""),"gmu"),h.lastIndex=f,d=h.exec(o)}return o};x.exports=c},4907:(x,k,s)=>{"use strict";const g=s(6010),m=s(851),$=s(3423),u=s(8655),a=s(7267),c=s(5749),o=(i,e=g.getConfig(),t=[],n=!1)=>{const r=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(n&&i.search(r)!==-1)return i.replace(r,(f,y)=>{const T=`\0${t.length}e\x7F`;return new m(y,e,t),T}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(f,y,T)=>T===""?y:(new $(T,e,t),`${y}\0${t.length-1}c\x7F`));const l=e.ext.join("|"),h=n?"includeonly":"(?:no|only)include",d=n?"noinclude":"includeonly",p=new RegExp(`<!--.*?(?:-->|$)|<${h}(?:\\s[^>]*?)?>|</${h}\\s*>|<(${l})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${d})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return i.replace(p,(f,y,T,C,N,S,w,v,P)=>{const z=`\0${t.length}${y?"e":"c"}\x7F`;if(y)new a(y,T,C,N,e,t);else if(f.startsWith("<!--")){const R=f.endsWith("-->");new c(f.slice(4,R?-3:void 0),R,e,t)}else S?new u(S,w,v,P,e,t):new $(f,e,t);return z})};x.exports=o},3765:(x,k,s)=>{"use strict";const g=s(6010),m=s(9910),$=(u,a=g.getConfig(),c=[])=>{const o=/-\{/gu,i=/-\{|\}-/gu,e=[];let t=o,n=t.exec(u);for(;n;){const{0:r,index:l}=n;if(r==="}-"){const h=e.pop(),{length:d}=c,p=u.slice(h.index+2,l),f=p.indexOf("|"),[y,T]=f===-1?[[],p]:[p.slice(0,f).split(";"),p.slice(f+1)],C=T.replace(/(&[#a-z\d]+);/giu,"$1"),N=`(?:${a.variants.join("|")})`,S=C.split(new RegExp(`;(?=\\s*(?:${N}|[^;]*?=>\\s*${N})\\s*:)`,"u")).map(w=>w.replace(/\x01/gu,";"));new m(y,S,a,c),u=`${u.slice(0,h.index)}\0${d}v\x7F${u.slice(l+2)}`,e.length===0&&(t=o),t.lastIndex=h.index+3+String(d).length}else e.push(n),t=i,t.lastIndex=l+2;n=t.exec(u)}return u};x.exports=$},7513:(x,k,s)=>{"use strict";const{extUrlChar:g}=s(231),m=s(6010),$=s(741),u=(a,c=m.getConfig(),o=[])=>{const i=new RegExp(`\\[((?:${c.protocol}|//)${g}|\0\\d+m\x7F)(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return a.replace(i,(e,t,n,r)=>{const{length:l}=o,h=/&[lg]t;/u.exec(t);return h&&(t=t.slice(0,h.index),n="",r=`${t.slice(h.index)}${n}${r}`),new $(t,n,r,c,o),`\0${l}w\x7F`})};x.exports=u},2937:(x,k,s)=>{"use strict";const g=s(6010),m=s(7507),$=s(8138),u=s(2582),a=s(7815),c=({firstChild:{data:o},type:i,name:e},t=g.getConfig(),n=[])=>{const{doubleUnderscore:r}=t,l=new Set(r[0]),h=new Set(r[1]);return i!=="root"&&(i!=="ext-inner"||e!=="poem")&&(o=`\0${o}`),o=o.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(d,p,f)=>(new u(f.length,t,n),`${p}\0${n.length-1}r\x7F`)).replace(new RegExp(`__(${r.flat().join("|")})__`,"giu"),(d,p)=>l.has(p.toLowerCase())||h.has(p)?(new a(p,t,n),`\0${n.length-1}u\x7F`):d),i==="root"||i==="ext-inner"&&e==="poem"?o:o.slice(1)};x.exports=c},5130:(x,k,s)=>{"use strict";const g=s(6010),m=s(5649),$=s(2350),u=(a,c=g.getConfig(),o=[])=>{const i=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,e=new Set(c.html.flat()),t=a.split("<");let n=t.shift();for(const r of t){const l=i.exec(r),h=l==null?void 0:l[2],d=h==null?void 0:h.toLowerCase();if(!l||!e.has(d)){n+=`<${r}`;continue}const[,p,,f="",y,T]=l,C=new m(f,"html-attrs",d,c,o),N=C.getAttr("itemprop");if(d==="meta"&&(N===void 0||C.getAttr("content")===void 0)||d==="link"&&(N===void 0||C.getAttr("href")===void 0)){n+=`<${r}`,o.pop();continue}n+=`\0${o.length}x\x7F${T}`,new $(h,C,p==="/",y==="/>",c,o)}return n};x.exports=u},1452:(x,k,s)=>{"use strict";const g=s(6010),m=s(3905),$=s(7625),u=s(337),a=(c,o=g.getConfig(),i=[])=>{const e=s(3360),t=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,n=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,r=new RegExp(`^\\s*(?:${o.protocol})`,"iu"),l=c.split("[[");let h=l.shift();for(let d=0;d<l.length;d++){let p,f,y,T,C;const N=l[d],S=t.exec(N);if(S)[,f,y,T,C]=S,C[0]==="]"&&(T==null?void 0:T.includes("["))&&(T+="]",C=C.slice(1));else{const E=n.exec(N);E&&(p=!0,[,f,y,T]=E)}if(f===void 0||r.test(f)||/\0\d+[exhbru]\x7F/u.test(f)){h+=`[[${N}`;continue}const w=f.trim()[0]===":";if(w&&p){h+=`[[${N}`;continue}const v=g.normalizeTitle(f,0,!1,o,!0,!0),{ns:P,valid:z}=v;if(z){if(p){if(P!==6){h+=`[[${N}`;continue}let E;for(d++;d<l.length;d++){const U=l[d],G=U.split("]]");if(G.length>2){E=!0,T+=`[[${G[0]}]]${G[1]}`,C=G.slice(2).join("]]");break}else if(G.length===2)T+=`[[${G[0]}]]${G[1]}`;else{T+=`[[${U}`;break}}if(T=a(T,o,i),!E){h+=`[[${f}${y}${T}`;continue}}}else{h+=`[[${N}`;continue}T&&(T=e(T,o,i)),h+=`\0${i.length}l\x7F${C}`;let R=m;w||(P===6?R=$:P===14&&(R=u)),new R(f,T,v,o,i,y)}return h};x.exports=a},6622:(x,k,s)=>{"use strict";const g=s(6010),m=s(962),$=s(3434),u=(a,c=g.getConfig(),o=[])=>{const i=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(a);if(!i)return a;const[e,t,n]=i;a=`${t}\0${o.length}d\x7F${a.slice(e.length)}`,new m(n,c,o);let r=n.split(";").length-1;if(!r)return a;let l=/:+|-\{/gu,h=l.exec(a),d=0;for(;h&&r;){const{0:p,index:f}=h;if(p[0]===":"){if(p.length>=r)return new $(":".repeat(r),c,o),`${a.slice(0,f)}\0${o.length-1}d\x7F${a.slice(f+r)}`;a=`${a.slice(0,f)}\0${o.length}d\x7F${a.slice(l.lastIndex)}`,r-=p.length,l.lastIndex=f+4+String(o.length).length,new $(p,c,o)}else if(p==="-{"){if(!d){const{lastIndex:y}=l;l=/-\{|\}-/gu,l.lastIndex=y}d++}else if(d--,!d){const{lastIndex:y}=l;l=/:+|-\{/gu,l.lastIndex=y}h=l.exec(a)}return a};x.exports=u},4737:(x,k,s)=>{"use strict";const{extUrlChar:g}=s(231),m=s(6010),$=s(8962),u=(a,c=m.getConfig(),o=[])=>{const i=new RegExp(`(^|[^\\p{L}\\d_])(?:${c.protocol})(${g})`,"giu");return a.replace(i,(e,t,n)=>{let r="",l=t?e.slice(1):e;const h=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(l);h&&(r=l.slice(h.index),l=l.slice(0,h.index));const d=new RegExp(`[,;.:!?${l.includes("(")?"":")"}]+$`,"u"),p=d.exec(l);if(p){let f=0;p[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(l.slice(0,p.index))&&(f=1),r=`${l.slice(p.index+f)}${r}`,l=l.slice(0,p.index+f)}return r.length>=n.length?e:(new $(l,!1,c,o),`${t}\0${o.length-1}w\x7F${r}`)})};x.exports=u},3360:(x,k,s)=>{"use strict";const g=s(6010),m=s(6714),$=(u,a=g.getConfig(),c=[])=>{var h;const o=u.split(/('{2,})/u),{length:i}=o;if(i===1)return u;let e=0,t=0,n,r,l;for(let d=1;d<i;d+=2){const{length:p}=o[d];switch(p){case 2:t++;break;case 4:o[d-1]+="'",o[d]="'''";case 3:if(e++,n)break;o[d-1].endsWith(" ")?!r&&!l&&(l=d):o[d-1].slice(-2,-1)===" "?n=d:r||(r=d);break;default:o[d-1]+="'".repeat(p-5),o[d]="'''''",t++,e++}}if(t%2===1&&e%2===1){const d=(h=n!=null?n:r)!=null?h:l;o[d]="''",o[d-1]+="'"}for(let d=1;d<i;d+=2)new m(o[d].length,a,c),o[d]=`\0${c.length-1}q\x7F`;return o.join("")};x.exports=$},4624:(x,k,s)=>{"use strict";const g=s(6010),m=s(7507),$=s(8138),u=s(2840),a=s(3125),c=s(5567),o=s(3434),i=({firstChild:{data:e},type:t,name:n},r=g.getConfig(),l=[])=>{const h=[],d=e.split(`
`);let p=t==="root"||t==="parameter-value"||t==="ext-inner"&&n==="poem"?"":`
${d.shift()}`;const f=(y,T)=>{if(!T){p+=y;return}const{lastChild:C}=T;if(C.constructor===$)C.setText(String(C)+y);else{const N=new $(y,r,!0,l);N.type="table-inter",T.insertAt(N.setAttribute("stage",3))}};for(const y of d){let T=h.pop();const[C]=/^(?:\s|\0\d+c\x7F)*/u.exec(y),N=y.slice(C.length),S=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(N);if(S){for(;T&&T.type!=="td";)T=h.pop();const[,E,U,G,V]=S;E&&new o(E,r,l),f(`
${C}${E&&`\0${l.length-1}d\x7F`}${U}\0${l.length}b\x7F`,T);const W=new u(G,V,r,l);h.push(...T?[T]:[],W);continue}else if(!T){p+=`
${y}`;continue}const w=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(N);if(!w){f(`
${y}`,T),h.push(...T?[T]:[]);continue}const[,v,P,z,R]=w;if(v){for(;!(T instanceof u);)T=h.pop();T.close(`
${C}${v}`,!0),f(R,h[h.length-1])}else if(P){T.type==="td"&&(T=h.pop()),T.type==="tr"&&(T=h.pop());const E=new a(`
${C}${P}`,R,r,l);h.push(T,E),T.insertAt(E)}else{T.type==="td"&&(T=h.pop());const E=z==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let U=E.exec(R),G=0,V=`
${C}${z}`;for(;U;){const Q=new c(V,R.slice(G,U.index),r,l);T.insertAt(Q),{lastIndex:G}=E,[V]=U,U=E.exec(R)}const W=new c(V,R.slice(G),r,l);h.push(T,W),T.insertAt(W)}}return p.slice(1)};x.exports=i},9544:(x,k,s)=>{"use strict";const{text:g}=s(231),{generateForSelf:m,generateForChild:$}=s(8277),u=s(6010),a=s(8138);class c extends a{constructor(e,t=u.getConfig(),n=[]){super(void 0,t,!0,n,{});b(this,"type","arg");for(let r=0;r<e.length;r++)if(r===0||r>1){const l=s(r===0?9237:9263),h=new l(e[r],r===0?"arg-name":void 0,t,n,{});super.insertAt(h)}else{const l=new a(e[r],t,!0,n);l.type="arg-default",super.insertAt(l.setAttribute("stage",2))}}toString(e){return`{{{${super.toString(e,"|")}}}}`}text(){return`{{{${g(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|",class:!this.getAttribute("include")&&"arg wpb-error"})}lint(e=0){if(!this.getAttribute("include"))return[m(this,{start:e},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[t,n,...r]}=this,l=t.lint(e+3);if(n&&l.push(...n.lint(e+4+String(t).length)),r.length>0){const h=this.getRootNode().posFromIndex(e);l.push(...r.map(d=>$(d,h,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return l}}x.exports=c},9263:(x,k,s)=>{"use strict";const g=s(2308),m=s(9237);class $ extends g(m){constructor(){super(...arguments);b(this,"type","hidden")}}x.exports=$},9237:(x,k,s)=>{"use strict";const g=s(6010),m=s(8138);class $ extends m{constructor(c,o,i=g.getConfig(),e=[],t=void 0){super(c,i,!0,e,t);b(this,"type","plain");o&&(this.type=o)}}x.exports=$},5037:(x,k,s)=>{var o,i;"use strict";const{generateForChild:g}=s(8277),{removeComment:m}=s(231),$=s(6010),u=s(8138),a=s(9237);class c extends u{constructor(n,r,l="",h="",d=[],p=$.getConfig(),f=[]){const y=new a(r,"attr-key",p,f,{}),T=r==="title"?new u(h,p,!0,f,{}).setAttribute("type","attr-value").setAttribute("stage",$.MAX_STAGE-1):new a(h,"attr-value",p,f,{});super(void 0,p,!0,f);L(this,o,void 0);L(this,i,void 0);this.type=n,this.append(y,T),H(this,o,l),H(this,i,d),this.setAttribute("name",m(r).trim())}get balanced(){return!A(this,o)||A(this,i)[0]===A(this,i)[1]}afterBuild(){A(this,o).includes("\0")&&H(this,o,this.getAttribute("buildFromStr")(A(this,o),"string"))}toString(n){const[r="",l=""]=A(this,i);return A(this,o)?`${super.toString(n,`${A(this,o)}${r}`)}${l}`:this.firstChild.toString(n)}text(){return A(this,o)?`${super.text(`${A(this,o).trim()}"`)}"`:this.firstChild.text()}getGaps(){var n,r;return A(this,o)?A(this,o).length+((r=(n=A(this,i)[0])==null?void 0:n.length)!=null?r:0):0}print(){const[n="",r=""]=A(this,i);return A(this,o)?super.print({sep:`${A(this,o)}${n}`,post:r}):super.print()}lint(n=0){const r=super.lint(n);if(!this.balanced){const{lastChild:l}=this,h=g(l,{token:this,start:n},"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning");r.push({...h,startCol:h.startCol-1})}return r}getValue(){return A(this,o)?this.lastChild.text():!0}}o=new WeakMap,i=new WeakMap,x.exports=c},5649:(x,k,s)=>{"use strict";const{generateForSelf:g,generateForChild:m}=s(8277),$=s(6010),u=s(8138),a=s(9237),c=s(5037);class o extends u{get sanitized(){return this.getDirtyAttrs().length===0}constructor(e,t,n,r=$.getConfig(),l=[]){if(super(void 0,r,!0,l,{}),this.type=t,this.setAttribute("name",n),e){const h=new RegExp(`((?!\0\\d+c\x7F)[^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let d="",p=h.exec(e),f=0;const y=()=>{d&&(super.insertAt(new a(d,`${t.slice(0,-1)}-dirty`,r,l,{})),d="")};for(;p;){const{index:T,0:C,1:N,2:S,3:w,4:v,5:P,6:z}=p;if(d+=e.slice(f,T),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(N)){const R=v!=null?v:z,E=[w,P],U=new c(t.slice(0,-1),N,S,R,E,r,l);y(),super.insertAt(U)}else d+=C;({lastIndex:f}=h),p=h.exec(e)}d+=e.slice(f),y()}}getDirtyAttrs(){return this.childNodes.filter(e=>e instanceof a&&e.text().trim())}getAttrTokens(e){return this.childNodes.filter(t=>t instanceof c&&t.name===e.toLowerCase().trim())}getAttrToken(e){const t=this.getAttrTokens(e);return t[t.length-1]}getAttr(e){var t;return(t=this.getAttrToken(e))==null?void 0:t.getValue()}lint(e=0){const t=s(2350),n=super.lint(e);let r;if(this.parentNode.closing&&this.text().trim()&&(r=this.getRootNode().posFromIndex(e),n.push(g(this,r,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"))),!this.sanitized){r||(r=this.getRootNode().posFromIndex(e));for(const l of this.getDirtyAttrs())n.push(m(l,r,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"))}return n}print(){const e=s(2350);return super.print({class:this.parentNode.closing&&this.text().trim()&&`${this.type} wpb-error`})}}x.exports=o},8103:(x,k,s)=>{"use strict";const g=s(6010),m=s(8138),$=s(2158);class u extends m{constructor(o,i=g.getConfig(),e=[]){super(void 0,i,!0,e,{});b(this,"type","ext-inner");b(this,"name","charinsert");const t=$;this.append(...o.split(`
`).map(n=>new t(n,"charinsert-line",i,e)))}toString(o){return super.toString(o,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}x.exports=u},9910:(x,k,s)=>{"use strict";const{text:g,print:m}=s(231),$=s(6010),u=s(8138),a=s(6719),c=s(8683);class o extends u{constructor(t,n,r=$.getConfig(),l=[]){super(void 0,r,!0,l);b(this,"type","converter");this.append(new a(t,r,l));const[h]=n,d=h.includes(":"),p=new c(h,d,r,l);d&&p.childNodes.length===1?this.insertAt(new c(n.join(";"),!1,r,l)):this.append(p,...n.slice(1).map(f=>new c(f,!0,r,l)))}toString(t){const{childNodes:[n,...r]}=this;return`-{${n.toString()}${n.childNodes.length>0?"|":""}${r.map(String).join(";")}}-`}text(){const{childNodes:[t,...n]}=this;return`-{${t.text()}|${g(n,";")}}-`}getPadding(){return 2}getGaps(t=0){return t=t<0?t+this.childNodes.length:t,t||this.firstChild.childNodes.length>0?1:0}print(){const{childNodes:[t,...n]}=this;return`<span class="wpb-converter">-{${t.print()}${t.childNodes.length>0?"|":""}${m(n,{sep:";"})}}-</span>`}}x.exports=o},6719:(x,k,s)=>{var o;"use strict";const{generateForChild:g}=s(8277),m=s(6010),$=s(8138),u=s(9237),a=new Set(["A","T","R","D","-","H","N"]);class c extends ${constructor(t,n=m.getConfig(),r=[]){super(void 0,n,!0,r,{});b(this,"type","converter-flags");L(this,o,void 0);this.append(...t.map(l=>new u(l,"converter-flag",n,r)))}afterBuild(){return H(this,o,this.childNodes.map(t=>t.text().trim())),this}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t=0){const n=this.getVariantFlags(),r=this.getUnknownFlags(),l=new Set(A(this,o).filter(T=>a.has(T))),{length:h}=A(this,o).filter(T=>!T),d=A(this,o).length-r.size-h,p=super.lint(t);if(n.size===d||l.size===d)return p;const f=this.getRootNode().posFromIndex(t),{childNodes:y}=this;for(let T=0;T<y.length;T++){const C=y[T],N=C.text().trim();if(N&&!n.has(N)&&!r.has(N)&&(n.size>0||!l.has(N))){const S=g(C,f,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");p.push(S)}}return p}getUnknownFlags(){return new Set(A(this,o).filter(t=>/\{\{[^{}]+\}\}/u.test(t)))}getVariantFlags(){const t=new Set(this.getAttribute("config").variants);return new Set(A(this,o).filter(n=>t.has(n)))}}o=new WeakMap,x.exports=c},8683:(x,k,s)=>{"use strict";const g=s(6010),m=s(8138),$=s(9237);class u extends m{constructor(o,i=!0,e=g.getConfig(),t=[]){super(void 0,e,!0,t);b(this,"type","converter-rule");if(i){const n=o.indexOf(":"),r=o.slice(0,n).indexOf("=>"),l=r===-1?o.slice(0,n):o.slice(r+2,n),{variants:h}=e;h.includes(l.trim())?(super.insertAt(new $(l,"converter-rule-variant",e,t)),super.insertAt(new $(o.slice(n+1),"converter-rule-to",e,t)),r!==-1&&super.insertAt(new $(o.slice(0,r),"converter-rule-from",e,t),0)):super.insertAt(new $(o,"converter-rule-noconvert",e,t))}else super.insertAt(new $(o,"converter-rule-noconvert",e,t))}toString(o){if(this.childNodes.length===3){const{childNodes:[i,e,t]}=this;return`${i.toString(o)}=>${e.toString(o)}:${t.toString(o)}`}return super.toString(o,":")}text(){if(this.childNodes.length===3){const{childNodes:[o,i,e]}=this;return`${o.text()}=>${i.text()}:${e.text()}`}return super.text(":")}getGaps(o=0){const{length:i}=this;return o=o<0?o+i:o,o===0&&i===3?2:1}print(){if(this.childNodes.length===3){const{childNodes:[o,i,e]}=this;return`<span class="wpb-converter-rule">${o.print()}=>${i.print()}:${e.print()}</span>`}return super.print({sep:":"})}}x.exports=u},741:(x,k,s)=>{var a;"use strict";const g=s(6010),m=s(8138),$=s(8962);class u extends m{constructor(i,e,t,n=g.getConfig(),r=[]){super(void 0,n,!0,r,{});b(this,"type","ext-link");L(this,a,void 0);if(this.insertAt(new $(i,!0,n,r)),H(this,a,e),t){const l=new m(t,n,!0,r,{});l.type="ext-link-text",this.insertAt(l.setAttribute("stage",g.MAX_STAGE-1))}}toString(i){return this.childNodes.length===1?`[${super.toString(i)}${A(this,a)}]`:`[${super.toString(i,A(this,a))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return A(this,a).length}print(){const{length:i}=this;return super.print(i>1?{pre:"[",sep:A(this,a),post:"]"}:{pre:"[",post:`${A(this,a)}]`})}}a=new WeakMap,x.exports=u},1891:(x,k,s)=>{"use strict";const g=s(6010),m=s(8138),$=s(1031),u=s(9263);class a extends m{constructor(i,e=g.getConfig(),t=[]){var r;super(void 0,e,!0,t,{});b(this,"type","ext-inner");b(this,"name","gallery");const n=JSON.parse(JSON.stringify(e));for(const[l,h]of Object.entries(e.img))h==="width"&&delete n.img[l];for(const l of(r=i==null?void 0:i.split(`
`))!=null?r:[]){const h=/^([^|]+)(?:\|(.*))?/u.exec(l);if(!h){super.insertAt(l.trim()?new u(l,void 0,e,[],{}):l);continue}const[,d,p]=h,f=this.normalizeTitle(d,6,!0,!0);f.valid?super.insertAt(new $(d,p,f,n,t)):super.insertAt(new u(l,void 0,e,[],{}))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i=0){const{top:e,left:t}=this.getRootNode().posFromIndex(i),n=[];for(let r=0,l=i;r<this.childNodes.length;r++){const h=this.childNodes[r],d=String(h),p=d.trim();h.type==="hidden"&&p&&!/^<!--.*-->$/u.test(p)?n.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startLine:e+r,endLine:e+r,startCol:r?0:t,endCol:r?d.length:t+d.length}):h.type!=="hidden"&&h.type!=="text"&&n.push(...h.lint(l)),l+=d.length+1}return n}}x.exports=a},2158:(x,k,s)=>{"use strict";const g=s(6010),m=s(8138),$=s(3423);class u extends m{constructor(c,o,i=g.getConfig(),e=[]){c=c.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(t,n,r,l)=>(new $(n,i,e),new $(l,i,e),`\0${e.length-1}c\x7F${r}\0${e.length}c\x7F`)),super(c,i,!0,e,{}),this.type=o}}x.exports=u},428:(x,k,s)=>{"use strict";const g=s(6010),m=s(2158);class $ extends m{constructor(c,o=g.getConfig(),i=[]){super(c,"ext-inner",o,i);b(this,"name","pre");this.setAttribute("stage",g.MAX_STAGE-1)}isPlain(){return!0}}x.exports=$},9450:(x,k,s)=>{"use strict";const{generateForSelf:g}=s(8277),m=s(6010),$=s(8138),u=s(8058);class a extends ${constructor(i,e,t=m.getConfig(),n=[]){super(void 0,t,!0,n);b(this,"type","heading");this.setAttribute("name",String(i));const r=new $(e[0],t,!0,n);r.type="heading-title",r.setAttribute("stage",2);const l=new u(e[1],/^[^\S\n]*$/u,"heading-trail",t,n,{});this.append(r,l)}toString(i){const e="=".repeat(Number(this.name));return`${e}${this.firstChild.toString()}${e}${this.lastChild.toString()}`}text(){const i="=".repeat(Number(this.name));return`${i}${this.firstChild.text()}${i}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const i="=".repeat(Number(this.name)),e=String(this.firstChild);return super.print({pre:i,sep:i,class:(e[0]==="="||e.endsWith("=")||this.closest("html-attrs, table-attrs"))&&"heading wpb-error"})}lint(i=0){const e=super.lint(i),t=String(this.firstChild);let n;return this.name==="1"&&(n=g(this,{start:i},"<h1>"),e.push(n)),(t[0]==="="||t.endsWith("="))&&(n||(n=g(this,{start:i},"")),e.push({...n,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(n||(n=g(this,{start:i},"")),e.push({...n,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),e}}x.exports=a},2350:(x,k,s)=>{var a,c,o;"use strict";const{generateForSelf:g}=s(8277),m=s(6010),$=s(8138);class u extends ${constructor(t,n,r,l,h=m.getConfig(),d=[]){super(void 0,h,!0,d);b(this,"type","html");L(this,a,void 0);L(this,c,void 0);L(this,o,void 0);this.insertAt(n),this.setAttribute("name",t.toLowerCase()),H(this,a,r),H(this,c,l),H(this,o,t)}get closing(){return A(this,a)}toString(t){return`<${A(this,a)?"/":""}${A(this,o)}${super.toString()}${A(this,c)?"/":""}>`}text(){return`<${A(this,a)?"/":""}${A(this,o)}${A(this,a)?"":super.text()}${A(this,c)?"/":""}>`}getPadding(){return A(this,o).length+(A(this,a)?2:1)}print(){return super.print({pre:`&lt;${A(this,a)?"/":""}${A(this,o)}`,post:`${A(this,c)?"/":""}&gt;`,class:this.closest("table-attrs")&&"html wpb-error"})}lint(t=0){const n=super.lint(t);let r;this.name==="h1"&&!A(this,a)&&(r=g(this,{start:t},"<h1>"),n.push(r)),this.closest("table-attrs")&&(r||(r=g(this,{start:t},"")),n.push({...r,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:l}){r||(r=g(this,{start:t},""));const[h]=l.split("\uFF1A"),d={...r,message:h,severity:h==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};n.push(d)}return n}findMatchingTag(){const{html:t}=this.getAttribute("config"),{name:n,parentNode:r}=this,l=String(this);if(A(this,a)&&(A(this,c)||t[2].includes(n)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${l}`);if(t[2].includes(n)||A(this,c)&&t[1].includes(n))return this;if(A(this,c)&&t[0].includes(n))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${l}`);if(!r)return;const{childNodes:h}=r,d=h.indexOf(this),p=A(this,a)?h.slice(0,d).reverse().filter(({type:y,name:T})=>y==="html"&&T===n):h.slice(d+1).filter(({type:y,name:T})=>y==="html"&&T===n);let f=A(this,a)?-1:1;for(const y of p)if(y.closing?f--:f++,f===0)return y;throw new SyntaxError(`\u672A${A(this,a)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${l}`)}}a=new WeakMap,c=new WeakMap,o=new WeakMap,x.exports=u},1874:(x,k,s)=>{var c,lt,i;"use strict";const{print:g,extUrlChar:m}=s(231),$=s(6010),u=s(8138),t=class extends u{constructor(l,h=$.getConfig(),d=[]){var r=(...e)=>{super(...e);b(this,"type","image-parameter");L(this,i,"")};var y;const p=Object.entries(h.img).map(([T,C])=>[T,C,new RegExp(`^(\\s*)${T.replace("$1","(.*)")}(\\s*)$`,"u")]),f=p.find(([,,T])=>T.test(l));if(f){const T=f[2].exec(l);if(T.length!==4||B(y=t,c,lt).call(y,f[1],T[2],h,!0)){T.length===3?(r(void 0,h,!0,d),H(this,i,l)):(r(T[2],h,!0,d,{}),H(this,i,`${T[1]}${f[0]}${T[3]}`)),this.setAttribute("name",f[1]);return}}r(l,h,!0,d),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(l){return A(this,i)?A(this,i).replace("$1",super.toString(l)):super.toString(l)}text(){return A(this,i)?A(this,i).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,A(this,i).indexOf("$1"))}print(){return A(this,i)?`<span class="wpb-image-parameter">${A(this,i).replace("$1",`<span class="wpb-image-caption">${g(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let a=t;c=new WeakSet,lt=function(l,h,d=$.getConfig(),p=!1){switch(h=h.replace(/\0\d+t\x7F/gu,"").trim(),l){case"width":return/^\d*(?:x\d*)?$/u.test(h);case"link":return!h||new RegExp(`(?:${d.protocol}|//)${m}(?=\0\\d+t\x7F|$)`,"iu").test(h)?!0:(h.startsWith("[[")&&h.endsWith("]]")&&(h=h.slice(2,-2)),$.normalizeTitle(h,0,!1,d,p,!0).valid);case"lang":return d.variants.includes(h);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(h)}},i=new WeakMap,L(a,c),x.exports=a},2641:(x,k,s)=>{"use strict";const{generateForSelf:g,generateForChild:m}=s(8277),$=s(6010),u=s(8138),a=s(3423),c=s(1031),o=s(2571);class i extends u{constructor(n,r=$.getConfig(),l=[]){super(void 0,r,!0,l,{});b(this,"type","ext-inner");b(this,"name","imagemap");if(!n)return;const h=n.split(`
`),d=new Set(r.protocol.split("|")),p=a,f=C=>{super.insertAt(new p(C,r,l))};let y=!0,T=!1;for(const C of h){const N=C.trim();if(!(T||!N||N[0]==="#")){if(y){const[S,...w]=C.split("|"),v=this.normalizeTitle(S,0,!0);if(v.valid&&!v.interwiki&&v.ns===6){const P=new c(S,w.length>0?w.join("|"):void 0,v,r,l);P.type="imagemap-image",super.insertAt(P),y=!1;continue}else T=!0}else if(C.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(C);continue}else if(C.includes("[")){const S=C.indexOf("["),w=C.slice(S),v=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(w);if(v){const P=this.normalizeTitle(v[1],0,!0);if(P.valid){super.insertAt(new o(C.slice(0,S),[...v.slice(1),P],w.slice(w.indexOf("]]")+2),r,l));continue}}else if(d.has(w.slice(1,w.indexOf(":")+1))||d.has(w.slice(1,w.indexOf("//")+2))){const P=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(w);if(P){super.insertAt(new o(C.slice(0,S),P.slice(1),w.slice(w.indexOf("]")+1),r,l));continue}}}}f(C)}}get image(){return this.childNodes.find(({type:n})=>n==="imagemap-image")}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`,class:!this.image&&"ext-inner wpb-error"})}lint(n=0){const r=super.lint(n),l=this.getRootNode().posFromIndex(n);return this.image?r.push(...this.childNodes.filter(h=>{const d=String(h).trim();return h.type==="noinclude"&&d&&d[0]!=="#"}).map(h=>m(h,l,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):r.push(g(this,l,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),r}}x.exports=i},2571:(x,k,s)=>{"use strict";const g=s(6986),m=s(8138),$=s(3423),u=s(3905),a=s(741);class c extends m{constructor(e,t,n,r,l){const h=t[2]instanceof g?u:a;super(void 0,r,!0,l);b(this,"type","imagemap-link");this.append(e,new h(...t,r,l),new $(n,r,l))}}x.exports=c},8138:(x,k,s)=>{var o,i,e,t,n,r,l,h,ht,p,at,y,dt,C,ut,S,pt,v,ct,z,gt,E,ft,G,xt,W,mt,X,$t;"use strict";const{text:g}=s(231),m=s(6010),$=s(9205),u=s(7507),{MAX_STAGE:a}=m,Z=class extends ${constructor(F,I=m.getConfig(),O=!1,J=[],_=void 0){super();L(this,h);L(this,p);L(this,y);L(this,C);L(this,S);L(this,v);L(this,z);L(this,E);L(this,G);L(this,W);L(this,X);b(this,"type","root");L(this,o,0);L(this,i,void 0);L(this,e,void 0);L(this,t,void 0);L(this,n,(F=A(this,o),I=!1)=>{if(F<A(this,o)||!this.isPlain()||this.childNodes.length===0)return this;switch(F){case 0:this.type==="root"&&A(this,e).shift(),H(this,t,Boolean(I)),B(this,h,ht).call(this,I);break;case 1:B(this,p,at).call(this);break;case 2:B(this,y,dt).call(this);break;case 3:B(this,C,ut).call(this);break;case 4:B(this,S,pt).call(this);break;case 5:B(this,v,ct).call(this);break;case 6:B(this,z,gt).call(this);break;case 7:B(this,E,ft).call(this);break;case 8:B(this,G,xt).call(this);break;case 9:B(this,W,mt).call(this);break;case 10:B(this,X,$t).call(this)}if(this.type==="root")for(const O of A(this,e))O.getAttribute("parseOnce")(F,I);return rt(this,o)._++,this});L(this,r,(F,I)=>{const O=F.split(/[\0\x7F]/u).map((J,_)=>{if(_%2===0)return new u(J);if(isNaN(J[J.length-1]))return A(this,e)[Number(J.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${J}`)});return I==="string"?O.map(String).join(""):I==="text"?g(O):O});L(this,l,()=>{H(this,o,a);const{length:F,firstChild:I}=this,O=String(I);if(F===1&&I.type==="text"&&O.includes("\0")&&(this.replaceChildren(...A(this,r).call(this,O)),this.normalize(),this.type==="root"))for(const J of A(this,e))J.getAttribute("build")()});typeof F=="string"&&this.insertAt(O?F:F.replace(/[\0\x7F]/gu,"")),H(this,i,I),H(this,e,J),J.push(this)}getAttribute(F){switch(F){case"config":return JSON.parse(JSON.stringify(A(this,i)));case"accum":return A(this,e);case"parseOnce":return A(this,n);case"buildFromStr":return A(this,r);case"build":return A(this,l);case"include":{if(A(this,t)!==void 0)return A(this,t);const I=this.getRootNode();return I.type==="root"&&I!==this?I.getAttribute("include"):!1}default:return super.getAttribute(F)}}setAttribute(F,I){switch(F){case"stage":return A(this,o)===0&&this.type==="root"&&A(this,e).shift(),H(this,o,I),this;default:return super.setAttribute(F,I)}}isPlain(){return this.constructor===Z}insertAt(F,I=this.childNodes.length){return typeof F=="string"&&(F=new u(F)),super.insertAt(F,I),F.type==="root"&&(F.type="plain"),F}normalizeTitle(F,I=0,O=!1,J=!1){return m.normalizeTitle(F,I,A(this,t),A(this,i),O,J)}afterBuild(){if(this.type==="root")for(const F of A(this,e))F.afterBuild();return this}parse(F=a,I=!1){for(;A(this,o)<F;)A(this,n).call(this,A(this,o),I);return F&&(A(this,l).call(this),this.afterBuild()),this}};let c=Z;o=new WeakMap,i=new WeakMap,e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,l=new WeakMap,h=new WeakSet,ht=function(F){const I=s(4907);this.setText(I(String(this.firstChild),A(this,i),A(this,e),F))},p=new WeakSet,at=function(){const F=s(8275),I=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,O=F(I,A(this,i),A(this,e));this.setText(this.type==="root"?O:O.slice(1))},y=new WeakSet,dt=function(){const F=s(5130);this.setText(F(String(this.firstChild),A(this,i),A(this,e)))},C=new WeakSet,ut=function(){const F=s(4624),I=s(2840);this.setText(F(this,A(this,i),A(this,e)));for(const O of A(this,e))if(O instanceof I&&O.type!=="td"){O.normalize();const{childNodes:[,J]}=O;if(typeof J=="string"&&J.includes("\0")){O.removeAt(1);const _=new Z(J,A(this,i),!0,A(this,e));O.insertAt(_,1),_.setAttribute("stage",4)}}},S=new WeakSet,pt=function(){const F=s(2937);this.setText(F(this,A(this,i),A(this,e)))},v=new WeakSet,ct=function(){const F=s(1452);this.setText(F(String(this.firstChild),A(this,i),A(this,e)))},z=new WeakSet,gt=function(){const F=s(3360),I=String(this.firstChild).split(`
`);for(let O=0;O<I.length;O++)I[O]=F(I[O],A(this,i),A(this,e));this.setText(I.join(`
`))},E=new WeakSet,ft=function(){const F=s(7513);this.setText(F(String(this.firstChild),A(this,i),A(this,e)))},G=new WeakSet,xt=function(){const F=s(4737);this.setText(F(String(this.firstChild),A(this,i),A(this,e)))},W=new WeakSet,mt=function(){if(this.type==="image-parameter")return;const F=s(6622),I=String(this.firstChild).split(`
`);let O=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;O<I.length;O++)I[O]=F(I[O],A(this,i),A(this,e));this.setText(I.join(`
`))},X=new WeakSet,$t=function(){const F=s(3765);this.setText(F(String(this.firstChild),A(this,i),A(this,e)))},x.exports=c},337:(x,k,s)=>{"use strict";const g=s(3905);class m extends g{constructor(){super(...arguments);b(this,"type","category")}}x.exports=m},7625:(x,k,s)=>{var t,et;"use strict";const{explode:g}=s(231),{generateForChild:m}=s(8277),$=s(6010),u=s(3905),a=s(1874),c=new Set(["manualthumb","frameless","framed","thumbnail"]),o=new Set(["left","right","center","none"]),i=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class e extends u{constructor(h,d,p,f=$.getConfig(),y=[],T="|"){super(h,void 0,p,f,y,T);L(this,t);b(this,"type","file");this.append(...g("-{","}-","|",d).map(C=>new a(C,f,y)))}lint(h=0){const d=super.lint(h),p=this.getAllArgs(),f=[...new Set(p.map(({name:S})=>S))],y=f.filter(S=>c.has(S)),T=f.filter(S=>o.has(S)),C=f.filter(S=>i.has(S));if(p.length===f.length&&y.length<2&&T.length<2&&C.length<2)return d;const N=this.getRootNode().posFromIndex(h);for(const S of f){let w=p.filter(({name:v})=>v===S);S==="caption"&&(w=[...w.slice(0,-1).filter(v=>v.text()),w[w.length-1]]),w.length>1&&d.push(...w.map(v=>m(v,N,`\u91CD\u590D\u7684\u56FE\u7247${S}\u53C2\u6570`)))}return y.size>1&&d.push(...p.filter(({name:S})=>c.has(S)).map(S=>m(S,N,"\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),T.size>1&&d.push(...p.filter(({name:S})=>o.has(S)).map(S=>m(S,N,"\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),C.size>1&&d.push(...p.filter(({name:S})=>i.has(S)).map(S=>m(S,N,"\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),d}getAllArgs(){return this.childNodes.slice(1)}getArgs(h){return this.getAllArgs().filter(({name:d})=>h===d)}getFrameArgs(){return B(this,t,et).call(this,c,"\u6846\u67B6")}getHorizAlignArgs(){return B(this,t,et).call(this,o,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return B(this,t,et).call(this,i,"\u5782\u76F4\u5BF9\u9F50")}}t=new WeakSet,et=function(h,d){return this.getAllArgs().filter(({name:f})=>h.has(f))},x.exports=e},1031:(x,k,s)=>{var c;"use strict";const{generateForSelf:g}=s(8277),m=s(6010),$=s(8138),u=s(7625);class a extends u{constructor(e,t,n,r=m.getConfig(),l=[]){let h;if(t!==void 0){h=new $(t,r,!0,l),h.type="temp";for(let d=1;d<m.MAX_STAGE;d++)h.getAttribute("parseOnce")();l.splice(l.indexOf(h),1)}super(e,h==null?void 0:h.toString(),n,r,l);b(this,"type","gallery-image");L(this,c,!1);this.setAttribute("bracket",!1)}afterBuild(){const e=this.type==="imagemap-image",{interwiki:t,ns:n}=this.normalizeTitle(String(this.firstChild),e?0:6,!0,!e);return H(this,c,t||n!==6),this}getPadding(){return 0}lint(e=0){const t=super.lint(e);return A(this,c)&&t.push(g(this,{start:e},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),t}print(){return super.print({class:A(this,c)&&"gallery-image wpb-error"})}}c=new WeakMap,x.exports=a},3905:(x,k,s)=>{var o,i;"use strict";const{generateForChild:g}=s(8277),m=s(6010),$=s(7507),u=s(8138),a=s(9237);class c extends u{constructor(n,r,l,h=m.getConfig(),d=[],p="|"){super(void 0,h,!0,d,{});b(this,"type","link");L(this,o,!0);L(this,i,void 0);if(this.insertAt(new a(n,"link-target",h,d,{})),r!==void 0){const f=new u(r,h,!0,d,{});f.type="link-text",this.insertAt(f.setAttribute("stage",m.MAX_STAGE-1))}H(this,i,p)}afterBuild(){var n;return(n=A(this,i))!=null&&n.includes("\0")&&H(this,i,this.getAttribute("buildFromStr")(A(this,i),"string")),this}setAttribute(n,r){return n==="bracket"?(H(this,o,Boolean(r)),this):super.setAttribute(n,r)}toString(n){const r=super.toString(n,A(this,i));return A(this,o)?`[[${r}]]`:r}text(){const n=super.text("|");return A(this,o)?`[[${n}]]`:n}getPadding(){return 2}getGaps(){return A(this,i).length}print(){return super.print(A(this,o)?{pre:"[[",post:"]]",sep:A(this,i)}:{sep:A(this,i)})}lint(n=0){var h;const r=super.lint(n),{childNodes:[,l]}=this;return(h=l==null?void 0:l.childNodes)!=null&&h.some(({type:d,data:p})=>d==="text"&&p.includes("|"))&&r.push(g(l,{token:this,start:n},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"')),r}}o=new WeakMap,i=new WeakMap,x.exports=c},8962:(x,k,s)=>{"use strict";const{generateForChild:g}=s(8277),m=s(6010),$=s(8138);class u extends ${constructor(o,i,e=m.getConfig(),t=[]){super(o,e,!0,t,{});b(this,"type","free-ext-link");i&&(this.type="ext-link-url")}lint(o=0){const i=super.lint(o),e="[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]";let t;for(const n of this.childNodes){const r=String(n);if(n.type!=="text"||!new RegExp(e,"u").test(r))continue;t||(t=this.getRootNode().posFromIndex(o));const l=g(n,t,"URL\u4E2D\u7684\u5168\u89D2\u6807\u70B9","warning"),h=new RegExp(e,"gu");for(let d=h.exec(r);d;d=h.exec(r)){const{index:p}=d,f=r.slice(0,p).split(`
`),{length:y}=f,{length:T}=f[y-1],C=l.startLine+y-1,N=y>1?T:l.startCol+T;i.push({...l,startLine:C,endLine:C,startCol:N,endCol:N+1})}}return i}}x.exports=u},9389:(x,k,s)=>{"use strict";const g=s(6010),m=s(8889);class $ extends m{constructor(c,o=g.getConfig(),i=[]){super(c,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],o,i);b(this,"name","choose")}}x.exports=$},9269:(x,k,s)=>{"use strict";const g=s(6010),m=s(8889);class $ extends m{constructor(c,o=g.getConfig(),i=[]){super(c,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],o,i);b(this,"name","combobox")}}x.exports=$},8889:(x,k,s)=>{"use strict";const{generateForChild:g}=s(8277),m=s(6010),$=s(8138),u=s(7267),a=s(3423);class c extends ${constructor(e,t,n,r=m.getConfig(),l=[]){var d;const h=(d=e==null?void 0:e.replace(t,(p,f,y,T,C)=>{const N=`\0${l.length+1}e\x7F`;return new u(f,y,T,C,r,l),N}))==null?void 0:d.replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(p,f,y)=>y===""?f:(new a(y,r,l),`${f}\0${l.length}c\x7F`));super(h,r,!0,l,{});b(this,"type","ext-inner")}lint(e=0){let t;return[...super.lint(e),...this.childNodes.filter(n=>{if(n.type==="ext")return!1;const r=String(n).trim();return r&&!/^<!--.*-->$/u.test(r)}).map(n=>(t||(t=this.getRootNode().posFromIndex(e)),g(n,t,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}x.exports=c},5937:(x,k,s)=>{"use strict";const g=s(6010),m=s(8889);class $ extends m{constructor(c,o=g.getConfig(),i=[]){super(c,/<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],o,i);b(this,"name","references")}}x.exports=$},7033:(x,k,s)=>{var g={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function m(u){var a=$(u);return s(a)}function $(u){if(!s.o(g,u)){var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}return g[u]}m.keys=function(){return Object.keys(g)},m.resolve=$,x.exports=m,m.id=7033},5749:(x,k,s)=>{"use strict";const g=s(2308),{generateForSelf:m}=s(8277),$=s(6010),u=s(6935);class a extends g(u){constructor(i,e=!0,t=$.getConfig(),n=[]){super(i,t,n);b(this,"type","comment");b(this,"closed");this.closed=e}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":"",class:!this.closed&&"comment wpb-error"})}lint(i=0){return this.closed?[]:[m(this,{start:i},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(i){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}x.exports=a},3434:(x,k,s)=>{"use strict";const g=s(6935);class m extends g{constructor(){super(...arguments);b(this,"type","dd")}}x.exports=m},7815:(x,k,s)=>{"use strict";const g=s(2308),m=s(6935);class $ extends g(m){constructor(){super(...arguments);b(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(c){return`__${String(this.firstChild)}__`}}x.exports=$},2582:(x,k,s)=>{"use strict";const g=s(6010),m=s(6935);class $ extends m{constructor(c,o=g.getConfig(),i=[]){super("-".repeat(c),o,i);b(this,"type","hr")}}x.exports=$},6935:(x,k,s)=>{"use strict";const{generateForSelf:g}=s(8277),m=s(6010),$=s(8138);class u extends ${constructor(o,i=m.getConfig(),e=[]){super(o,i,!0,e);b(this,"type","ext-inner")}lint(o=0){const{type:i,name:e}=this;return i==="ext-inner"&&(e==="templatestyles"||e==="section")&&String(this)?[g(this,{start:o},`<${e}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(o)}print(){const{type:o,name:i}=this;return super.print({class:o==="ext-inner"&&(i==="templatestyles"||i==="section")&&String(this)&&"ext-inner wpb-error"})}}x.exports=u},962:(x,k,s)=>{"use strict";const g=s(3434);class m extends g{constructor(){super(...arguments);b(this,"type","list")}}x.exports=m},3423:(x,k,s)=>{"use strict";const g=s(2308),m=s(6935);class $ extends g(m){constructor(){super(...arguments);b(this,"type","noinclude")}}x.exports=$},6714:(x,k,s)=>{"use strict";const{generateForSelf:g}=s(8277),m=s(6010),$=s(7507),u=s(6935);class a extends u{constructor(i,e=m.getConfig(),t=[]){super("'".repeat(i),e,t);b(this,"type","quote")}lint(i=0){const{previousSibling:e,nextSibling:t}=this,n=`\u5B64\u7ACB\u7684"'"`,r=[];let l;if((e==null?void 0:e.type)==="text"&&e.data.endsWith("'")){l=g(this,{start:i},n);const{startLine:h,startCol:d}=l,[,{length:p}]=e.data.match(/(?:^|[^'])('+)$/u);r.push({...l,startCol:d-p,endLine:h,endCol:d})}if((t==null?void 0:t.type)==="text"&&t.data[0]==="'"){l||(l=g(this,{start:i},n));const{endLine:h,endCol:d}=l,[{length:p}]=t.data.match(/^'+/u);r.push({...l,startLine:h,startCol:d,endCol:d+p})}return r}}x.exports=a},851:(x,k,s)=>{"use strict";const g=s(6010),m=s(8138);class $ extends m{constructor(c,o=g.getConfig(),i=[]){super(c,o,!0,i);b(this,"type","onlyinclude")}toString(c){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}x.exports=$},9380:(x,k,s)=>{"use strict";const{generateForChild:g}=s(8277),m=s(6010),$=s(8138),u=s(9237);class a extends ${constructor(i,e=m.getConfig(),t=[]){super(void 0,e,!0,t,{});b(this,"type","ext-inner");if(i){const n=u;this.append(...i.split(`
`).map(r=>new n(r,"param-line",e,t,{})))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i=0){let e;return this.childNodes.filter(t=>{const{childNodes:n}=t,r=n.findIndex(({type:h})=>h!=="text"),l=(r>=0?n.slice(0,r).map(String).join(""):String(t)).trim();return l&&!(r>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(l)}).map(t=>(e||(e=this.getRootNode().posFromIndex(i)),g(t,e,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}x.exports=a},9799:(x,k,s)=>{"use strict";const{extUrlChar:g}=s(231),{generateForChild:m}=s(8277),$=s(6010),u=s(8138);class a extends u{constructor(i,e,t=$.getConfig(),n=[]){super(void 0,t,!0,n);b(this,"type","parameter");const r=new u(typeof i=="number"?void 0:i,t,!0,n,{}),l=new u(e,t,!0,n);r.type="parameter-key",l.type="parameter-value",this.append(r,l.setAttribute("stage",2))}get anon(){return this.firstChild.childNodes.length===0}afterBuild(){if(!this.anon){const i=s(1782),e=String(this.firstChild).replace(/<!--.*?-->/gu,"").trim(),{parentNode:t}=this;this.setAttribute("name",e),t instanceof i&&t.getArgs(e,!1,!1).add(this)}return this}toString(i){return this.anon?this.lastChild.toString(i):super.toString(i,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(i=0){var r;const e=super.lint(i),{firstChild:t}=this,n=(r=new RegExp(`https?://${g}$`,"iu").exec(String(t).replace(/<!--.*?-->/gu,"")))==null?void 0:r[0];if(n&&new URL(n).search){const l=m(t,{token:this,start:i},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");e.push({...l,startLine:l.endLine,startCol:l.endCol,endCol:l.endCol+1})}return e}}x.exports=a},8058:(x,k,s)=>{"use strict";const g=s(6010),m=s(8138);class $ extends m{constructor(a,c,o="plain",i=g.getConfig(),e=[],t=void 0){super(a,i,!0,e,t),this.type=o}}x.exports=$},2840:(x,k,s)=>{"use strict";const{generateForChild:g}=s(8277),m=s(3125),$=s(8058);class u extends m{constructor(){super(...arguments);b(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(o=0){const i=super.lint(o);if(!this.closed){const{firstChild:e}=this,t=g(e,{token:this,start:o},"\u672A\u95ED\u5408\u7684\u8868\u683C");i.push(t)}return i}close(o=`
|}`,i=!1){const e=this.getAttribute("config"),t=this.getAttribute("accum");super.insertAt(new $(o,void 0,"table-syntax",e,t))}}x.exports=u},5567:(x,k,s)=>{var a;"use strict";const g=s(6010),m=s(8138),$=s(3125);class u extends ${constructor(i,e,t=g.getConfig(),n=[]){let r=e==null?void 0:e.match(/\||\0\d+!\x7F/u),l=r?e.slice(0,r.index):"";/\[\[|-\{/u.test(l)&&(r=void 0,l="");super(i,l,t,n);b(this,"type","td");L(this,a,"");r&&([rt(this,a)._]=r);const h=new m(e==null?void 0:e.slice((r==null?void 0:r.index)+A(this,a).length),t,!0,n);h.type="td-inner",this.insertAt(h.setAttribute("stage",4))}afterBuild(){return A(this,a).includes("\0")&&H(this,a,this.getAttribute("buildFromStr")(A(this,a),"string")),this}toString(i){const{childNodes:[e,t,n]}=this;return`${e.toString()}${t.toString()}${A(this,a)}${n.toString()}`}text(){const{childNodes:[i,e,t]}=this;return`${i.text()}${e.text()}${A(this,a)}${t.text()}`}getGaps(i=0){return i=i<0?i+this.childNodes.length:i,i===1?A(this,a).length:0}print(){const{childNodes:[i,e,t]}=this;return`<span class="wpb-td">${i.print()}${e.print()}${A(this,a)}${t.print()}</span>`}}a=new WeakMap,x.exports=u},3125:(x,k,s)=>{"use strict";const{generateForChild:g}=s(8277),m=s(6010),$=s(8138),u=s(8058),a=s(5649);class c extends ${constructor(e,t="",n=m.getConfig(),r=[],l=void 0){super(void 0,n,!0,r,{});b(this,"type","tr");this.append(new u(e,l,"table-syntax",n,r,{}),new a(t,"table-attrs","tr",n,r))}lint(e=0){const t=s(1782),n=super.lint(e),r=this.childNodes.find(({type:d})=>d==="table-inter");if(!r)return n;const l=r.childNodes.find(d=>d.text().trim());if(l){if((l==null?void 0:l.type)==="magic-word")try{if(l.getPossibleValues().every(p=>/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u.test(p.text())))return n}catch(d){}}else return n;const h=g(r,{token:this,start:e},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return n.push({...h,startLine:h.startLine+1,startCol:0}),n}text(){const e=super.text();return this.type==="tr"&&!e.trim().includes(`
`)?"":e}}x.exports=c},7267:(x,k,s)=>{"use strict";const{generateForSelf:g}=s(8277),m=s(6010),$=s(8138),u=s(1074),a=s(5649);class c extends u{constructor(e,t="",n="",r=void 0,l=m.getConfig(),h=[]){t=!t||/^\s/u.test(t)?t:` ${t}`;const d=e.toLowerCase(),p=new a(t,"ext-attrs",d,l,h),f=JSON.parse(JSON.stringify(l)),y=new Set(f.ext);let T;switch(y.delete(d),f.ext=[...y],d){case"tab":y.delete("tabs"),f.ext=[...y];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":T=new $(n,f,!0,h);break;case"gallery":{const C=s(1891);T=new C(n,f,h);break}case"pre":{const C=s(428);T=new C(n,f,h);break}case"charinsert":{const C=s(8103);T=new C(n,f,h);break}case"references":case"choose":case"combobox":{const C=s(8889),N=s(7033)(`./${d}`);T=new N(n,f,h);break}case"imagemap":{const C=s(2641);T=new C(n,l,h);break}case"dynamicpagelist":{const C=s(9380);T=new C(n,f,h);break}default:{const C=s(6935);T=new C(n,l)}}T.setAttribute("name",d).type="ext-inner";super(e,p,T,r,l,h);b(this,"type","ext");b(this,"closed",!0)}lint(e=0){const t=super.lint(e);return this.closest("html-attrs, table-attrs")&&t.push(g(this,{start:e},"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6269\u5C55\u6807\u7B7E")),t}print(){return super.print({class:this.closest("html-attrs, table-attrs")&&"ext wpb-error"})}}x.exports=c},8655:(x,k,s)=>{"use strict";const g=s(2308),{generateForSelf:m}=s(8277),$=s(6010),u=s(1074);class a extends g(u){constructor(i,e="",t=void 0,n=void 0,r=$.getConfig(),l=[]){super(i,e,t!=null?t:"",t===void 0||n!=null?n:"",r,l);b(this,"type","include")}lint(i=0){return this.closed?[]:[m(this,{start:i},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}print(){return super.print({class:!this.closed&&`${this.type} wpb-error`})}}x.exports=a},1074:(x,k,s)=>{var u,a,c;"use strict";const g=s(6010),m=s(8138);class $ extends m{constructor(e,t,n,r,l=g.getConfig(),h=[]){super(void 0,l,!0);L(this,u,void 0);L(this,a,void 0);L(this,c,void 0);H(this,c,[e,r||e]),H(this,u,r===void 0),H(this,a,r!==""),this.append(t,n);let d=h.indexOf(t);d===-1&&(d=h.indexOf(n)),d===-1&&(d=1/0),h.splice(d,0,this)}get closed(){return A(this,a)}toString(e){const{firstChild:t,lastChild:n}=this,[r,l]=A(this,c);return A(this,u)?`<${r}${String(t)}/>`:`<${r}${String(t)}>${String(n)}${A(this,a)?`</${l}>`:""}`}text(){const[e,t]=A(this,c);return A(this,u)?`<${e}${this.firstChild.text()}/>`:`<${e}${super.text(">")}${A(this,a)?`</${t}>`:""}`}getPadding(){return A(this,c)[0].length+1}getGaps(){return 1}print(){const[e,t]=A(this,c);return super.print(A(this,u)?{pre:`&lt;${e}`,post:"/&gt;"}:{pre:`&lt;${e}`,sep:"&gt;",post:A(this,a)?`&lt;/${t}&gt;`:""})}}u=new WeakMap,a=new WeakMap,c=new WeakMap,x.exports=$},1782:(x,k,s)=>{var n,r,Tt;"use strict";const{removeComment:g,print:m,text:$}=s(231),{generateForChild:u}=s(8277),a=s(6010),c=s(8138),o=s(9799),i=s(9237),e=s(8058);class t extends c{constructor(p,f,y=a.getConfig(),T=[]){super(void 0,y,!0,T,{});L(this,r);b(this,"type","template");b(this,"modifier","");L(this,n,{});const{parserFunction:[C,N,S]}=y;if(p.includes(":")){const[P,...z]=p.split(":");this.setModifier(P)&&(p=z.join(":"))}if(p.includes(":")||f.length===0&&!S.includes(this.modifier.toLowerCase())){const[P,...z]=p.split(":"),R=g(P),E=R.trim(),U=N.includes(E),G=C[E.toLowerCase()];if(!(z.length>0&&/\s$/u.test(R))&&(U||G)){this.setAttribute("name",G||E.toLowerCase()).type="magic-word";const V=new RegExp(`^\\s*${E}\\s*$`,U?"u":"iu"),W=new e(P,V,"magic-word-name",y,T,{});if(this.insertAt(W),z.length>0&&f.unshift([z.join(":")]),this.name==="invoke")for(let Q=0;Q<2;Q++){const X=f.shift();if(!X)break;const K=new i(X.join("="),`invoke-${Q?"function":"module"}`,y,T,{});this.insertAt(K)}}}if(this.type==="template"){const P=g(p).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test(P))throw T.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${P}`);const z=new i(p,"template-name",y,T,{});this.insertAt(z)}const w=this.isTemplate();let v=1;for(const P of f)w||(P[0]=P.join("="),P.length=1),P.length===1&&(P.unshift(v),v++),this.insertAt(new o(...P,y,T))}setModifier(p=""){if(/\s$/u.test(p))return!1;const{parserFunction:[,,f,y]}=this.getAttribute("config"),T=p.trim().toLowerCase(),C=f.includes(T),N=y.includes(T);return C||N||p===""?(this.setAttribute("modifier",p),Boolean(p)):!1}toString(p){const{childNodes:f,firstChild:y,modifier:T}=this;return`{{${T}${T&&":"}${this.type==="magic-word"?`${String(y)}${f.length>1?":":""}${f.slice(1).map(String).join("|")}`:super.toString(p,"|")}}}`}text(){const{childNodes:p,firstChild:f,modifier:y}=this;return`{{${y}${y&&":"}${this.type==="magic-word"?`${f.text()}${p.length>1?":":""}${$(p.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:p,firstChild:f,modifier:y}=this;return`<span class="wpb-${this.type}">{{${y}${y&&":"}${this.type==="magic-word"?`${f.print()}${p.length>1?":":""}${m(p.slice(1),{sep:"|"})}`:m(p,{sep:"|"})}}}</span>`}lint(p=0){const f=super.lint(p);if(!this.isTemplate())return f;const y=this.getDuplicatedArgs();if(y.length>0){const T=this.getRootNode().posFromIndex(p);f.push(...y.flatMap(([,C])=>C).map(C=>u(C,T,"\u91CD\u590D\u53C2\u6570")))}return f}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(p,f=this.childNodes.length){return super.insertAt(p,f),p.anon?B(this,r,Tt).call(this,p):p.name&&this.getArgs(p.name,!1,!1).add(p),p}getAllArgs(){return this.childNodes.filter(p=>p instanceof o)}getAnonArgs(){return this.getAllArgs().filter(({anon:p})=>p)}getArgs(p,f,y=!0){const T=String(p).trim();let C;return Object.prototype.hasOwnProperty.call(A(this,n),T)?C=A(this,n)[T]:(C=new Set(this.getAllArgs().filter(({name:N})=>T===N)),A(this,n)[T]=C),C}getDuplicatedArgs(){return this.isTemplate()?Object.entries(A(this,n)).filter(([,{size:p}])=>p>1).map(([p,f])=>[p,[...f]]):[]}getPossibleValues(){const{type:p,name:f,childNodes:y,constructor:{name:T}}=this;if(p==="template")throw new Error(`${T}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let C;switch(f){case"if":case"ifexist":case"ifexpr":case"iferror":C=2;break;case"ifeq":C=3;break;default:throw new Error(`${T}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const N=y.slice(C,C+2).map(({childNodes:[,S]})=>S);for(let S=0;S<N.length;){const{length:w,0:v}=N[S].childNodes.filter(P=>P.text().trim());if(w===0)N.splice(S,1);else if(w>1||v.type!=="magic-word")S++;else try{const P=v.getPossibleValues();N.splice(S,1,...P),S+=P.length}catch(P){S++}}return N}}n=new WeakMap,r=new WeakSet,Tt=function(p){const f=this.getAnonArgs(),y=f.indexOf(p);for(let T=y;T<f.length;T++){const C=f[T],{name:N}=C,S=String(T+1);N!==S&&this.getArgs(S,!1,!1).add(C.setAttribute("name",S))}},x.exports=t},8277:(x,k,s)=>{"use strict";const g=s(8138),m=(u,a,c,o="error")=>{const{style:{top:i,left:e,height:t,width:n}}=u,{token:r,start:l}=a,{top:h,left:d}=r?r.getRootNode().posFromIndex(l):a,p=h+i,f=p+t-1,y=i?e:d+e,T=t>1?n:y+n;return{message:c,severity:o,startLine:p,endLine:f,startCol:y,endCol:T}},$=(u,a,c,o="error")=>{const{start:i}=a,{offsetHeight:e,offsetWidth:t}=u,{top:n,left:r}=i===void 0?a:u.getRootNode().posFromIndex(i);return{message:c,severity:o,startLine:n,endLine:n+e-1,startCol:r,endCol:e>1?t:r+t}};x.exports={generateForChild:m,generateForSelf:$}},231:(x,k,s)=>{"use strict";const g='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',m=o=>o.replace(/\0\d+c\x7F/gu,""),$=(o,i={})=>{const e=s(7507),t=s(9205),{pre:n="",post:r="",sep:l=""}=i,h={"&":"amp","<":"lt",">":"gt"};return`${n}${o.map(d=>d instanceof t?d.print():String(d).replace(/[&<>]/gu,p=>`&${h[p]};`)).join(l)}${r}`},u=o=>o.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),a=(o,i,e,t)=>{if(t===void 0)return[];const n=new RegExp(`${[o,i,e].map(u).join("|")}`,"gu"),r=[];let l=n.exec(t),h=0,d=0;for(;l;){const{0:p,index:f}=l;p!==e?h+=p===o?1:-1:h===0&&(r.push(t.slice(d,f)),{lastIndex:d}=n),l=n.exec(t)}return r.push(t.slice(d)),r},c=(o,i="")=>{const e=s(3853);return o.map(t=>typeof t=="string"?t:t.text()).join(i)};x.exports={extUrlChar:g,removeComment:m,print:$,escapeRegExp:u,explode:a,text:c}},8166:x=>{"use strict";x.exports=JSON.parse('{"ext":["nowiki","pre","gallery","indicator"],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"0":"","6":"File","14":"Category"},"nsid":{"":0,"file":6,"image":6,"\u56FE\u50CF":6,"\u5716\u50CF":6,"\u6587\u4EF6":6,"\u6863\u6848":6,"\u6A94\u6848":6,"category":14,"\u5206\u7C7B":14,"\u5206\u985E":14},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{"thumbnail":"thumbnail","thumb":"thumbnail","\u7F29\u7565\u56FE":"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","\u7F29\u7565\u56FE=$1":"manualthumb","left":"left","\u5DE6":"left","right":"right","\u53F3":"right","none":"none","\u65E0":"none","$1px":"width","$1\u50CF\u7D20":"width","center":"center","centre":"center","\u5C45\u4E2D":"center","framed":"framed","enframed":"framed","frame":"framed","\u6709\u6846":"framed","frameless":"frameless","\u65E0\u6846":"frameless","upright":"upright","\u53F3\u4E0A":"upright","upright=$1":"manual-upright","upright $1":"manual-upright","\u53F3\u4E0A=$1":"manual-upright","\u53F3\u4E0A$1":"manual-upright","border":"border","\u8FB9\u6846":"border","alt=$1":"alt","\u66FF\u4EE3=$1":"alt","\u66FF\u4EE3\u6587\u672C=$1":"alt","class=$1":"class","\u7C7B=$1":"class","link=$1":"link","\u94FE\u63A5=$1":"link","baseline":"baseline","\u57FA\u7EBF":"baseline","sub":"sub","\u5B50":"sub","super":"super","sup":"super","\u8D85":"super","top":"top","\u9876\u90E8":"top","text-top":"text-top","\u6587\u5B57\u9876\u90E8":"text-top","middle":"middle","\u4E2D\u95F4":"middle","bottom":"bottom","\u5E95\u90E8":"bottom","text-bottom":"text-bottom","\u6587\u5B57\u5E95\u90E8":"text-bottom","lang=$1":"lang","\u8BED\u8A00=$1":"lang","page=$1":"page","page $1":"page","\u9875\u6570=$1":"page","$1\u9875":"page"},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},j={};function D(x){var k=j[x];if(k!==void 0)return k.exports;var s=j[x]={exports:{}};return M[x](s,s.exports,D),s.exports}D.o=(x,k)=>Object.prototype.hasOwnProperty.call(x,k);var q=D(6010)})();})();
