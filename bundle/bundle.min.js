(()=>{var At=Object.defineProperty;var kt=(O,R,M)=>R in O?At(O,R,{enumerable:!0,configurable:!0,writable:!0,value:M}):O[R]=M;var F=(O,R,M)=>(kt(O,typeof R!="symbol"?R+"":R,M),M),et=(O,R,M)=>{if(!R.has(O))throw TypeError("Cannot "+M)};var k=(O,R,M)=>(et(O,R,"read from private field"),M?M.call(O):R.get(O)),v=(O,R,M)=>{if(R.has(O))throw TypeError("Cannot add the same private member more than once");R instanceof WeakSet?R.add(O):R.set(O,M)},z=(O,R,M,J)=>(et(O,R,"write to private field"),J?J.call(O,M):R.set(O,M),M),st=(O,R,M,J)=>({set _($){z(O,R,$,M)},get _(){return k(O,R,J)}}),H=(O,R,M)=>(et(O,R,"access private method"),M);(()=>{var O={6010:($,S,e)=>{"use strict";const f={config:void 0,minConfig:e(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(g,u=0,a=!1,c=f.getConfig(),l=!1){let n;if(!l){const r=e(8138);n=this.run(()=>{const i=new r(String(g),c),o=i.getAttribute("parseOnce");return o(0,a),o()}),g=n.firstChild}const t=e(6986);return new t(String(g),u,c)},parse(g,u,a=f.MAX_STAGE,c=f.getConfig()){const l=e(8138);let n;return this.run(()=>{typeof g=="string"?n=new l(g,c):g instanceof l&&(n=g,g=String(n)),n.parse(a,u)}),n},run(g){return g()},print(g,u=!1,a=f.getConfig()){return`<div class="wikiparser">${this.parse(g,u,this.MAX_STAGE,a).print()} </div>`},lint(g,u=!1,a=f.getConfig()){return this.parse(g,u,this.MAX_STAGE,a).lint()}},T={};for(const g in f)["MAX_STAGE","minConfig"].includes(g)?T[g]={enumerable:!1,writable:!1}:["config","normalizeTitle","parse","print","lint"].includes(g)||(T[g]={enumerable:!1});Object.defineProperties(f,T),typeof window=="object"&&(window.Parser=f),$.exports=f},9205:($,S,e)=>{"use strict";const{print:f}=e(231),T=e(3853),g=e(7507),a=class extends T{constructor(){super(...arguments);F(this,"name")}get length(){return this.childNodes.length}get children(){return this.childNodes.filter(({type:t})=>t!=="text")}get firstElementChild(){return this.childNodes.find(({type:n})=>n!=="text")}get lastElementChild(){const{children:n}=this;return n[n.length-1]}append(...n){for(const t of n)this.insertAt(t)}replaceChildren(...n){for(let t=this.childNodes.length-1;t>=0;t--)this.removeAt(t);this.append(...n)}setText(n,t=0){const s=this.childNodes[t],{type:r,data:i}=s;if(r==="text")return s.replaceData(n),i}toString(n,t=""){return this.childNodes.map(s=>s.toString()).join(t)}lint(n=0){const t=e(8058);if(this instanceof t||this.constructor.hidden||this.type==="ext-inner"&&a.lintIgnoredExt.has(this.name))return[];const s=[];for(let r=0,i=n+this.getPadding();r<this.childNodes.length;r++){const o=this.childNodes[r];s.push(...o.lint(i)),i+=String(o).length+this.getGaps(r)}return s}print(n={}){var t;return String(this)?`<span class="wpb-${(t=n.class)!=null?t:this.type}">${f(this.childNodes,n)}</span>`:""}};let u=a;F(u,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),$.exports=u},3853:($,S,e)=>{var g,u,Y,c,rt;"use strict";const{text:f}=e(231);class T{constructor(){v(this,u);v(this,c);F(this,"type");F(this,"childNodes",[]);v(this,g,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return k(this,g)}get nextSibling(){var s;const t=(s=k(this,g))==null?void 0:s.childNodes;return t&&t[t.indexOf(this)+1]}get previousSibling(){var s;const t=(s=k(this,g))==null?void 0:s.childNodes;return t&&t[t.indexOf(this)-1]}hasAttribute(t){return t in this}getAttribute(t){return this.hasAttribute(t)?String(this[t]):void 0}setAttribute(t,s){return t==="parentNode"?z(this,g,s):this[t]=s,this}text(t=""){return f(this.childNodes,t)}removeAt(t){const s=[...this.childNodes],[r]=s.splice(t,1);return r.setAttribute("parentNode"),this.setAttribute("childNodes",s),r}insertAt(t,s=this.childNodes.length){const r=[...this.childNodes];return-1===-1&&t.setAttribute("parentNode",this),r.splice(s,0,t),this.setAttribute("childNodes",r),t}normalize(){var r;const t=e(7507),s=[...this.childNodes];for(let i=s.length-1;i>=0;i--){const{type:o,data:h}=s[i];this.getGaps(i-1)||(h===""?s.splice(i,1):o==="text"&&((r=s[i-1])==null?void 0:r.type)==="text"&&(s[i-1].setAttribute("data",s[i-1].data+h),s.splice(i,1)))}this.setAttribute("childNodes",s)}getRootNode(){let{parentNode:t}=this;for(;t!=null&&t.parentNode;)({parentNode:t}=t);return t!=null?t:this}posFromIndex(t){const s=String(this);if(t>=-s.length&&t<=s.length){const r=s.slice(0,t).split(`
`);return{top:r.length-1,left:r[r.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(t){let s;const r=(i,o)=>s.slice(0,i).reduce((h,d,p)=>h+String(d).length+o.getGaps(p),0)+o.getPadding();if(t===void 0){const{parentNode:i}=this;return i?({childNodes:s}=i,r(s.indexOf(this),i)):0}return{childNodes:s}=this,r(t,this)}getAbsoluteIndex(){const{parentNode:t}=this;return t?t.getAbsoluteIndex()+this.getRelativeIndex():0}getBoundingClientRect(){return{...H(this,u,Y).call(this),...this.getRootNode().posFromIndex(this.getAbsoluteIndex())}}get offsetHeight(){return H(this,u,Y).call(this).height}get offsetWidth(){return H(this,u,Y).call(this).width}get style(){return{...H(this,c,rt).call(this),...H(this,u,Y).call(this),padding:this.getPadding()}}}g=new WeakMap,u=new WeakSet,Y=function(){const t=String(this).split(`
`);return{height:t.length,width:t[t.length-1].length}},c=new WeakSet,rt=function(t){var s,r;return t===void 0?(r=(s=this.parentNode)==null?void 0:s.posFromIndex(this.getRelativeIndex()))!=null?r:{top:0,left:0}:this.posFromIndex(this.getRelativeIndex(t))},$.exports=T},7507:($,S,e)=>{var g,it;"use strict";const f=e(3853),a=class extends f{constructor(n=""){super();v(this,g);F(this,"type","text");F(this,"data");this.data=n}toString(){return this.data}text(){return this.data}replaceData(n=""){H(this,g,it).call(this,n)}lint(n=0){const{data:t}=this,s=[];if(t.search(a.errorSyntax)!==-1){a.errorSyntax.lastIndex=0;const r=this.getRootNode(),{top:i,left:o}=r.posFromIndex(n);for(let h=a.errorSyntax.exec(t);h;h=a.errorSyntax.exec(t)){const[,d]=h;let{0:p,index:x}=h;d&&(x+=d.length,p=p.slice(d.length));const A=t.slice(0,x).split(`
`),m=A.length+i-1,C=A[A.length-1],y=A.length>1?C.length:o+C.length,[b]=p,P=n+x+(b==="}"||b==="]"?p.length:50);s.push({message:`\u5B64\u7ACB\u7684"${b}"`,severity:b==="{"||b==="}"?"error":"warning",startLine:m,endLine:m,startCol:y,endCol:y+p.length,excerpt:String(r).slice(Math.max(0,P-50),P)})}}return s}};let T=a;g=new WeakSet,it=function(n){return n=String(n),this.setAttribute("data",n),this},F(T,"errorSyntax",/[{}]+|\[{2,}|\[(?!(?:(?!https?\b)[^[])*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?\w+[\s/>])/giu),$.exports=T},6986:($,S,e)=>{"use strict";const f=e(6010);class T{constructor(u,a=0,c=f.getConfig()){F(this,"valid",!0);F(this,"ns",0);const{namespaces:l,nsid:n}=c;let t=l[a];u=u.replace(/_/gu," ").trim(),u[0]===":"&&(t="",u=u.slice(1).trim());const s=u.split(":");if(s.length>1){const o=l[n[s[0].trim().toLowerCase()]];o!==void 0&&(t=o,u=s.slice(1).join(":").trim())}this.ns=n[t.toLowerCase()];const r=u.indexOf("#");let i="";r!==-1&&(i=u.slice(r+1).trim(),u=u.slice(0,r).trim()),this.valid=Boolean(u||i)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(u)}}$.exports=T},2308:$=>{"use strict";const S=e=>{var f;return f=class extends e{text(){return""}},F(f,"hidden",!0),f};$.exports=S},8275:($,S,e)=>{"use strict";const{removeComment:f}=e(231),T=e(6010),g=e(9450),u=e(1782),a=e(9544),c=(l,n=T.getConfig(),t=[])=>{var A,m,C,y,b;const s="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",r=[],i={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},o={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let h=new RegExp(s,"gmu"),d=h.exec(l),p=l.includes("}}"),x;for(;d||x<=l.length&&((m=(A=r[r.length-1])==null?void 0:A[0])==null?void 0:m[0])==="=";){if(d!=null&&d[1]){const[,{length:V}]=d;d[0]=d[0].slice(V),d.index+=V}const{0:P,index:G}=d!=null?d:{0:`
`,index:l.length},E=(C=r.pop())!=null?C:{},{0:B,index:L,parts:j,findEqual:D,pos:X}=E,U=P==="="&&D;if(P==="]]"||P==="}-")x=G+2;else if(P===`
`){x=G+1;const{pos:V,findEqual:K}=(y=r[r.length-1])!=null?y:{};if(!V||K||f(l.slice(V,L))!==""){const Q=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(l.slice(L,G));Q&&(l=`${l.slice(0,L)}\0${t.length}h\x7F${l.slice(G)}`,x=L+4+String(t.length).length,new g(Q[1].length,Q.slice(2),n,t))}}else if(P==="|"||U)x=G+1,j[j.length-1].push(l.slice(X,G)),P==="|"&&j.push([]),E.pos=x,E.findEqual=P==="|",r.push(E);else if(P.startsWith("}}")){const V=P.slice(0,Math.min(B.length,3)),K=B.length-V.length,{length:Q}=t;x=G+V.length,j[j.length-1].push(l.slice(X,G));let nt=!1,q="t";if(V.length===3)new a(j.map(N=>N.join("=")),n,t);else{const N=f(j[0][0]);N in o?q=o[N]:/^(?:fullurl|canonicalurl|filepath):./iu.test(N)&&(q="m");try{new u(j[0][0],j.slice(1),n,t)}catch(w){if(w instanceof Error&&w.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))x=L+B.length,nt=!0;else throw w}}nt||(l=`${l.slice(0,L+K)}\0${Q}${q}\x7F${l.slice(x)}`,x=L+K+3+String(Q).length,K>1?r.push({0:B.slice(0,K),index:L,pos:L+K,parts:[[]]}):K===1&&l[L-1]==="-"&&r.push({0:"-{",index:L-1,pos:L+1,parts:[[]]}))}else x=G+P.length,P[0]==="{"&&(d.pos=x,d.parts=[[]]),r.push(..."0"in E?[E]:[],d);p&&(p=l.slice(x).includes("}}"));let W=r[r.length-1];!p&&((b=W==null?void 0:W[0])==null?void 0:b[0])==="{"&&(r.pop(),W=r[r.length-1]),h=new RegExp(s+(W?`|${i[W[0][0]]}${W.findEqual?"|=":""}`:""),"gmu"),h.lastIndex=x,d=h.exec(l)}return l};$.exports=c},4907:($,S,e)=>{"use strict";const f=e(6010),T=e(851),g=e(3423),u=e(8655),a=e(7267),c=e(5749),l=(n,t=f.getConfig(),s=[],r=!1)=>{const i=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(r&&n.search(i)!==-1)return n.replace(i,(x,A)=>{const m=`\0${s.length}e\x7F`;return new T(A,t,s),m}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(x,A,m)=>m===""?A:(new g(m,t,s),`${A}\0${s.length-1}c\x7F`));const o=t.ext.join("|"),h=r?"includeonly":"(?:no|only)include",d=r?"noinclude":"includeonly",p=new RegExp(`<!--.*?(?:-->|$)|<${h}(?:\\s[^>]*?)?>|</${h}\\s*>|<(${o})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${d})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return n.replace(p,(x,A,m,C,y,b,P,G,E)=>{const B=`\0${s.length}${A?"e":"c"}\x7F`;if(A)new a(A,m,C,y,t,s);else if(x.startsWith("<!--")){const L=x.endsWith("-->");new c(x.slice(4,L?-3:void 0),L,t,s)}else b?new u(b,P,G,E,t,s):new g(x,t,s);return B})};$.exports=l},3765:($,S,e)=>{"use strict";const f=e(6010),T=e(9910),g=(u,a=f.getConfig(),c=[])=>{const l=/-\{/gu,n=/-\{|\}-/gu,t=[];let s=l,r=s.exec(u);for(;r;){const{0:i,index:o}=r;if(i==="}-"){const h=t.pop(),{length:d}=c,p=u.slice(h.index+2,o),x=p.indexOf("|"),[A,m]=x===-1?[[],p]:[p.slice(0,x).split(";"),p.slice(x+1)],C=m.replace(/(&[#a-z\d]+);/giu,"$1"),y=`(?:${a.variants.join("|")})`,b=C.split(new RegExp(`;(?=\\s*(?:${y}|[^;]*?=>\\s*${y})\\s*:)`,"u")).map(P=>P.replace(/\x01/gu,";"));new T(A,b,a,c),u=`${u.slice(0,h.index)}\0${d}v\x7F${u.slice(o+2)}`,t.length===0&&(s=l),s.lastIndex=h.index+3+String(d).length}else t.push(r),s=n,s.lastIndex=o+2;r=s.exec(u)}return u};$.exports=g},7513:($,S,e)=>{"use strict";const{extUrlChar:f}=e(231),T=e(6010),g=e(741),u=(a,c=T.getConfig(),l=[])=>{const n=new RegExp(`\\[((?:${c.protocol}|//)${f}|\0\\d+m\x7F)(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return a.replace(n,(t,s,r,i)=>{const{length:o}=l,h=/&[lg]t;/u.exec(s);return h&&(s=s.slice(0,h.index),r="",i=`${s.slice(h.index)}${r}${i}`),new g(s,r,i,c,l),`\0${o}w\x7F`})};$.exports=u},2937:($,S,e)=>{"use strict";const f=e(6010),T=e(7507),g=e(8138),u=e(2582),a=e(7815),c=({firstChild:{data:l},type:n,name:t},s=f.getConfig(),r=[])=>{const{doubleUnderscore:i}=s;return n!=="root"&&(n!=="ext-inner"||t!=="poem")&&(l=`\0${l}`),l=l.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(o,h,d)=>(new u(d.length,s,r),`${h}\0${r.length-1}r\x7F`)).replace(new RegExp(`__(${i.flat().join("|")})__`,"giu"),(o,h)=>i[0].includes(h.toLowerCase())||i[1].includes(h)?(new a(h,s,r),`\0${r.length-1}u\x7F`):o),n==="root"||n==="ext-inner"&&t==="poem"?l:l.slice(1)};$.exports=c},5130:($,S,e)=>{"use strict";const f=e(6010),T=e(5037),g=e(2350),u=(a,c=f.getConfig(),l=[])=>{const n=/^(\/?)([a-z][^\s/>]*)(\s[^>]*?)?(\/?>)([^<]*)$/iu,t=c.html.flat(),s=a.split("<");let r=s.shift();for(const i of s){const o=n.exec(i),h=o==null?void 0:o[2],d=h==null?void 0:h.toLowerCase();if(!o||!t.includes(d)){r+=`<${i}`;continue}const[,p,,x="",A,m]=o,C=new T(x,"html-attr",d,c,l),y=C.getAttr("itemprop");if(d==="meta"&&(y===void 0||C.getAttr("content")===void 0)||d==="link"&&(y===void 0||C.getAttr("href")===void 0)){r+=`<${i}`,l.pop();continue}r+=`\0${l.length}x\x7F${m}`,new g(h,C,p==="/",A==="/>",c,l)}return r};$.exports=u},1452:($,S,e)=>{"use strict";const f=e(6010),T=e(3905),g=e(7625),u=e(337),a=(c,l=f.getConfig(),n=[])=>{const t=e(3360),s=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,r=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,i=new RegExp(`^\\s*(?:${l.protocol})`,"iu"),o=c.split("[[");let h=o.shift();for(let d=0;d<o.length;d++){let p,x,A,m,C;const y=o[d],b=s.exec(y);if(b)[,x,A,m,C]=b,C[0]==="]"&&(m==null?void 0:m.includes("["))&&(m+="]",C=C.slice(1));else{const D=r.exec(y);D&&(p=!0,[,x,A,m]=D)}if(x===void 0||i.test(x)||/\0\d+[exhbru]\x7F/u.test(x)){h+=`[[${y}`;continue}let P=x;if(x.includes("%"))try{P=decodeURIComponent(x)}catch(D){}const G=x.trim()[0]===":";if(G&&p){h+=`[[${y}`;continue}const E=f.normalizeTitle(P,0,!1,l,!0),{ns:B,valid:L}=E;if(L){if(p){if(B!==6){h+=`[[${y}`;continue}let D;for(d++;d<o.length;d++){const X=o[d],U=X.split("]]");if(U.length>2){D=!0,m+=`[[${U[0]}]]${U[1]}`,C=U.slice(2).join("]]");break}else if(U.length===2)m+=`[[${U[0]}]]${U[1]}`;else{m+=`[[${X}`;break}}if(m=a(m,l,n),!D){h+=`[[${x}${A}${m}`;continue}}}else{h+=`[[${y}`;continue}m&&(m=t(m,l,n)),h+=`\0${n.length}l\x7F${C}`;let j=T;G||(B===6?j=g:B===14&&(j=u)),new j(x,m,E,l,n,A)}return h};$.exports=a},6622:($,S,e)=>{"use strict";const f=e(6010),T=e(962),g=e(3434),u=(a,c=f.getConfig(),l=[])=>{const n=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(a);if(!n)return a;const[t,s,r]=n;a=`${s}\0${l.length}d\x7F${a.slice(t.length)}`,new T(r,c,l);let i=r.split(";").length-1;if(!i)return a;let o=/:+|-\{/gu,h=o.exec(a),d=0;for(;h&&i;){const{0:p,index:x}=h;if(p[0]===":"){if(p.length>=i)return new g(":".repeat(i),c,l),`${a.slice(0,x)}\0${l.length-1}d\x7F${a.slice(x+i)}`;a=`${a.slice(0,x)}\0${l.length}d\x7F${a.slice(o.lastIndex)}`,i-=p.length,o.lastIndex=x+4+String(l.length).length,new g(p,c,l)}else if(p==="-{"){if(!d){const{lastIndex:A}=o;o=/-\{|\}-/gu,o.lastIndex=A}d++}else if(d--,!d){const{lastIndex:A}=o;o=/:+|-\{/gu,o.lastIndex=A}h=o.exec(a)}return a};$.exports=u},4737:($,S,e)=>{"use strict";const{extUrlChar:f}=e(231),T=e(6010),g=e(8962),u=(a,c=T.getConfig(),l=[])=>{const n=new RegExp(`\\b(?:${c.protocol})(${f})`,"giu");return a.replace(n,(t,s)=>{let r="",i=t;const o=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(i);o&&(r=i.slice(o.index),i=i.slice(0,o.index));const h=new RegExp(`[,;.:!?${i.includes("(")?"":")"}]+$`,"u"),d=h.exec(i);if(d){let p=0;d[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(i.slice(0,d.index))&&(p=1),r=`${i.slice(d.index+p)}${r}`,i=i.slice(0,d.index+p)}return r.length>=s.length?t:(new g(i,!1,c,l),`\0${l.length-1}w\x7F${r}`)})};$.exports=u},3360:($,S,e)=>{"use strict";const f=e(6010),T=e(6714),g=(u,a=f.getConfig(),c=[])=>{var h;const l=u.split(/('{2,})/u),{length:n}=l;if(n===1)return u;let t=0,s=0,r,i,o;for(let d=1;d<n;d+=2){const{length:p}=l[d];switch(p){case 2:s++;break;case 4:l[d-1]+="'",l[d]="'''";case 3:if(t++,r)break;l[d-1].endsWith(" ")?!i&&!o&&(o=d):l[d-1].slice(-2,-1)===" "?r=d:i||(i=d);break;default:l[d-1]+="'".repeat(p-5),l[d]="'''''",s++,t++}}if(s%2===1&&t%2===1){const d=(h=r!=null?r:i)!=null?h:o;l[d]="''",l[d-1]+="'"}for(let d=1;d<n;d+=2)new T(l[d].length,a,c),l[d]=`\0${c.length-1}q\x7F`;return l.join("")};$.exports=g},4624:($,S,e)=>{"use strict";const f=e(6010),T=e(7507),g=e(8138),u=e(2840),a=e(3125),c=e(5567),l=e(3434),n=({firstChild:{data:t},type:s,name:r},i=f.getConfig(),o=[])=>{const h=[],d=t.split(`
`);let p=s==="root"||s==="parameter-value"||s==="ext-inner"&&r==="poem"?"":`
${d.shift()}`;const x=(A,m)=>{if(!m){p+=A;return}const{lastChild:C}=m;if(C.constructor===g)C.setText(String(C)+A);else{const y=new g(A,i,!0,o);y.type="table-inter",m.insertAt(y.setAttribute("stage",3))}};for(const A of d){let m=h.pop();const[C]=/^(?:\s|\0\d+c\x7F)*/u.exec(A),y=A.slice(C.length),b=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(y);if(b){for(;m&&m.type!=="td";)m=h.pop();const[,j,D,X,U]=b;j&&new l(j,i,o),x(`
${C}${j&&`\0${o.length-1}d\x7F`}${D}\0${o.length}b\x7F`,m);const W=new u(X,U,i,o);h.push(...m?[m]:[],W);continue}else if(!m){p+=`
${A}`;continue}const P=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(y);if(!P){x(`
${A}`,m),h.push(...m?[m]:[]);continue}const[,G,E,B,L]=P;if(G){for(;!(m instanceof u);)m=h.pop();m.close(`
${C}${G}`,!0),x(L,h[h.length-1])}else if(E){m.type==="td"&&(m=h.pop()),m.type==="tr"&&(m=h.pop());const j=new a(`
${C}${E}`,L,i,o);h.push(m,j),m.insertAt(j)}else{m.type==="td"&&(m=h.pop());const j=B==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let D=j.exec(L),X=0,U=`
${C}${B}`;for(;D;){const V=new c(U,L.slice(X,D.index),i,o);m.insertAt(V),{lastIndex:X}=j,[U]=D,D=j.exec(L)}const W=new c(U,L.slice(X),i,o);h.push(m,W),m.insertAt(W)}}return p.slice(1)};$.exports=n},9544:($,S,e)=>{"use strict";const{text:f}=e(231),{generateForSelf:T,generateForChild:g}=e(8277),u=e(6010),a=e(8138);class c extends a{constructor(t,s=u.getConfig(),r=[]){super(void 0,s,!0,r,{AtomToken:0,Token:1,HiddenToken:"2:"});F(this,"type","arg");for(let i=0;i<t.length;i++)if(i===0||i>1){const o=e(i===0?9237:9263),h=new o(t[i],i===0?"arg-name":void 0,s,r,{"Stage-2":":","!HeadingToken":""});super.insertAt(h)}else{const o=new a(t[i],s,!0,r);o.type="arg-default",super.insertAt(o.setAttribute("stage",2))}}toString(t){return`{{{${super.toString(t,"|")}}}}`}text(){return`{{{${f(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}lint(t=0){if(!this.getAttribute("include"))return[T(this,{start:t},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[s,r,...i]}=this,o=s.lint(t+3);if(r&&o.push(...r.lint(t+4+String(s).length)),i.length>0){const h=this.getRootNode().posFromIndex(t);o.push(...i.map(d=>g(d,h,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return o}}$.exports=c},9263:($,S,e)=>{"use strict";const f=e(2308),T=e(9237);class g extends f(T){constructor(){super(...arguments);F(this,"type","hidden")}}$.exports=g},9237:($,S,e)=>{"use strict";const f=e(6010),T=e(8138);class g extends T{constructor(c,l,n=f.getConfig(),t=[],s=null){super(c,n,!0,t,s);F(this,"type","plain");l&&(this.type=l)}}$.exports=g},5037:($,S,e)=>{var c,l,n,t,ot;"use strict";const{generateForSelf:f}=e(8277),{removeComment:T}=e(231),g=e(6010),u=e(8138);class a extends u{constructor(o,h,d,p=g.getConfig(),x=[]){super(o,p,!0,x);v(this,t);v(this,c,new Map);v(this,l,!0);v(this,n,!0);this.type=h,H(this,t,ot).call(this)}getAttr(o){return k(this,c).get(o.toLowerCase().trim())}setAttr(o,h,d){o=o.toLowerCase().trim();const p=o;if(/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(p))h===!1?k(this,c).delete(o):k(this,c).set(o,h===!0?!0:h.replace(/\s/gu," ").trim());else return d,!1;return!0}lint(o=0){const h=e(2350),d=super.lint(o);let p;if(this.type==="html-attr"&&this.parentNode.closing&&this.text().trim()&&(p=this.getRootNode().posFromIndex(o),d.push(f(this,p,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"))),!k(this,l))p||(p=this.getRootNode().posFromIndex(o)),d.push(f(this,p,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"));else if(!k(this,n)){p||(p=this.getRootNode().posFromIndex(o));const x=f(this,p,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning");d.push({...x,excerpt:String(this).slice(-50)})}return d}}c=new WeakMap,l=new WeakMap,n=new WeakMap,t=new WeakSet,ot=function(){var d;const o=/([^\s/][^\s/=]*)(?:\s*=\s*(?:(["'])(.*?)(\2|$)|(\S*)))?/gsu;let h=this.toString();h=T(h).replace(/\0\d+~\x7F/gu,"=");for(let p=o.exec(h);p;p=o.exec(h)){const[,x,A,m,C,y]=p;this.setAttr(x,(d=m!=null?m:y)!=null?d:!0,!0)?A!==C&&z(this,n,!1):z(this,l,!1)}},$.exports=a},8103:($,S,e)=>{"use strict";const f=e(6010),T=e(8138),g=e(2158);class u extends T{constructor(l,n=f.getConfig(),t=[]){super(void 0,n,!0,t,{HasNowikiToken:":"});F(this,"type","ext-inner");F(this,"name","charinsert");this.append(...l.split(`
`).map(s=>new g(s,"charinsert-line",n,t)))}toString(l){return super.toString(l,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}$.exports=u},9910:($,S,e)=>{"use strict";const{text:f,print:T}=e(231),g=e(6010),u=e(8138),a=e(6719),c=e(8683);class l extends u{constructor(s,r,i=g.getConfig(),o=[]){super(void 0,i,!0,o);F(this,"type","converter");this.append(new a(s,i,o));const[h]=r,d=h.includes(":"),p=new c(h,d,i,o);d&&p.childNodes.length===1?this.insertAt(new c(r.join(";"),!1,i,o)):this.append(p,...r.slice(1).map(x=>new c(x,!0,i,o)))}toString(s){const{childNodes:[r,...i]}=this;return`-{${r.toString()}${r.childNodes.length>0?"|":""}${i.map(String).join(";")}}-`}text(){const{childNodes:[s,...r]}=this;return`-{${s.text()}|${f(r,";")}}-`}getPadding(){return 2}getGaps(s=0){return s=s<0?s+this.childNodes.length:s,s||this.firstChild.childNodes.length>0?1:0}print(){const{children:[s,...r]}=this;return`<span class="wpb-converter">-{${s.print()}${s.childNodes.length>0?"|":""}${T(r,{sep:";"})}}-</span>`}}$.exports=l},6719:($,S,e)=>{var c;"use strict";const{generateForChild:f}=e(8277),T=e(6010),g=e(8138),u=e(9237);class a extends g{constructor(t,s=T.getConfig(),r=[]){super(void 0,s,!0,r,{AtomToken:":"});F(this,"type","converter-flags");v(this,c,void 0);this.append(...t.map(i=>new u(i,"converter-flag",s,r)))}afterBuild(){return z(this,c,this.childNodes.map(t=>t.text().trim())),this}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t=0){const s=this.getVariantFlags(),r=this.getUnknownFlags(),i=k(this,c).filter(A=>!A),o=k(this,c).filter(A=>["A","T","R","D","-","H","N"].includes(A)),h=k(this,c).length-r.length-i,d=super.lint(t);if(s.length===h||o.length===h)return d;const p=this.getRootNode().posFromIndex(t),{childNodes:x}=this;for(let A=0;A<x.length;A++){const m=x[A],C=m.text().trim();if(C&&!s.includes(C)&&!r.includes(C)&&(s.length>0||!o.includes(C))){const y=f(m,p,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");d.push({...y,excerpt:x.slice(0,A+1).map(String).join(";").slice(-50)})}}return d}getUnknownFlags(){return k(this,c).filter(t=>/\{\{[^{}]+\}\}/u.test(t))}getVariantFlags(){const{variants:t}=this.getAttribute("config");return k(this,c).filter(s=>t.includes(s))}}c=new WeakMap,$.exports=a},8683:($,S,e)=>{"use strict";const f=e(6010),T=e(8138),g=e(9237);class u extends T{constructor(l,n=!0,t=f.getConfig(),s=[]){super(void 0,t,!0,s);F(this,"type","converter-rule");if(n){const r=l.indexOf(":"),i=l.slice(0,r).indexOf("=>"),o=i===-1?l.slice(0,r):l.slice(i+2,r),{variants:h}=t;h.includes(o.trim())?(super.insertAt(new g(o,"converter-rule-variant",t,s)),super.insertAt(new g(l.slice(r+1),"converter-rule-to",t,s)),i!==-1&&super.insertAt(new g(l.slice(0,i),"converter-rule-from",t,s),0)):super.insertAt(new g(l,"converter-rule-noconvert",t,s))}else super.insertAt(new g(l,"converter-rule-noconvert",t,s))}toString(l){if(this.childNodes.length===3){const{childNodes:[n,t,s]}=this;return`${n.toString(l)}=>${t.toString(l)}:${s.toString(l)}`}return super.toString(l,":")}text(){if(this.childNodes.length===3){const{childNodes:[l,n,t]}=this;return`${l.text()}=>${n.text()}:${t.text()}`}return super.text(":")}getGaps(l=0){const{length:n}=this;return l=l<0?l+n:l,l===0&&n===3?2:1}print(){if(this.childNodes.length===3){const{childNodes:[l,n,t]}=this;return`<span class="wpb-converter-rule">${l.print()}=>${n.print()}:${t.print()}</span>`}return super.print({sep:":"})}}$.exports=u},741:($,S,e)=>{var a;"use strict";const f=e(6010),T=e(8138),g=e(8962);class u extends T{constructor(n,t,s,r=f.getConfig(),i=[]){super(void 0,r,!0,i,{MagicLinkToken:0,Token:1});F(this,"type","ext-link");v(this,a,void 0);if(this.insertAt(new g(n,!0,r,i)),z(this,a,t),s){const o=new T(s,r,!0,i,{"Stage-7":":",ConverterToken:":"});o.type="ext-link-text",this.insertAt(o.setAttribute("stage",f.MAX_STAGE-1))}}toString(n){return this.childNodes.length===1?`[${super.toString(n)}${k(this,a)}]`:`[${super.toString(n,k(this,a))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return k(this,a).length}print(){const{length:n}=this;return super.print(n>1?{pre:"[",sep:k(this,a),post:"]"}:{pre:"[",post:`${k(this,a)}]`})}}a=new WeakMap,$.exports=u},1891:($,S,e)=>{"use strict";const f=e(6010),T=e(8138),g=e(1031),u=e(9263);class a extends T{constructor(n,t=f.getConfig(),s=[]){var i;super(void 0,t,!0,s,{AstText:":",GalleryImageToken:":",HiddenToken:":"});F(this,"type","ext-inner");F(this,"name","gallery");const r=structuredClone(t);for(const[o,h]of Object.entries(t.img))h==="width"&&delete r.img[o];for(const o of(i=n==null?void 0:n.split(`
`))!=null?i:[]){const h=/^([^|]+)(?:\|(.*))?/u.exec(o);if(!h){super.insertAt(o.trim()?new u(o,void 0,t,[],{AstText:":"}):o);continue}const[,d,p]=h;let x;try{x=this.normalizeTitle(decodeURIComponent(d),6,!0)}catch(A){x=this.normalizeTitle(d,6,!0)}x.valid?super.insertAt(new g(d,p,x,r,s)):super.insertAt(new u(o,void 0,t,[],{AstText:":"}))}}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(n=0){const{top:t,left:s}=this.getRootNode().posFromIndex(n),r=[];for(let i=0,o=n;i<this.childNodes.length;i++){const h=this.childNodes[i],d=String(h),p=d.trim();h.type==="hidden"&&p&&!/^<!--.*-->$/u.test(p)?r.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startLine:t+i,endLine:t+i,startCol:i?0:s,endCol:i?d.length:s+d.length,excerpt:String(h).slice(0,50)}):h.type!=="hidden"&&h.type!=="text"&&r.push(...h.lint(o)),o+=d.length+1}return r}}$.exports=a},2158:($,S,e)=>{"use strict";const f=e(6010),T=e(8138),g=e(3423);class u extends T{constructor(c,l,n=f.getConfig(),t=[]){c=c.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(s,r,i,o)=>(new g(r,n,t),new g(o,n,t),`\0${t.length-1}c\x7F${i}\0${t.length}c\x7F`)),super(c,n,!0,t,{AstText:":",NoincludeToken:":"}),this.type=l}}$.exports=u},428:($,S,e)=>{"use strict";const f=e(6010),T=e(2158);class g extends T{constructor(c,l=f.getConfig(),n=[]){super(c,"ext-inner",l,n);F(this,"name","pre");this.setAttribute("stage",f.MAX_STAGE-1)}isPlain(){return!0}}$.exports=g},9450:($,S,e)=>{"use strict";const{generateForSelf:f}=e(8277),T=e(6010),g=e(8138),u=e(8058);class a extends g{constructor(n,t,s=T.getConfig(),r=[]){super(void 0,s,!0,r);F(this,"type","heading");this.setAttribute("name",String(n));const i=new g(t[0],s,!0,r);i.type="heading-title",i.setAttribute("stage",2);const o=new u(t[1],/^[^\S\n]*$/u,"heading-trail",s,r,{"Stage-1":":","!ExtToken":""});this.append(i,o)}toString(n){const t="=".repeat(Number(this.name));return`${t}${this.firstChild.toString()}${t}${this.lastChild.toString()}`}text(){const n="=".repeat(Number(this.name));return`${n}${this.firstChild.text()}${n}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const n="=".repeat(Number(this.name));return super.print({pre:n,sep:n})}lint(n=0){const t=super.lint(n),s=String(this.firstChild);let r;return this.name==="1"&&(r=f(this,{start:n},"<h1>"),t.push(r)),(s[0]==="="||s.endsWith("="))&&(r||(r=f(this,{start:n},"")),t.push({...r,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),t}}$.exports=a},2350:($,S,e)=>{var a,c,l;"use strict";const{generateForSelf:f}=e(8277),T=e(6010),g=e(8138);class u extends g{constructor(s,r,i,o,h=T.getConfig(),d=[]){super(void 0,h,!0,d);F(this,"type","html");v(this,a,void 0);v(this,c,void 0);v(this,l,void 0);this.insertAt(r),this.setAttribute("name",s.toLowerCase()),z(this,a,i),z(this,c,o),z(this,l,s)}get closing(){return k(this,a)}toString(s){return`<${k(this,a)?"/":""}${k(this,l)}${super.toString()}${k(this,c)?"/":""}>`}text(){return`<${k(this,a)?"/":""}${k(this,l)}${k(this,a)?"":super.text()}${k(this,c)?"/":""}>`}getPadding(){return k(this,l).length+(k(this,a)?2:1)}print(){return super.print({pre:`&lt;${k(this,a)?"/":""}${k(this,l)}`,post:`${k(this,c)?"/":""}&gt;`})}lint(s=0){const r=super.lint(s);let i;this.name==="h1"&&!k(this,a)&&(i=f(this,{start:s},"<h1>"),r.push(i));try{this.findMatchingTag()}catch({message:o}){i||(i=f(this,{start:s},""));const[h]=o.split("\uFF1A"),d={...i,message:h,severity:h==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};if(h==="\u672A\u95ED\u5408\u7684\u6807\u7B7E")d.excerpt=String(this.getRootNode()).slice(s,s+50);else if(h==="\u672A\u5339\u914D\u7684\u95ED\u5408\u6807\u7B7E"){const p=s+String(this).length;d.excerpt=String(this.getRootNode()).slice(Math.max(0,p-50),p)}r.push(d)}return r}findMatchingTag(){const{html:s}=this.getAttribute("config"),{name:r,parentNode:i}=this,o=String(this);if(k(this,a)&&(k(this,c)||s[2].includes(r)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${o}`);if(s[2].includes(r)||k(this,c)&&s[1].includes(r))return this;if(k(this,c)&&s[0].includes(r))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${o}`);if(!i)return;const{childNodes:h}=i,d=h.indexOf(this),p=k(this,a)?h.slice(0,d).reverse().filter(({type:A,name:m})=>A==="html"&&m===r):h.slice(d+1).filter(({type:A,name:m})=>A==="html"&&m===r);let x=k(this,a)?-1:1;for(const A of p)if(A.closing?x--:x++,x===0)return A;throw new SyntaxError(`\u672A${k(this,a)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${o}`)}}a=new WeakMap,c=new WeakMap,l=new WeakMap,$.exports=u},1874:($,S,e)=>{var c,lt,n;"use strict";const{print:f,extUrlChar:T}=e(231),g=e(6010),u=e(8138),s=class extends u{constructor(o,h=g.getConfig(),d=[]){var i=(...t)=>{super(...t);F(this,"type","image-parameter");v(this,n,"")};var A;const p=Object.entries(h.img).map(([m,C])=>[m,C,new RegExp(`^(\\s*)${m.replace("$1","(.*)")}(\\s*)$`,"u")]),x=p.find(([,,m])=>m.test(o));if(x){const m=x[2].exec(o);if(m.length!==4||H(A=s,c,lt).call(A,x[1],m[2],h,!0)){m.length===3?(i(void 0,h,!0,d),z(this,n,o)):(i(m[2],h,!0,d,{"Stage-2":":","!HeadingToken":":"}),z(this,n,`${m[1]}${x[0]}${m[3]}`)),this.setAttribute("name",x[1]).setAttribute("stage",g.MAX_STAGE);return}}i(o,h,!0,d),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return!0}toString(o){return k(this,n)?k(this,n).replace("$1",super.toString(o)):super.toString(o)}text(){return k(this,n)?k(this,n).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,k(this,n).indexOf("$1"))}print(){return k(this,n)?`<span class="wpb-image-parameter">${k(this,n).replace("$1",f(this.childNodes))}</span>`:super.print({class:"image-caption"})}};let a=s;c=new WeakSet,lt=function(o,h,d=g.getConfig(),p=!1){switch(h=h.replace(/\0\d+t\x7F/gu,"").trim(),o){case"width":return/^\d*(?:x\d*)?$/u.test(h);case"link":{if(!h||new RegExp(`(?:${d.protocol}|//)${T}(?=\0\\d+t\x7F|$)`,"iu").test(h))return!0;if(h.startsWith("[[")&&h.endsWith("]]")&&(h=h.slice(2,-2)),h.includes("%"))try{h=decodeURIComponent(h)}catch(m){}return g.normalizeTitle(h,0,!1,d,p).valid}case"lang":return d.variants.includes(h);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(h)}},n=new WeakMap,v(a,c),$.exports=a},2641:($,S,e)=>{"use strict";const{generateForSelf:f,generateForChild:T}=e(8277),g=e(6010),u=e(8138),a=e(3423),c=e(1031),l=e(2571);class n extends u{constructor(r,i=g.getConfig(),o=[]){super(void 0,i,!0,o,{GalleryImageToken:":",ImagemapLinkToken:":",NoincludeToken:":",AstText:":"});F(this,"type","ext-inner");F(this,"name","imagemap");if(!r)return;const h=r.split(`
`),d=A=>{super.insertAt(new a(A,i,o))};let p=!0,x=!1;for(const A of h){const m=A.trim();if(!(x||!m||m[0]==="#")){if(p){const[C,...y]=A.split("|");let b;try{b=this.normalizeTitle(decodeURIComponent(C),0,!0)}catch(P){b=this.normalizeTitle(C,0,!0)}if(b.valid&&!b.interwiki&&b.ns===6){const P=new c(C,y.length>0?y.join("|"):void 0,b,i,o);P.type="imagemap-image",super.insertAt(P),p=!1;continue}else x=!0}else if(A.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(A);continue}else if(A.includes("[")){const C=A.indexOf("["),y=A.slice(C),b=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(y);if(b){const P=this.normalizeTitle(b[1],0,!0);if(P.valid){super.insertAt(new l(A.slice(0,C),[...b.slice(1),P],y.slice(y.indexOf("]]")+2),i,o));continue}}else{const P=i.protocol.split("|");if(P.includes(y.slice(1,y.indexOf(":")+1))||P.includes(y.slice(1,y.indexOf("//")+2))){const G=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(y);if(G){super.insertAt(new l(A.slice(0,C),G.slice(1),y.slice(y.indexOf("]")+1),i,o));continue}}}}}d(A)}}get image(){return this.childNodes.find(({type:r})=>r==="imagemap-image")}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(r=0){const i=super.lint(r),o=this.getRootNode().posFromIndex(r);return this.image?i.push(...this.childNodes.filter(h=>{const d=String(h).trim();return h.type==="noinclude"&&d&&d[0]!=="#"}).map(h=>T(h,o,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):i.push(f(this,o,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),i}}$.exports=n},2571:($,S,e)=>{"use strict";const f=e(6986),T=e(8138),g=e(3423),u=e(3905),a=e(741);class c extends T{constructor(t,s,r,i,o){const h=s[2]instanceof f?u:a;super(void 0,i,!0,o);F(this,"type","imagemap-link");this.append(t,new h(...s,i,o),new g(r,i,o))}}$.exports=c},8138:($,S,e)=>{var c,l,n,t,s,r,i,o,ht,d,dt,x,at,m,ut,y,pt,P,ct,E,gt,L,ft,D,xt,U,mt,V,Tt;"use strict";const f=e(6010),T=e(9205),g=e(7507),{MAX_STAGE:u}=f,Q=class extends T{constructor(N,w=f.getConfig(),I=!1,Z=[],tt=null){super();v(this,o);v(this,d);v(this,x);v(this,m);v(this,y);v(this,P);v(this,E);v(this,L);v(this,D);v(this,U);v(this,V);F(this,"type","root");v(this,c,0);v(this,l,void 0);v(this,n,void 0);v(this,t,void 0);v(this,s,(N=k(this,c),w=!1)=>{if(N<k(this,c)||!this.isPlain()||this.childNodes.length===0)return this;switch(N){case 0:this.type==="root"&&k(this,n).shift(),z(this,t,Boolean(w)),H(this,o,ht).call(this,w);break;case 1:H(this,d,dt).call(this);break;case 2:H(this,x,at).call(this);break;case 3:H(this,m,ut).call(this);break;case 4:H(this,y,pt).call(this);break;case 5:H(this,P,ct).call(this);break;case 6:H(this,E,gt).call(this);break;case 7:H(this,L,ft).call(this);break;case 8:H(this,D,xt).call(this);break;case 9:H(this,U,mt).call(this);break;case 10:H(this,V,Tt).call(this)}if(this.type==="root")for(const I of k(this,n))I.getAttribute("parseOnce")(N,w);return st(this,c)._++,this});v(this,r,N=>N.split(/[\0\x7F]/u).map((w,I)=>{if(I%2===0)return new g(w);if(isNaN(w[w.length-1]))return k(this,n)[Number(w.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${w}`)}));v(this,i,()=>{z(this,c,u);const{length:N,firstChild:w}=this,I=String(w);if(N===1&&w.type==="text"&&I.includes("\0")&&(this.replaceChildren(...k(this,r).call(this,I)),this.normalize(),this.type==="root"))for(const Z of k(this,n))Z.getAttribute("build")()});typeof N=="string"&&this.insertAt(I?N:N.replace(/[\0\x7F]/gu,"")),z(this,l,w),z(this,n,Z),Z.push(this)}getAttribute(N){switch(N){case"config":return structuredClone(k(this,l));case"accum":return k(this,n);case"parseOnce":return k(this,s);case"buildFromStr":return k(this,r);case"build":return k(this,i);case"include":{if(k(this,t)!==void 0)return k(this,t);const w=this.getRootNode();return w.type==="root"&&w!==this?w.getAttribute("include"):!1}default:return super.getAttribute(N)}}setAttribute(N,w){switch(N){case"stage":return k(this,c)===0&&this.type==="root"&&k(this,n).shift(),z(this,c,w),this;default:return super.setAttribute(N,w)}}isPlain(){return this.constructor===Q}insertAt(N,w=this.childNodes.length){return typeof N=="string"&&(N=new g(N)),super.insertAt(N,w),N.type==="root"&&(N.type="plain"),N}normalizeTitle(N,w=0,I=!1){return f.normalizeTitle(N,w,k(this,t),k(this,l),I)}afterBuild(){if(this.type==="root")for(const N of k(this,n))N.afterBuild();return this}parse(N=u,w=!1){for(;k(this,c)<N;)k(this,s).call(this,k(this,c),w);return N&&(k(this,i).call(this),this.afterBuild()),this}};let a=Q;c=new WeakMap,l=new WeakMap,n=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakSet,ht=function(N){const w=e(4907);this.setText(w(String(this),k(this,l),k(this,n),N))},d=new WeakSet,dt=function(){const N=e(8275),w=this.type==="root"?String(this):`\0${String(this)}`,I=N(w,k(this,l),k(this,n));this.setText(this.type==="root"?I:I.slice(1))},x=new WeakSet,at=function(){const N=e(5130);this.setText(N(String(this),k(this,l),k(this,n)))},m=new WeakSet,ut=function(){const N=e(4624),w=e(2840);this.setText(N(this,k(this,l),k(this,n)));for(const I of k(this,n))if(I instanceof w&&I.type!=="td"){I.normalize();const{childNodes:[,Z]}=I;if(typeof Z=="string"&&Z.includes("\0")){I.removeAt(1);const tt=new Q(Z,k(this,l),!0,k(this,n));I.insertAt(tt,1),tt.setAttribute("stage",4)}}},y=new WeakSet,pt=function(){const N=e(2937);this.setText(N(this,k(this,l),k(this,n)))},P=new WeakSet,ct=function(){const N=e(1452);this.setText(N(String(this),k(this,l),k(this,n)))},E=new WeakSet,gt=function(){const N=e(3360),w=String(this).split(`
`);for(let I=0;I<w.length;I++)w[I]=N(w[I],k(this,l),k(this,n));this.setText(w.join(`
`))},L=new WeakSet,ft=function(){const N=e(7513);this.setText(N(String(this),k(this,l),k(this,n)))},D=new WeakSet,xt=function(){const N=e(4737);this.setText(N(String(this),k(this,l),k(this,n)))},U=new WeakSet,mt=function(){if(this.type==="image-parameter")return;const N=e(6622),w=String(this).split(`
`);let I=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;I<w.length;I++)w[I]=N(w[I],k(this,l),k(this,n));this.setText(w.join(`
`))},V=new WeakSet,Tt=function(){const N=e(3765);this.setText(N(String(this),k(this,l),k(this,n)))},$.exports=a},337:($,S,e)=>{"use strict";const f=e(3905);class T extends f{constructor(){super(...arguments);F(this,"type","category")}}$.exports=T},7625:($,S,e)=>{var s,_;"use strict";const{explode:f}=e(231),{generateForChild:T}=e(8277),g=e(6010),u=e(3905),a=e(1874),c=new Set(["manualthumb","frameless","framed","thumbnail"]),l=new Set(["left","right","center","none"]),n=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class t extends u{constructor(h,d,p,x=g.getConfig(),A=[],m="|"){super(h,void 0,p,x,A,m);v(this,s);F(this,"type","file");this.append(...f("-{","}-","|",d).map(C=>new a(C,x,A)))}lint(h=0){const d=super.lint(h),p=this.getFrameArgs(),x=this.getHorizAlignArgs(),A=this.getVertAlignArgs(),m=this.getArgs("caption"),C=[...m.slice(0,-1).filter(y=>y.text()),m[m.length-1]];if(p.length>1||x.length>1||A.length>1||m.size>1){const y=this.getRootNode().posFromIndex(h);p.length>1&&d.push(...p.map(b=>T(b,y,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),x.length>1&&d.push(...x.map(b=>T(b,y,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),A.length>1&&d.push(...A.map(b=>T(b,y,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),C.length>1&&d.push(...C.map(b=>T(b,y,"\u91CD\u590D\u7684\u56FE\u7247\u8BF4\u660E")))}return d}getAllArgs(){return this.childNodes.slice(1)}getArgs(h){return this.getAllArgs().filter(({name:d})=>h===d)}getFrameArgs(){return H(this,s,_).call(this,c,"\u6846\u67B6")}getHorizAlignArgs(){return H(this,s,_).call(this,l,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return H(this,s,_).call(this,n,"\u5782\u76F4\u5BF9\u9F50")}}s=new WeakSet,_=function(h){return this.getAllArgs().filter(({name:p})=>h.has(p))},$.exports=t},1031:($,S,e)=>{var c;"use strict";const{generateForSelf:f}=e(8277),T=e(6010),g=e(8138),u=e(7625);class a extends u{constructor(t,s,r,i=T.getConfig(),o=[]){let h;if(s!==void 0){h=new g(s,i,!0,o),h.type="temp";for(let d=1;d<T.MAX_STAGE;d++)h.getAttribute("parseOnce")();o.splice(o.indexOf(h),1)}super(t,h==null?void 0:h.toString(),r,i,o);F(this,"type","gallery-image");v(this,c,!1);this.setAttribute("bracket",!1)}afterBuild(){const{interwiki:t,ns:s}=this.normalizeTitle(String(this.firstChild),this.type==="imagemap-image"?0:6,!0);return z(this,c,t||s!==6),this}getPadding(){return 0}lint(t=0){const s=super.lint(t);return k(this,c)&&s.push(f(this,{start:t},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),s}}c=new WeakMap,$.exports=a},3905:($,S,e)=>{var l,n;"use strict";const{generateForChild:f}=e(8277),T=e(6010),g=e(7507),u=e(8138),a=e(9237);class c extends u{constructor(r,i,o,h=T.getConfig(),d=[],p="|"){super(void 0,h,!0,d,{AtomToken:0,Token:1});F(this,"type","link");v(this,l,!0);v(this,n,void 0);if(this.insertAt(new a(r,"link-target",h,d,{"Stage-2":":","!ExtToken":"","!HeadingToken":""})),i!==void 0){const x=new u(i,h,!0,d,{"Stage-5":":",ConverterToken:":"});x.type="link-text",this.insertAt(x.setAttribute("stage",T.MAX_STAGE-1))}z(this,n,p)}afterBuild(){var r;return(r=k(this,n))!=null&&r.includes("\0")&&z(this,n,this.getAttribute("buildFromStr")(k(this,n)).map(String).join("")),this}setAttribute(r,i){return r==="bracket"?(z(this,l,Boolean(i)),this):super.setAttribute(r,i)}toString(r){const i=super.toString(r,k(this,n));return k(this,l)?`[[${i}]]`:i}text(){const r=super.text("|");return k(this,l)?`[[${r}]]`:r}getPadding(){return 2}getGaps(){return k(this,n).length}print(){return super.print(k(this,l)?{pre:"[[",post:"]]",sep:k(this,n)}:{sep:k(this,n)})}lint(r=0){var h;const i=super.lint(r),{childNodes:[,o]}=this;return(h=o==null?void 0:o.childNodes)!=null&&h.some(({type:d,data:p})=>d==="text"&&p.includes("|"))&&i.push(f(o,{token:this,start:r},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"')),i}}l=new WeakMap,n=new WeakMap,$.exports=c},8962:($,S,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(6010),g=e(8138);class u extends g{constructor(l,n,t=T.getConfig(),s=[]){super(l,t,!0,s,{"Stage-1":":","!ExtToken":""});F(this,"type","free-ext-link");n&&(this.type="ext-link-url")}lint(l=0){const n=super.lint(l);let t;for(const s of this.childNodes){const r=String(s);if(s.type!=="text"||!/[，；。：！？（）【】]/u.test(r))continue;t||(t=this.getRootNode().posFromIndex(l));const i=f(s,t,"URL\u4E2D\u7684\u5168\u89D2\u6807\u70B9","warning"),o=/[，；。：！？（）【】]/gu;for(let h=o.exec(r);h;h=o.exec(r)){const{index:d}=h,p=r.slice(0,d).split(`
`),{length:x}=p,{length:A}=p[x-1],m=i.startLine+x-1,C=x>1?A:i.startCol+A,y=r.slice(Math.max(0,d-25),d+25);n.push({...i,startLine:m,endLine:m,startCol:C,endCol:C+1,excerpt:y})}}return n}}$.exports=u},9389:($,S,e)=>{"use strict";const f=e(6010),T=e(8889);class g extends T{constructor(c,l=f.getConfig(),n=[]){super(c,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],l,n);F(this,"name","choose")}}$.exports=g},9269:($,S,e)=>{"use strict";const f=e(6010),T=e(8889);class g extends T{constructor(c,l=f.getConfig(),n=[]){super(c,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],l,n);F(this,"name","combobox")}}$.exports=g},8889:($,S,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(6010),g=e(8138),u=e(7267),a=e(3423);class c extends g{constructor(t,s,r,i=T.getConfig(),o=[]){var d;const h=(d=t==null?void 0:t.replace(s,(p,x,A,m,C)=>{const y=`\0${o.length+1}e\x7F`;return new u(x,A,m,C,i,o),y}))==null?void 0:d.replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(p,x,A)=>A===""?x:(new a(A,i,o),`${x}\0${o.length}c\x7F`));super(h,i,!0,o,{NoincludeToken:":",ExtToken:":"});F(this,"type","ext-inner")}lint(t=0){let s;return[...super.lint(t),...this.childNodes.filter(r=>{if(r.type==="ext")return!1;const i=String(r).trim();return i&&!/^<!--.*-->$/u.test(i)}).map(r=>(s||(s=this.getRootNode().posFromIndex(t)),f(r,s,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}$.exports=c},5937:($,S,e)=>{"use strict";const f=e(6010),T=e(8889);class g extends T{constructor(c,l=f.getConfig(),n=[]){super(c,/<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],l,n);F(this,"name","references")}}$.exports=g},7033:($,S,e)=>{var f={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function T(u){var a=g(u);return e(a)}function g(u){if(!e.o(f,u)){var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}return f[u]}T.keys=function(){return Object.keys(f)},T.resolve=g,$.exports=T,T.id=7033},5749:($,S,e)=>{"use strict";const f=e(2308),{generateForSelf:T}=e(8277),g=e(6010),u=e(6935);class a extends f(u){constructor(n,t=!0,s=g.getConfig(),r=[]){super(n,s,r);F(this,"type","comment");F(this,"closed");this.closed=t}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}lint(n=0){return this.closed?[]:[T(this,{start:n},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(n){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}$.exports=a},3434:($,S,e)=>{"use strict";const f=e(6935);class T extends f{constructor(){super(...arguments);F(this,"type","dd")}}$.exports=T},7815:($,S,e)=>{"use strict";const f=e(2308),T=e(6935);class g extends f(T){constructor(){super(...arguments);F(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(c){return`__${String(this.firstChild)}__`}}$.exports=g},2582:($,S,e)=>{"use strict";const f=e(6010),T=e(6935);class g extends T{constructor(c,l=f.getConfig(),n=[]){super("-".repeat(c),l,n);F(this,"type","hr")}}$.exports=g},6935:($,S,e)=>{"use strict";const{generateForSelf:f}=e(8277),T=e(6010),g=e(8138);class u extends g{constructor(l,n=T.getConfig(),t=[]){super(l,n,!0,t);F(this,"type","ext-inner")}lint(l=0){const{type:n,name:t}=this;return n==="ext-inner"&&(t==="templatestyles"||t==="section")&&String(this)?[f(this,{start:l},`<${t}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(l)}}$.exports=u},962:($,S,e)=>{"use strict";const f=e(3434);class T extends f{constructor(){super(...arguments);F(this,"type","list")}}$.exports=T},3423:($,S,e)=>{"use strict";const f=e(2308),T=e(6935);class g extends f(T){constructor(){super(...arguments);F(this,"type","noinclude")}}$.exports=g},6714:($,S,e)=>{"use strict";const{generateForSelf:f}=e(8277),T=e(6010),g=e(7507),u=e(6935);class a extends u{constructor(n,t=T.getConfig(),s=[]){super("'".repeat(n),t,s);F(this,"type","quote")}lint(n=0){const{previousSibling:t,nextSibling:s}=this,r=`\u5B64\u7ACB\u7684"'"`,i=[];let o;if((t==null?void 0:t.type)==="text"&&t.data.endsWith("'")){o=f(this,{start:n},r);const{startLine:h,startCol:d}=o,[,{length:p}]=t.data.match(/(?:^|[^'])('+)$/u),x=`${"'".repeat(p)}${o.excerpt.slice(0,50-p)}`;i.push({...o,startCol:d-p,endLine:h,endCol:d,excerpt:x})}if((s==null?void 0:s.type)==="text"&&s.data[0]==="'"){o||(o=f(this,{start:n},r));const{endLine:h,endCol:d}=o,[{length:p}]=s.data.match(/^'+/u),x=`${o.excerpt.slice(p-50)}${"'".repeat(p)}`;i.push({...o,startLine:h,startCol:d,endCol:d+p,excerpt:x})}return i}}$.exports=a},851:($,S,e)=>{"use strict";const f=e(6010),T=e(8138);class g extends T{constructor(c,l=f.getConfig(),n=[]){super(c,l,!0,n);F(this,"type","onlyinclude")}toString(c){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:"&lt;onlyinclude&gt;",post:"&lt;/onlyinclude&gt;"})}isPlain(){return!0}}$.exports=g},9380:($,S,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(6010),g=e(8138),u=e(9237);class a extends g{constructor(n,t=T.getConfig(),s=[]){super(void 0,t,!0,s,{AtomToken:":"});F(this,"type","ext-inner");n&&this.append(...n.split(`
`).map(r=>new u(r,"param-line",t,s,{AstText:":"})))}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(n=0){let t;return this.childNodes.filter(s=>{const{childNodes:r}=s,i=r.findIndex(({type:h})=>h!=="text"),o=(i>=0?r.slice(0,i).map(String).join(""):String(s)).trim();return o&&!(i>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(o)}).map(s=>(t||(t=this.getRootNode().posFromIndex(n)),f(s,t,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}$.exports=a},9799:($,S,e)=>{"use strict";const{extUrlChar:f}=e(231),{generateForChild:T}=e(8277),g=e(6010),u=e(8138),a=e(9237);class c extends u{constructor(t,s,r=g.getConfig(),i=[]){super(void 0,r,!0,i);F(this,"type","parameter");const o=new a(typeof t=="number"?void 0:t,"parameter-key",r,i,{"Stage-2":":","!HeadingToken":""}),h=new u(s,r,!0,i);h.type="parameter-value",this.append(o,h.setAttribute("stage",2))}get anon(){return this.firstChild.childNodes.length===0}afterBuild(){if(!this.anon){const t=e(1782),s=this.firstChild.text().trim(),{parentNode:r}=this;this.setAttribute("name",s),r&&r instanceof t&&r.getArgs(s,!1,!1).add(this)}return this}toString(t){return this.anon?this.lastChild.toString(t):super.toString(t,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(t=0){var o;const s=super.lint(t),{firstChild:r}=this,i=(o=new RegExp(`https?://${f}$`,"iu").exec(r.text()))==null?void 0:o[0];if(i&&new URL(i).search){const h=T(r,{token:this,start:t},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");s.push({...h,startLine:h.endLine,startCol:h.endCol,endCol:h.endCol+1,excerpt:String(r).slice(-50)})}return s}}$.exports=c},8058:($,S,e)=>{"use strict";const f=e(6010),T=e(8138);class g extends T{constructor(a,c,l="plain",n=f.getConfig(),t=[],s=null){super(a,n,!0,t,s),this.type=l}}$.exports=g},2840:($,S,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(3125),g=e(8058);class u extends T{constructor(){super(...arguments);F(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(l=0){const n=super.lint(l);if(!this.closed){const{firstChild:t}=this,s=f(t,{token:this,start:l},"\u672A\u95ED\u5408\u7684\u8868\u683C");t.type==="tr"&&(s.excerpt=String(t.lastChild).slice(0,50)),n.push(s)}return n}close(l=`
|}`,n=!1){const t=this.getAttribute("config"),s=this.getAttribute("accum");super.insertAt(new g(l,null,"table-syntax",t,s))}}$.exports=u},5567:($,S,e)=>{var a;"use strict";const f=e(6010),T=e(8138),g=e(3125);class u extends g{constructor(n,t,s=f.getConfig(),r=[]){let i=t==null?void 0:t.match(/\||\0\d+!\x7F/u),o=i?t.slice(0,i.index):"";/\[\[|-\{/u.test(o)&&(i=null,o="");super(n,o,s,r);F(this,"type","td");v(this,a,"");i&&([st(this,a)._]=i);const h=new T(t==null?void 0:t.slice((i==null?void 0:i.index)+k(this,a).length),s,!0,r);h.type="td-inner",this.insertAt(h.setAttribute("stage",4))}afterBuild(){return k(this,a).includes("\0")&&z(this,a,this.getAttribute("buildFromStr")(k(this,a)).map(String).join("")),this}toString(n){const{childNodes:[t,s,r]}=this;return`${t.toString()}${s.toString()}${k(this,a)}${r.toString()}`}text(){const{childNodes:[n,t,s]}=this;return`${n.text()}${t.text()}${k(this,a)}${s.text()}`}getGaps(n=0){return n=n<0?n+this.childNodes.length:n,n===1?k(this,a).length:0}print(){const{childNodes:[n,t,s]}=this;return`<span class="wpb-td">${n.print()}${t.print()}${k(this,a)}${s.print()}</span>`}}a=new WeakMap,$.exports=u},3125:($,S,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(6010),g=e(8138),u=e(8058),a=e(5037);class c extends g{constructor(t,s="",r=T.getConfig(),i=[],o=null){super(void 0,r,!0,i,{Token:2,SyntaxToken:0,AttributeToken:1,TdToken:"2:"});F(this,"type","tr");this.append(new u(t,o,"table-syntax",r,i,{"Stage-1":":","!ExtToken":"",TranscludeToken:":"}),new a(s,"table-attr","tr",r,i))}lint(t=0){const s=e(1782),r=super.lint(t),i=this.childNodes.find(({type:d})=>d==="table-inter");if(!i)return r;const o=i.childNodes.find(d=>d.text().trim());if(o){if((o==null?void 0:o.type)==="magic-word")try{if(o.getPossibleValues().every(p=>/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u.test(p.text())))return r}catch(d){}}else return r;const h=f(i,{token:this,start:t},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return r.push({...h,startLine:h.startLine+1,startCol:0}),r}text(){const t=super.text();return this.type==="tr"&&!t.trim().includes(`
`)?"":t}}$.exports=c},7267:($,S,e)=>{"use strict";const f=e(6010),T=e(1074),g=e(8138),u=e(5037);class a extends T{constructor(n,t="",s="",r=void 0,i=f.getConfig(),o=[]){t=!t||/^\s/u.test(t)?t:` ${t}`;const h=n.toLowerCase(),d=new u(t,"ext-attr",h,i,o),p=structuredClone(i),x=new Set(p.ext);let A;switch(x.delete(h),p.ext=[...x],h){case"tab":x.delete("tabs"),p.ext=[...x];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":A=new g(s,p,!0,o);break;case"gallery":{const m=e(1891);A=new m(s,p,o);break}case"pre":{const m=e(428);A=new m(s,p,o);break}case"charinsert":{const m=e(8103);A=new m(s,p,o);break}case"references":case"choose":case"combobox":{const m=e(8889),C=e(7033)(`./${h}`);A=new C(s,p,o);break}case"imagemap":{const m=e(2641);A=new m(s,i,o);break}case"dynamicpagelist":{const m=e(9380);A=new m(s,p,o);break}default:{const m=e(6935);A=new m(s,i)}}A.setAttribute("name",h).type="ext-inner";super(n,d,A,r,i,o);F(this,"type","ext");F(this,"closed",!0)}}$.exports=a},8655:($,S,e)=>{"use strict";const f=e(2308),{generateForSelf:T}=e(8277),g=e(6010),u=e(1074);class a extends f(u){constructor(n,t="",s=void 0,r=void 0,i=g.getConfig(),o=[]){super(n,t,s!=null?s:"",s===void 0||r!=null?r:"",i,o);F(this,"type","include")}lint(n=0){return this.closed?[]:[T(this,{start:n},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}}$.exports=a},1074:($,S,e)=>{var u,a,c;"use strict";const f=e(6010),T=e(8138);class g extends T{constructor(t,s,r,i,o=f.getConfig(),h=[]){super(void 0,o,!0);v(this,u,void 0);v(this,a,void 0);v(this,c,void 0);z(this,c,[t,i||t]),z(this,u,i===void 0),z(this,a,i!==""),this.append(s,r);let d=h.indexOf(s);d===-1&&(d=h.indexOf(r)),d===-1&&(d=1/0),h.splice(d,0,this)}get closed(){return k(this,a)}toString(t){const{firstChild:s,lastChild:r}=this,[i,o]=k(this,c);return k(this,u)?`<${i}${String(s)}/>`:`<${i}${String(s)}>${String(r)}${k(this,a)?`</${o}>`:""}`}text(){const[t,s]=k(this,c);return k(this,u)?`<${t}${this.firstChild.text()}/>`:`<${t}${super.text(">")}${k(this,a)?`</${s}>`:""}`}getPadding(){return k(this,c)[0].length+1}getGaps(){return 1}print(){const[t,s]=k(this,c);return super.print(k(this,u)?{pre:`&lt;${t}`,post:"/&gt;"}:{pre:`&lt;${t}`,sep:"&gt;",post:k(this,a)?`&lt;/${s}&gt;`:""})}}u=new WeakMap,a=new WeakMap,c=new WeakMap,$.exports=g},1782:($,S,e)=>{var r,i,$t;"use strict";const{removeComment:f,print:T,text:g}=e(231),{generateForChild:u}=e(8277),a=e(6010),c=e(8138),l=e(9799),n=e(9237),t=e(8058);class s extends c{constructor(p,x,A=a.getConfig(),m=[]){super(void 0,A,!0,m,{AtomToken:0,SyntaxToken:0,ParameterToken:"1:"});v(this,i);F(this,"type","template");F(this,"modifier","");v(this,r,{});const{parserFunction:[C,y,b]}=A;if(p.includes(":")){const[E,...B]=p.split(":");this.setModifier(E)&&(p=B.join(":"))}if(p.includes(":")||x.length===0&&!b.includes(this.modifier.toLowerCase())){const[E,...B]=p.split(":"),L=f(E),j=y.includes(L),D=C[L.toLowerCase()];if(j||D){this.setAttribute("name",D||L.toLowerCase()).type="magic-word";const X=new RegExp(`^\\s*${L}\\s*$`,j?"u":"iu"),U=new t(E,X,"magic-word-name",A,m,{"Stage-1":":","!ExtToken":""});if(this.insertAt(U),B.length>0&&x.unshift([B.join(":")]),this.name==="invoke")for(let W=0;W<2;W++){const V=x.shift();if(!V)break;const K=new n(V.join("="),`invoke-${W?"function":"module"}`,A,m,{"Stage-1":":","!ExtToken":""});this.insertAt(K)}}}if(this.type==="template"){const E=f(p).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test(E))throw m.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${E}`);const B=new n(p,"template-name",A,m,{"Stage-2":":","!HeadingToken":""});this.insertAt(B)}const P=this.isTemplate();let G=1;for(const E of x)P||(E[0]=E.join("="),E.length=1),E.length===1&&(E.unshift(G),G++),this.insertAt(new l(...E,A,m))}setModifier(p=""){const{parserFunction:[,,x,A]}=this.getAttribute("config"),m=p.trim().toLowerCase(),C=x.includes(m),y=A.includes(m);return C||y||p===""?(this.setAttribute("modifier",p),Boolean(p)):!1}toString(p){const{childNodes:x,firstChild:A,modifier:m}=this;return`{{${m}${m&&":"}${this.type==="magic-word"?`${String(A)}${x.length>1?":":""}${x.slice(1).map(String).join("|")}`:super.toString(p,"|")}}}`}text(){const{childNodes:p,firstChild:x,modifier:A}=this;return`{{${A}${A&&":"}${this.type==="magic-word"?`${x.text()}${p.length>1?":":""}${g(p.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:p,firstChild:x,modifier:A}=this;return`<span class="wpb-${this.type}">{{${A}${A&&":"}${this.type==="magic-word"?`${x.print()}${p.length>1?":":""}${T(p.slice(1),{sep:"|"})}`:T(p,{sep:"|"})}}}</span>`}lint(p=0){const x=super.lint(p);if(!this.isTemplate())return x;const A=this.getDuplicatedArgs();if(A.length>0){const m=this.getRootNode().posFromIndex(p);x.push(...A.flatMap(([,C])=>[...C]).map(C=>u(C,m,"\u91CD\u590D\u53C2\u6570")))}return x}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(p,x=this.childNodes.length){return super.insertAt(p,x),p.anon?H(this,i,$t).call(this,p):p.name&&this.getArgs(p.name,!1,!1).add(p),p}getAllArgs(){return this.childNodes.filter(p=>p instanceof l)}getAnonArgs(){return this.getAllArgs().filter(({anon:p})=>p)}getArgs(p,x,A=!0){const m=String(p).trim();let C;return Object.prototype.hasOwnProperty.call(k(this,r),m)?C=k(this,r)[m]:(C=new Set(this.getAllArgs().filter(({name:y})=>m===y)),k(this,r)[m]=C),C}getDuplicatedArgs(){return this.isTemplate()?Object.entries(k(this,r)).filter(([,{size:p}])=>p>1).map(([p,x])=>[p,new Set(x)]):[]}getPossibleValues(){const{type:p,name:x,childNodes:A,constructor:{name:m}}=this;if(p==="template")throw new Error(`${m}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let C;switch(x){case"if":case"ifexist":case"ifexpr":case"iferror":C=2;break;case"ifeq":C=3;break;default:throw new Error(`${m}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const y=A.slice(C,C+2).map(({childNodes:[,b]})=>b);for(let b=0;b<y.length;){const{length:P,0:G}=y[b].childNodes.filter(E=>E.text().trim());if(P===0)y.splice(b,1);else if(P>1||G.type!=="magic-word")b++;else try{const E=G.getPossibleValues();y.splice(b,1,...E),b+=E.length}catch(E){b++}}return y}}r=new WeakMap,i=new WeakSet,$t=function(p){const x=this.getAnonArgs(),A=x.indexOf(p);for(let m=A;m<x.length;m++){const C=x[m],{name:y}=C,b=String(m+1);y!==b&&this.getArgs(b,!1,!1).add(C.setAttribute("name",b))}},$.exports=s},8277:($,S,e)=>{"use strict";const f=e(8138),T=(u,a,c,l="error")=>{const{style:{top:n,left:t,height:s,width:r}}=u,{token:i,start:o}=a,{top:h,left:d}=i?i.getRootNode().posFromIndex(o):a,p=h+n,x=p+s-1,A=n?t:d+t,m=s>1?r:A+r;return{message:c,severity:l,startLine:p,endLine:x,startCol:A,endCol:m,excerpt:String(u).slice(0,50)}},g=(u,a,c,l="error")=>{const{start:n}=a,{offsetHeight:t,offsetWidth:s}=u,{top:r,left:i}=n===void 0?a:u.getRootNode().posFromIndex(n);return{message:c,severity:l,startLine:r,endLine:r+t-1,startCol:i,endCol:t>1?s:i+s,excerpt:String(u).slice(0,50)}};$.exports={generateForChild:T,generateForSelf:g}},231:($,S,e)=>{"use strict";const f='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',T=l=>l.replace(/\0\d+c\x7F/gu,""),g=(l,n={})=>{const t=e(7507),s=e(9205),{pre:r="",post:i="",sep:o=""}=n,h={"&":"amp","<":"lt",">":"gt"};return`${r}${l.map(d=>d instanceof s?d.print():String(d).replace(/[&<>]/gu,p=>`&${h[p]};`)).join(o)}${i}`},u=l=>l.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),a=(l,n,t,s)=>{if(s===void 0)return[];const r=new RegExp(`${[l,n,t].map(u).join("|")}`,"gu"),i=[];let o=r.exec(s),h=0,d=0;for(;o;){const{0:p,index:x}=o;p!==t?h+=p===l?1:-1:h===0&&(i.push(s.slice(d,x)),{lastIndex:d}=r),o=r.exec(s)}return i.push(s.slice(d)),i},c=(l,n="")=>{const t=e(3853);return l.map(s=>typeof s=="string"?s:s.text()).join(n)};$.exports={extUrlChar:f,removeComment:T,print:g,escapeRegExp:u,explode:a,text:c}},8166:$=>{"use strict";$.exports=JSON.parse('{"ext":["nowiki","pre","gallery","indicator"],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"0":"","6":"File","14":"Category"},"nsid":{"":0,"file":6,"image":6,"\u56FE\u50CF":6,"\u5716\u50CF":6,"\u6587\u4EF6":6,"\u6863\u6848":6,"\u6A94\u6848":6,"category":14,"\u5206\u7C7B":14,"\u5206\u985E":14},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{"thumbnail":"thumbnail","thumb":"thumbnail","\u7F29\u7565\u56FE":"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","\u7F29\u7565\u56FE=$1":"manualthumb","left":"left","\u5DE6":"left","right":"right","\u53F3":"right","none":"none","\u65E0":"none","$1px":"width","$1\u50CF\u7D20":"width","center":"center","centre":"center","\u5C45\u4E2D":"center","framed":"framed","enframed":"framed","frame":"framed","\u6709\u6846":"framed","frameless":"frameless","\u65E0\u6846":"frameless","upright":"upright","\u53F3\u4E0A":"upright","upright=$1":"manual-upright","upright $1":"manual-upright","\u53F3\u4E0A=$1":"manual-upright","\u53F3\u4E0A$1":"manual-upright","border":"border","\u8FB9\u6846":"border","alt=$1":"alt","\u66FF\u4EE3=$1":"alt","\u66FF\u4EE3\u6587\u672C=$1":"alt","class=$1":"class","\u7C7B=$1":"class","link=$1":"link","\u94FE\u63A5=$1":"link","baseline":"baseline","\u57FA\u7EBF":"baseline","sub":"sub","\u5B50":"sub","super":"super","sup":"super","\u8D85":"super","top":"top","\u9876\u90E8":"top","text-top":"text-top","\u6587\u5B57\u9876\u90E8":"text-top","middle":"middle","\u4E2D\u95F4":"middle","bottom":"bottom","\u5E95\u90E8":"bottom","text-bottom":"text-bottom","\u6587\u5B57\u5E95\u90E8":"text-bottom","lang=$1":"lang","\u8BED\u8A00=$1":"lang","page=$1":"page","page $1":"page","\u9875\u6570=$1":"page","$1\u9875":"page"},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},R={};function M($){var S=R[$];if(S!==void 0)return S.exports;var e=R[$]={exports:{}};return O[$](e,e.exports,M),e.exports}M.o=($,S)=>Object.prototype.hasOwnProperty.call($,S);var J=M(6010)})();})();
