(()=>{var Tt=Object.defineProperty;var $t=(O,I,j)=>I in O?Tt(O,I,{enumerable:!0,configurable:!0,writable:!0,value:j}):O[I]=j;var y=(O,I,j)=>($t(O,typeof I!="symbol"?I+"":I,j),j),tt=(O,I,j)=>{if(!I.has(O))throw TypeError("Cannot "+j)};var T=(O,I,j)=>(tt(O,I,"read from private field"),j?j.call(O):I.get(O)),w=(O,I,j)=>{if(I.has(O))throw TypeError("Cannot add the same private member more than once");I instanceof WeakSet?I.add(O):I.set(O,j)},M=(O,I,j,K)=>(tt(O,I,"write to private field"),K?K.call(O,j):I.set(O,j),j),et=(O,I,j,K)=>({set _(x){M(O,I,x,j)},get _(){return T(O,I,K)}}),D=(O,I,j)=>(tt(O,I,"access private method"),j);(()=>{var O={6010:(x,C,e)=>{"use strict";const g={config:void 0,minConfig:e(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(h,u=0,d=!1,p=g.getConfig(),l=!1){let t;if(!l){const i=e(8138);t=this.run(()=>{const o=new i(String(h),p),r=o.getAttribute("parseOnce");return r(0,d),r()}),h=t.firstChild}const s=e(6986);return new s(String(h),u,p)},parse(h,u,d=g.MAX_STAGE,p=g.getConfig()){const l=e(8138);let t;return this.run(()=>{typeof h=="string"?t=new l(h,p):h instanceof l&&(t=h,h=String(t)),t.parse(d,u)}),t},run(h){return h()},print(h,u=!1,d=g.getConfig()){return`<div class="wikiparser">${this.parse(h,u,this.MAX_STAGE,d).print()} </div>`}},f={};for(const h in g)["MAX_STAGE","minConfig"].includes(h)?f[h]={enumerable:!1,writable:!1}:["config","normalizeTitle","parse","print"].includes(h)||(f[h]={enumerable:!1});Object.defineProperties(g,f),typeof window!="undefined"&&(window.Parser=g),x.exports=g},9205:(x,C,e)=>{"use strict";const{print:g}=e(231),f=e(3853),h=e(7507),d=class extends f{constructor(){super(...arguments);y(this,"name")}get length(){return this.childNodes.length}get children(){return this.childNodes.filter(({type:s})=>s!=="text")}get firstElementChild(){return this.childNodes.find(({type:t})=>t!=="text")}get lastElementChild(){return this.children.at(-1)}append(...t){for(const s of t)this.insertAt(s)}replaceChildren(...t){for(let s=this.childNodes.length-1;s>=0;s--)this.removeAt(s);this.append(...t)}setText(t,s=0){const n=this.childNodes.at(s),{type:i,data:o}=n;if(i==="text")return n.replaceData(t),o}toString(t,s=""){return this.childNodes.map(n=>n.toString()).join(s)}lint(t=0){const s=e(8058);if(this instanceof s||this.constructor.hidden||this.type==="ext-inner"&&d.lintIgnoredExt.has(this.name))return[];const n=[];for(let i=0,o=t+this.getPadding();i<this.childNodes.length;i++){const r=this.childNodes[i];n.push(...r.lint(o)),o+=String(r).length+this.getGaps(i)}return n}print(t={}){var s;return String(this)?`<span class="wpb-${(s=t.class)!=null?s:this.type}">${g(this.childNodes,t)}</span>`:""}};let u=d;y(u,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),x.exports=u},3853:(x,C,e)=>{var f,h,Y,d,st;"use strict";class g{constructor(){w(this,h);w(this,d);y(this,"type");y(this,"childNodes",[]);w(this,f,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes.at(-1)}get parentNode(){return T(this,f)}get nextSibling(){var s;const t=(s=T(this,f))==null?void 0:s.childNodes;return t&&t[t.indexOf(this)+1]}get previousSibling(){var s;const t=(s=T(this,f))==null?void 0:s.childNodes;return t&&t[t.indexOf(this)-1]}hasAttribute(t){return t in this}getAttribute(t){return this.hasAttribute(t)?String(this[t]):void 0}setAttribute(t,s){return t==="parentNode"?M(this,f,s):this[t]=s,this}removeAt(t){const s=[...this.childNodes],[n]=s.splice(t,1);return n.setAttribute("parentNode"),this.setAttribute("childNodes",s),n}insertAt(t,s=this.childNodes.length){const n=[...this.childNodes];return-1===-1&&t.setAttribute("parentNode",this),n.splice(s,0,t),this.setAttribute("childNodes",n),t}normalize(){var n;const t=e(7507),s=[...this.childNodes];for(let i=s.length-1;i>=0;i--){const{type:o,data:r}=s[i];this.getGaps(i-1)||(r===""?s.splice(i,1):o==="text"&&((n=s[i-1])==null?void 0:n.type)==="text"&&(s[i-1].setAttribute("data",s[i-1].data+r),s.splice(i,1)))}this.setAttribute("childNodes",s)}getRootNode(){let{parentNode:t}=this;for(;t!=null&&t.parentNode;)({parentNode:t}=t);return t!=null?t:this}posFromIndex(t){const s=String(this);if(t>=-s.length&&t<=s.length){const n=s.slice(0,t).split(`
`);return{top:n.length-1,left:n.at(-1).length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(t){let s;const n=(i,o)=>s.slice(0,i).reduce((r,a,c)=>r+String(a).length+o.getGaps(c),0)+o.getPadding();if(t===void 0){const{parentNode:i}=this;return i?({childNodes:s}=i,n(s.indexOf(this),i)):0}return{childNodes:s}=this,n(t,this)}getAbsoluteIndex(){const{parentNode:t}=this;return t?t.getAbsoluteIndex()+this.getRelativeIndex():0}getBoundingClientRect(){return{...D(this,h,Y).call(this),...this.getRootNode().posFromIndex(this.getAbsoluteIndex())}}get offsetHeight(){return D(this,h,Y).call(this).height}get offsetWidth(){return D(this,h,Y).call(this).width}get style(){return{...D(this,d,st).call(this),...D(this,h,Y).call(this),padding:this.getPadding()}}}f=new WeakMap,h=new WeakSet,Y=function(){const t=String(this).split(`
`);return{height:t.length,width:t.at(-1).length}},d=new WeakSet,st=function(t){var s,n;return t===void 0?(n=(s=this.parentNode)==null?void 0:s.posFromIndex(this.getRelativeIndex()))!=null?n:{top:0,left:0}:this.posFromIndex(this.getRelativeIndex(t))},x.exports=g},7507:(x,C,e)=>{var h,nt;"use strict";const g=e(3853),d=class extends g{constructor(t=""){super();w(this,h);y(this,"type","text");y(this,"data");this.data=t}toString(){return this.data}replaceData(t=""){D(this,h,nt).call(this,t)}lint(t=0){const{data:s}=this,n=[...s.matchAll(d.errorSyntax)];if(n.length>0){const{top:i,left:o}=this.getRootNode().posFromIndex(t);return n.map(({0:r,1:a,index:c})=>{a&&(c+=a.length,r=r.slice(a.length));const m=s.slice(0,c).split(`
`),A=m.length+i-1,{length:$}=m.at(-1),k=m.length>1?$:o+$;return{message:`\u5B64\u7ACB\u7684"${r[0]}"`,severity:r[0]==="{"||r[0]==="}"?"error":"warning",startLine:A,endLine:A,startCol:k,endCol:k+r.length}})}return[]}};let f=d;h=new WeakSet,nt=function(t){return t=String(t),this.setAttribute("data",t),this},y(f,"errorSyntax",/[{}]+|\[{2,}|\[(?!(?:(?!https?\b)[^[])*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?\w+[\s/>])/giu),x.exports=f},6986:(x,C,e)=>{"use strict";const g=e(6010);class f{constructor(u,d=0,p=g.getConfig()){y(this,"valid",!0);y(this,"ns",0);const{namespaces:l,nsid:t}=p;let s=l[d];u=u.replaceAll("_"," ").trim(),u[0]===":"&&(s="",u=u.slice(1).trim());const n=u.split(":");if(n.length>1){const r=l[t[n[0].trim().toLowerCase()]];r!==void 0&&(s=r,u=n.slice(1).join(":").trim())}this.ns=t[s.toLowerCase()];const i=u.indexOf("#");let o="";i!==-1&&(o=u.slice(i+1).trimEnd(),u=u.slice(0,i).trim()),this.valid=Boolean(u||o)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(u)}}x.exports=f},2308:x=>{"use strict";const C=e=>{var g;return g=class extends e{},y(g,"hidden",!0),g};x.exports=C},8275:(x,C,e)=>{"use strict";const{removeComment:g}=e(231),f=e(6010),h=(u,d=f.getConfig(),p=[])=>{var c,m,A,$,k;const l="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",t=[],s={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},n={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let i=new RegExp(l,"gmu"),o=i.exec(u),r=u.includes("}}"),a;for(;o||a<=u.length&&((m=(c=t.at(-1))==null?void 0:c[0])==null?void 0:m[0])==="=";){if(o!=null&&o[1]){const[,{length:z}]=o;o[0]=o[0].slice(z),o.index+=z}const{0:b,index:v}=o!=null?o:{0:`
`,index:u.length},F=(A=t.pop())!=null?A:{},{0:L,index:N,parts:R,findEqual:H,pos:G}=F,W=b==="="&&H;if(b==="]]"||b==="}-")a=v+2;else if(b===`
`){a=v+1;const{pos:z,findEqual:B}=($=t.at(-1))!=null?$:{};if(!z||B||g(u.slice(z,N))!==""){const U=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(u.slice(N,v));if(U){u=`${u.slice(0,N)}\0${p.length}h\x7F${u.slice(v)}`,a=N+4+String(p.length).length;const q=e(9450);new q(U[1].length,U.slice(2),d,p)}}}else if(b==="|"||W)a=v+1,R.at(-1).push(u.slice(G,v)),b==="|"&&R.push([]),F.pos=a,F.findEqual=b==="|",t.push(F);else if(b.startsWith("}}")){const z=b.slice(0,Math.min(L.length,3)),B=L.length-z.length,{length:U}=p;a=v+z.length,R.at(-1).push(u.slice(G,v));let q=!1,Q="t";if(z.length===3){const J=e(9544);new J(R.map(V=>V.join("=")),d,p)}else{const J=g(R[0][0]);J in n?Q=n[J]:/^(?:fullurl|canonicalurl|filepath):./iu.test(J)&&(Q="m");try{const V=e(1782);new V(R[0][0],R.slice(1),d,p)}catch(V){if(V instanceof Error&&V.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))a=N+L.length,q=!0;else throw V}}q||(u=`${u.slice(0,N+B)}\0${U}${Q}\x7F${u.slice(a)}`,a=N+B+3+String(U).length,B>1?t.push({0:L.slice(0,B),index:N,pos:N+B,parts:[[]]}):B===1&&u[N-1]==="-"&&t.push({0:"-{",index:N-1,pos:N+1,parts:[[]]}))}else a=v+b.length,b[0]==="{"&&(o.pos=a,o.parts=[[]]),t.push(..."0"in F?[F]:[],o);r&&(r=u.slice(a).includes("}}"));let X=t.at(-1);!r&&((k=X==null?void 0:X[0])==null?void 0:k[0])==="{"&&(t.pop(),X=t.at(-1)),i=new RegExp(l+(X?`|${s[X[0][0]]}${X.findEqual?"|=":""}`:""),"gmu"),i.lastIndex=a,o=i.exec(u)}return u};x.exports=h},4907:(x,C,e)=>{"use strict";const g=e(6010),f=(h,u=g.getConfig(),d=[],p=!1)=>{const l=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(p&&h.search(l)!==-1)return h.replaceAll(l,(o,r)=>{const a=`\0${d.length}e\x7F`,c=e(851);return new c(r,u,d),a}).replaceAll(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(o,r,a)=>{if(a==="")return r;const c=e(3423);return new c(a,u,d),`${r}\0${d.length-1}c\x7F`});const t=u.ext.join("|"),s=p?"includeonly":"(?:no|only)include",n=p?"noinclude":"includeonly",i=new RegExp(`<!--.*?(?:-->|$)|<${s}(?:\\s[^>]*?)?>|</${s}\\s*>|<(${t})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${n})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return h.replaceAll(i,(o,r,a,c,m,A,$,k,b)=>{const v=`\0${d.length}${r?"e":"c"}\x7F`;if(r){const F=e(7267);new F(r,a,c,m,u,d)}else if(o.startsWith("<!--")){const F=e(5749),L=o.endsWith("-->");new F(o.slice(4,L?-3:void 0),L,u,d)}else if(A){const F=e(8655);new F(A,$,k,b,u,d)}else{const F=e(3423);new F(o,u,d)}return v})};x.exports=f},3765:(x,C,e)=>{"use strict";const g=e(6010),f=(h,u=g.getConfig(),d=[])=>{const p=e(9910),l=/-\{/gu,t=/-\{|\}-/gu,s=[];let n=l,i=n.exec(h);for(;i;){const{0:o,index:r}=i;if(o==="}-"){const a=s.pop(),{length:c}=d,m=h.slice(a.index+2,r),A=m.indexOf("|"),[$,k]=A===-1?[[],m]:[m.slice(0,A).split(";"),m.slice(A+1)],b=k.replaceAll(/(&[#a-z\d]+);/giu,"$1"),v=`(?:${u.variants.join("|")})`,F=b.split(new RegExp(`;(?=\\s*(?:${v}|[^;]*?=>\\s*${v})\\s*:)`,"u")).map(L=>L.replaceAll("",";"));new p($,F,u,d),h=`${h.slice(0,a.index)}\0${c}v\x7F${h.slice(r+2)}`,s.length===0&&(n=l),n.lastIndex=a.index+3+String(c).length}else s.push(i),n=t;i=n.exec(h)}return h};x.exports=f},7513:(x,C,e)=>{"use strict";const{extUrlChar:g}=e(231),f=e(6010),h=(u,d=f.getConfig(),p=[])=>{const l=e(741),t=new RegExp(`\\[((?:${d.protocol}|//)${g}|\0\\d+m\x7F)(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return u.replaceAll(t,(s,n,i,o)=>{const{length:r}=p,a=/&[lg]t;/u.exec(n);return a&&(n=n.slice(0,a.index),i="",o=`${n.slice(a.index)}${i}${o}`),new l(n,i,o,d,p),`\0${r}w\x7F`})};x.exports=h},2937:(x,C,e)=>{"use strict";const g=e(6010),f=({firstChild:{data:h},type:u,name:d},p=g.getConfig(),l=[])=>{const t=e(7507),s=e(8138),n=e(2582),i=e(7815),{doubleUnderscore:o}=p;return u!=="root"&&(u!=="ext-inner"||d!=="poem")&&(h=`\0${h}`),h=h.replaceAll(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(r,a,c)=>(new n(c.length,p,l),`${a}\0${l.length-1}r\x7F`)).replaceAll(new RegExp(`__(${o.flat().join("|")})__`,"giu"),(r,a)=>o[0].includes(a.toLowerCase())||o[1].includes(a)?(new i(a,p,l),`\0${l.length-1}u\x7F`):r),u==="root"||u==="ext-inner"&&d==="poem"?h:h.slice(1)};x.exports=f},5130:(x,C,e)=>{"use strict";const g=e(6010),f=(h,u=g.getConfig(),d=[])=>{const p=/^(\/?)([a-z][^\s/>]*)(\s[^>]*?)?(\/?>)([^<]*)$/iu,l=u.html.flat(),t=h.split("<");let s=t.shift();for(const n of t){const i=p.exec(n),o=i==null?void 0:i[2],r=o==null?void 0:o.toLowerCase();if(!i||!l.includes(r)){s+=`<${n}`;continue}const a=e(5037),[,c,,m="",A,$]=i,k=new a(m,"html-attr",r,u,d),b=k.getAttr("itemprop");if(r==="meta"&&(b===void 0||k.getAttr("content")===void 0)||r==="link"&&(b===void 0||k.getAttr("href")===void 0)){s+=`<${n}`,d.pop();continue}s+=`\0${d.length}x\x7F${$}`;const v=e(2350);new v(o,k,c==="/",A==="/>",u,d)}return s};x.exports=f},1452:(x,C,e)=>{"use strict";const g=e(6010),f=(h,u=g.getConfig(),d=[])=>{const p=e(3360),l=/^([^\n<>[\]{}|]+)(?:\|(.*?[^\]]))?\]\](.*)$/su,t=/^([^\n<>[\]{}|]+)\|(.*)$/su,s=new RegExp(`^\\s*(?:${u.protocol})`,"iu"),n=h.split("[[");let i=n.shift();for(let o=0;o<n.length;o++){let r,a,c,m;const A=n[o],$=l.exec(A);if($)[,a,c,m]=$,m[0]==="]"&&(c==null?void 0:c.includes("["))&&(c+="]",m=m.slice(1));else{const R=t.exec(A);R&&(r=!0,[,a,c]=R)}if(a===void 0||s.test(a)||/\0\d+[exhbru]\x7F/u.test(a)){i+=`[[${A}`;continue}let k=a;if(a.includes("%"))try{k=decodeURIComponent(a)}catch(R){}const b=a.trim()[0]===":";if(b&&r){i+=`[[${A}`;continue}const v=g.normalizeTitle(k,0,!1,u,!0),{ns:F,valid:L}=v;if(L){if(r){if(F!==6){i+=`[[${A}`;continue}let R;for(o++;o<n.length;o++){const H=n[o],G=H.split("]]");if(G.length>2){R=!0,c+=`[[${G[0]}]]${G[1]}`,m=G.slice(2).join("]]");break}else if(G.length===2)c+=`[[${G[0]}]]${G[1]}`;else{c+=`[[${H}`;break}}if(c=f(c,u,d),!R){i+=`[[${a}|${c}`;continue}}}else{i+=`[[${A}`;continue}c&&(c=p(c,u,d)),i+=`\0${d.length}l\x7F${m}`;let N=e(3905);b||(F===6?N=e(7625):F===14&&(N=e(337))),new N(a,c,v,u,d)}return i};x.exports=f},6622:(x,C,e)=>{"use strict";const g=e(6010),f=(h,u=g.getConfig(),d=[])=>{const p=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(h);if(!p)return h;const l=e(962),[t,s,n]=p;h=`${s}\0${d.length}d\x7F${h.slice(t.length)}`,new l(n,u,d);let i=n.split(";").length-1;if(!i)return h;const o=e(3434);let r=/:+|-\{/gu,a=r.exec(h),c=0;for(;a&&i;){const{0:m,index:A}=a;if(m[0]===":"){if(m.length>=i)return new o(":".repeat(i),u,d),`${h.slice(0,A)}\0${d.length-1}d\x7F${h.slice(A+i)}`;h=`${h.slice(0,A)}\0${d.length}d\x7F${h.slice(r.lastIndex)}`,i-=m.length,r.lastIndex=A+4+String(d.length).length,new o(m,u,d)}else if(m==="-{"){if(!c){const{lastIndex:$}=r;r=/-\{|\}-/gu,r.lastIndex=$}c++}else if(c--,!c){const{lastIndex:$}=r;r=/:+|-\{/gu,r.lastIndex=$}a=r.exec(h)}return h};x.exports=f},4737:(x,C,e)=>{"use strict";const{extUrlChar:g}=e(231),f=e(6010),h=(u,d=f.getConfig(),p=[])=>{const l=e(8962),t=new RegExp(`\\b(?:${d.protocol})(${g})`,"giu");return u.replaceAll(t,(s,n)=>{let i="",o=s;const r=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(o);r&&(i=o.slice(r.index),o=o.slice(0,r.index));const a=new RegExp(`[,;.:!?${o.includes("(")?"":")"}]+$`,"u"),c=a.exec(o);if(c){let m=0;c[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(o.slice(0,c.index))&&(m=1),i=`${o.slice(c.index+m)}${i}`,o=o.slice(0,c.index+m)}return i.length>=n.length?s:(new l(o,!1,d,p),`\0${p.length-1}w\x7F${i}`)})};x.exports=h},3360:(x,C,e)=>{"use strict";const g=e(6010),f=(h,u=g.getConfig(),d=[])=>{var a;const p=h.split(/('{2,})/u),{length:l}=p;if(l===1)return h;let t=0,s=0,n,i,o;for(let c=1;c<l;c+=2){const{length:m}=p[c];switch(m){case 2:s++;break;case 4:p[c-1]+="'",p[c]="'''";case 3:if(t++,n)break;p[c-1].at(-1)===" "?!i&&!o&&(o=c):p[c-1].at(-2)===" "?n=c:i||(i=c);break;default:p[c-1]+="'".repeat(m-5),p[c]="'''''",s++,t++}}if(s%2===1&&t%2===1){const c=(a=n!=null?n:i)!=null?a:o;p[c]="''",p[c-1]+="'"}const r=e(6714);for(let c=1;c<l;c+=2)new r(p[c].length,u,d),p[c]=`\0${d.length-1}q\x7F`;return p.join("")};x.exports=f},4624:(x,C,e)=>{"use strict";const g=e(6010),f=e(7507),h=e(8138),u=e(2840),d=e(3125),p=e(5567),l=({firstChild:{data:t},type:s,name:n},i=g.getConfig(),o=[])=>{const r=[],a=t.split(`
`);let c=s==="root"||s==="parameter-value"||s==="ext-inner"&&n==="poem"?"":`
${a.shift()}`;const m=(A,$)=>{if(!$){c+=A;return}const{lastChild:k}=$;if(k.constructor===h)k.setText(String(k)+A);else{const b=new h(A,i,!0,o);b.type="table-inter",$.insertAt(b.setAttribute("stage",3))}};for(const A of a){let $=r.pop();const[k]=/^(?:\s|\0\d+c\x7F)*/u.exec(A),b=A.slice(k.length),v=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(b);if(v){for(;$&&$.type!=="td";)$=r.pop();const[,G,W,X,z]=v;if(G){const U=e(3434);new U(G,i,o)}m(`
${k}${G&&`\0${o.length-1}d\x7F`}${W}\0${o.length}b\x7F`,$);const B=new u(X,z,i,o);r.push(...$?[$]:[],B);continue}else if(!$){c+=`
${A}`;continue}const F=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(b);if(!F){m(`
${A}`,$),r.push(...$?[$]:[]);continue}const[,L,N,R,H]=F;if(L){for(;!($ instanceof u);)$=r.pop();$.close(`
${k}${L}`,!0),m(H,r.at(-1))}else if(N){$.type==="td"&&($=r.pop()),$.type==="tr"&&($=r.pop());const G=new d(`
${k}${N}`,H,i,o);r.push($,G),$.insertAt(G)}else{$.type==="td"&&($=r.pop());const G=R==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let W=G.exec(H),X=0,z=`
${k}${R}`;for(;W;){const U=new p(z,H.slice(X,W.index),i,o);$.insertAt(U),{lastIndex:X}=G,[z]=W,W=G.exec(H)}const B=new p(z,H.slice(X),i,o);r.push($,B),$.insertAt(B)}}return c.slice(1)};x.exports=l},9544:(x,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),h=e(8138);class u extends h{constructor(l,t=f.getConfig(),s=[]){super(void 0,t,!0,s,{AtomToken:0,Token:1,HiddenToken:"2:"});y(this,"type","arg");for(let n=0;n<l.length;n++)if(n===0||n>1){const i=e(n===0?9237:9263),o=new i(l[n],n===0?"arg-name":void 0,t,s,{"Stage-2":":","!HeadingToken":""});super.insertAt(o)}else{const i=new h(l[n],t,!0,s);i.type="arg-default",super.insertAt(i.setAttribute("stage",2))}}toString(l){return`{{{${super.toString(l,"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}lint(l=0){const{childNodes:[t,s,...n]}=this,i=t.lint(l+3);if(s&&i.push(...s.lint(l+4+String(t).length)),n.length>0){const o=this.getRootNode().posFromIndex(l);i.push(...n.map(r=>g(r,o,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return i}}x.exports=u},9263:(x,C,e)=>{"use strict";const g=e(2308),f=e(9237);class h extends g(f){constructor(){super(...arguments);y(this,"type","hidden")}}x.exports=h},9237:(x,C,e)=>{"use strict";const g=e(6010),f=e(8138);class h extends f{constructor(p,l,t=g.getConfig(),s=[],n=null){super(p,t,!0,s,n);y(this,"type","plain");l&&(this.type=l)}}x.exports=h},5037:(x,C,e)=>{var p,l,t,s,rt;"use strict";const{generateForSelf:g}=e(8277),{removeComment:f}=e(231),h=e(6010),u=e(8138);class d extends u{constructor(r,a,c,m=h.getConfig(),A=[]){super(r,m,!0,A);w(this,s);w(this,p,new Map);w(this,l,!0);w(this,t,!0);this.type=a,D(this,s,rt).call(this)}getAttr(r){return T(this,p).get(r.toLowerCase().trim())}setAttr(r,a,c){r=r.toLowerCase().trim();const m=r;if(/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(m))a===!1?T(this,p).delete(r):T(this,p).set(r,a===!0?!0:a.replaceAll(/\s/gu," ").trim());else return c,!1;return!0}lint(r=0){const a=e(2350),c=super.lint(r);let m;return this.type==="html-attr"&&this.parentNode.closing&&String(this).trim()&&(m=this.getRootNode().posFromIndex(r),c.push(g(this,m,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"))),T(this,l)?T(this,t)||(m||(m=this.getRootNode().posFromIndex(r)),c.push(g(this,m,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning"))):(m||(m=this.getRootNode().posFromIndex(r)),c.push(g(this,m,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"))),c}}p=new WeakMap,l=new WeakMap,t=new WeakMap,s=new WeakSet,rt=function(){var a;let r=this.toString();r=f(r).replaceAll(/\0\d+~\x7F/gu,"=");for(const[,c,m,A,$,k]of r.matchAll(/([^\s/][^\s/=]*)(?:\s*=\s*(?:(["'])(.*?)(\2|$)|(\S*)))?/gsu))this.setAttr(c,(a=A!=null?A:k)!=null?a:!0,!0)?m!==$&&M(this,t,!1):M(this,l,!1)},x.exports=d},8103:(x,C,e)=>{"use strict";const g=e(6010),f=e(8138),h=e(2158);class u extends f{constructor(l,t=g.getConfig(),s=[]){super(void 0,t,!0,s,{HasNowikiToken:":"});y(this,"type","ext-inner");y(this,"name","charinsert");this.append(...l.split(`
`).map(n=>new h(n,"charinsert-line",t,s)))}toString(l){return super.toString(l,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}x.exports=u},9910:(x,C,e)=>{"use strict";const{print:g}=e(231),f=e(6010),h=e(8138),u=e(6719),d=e(8683);class p extends h{constructor(s,n,i=f.getConfig(),o=[]){super(void 0,i,!0,o);y(this,"type","converter");this.append(new u(s,i,o));const[r]=n,a=r.includes(":"),c=new d(r,a,i,o);a&&c.childNodes.length===1?this.insertAt(new d(n.join(";"),!1,i,o)):this.append(c,...n.slice(1).map(m=>new d(m,!0,i,o)))}toString(s){const{childNodes:[n,...i]}=this;return`-{${n.toString()}${n.childNodes.length>0?"|":""}${i.map(String).join(";")}}-`}getPadding(){return 2}getGaps(s=0){return s=s<0?s+this.childNodes.length:s,s||this.firstChild.childNodes.length>0?1:0}print(){const{children:[s,...n]}=this;return`<span class="wpb-converter">-{${s.print()}${s.childNodes.length>0?"|":""}${g(n,{sep:";"})}}-</span>`}}x.exports=p},6719:(x,C,e)=>{var p;"use strict";const{generateForChild:g}=e(8277),f=e(6010),h=e(8138),u=e(9237);class d extends h{constructor(s,n=f.getConfig(),i=[]){super(void 0,n,!0,i,{AtomToken:":"});y(this,"type","converter-flags");w(this,p,void 0);this.append(...s.map(o=>new u(o,"converter-flag",n,i)))}afterBuild(){return M(this,p,this.childNodes.map(s=>String(s).trim())),this}toString(s){return super.toString(s,";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(s=0){const n=this.getVariantFlags(),i=this.getUnknownFlags(),o=T(this,p).filter(A=>!A),r=T(this,p).filter(A=>["A","T","R","D","-","H","N"].includes(A)),a=T(this,p).length-i.length-o,c=super.lint(s);if(n.length===a||r.length===a)return c;const m=this.getRootNode().posFromIndex(s);for(const A of this.childNodes){const $=String(A).trim();$&&!n.includes($)&&!i.includes($)&&(n.length>0||!r.includes($))&&c.push(g(A,m,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0"))}return c}getUnknownFlags(){return T(this,p).filter(s=>/\{\{[^{}]+\}\}/u.test(s))}getVariantFlags(){const{variants:s}=this.getAttribute("config");return T(this,p).filter(n=>s.includes(n))}}p=new WeakMap,x.exports=d},8683:(x,C,e)=>{"use strict";const g=e(6010),f=e(8138),h=e(9237);class u extends f{constructor(l,t=!0,s=g.getConfig(),n=[]){super(void 0,s,!0,n);y(this,"type","converter-rule");if(t){const i=l.indexOf(":"),o=l.slice(0,i).indexOf("=>"),r=o===-1?l.slice(0,i):l.slice(o+2,i),{variants:a}=s;a.includes(r.trim())?(super.insertAt(new h(r,"converter-rule-variant",s,n)),super.insertAt(new h(l.slice(i+1),"converter-rule-to",s,n)),o!==-1&&super.insertAt(new h(l.slice(0,o),"converter-rule-from",s,n),0)):super.insertAt(new h(l,"converter-rule-noconvert",s,n))}else super.insertAt(new h(l,"converter-rule-noconvert",s,n))}toString(l){if(this.childNodes.length===3){const{childNodes:[t,s,n]}=this;return`${t.toString(l)}=>${s.toString(l)}:${n.toString(l)}`}return super.toString(l,":")}getGaps(l=0){const{length:t}=this;return l=l<0?l+t:l,l===0&&t===3?2:1}print(){if(this.childNodes.length===3){const{childNodes:[l,t,s]}=this;return`<span class="wpb-converter-rule">${l.print()}=>${t.print()}:${s.print()}</span>`}return super.print({sep:":"})}}x.exports=u},741:(x,C,e)=>{var d;"use strict";const g=e(6010),f=e(8138),h=e(8962);class u extends f{constructor(t,s,n,i=g.getConfig(),o=[]){super(void 0,i,!0,o,{MagicLinkToken:0,Token:1});y(this,"type","ext-link");w(this,d,void 0);if(this.insertAt(new h(t,!0,i,o)),M(this,d,s),n){const r=new f(n,i,!0,o,{"Stage-7":":",ConverterToken:":"});r.type="ext-link-text",this.insertAt(r.setAttribute("stage",g.MAX_STAGE-1))}}toString(t){return this.childNodes.length===1?`[${super.toString(t)}${T(this,d)}]`:`[${super.toString(t,T(this,d))}]`}getPadding(){return 1}getGaps(){return T(this,d).length}print(){const{length:t}=this;return super.print(t>1?{pre:"[",sep:T(this,d),post:"]"}:{pre:"[",post:`${T(this,d)}]`})}}d=new WeakMap,x.exports=u},1891:(x,C,e)=>{"use strict";const g=e(6010),f=e(8138),h=e(1031),u=e(9263);class d extends f{constructor(t,s=g.getConfig(),n=[]){var o;super(void 0,s,!0,n,{AstText:":",GalleryImageToken:":",HiddenToken:":"});y(this,"type","ext-inner");y(this,"name","gallery");const i=structuredClone(s);for(const[r,a]of Object.entries(s.img))a==="width"&&delete i.img[r];for(const r of(o=t==null?void 0:t.split(`
`))!=null?o:[]){const a=/^([^|]+)(?:\|(.*))?/u.exec(r);if(!a){super.insertAt(r.trim()?new u(r,void 0,s,[],{AstText:":"}):r);continue}const[,c,m]=a;let A;try{A=this.normalizeTitle(decodeURIComponent(c),6,!0)}catch($){A=this.normalizeTitle(c,6,!0)}A.valid?super.insertAt(new h(c,m,A,i,n)):super.insertAt(new u(r,void 0,s,[],{AstText:":"}))}}toString(t){return super.toString(t,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(t=0){const{top:s,left:n}=this.getRootNode().posFromIndex(t),i=[];for(let o=0,r=t;o<this.childNodes.length;o++){const a=this.childNodes[o],c=String(a),m=c.trim();a.type==="hidden"&&m&&!/^<!--.*-->$/u.test(m)?i.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",startLine:s+o,endLine:s+o,startCol:o?0:n,endCol:o?c.length:n+c.length}):a.type!=="hidden"&&a.type!=="text"&&i.push(...a.lint(r)),r+=c.length+1}return i}}x.exports=d},2158:(x,C,e)=>{"use strict";const g=e(6010),f=e(8138);class h extends f{constructor(d,p,l=g.getConfig(),t=[]){const s=e(3423);d=d.replaceAll(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(n,i,o,r)=>(new s(i,l,t),new s(r,l,t),`\0${t.length-1}c\x7F${o}\0${t.length}c\x7F`)),super(d,l,!0,t,{AstText:":",NoincludeToken:":"}),this.type=p}}x.exports=h},428:(x,C,e)=>{"use strict";const g=e(6010),f=e(2158);class h extends f{constructor(p,l=g.getConfig(),t=[]){super(p,"ext-inner",l,t);y(this,"name","pre");this.setAttribute("stage",g.MAX_STAGE-1)}isPlain(){return!0}}x.exports=h},9450:(x,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(6010),h=e(8138);class u extends h{constructor(l,t,s=f.getConfig(),n=[]){super(void 0,s,!0,n);y(this,"type","heading");this.setAttribute("name",String(l));const i=new h(t[0],s,!0,n);i.type="heading-title",i.setAttribute("stage",2);const o=e(8058),r=new o(t[1],/^[^\S\n]*$/u,"heading-trail",s,n,{"Stage-1":":","!ExtToken":""});this.append(i,r)}toString(l){const t="=".repeat(Number(this.name));return`${t}${this.firstChild.toString()}${t}${this.lastChild.toString()}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const l="=".repeat(Number(this.name));return super.print({pre:l,sep:l})}lint(l=0){const t=super.lint(l);return this.name==="1"&&t.push(g(this,this.getRootNode().posFromIndex(l),"<h1>")),t}}x.exports=u},2350:(x,C,e)=>{var d,p,l;"use strict";const{generateForSelf:g}=e(8277),f=e(6010),h=e(8138);class u extends h{constructor(n,i,o,r,a=f.getConfig(),c=[]){super(void 0,a,!0,c);y(this,"type","html");w(this,d,void 0);w(this,p,void 0);w(this,l,void 0);this.insertAt(i),this.setAttribute("name",n.toLowerCase()),M(this,d,o),M(this,p,r),M(this,l,n)}get closing(){return T(this,d)}toString(n){return`<${T(this,d)?"/":""}${T(this,l)}${super.toString()}${T(this,p)?"/":""}>`}getPadding(){return T(this,l).length+(T(this,d)?2:1)}print(){return super.print({pre:`&lt;${T(this,d)?"/":""}${T(this,l)}`,post:`${T(this,p)?"/":""}&gt;`})}lint(n=0){const i=super.lint(n);let o;this.name==="h1"&&!T(this,d)&&(o=g(this,this.getRootNode().posFromIndex(n),"<h1>"),i.push(o));try{this.findMatchingTag()}catch({message:r}){const[a]=r.split("\uFF1A");o||(o=g(this,this.getRootNode().posFromIndex(n),"")),i.push({...o,message:a,severity:a==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"})}return i}findMatchingTag(){const{html:n}=this.getAttribute("config"),{name:i,parentNode:o}=this,r=String(this);if(T(this,d)&&T(this,p))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${r}`);if(n[2].includes(i)||T(this,p)&&n[1].includes(i))return this;if(T(this,p)&&n[0].includes(i))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${r}`);if(!o)return;const{childNodes:a}=o,c=a.indexOf(this),m=T(this,d)?a.slice(0,c).reverse().filter(({type:$,name:k})=>$==="html"&&k===i):a.slice(c+1).filter(({type:$,name:k})=>$==="html"&&k===i);let A=T(this,d)?-1:1;for(const $ of m)if($.closing?A--:A++,A===0)return $;throw new SyntaxError(`\u672A${T(this,d)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${r}`)}}d=new WeakMap,p=new WeakMap,l=new WeakMap,x.exports=u},1874:(x,C,e)=>{var p,it,t;"use strict";const{print:g,extUrlChar:f}=e(231),h=e(6010),u=e(8138),n=class extends u{constructor(r,a=h.getConfig(),c=[]){var o=(...s)=>{super(...s);y(this,"type","image-parameter");w(this,t,"")};var $;const m=Object.entries(a.img).map(([k,b])=>[k,b,new RegExp(`^(\\s*)${k.replace("$1","(.*)")}(\\s*)$`,"u")]),A=m.find(([,,k])=>k.test(r));if(A){const k=A[2].exec(r);if(k.length!==4||D($=n,p,it).call($,A[1],k[2],a,!0)){k.length===3?(o(void 0,a,!0,c),M(this,t,r)):(o(k[2],a,!0,c,{"Stage-2":":","!HeadingToken":":"}),M(this,t,`${k[1]}${A[0]}${k[3]}`)),this.setAttribute("name",A[1]).setAttribute("stage",h.MAX_STAGE);return}}o(r,a,!0,c),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return!0}toString(r){return T(this,t)?T(this,t).replace("$1",super.toString(r)):super.toString(r)}getPadding(){return Math.max(0,T(this,t).indexOf("$1"))}print(){return T(this,t)?`<span class="wpb-image-parameter">${T(this,t).replace("$1",g(this.childNodes))}</span>`:super.print({class:"image-caption"})}};let d=n;p=new WeakSet,it=function(r,a,c=h.getConfig(),m=!1){switch(a=a.replaceAll(/\0\d+t\x7F/gu,"").trim(),r){case"width":return/^\d*(?:x\d*)?$/u.test(a);case"link":{if(!a||new RegExp(`(?:${c.protocol}|//)${f}(?=\0\\d+t\x7F|$)`,"iu").test(a))return!0;if(a.startsWith("[[")&&a.endsWith("]]")&&(a=a.slice(2,-2)),a.includes("%"))try{a=decodeURIComponent(a)}catch(k){}return h.normalizeTitle(a,0,!1,c,m).valid}case"lang":return c.variants.includes(a);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(a)}},t=new WeakMap,w(d,p),x.exports=d},2641:(x,C,e)=>{"use strict";const{generateForSelf:g,generateForChild:f}=e(8277),h=e(6010),u=e(7507),d=e(8138),p=e(3423),l=e(1031),t=e(2571);class s extends d{constructor(o,r=h.getConfig(),a=[]){super(void 0,r,!0,a,{GalleryImageToken:":",ImagemapLinkToken:":",NoincludeToken:":",AstText:":"});y(this,"type","ext-inner");y(this,"name","imagemap");if(!o)return;const c=o.split(`
`),m=k=>{super.insertAt(new p(k,r,a))};let A=!0,$=!1;for(const k of c){const b=k.trim();if(!($||!b||b[0]==="#")){if(A){const[v,...F]=k.split("|");let L;try{L=this.normalizeTitle(decodeURIComponent(v),0,!0)}catch(N){L=this.normalizeTitle(v,0,!0)}if(L.valid&&L.ns===6){const N=new l(v,F.length>0?F.join("|"):void 0,L,r,a);N.type="imagemap-image",super.insertAt(N),A=!1;continue}else $=!0}else if(k.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(new u(k));continue}else if(k.includes("[")){const v=k.indexOf("["),F=k.slice(v),L=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(F);if(L){const N=this.normalizeTitle(L[1],0,!0);if(N.valid){super.insertAt(new t(k.slice(0,v),[...L.slice(1),N],F.slice(F.indexOf("]]")+2),r,a));continue}}else{const N=r.protocol.split("|");if(N.includes(F.slice(1,F.indexOf(":")+1))||N.includes(F.slice(1,F.indexOf("//")+2))){const R=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(F);if(R){super.insertAt(new t(k.slice(0,v),R.slice(1),F.slice(F.indexOf("]")+1),r,a));continue}}}}}m(k)}}toString(o){return super.toString(o,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(o=0){const r=super.lint(o),a=this.getRootNode().posFromIndex(o);return this.image?r.push(...this.childNodes.filter(c=>{const m=String(c).trim();return c.type==="noinclude"&&m&&m[0]!=="#"}).map(c=>f(c,a,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):r.push(g(this,a,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),r}}x.exports=s},2571:(x,C,e)=>{"use strict";const g=e(8138),f=e(3905),h=e(741);class u extends g{constructor(l,t,s,n,i){const o=e(6986),r=e(7507),a=e(3423),c=t[2]instanceof o?f:h;super(void 0,n,!0,i);y(this,"type","imagemap-link");this.append(new r(l),new c(...t,n,i),new a(s,n,i))}}x.exports=u},8138:(x,C,e)=>{var p,l,t,s,n,i,o,ot,a,lt,m,at,$,dt,b,ht,F,ut,N,pt,H,ct,W,gt,z,ft,U,xt;"use strict";const g=e(6010),f=e(9205),h=e(7507),{MAX_STAGE:u}=g,Q=class extends f{constructor(S,P=g.getConfig(),E=!1,Z=[],_=null){super();w(this,o);w(this,a);w(this,m);w(this,$);w(this,b);w(this,F);w(this,N);w(this,H);w(this,W);w(this,z);w(this,U);y(this,"type","root");w(this,p,0);w(this,l,void 0);w(this,t,void 0);w(this,s,(S=T(this,p),P=!1)=>{if(S<T(this,p)||!this.isPlain()||this.childNodes.length===0)return this;switch(S){case 0:this.type==="root"&&T(this,t).shift(),D(this,o,ot).call(this,P);break;case 1:D(this,a,lt).call(this);break;case 2:D(this,m,at).call(this);break;case 3:D(this,$,dt).call(this);break;case 4:D(this,b,ht).call(this);break;case 5:D(this,F,ut).call(this);break;case 6:D(this,N,pt).call(this);break;case 7:D(this,H,ct).call(this);break;case 8:D(this,W,gt).call(this);break;case 9:D(this,z,ft).call(this);break;case 10:D(this,U,xt).call(this)}if(this.type==="root")for(const E of T(this,t))E.getAttribute("parseOnce")(S,P);return et(this,p)._++,this});w(this,n,S=>S.split(/[\0\x7F]/u).map((P,E)=>{if(E%2===0)return new h(P);if(isNaN(P.at(-1)))return T(this,t)[Number(P.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${P}`)}));w(this,i,()=>{M(this,p,u);const{length:S,firstChild:P}=this,E=String(P);if(S===1&&P.type==="text"&&E.includes("\0")&&(this.replaceChildren(...T(this,n).call(this,E)),this.normalize(),this.type==="root"))for(const Z of T(this,t))Z.getAttribute("build")()});typeof S=="string"&&this.insertAt(E?S:S.replaceAll(/[\0\x7F]/gu,"")),M(this,l,P),M(this,t,Z),Z.push(this)}getAttribute(S){switch(S){case"config":return structuredClone(T(this,l));case"accum":return T(this,t);case"parseOnce":return T(this,s);case"buildFromStr":return T(this,n);case"build":return T(this,i);default:return super.getAttribute(S)}}setAttribute(S,P){switch(S){case"stage":return T(this,p)===0&&this.type==="root"&&T(this,t).shift(),M(this,p,P),this;default:return super.setAttribute(S,P)}}isPlain(){return this.constructor===Q}insertAt(S,P=this.childNodes.length){return typeof S=="string"&&(S=new h(S)),super.insertAt(S,P),S.type==="root"&&(S.type="plain"),S}normalizeTitle(S,P=0,E=!1){return g.normalizeTitle(S,P,!1,T(this,l),E)}afterBuild(){if(this.type==="root")for(const S of T(this,t))S.afterBuild();return this}parse(S=u,P=!1){for(;T(this,p)<S;)T(this,s).call(this,T(this,p),P);return S&&(T(this,i).call(this),this.afterBuild()),this}};let d=Q;p=new WeakMap,l=new WeakMap,t=new WeakMap,s=new WeakMap,n=new WeakMap,i=new WeakMap,o=new WeakSet,ot=function(S){const P=e(4907);this.setText(P(String(this),T(this,l),T(this,t),S))},a=new WeakSet,lt=function(){const S=e(8275),P=this.type==="root"?String(this):`\0${String(this)}`,E=S(P,T(this,l),T(this,t));this.setText(this.type==="root"?E:E.slice(1))},m=new WeakSet,at=function(){const S=e(5130);this.setText(S(String(this),T(this,l),T(this,t)))},$=new WeakSet,dt=function(){const S=e(4624),P=e(2840);this.setText(S(this,T(this,l),T(this,t)));for(const E of T(this,t))if(E instanceof P&&E.type!=="td"){E.normalize();const{childNodes:[,Z]}=E;if(typeof Z=="string"&&Z.includes("\0")){E.removeAt(1);const _=new Q(Z,T(this,l),!0,T(this,t));E.insertAt(_,1),_.setAttribute("stage",4)}}},b=new WeakSet,ht=function(){const S=e(2937);this.setText(S(this,T(this,l),T(this,t)))},F=new WeakSet,ut=function(){const S=e(1452);this.setText(S(String(this),T(this,l),T(this,t)))},N=new WeakSet,pt=function(){const S=e(3360),P=String(this).split(`
`);for(let E=0;E<P.length;E++)P[E]=S(P[E],T(this,l),T(this,t));this.setText(P.join(`
`))},H=new WeakSet,ct=function(){const S=e(7513);this.setText(S(String(this),T(this,l),T(this,t)))},W=new WeakSet,gt=function(){const S=e(4737);this.setText(S(String(this),T(this,l),T(this,t)))},z=new WeakSet,ft=function(){if(this.type==="image-parameter")return;const S=e(6622),P=String(this).split(`
`);let E=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;E<P.length;E++)P[E]=S(P[E],T(this,l),T(this,t));this.setText(P.join(`
`))},U=new WeakSet,xt=function(){const S=e(3765);this.setText(S(String(this),T(this,l),T(this,t)))},x.exports=d},337:(x,C,e)=>{"use strict";const g=e(3905);class f extends g{constructor(){super(...arguments);y(this,"type","category")}}x.exports=f},7625:(x,C,e)=>{"use strict";const{explode:g}=e(231),{generateForChild:f}=e(8277),h=e(6010),u=e(3905),d=e(1874);class p extends u{constructor(s,n,i,o=h.getConfig(),r=[]){super(s,void 0,i,o,r);y(this,"type","file");this.append(...g("-{","}-","|",n).map(a=>new d(a,o,r)))}lint(s=0){const n=super.lint(s),i=this.getFrameArgs(),o=this.getHorizAlignArgs(),r=this.getVertAlignArgs(),a=this.getArgs("caption");if(i.length>1||o.length>1||r.length>1||a.size>1){const c=this.getRootNode().posFromIndex(s);i.length>1&&n.push(...i.map(m=>f(m,c,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),o.length>1&&n.push(...o.map(m=>f(m,c,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),r.length>1&&n.push(...r.map(m=>f(m,c,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),a.size>1&&n.push(...[...a].map(m=>f(m,c,"\u91CD\u590D\u7684\u56FE\u7247\u8BF4\u660E")))}return n}getAllArgs(){return this.childNodes.slice(1)}getArgs(s,n=!0){const i=this.getAllArgs().filter(({name:o})=>s===o);return n?new Set(i):i}getFrameArgs(){return this.getAllArgs().filter(({name:n})=>["manualthumb","frameless","framed","thumbnail"].includes(n))}getHorizAlignArgs(){return this.getAllArgs().filter(({name:n})=>["left","right","center","none"].includes(n))}getVertAlignArgs(){return this.getAllArgs().filter(({name:n})=>["baseline","sub","super","top","text-top","middle","bottom","text-bottom"].includes(n))}}x.exports=p},1031:(x,C,e)=>{"use strict";const g=e(6010),f=e(7625);class h extends f{constructor(p,l,t,s=g.getConfig(),n=[]){let i;if(l!==void 0){const o=e(8138);i=new o(l,s,!0,n),i.type="temp";for(let r=1;r<g.MAX_STAGE;r++)i.getAttribute("parseOnce")();n.splice(n.indexOf(i),1)}super(p,i==null?void 0:i.toString(),t,s,n);y(this,"type","gallery-image");this.setAttribute("bracket",!1)}getPadding(){return 0}}x.exports=h},3905:(x,C,e)=>{var u;"use strict";const g=e(6010),f=e(8138);class h extends f{constructor(l,t,s,n=g.getConfig(),i=[]){super(void 0,n,!0,i,{AtomToken:0,Token:1});y(this,"type","link");w(this,u,!0);const o=e(9237);if(this.insertAt(new o(l,"link-target",n,i,{"Stage-2":":","!ExtToken":"","!HeadingToken":""})),t!==void 0){const r=new f(t,n,!0,i,{"Stage-5":":",ConverterToken:":"});r.type="link-text",this.insertAt(r.setAttribute("stage",g.MAX_STAGE-1))}}setAttribute(l,t){return l==="bracket"?(M(this,u,Boolean(t)),this):super.setAttribute(l,t)}toString(l){const t=super.toString(l,"|");return T(this,u)?`[[${t}]]`:t}getPadding(){return 2}getGaps(){return 1}print(){return super.print(T(this,u)?{pre:"[[",post:"]]",sep:"|"}:{sep:"|"})}}u=new WeakMap,x.exports=h},8962:(x,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),h=e(8138);class u extends h{constructor(l,t,s=f.getConfig(),n=[]){super(l,s,!0,n,{"Stage-1":":","!ExtToken":""});y(this,"type","free-ext-link");t&&(this.type="ext-link-url")}lint(l=0){const t=super.lint(l);let s;for(const n of this.childNodes){const i=String(n);if(n.type!=="text"||!/[，；。：！？（）【】]/u.test(i))continue;s||(s=this.getRootNode().posFromIndex(l));const o=g(n,s,"URL\u4E2D\u7684\u5168\u89D2\u6807\u70B9","warning");t.push(...[...i.matchAll(/[，；。：！？（）【】]/gu)].map(({index:r})=>{const a=i.slice(0,r).split(`
`),{length:c}=a,{length:m}=a.at(-1),A=o.startLine+c-1,$=c>1?m:o.startCol+m;return{...o,startLine:A,endLine:A,startCol:$,endCol:$+1}}))}return t}isParamValue(){const l=e(9799),t=this.closest("parameter");return(t==null?void 0:t.getValue())===this.text()}}x.exports=u},9389:(x,C,e)=>{"use strict";const g=e(6010),f=e(8889);class h extends f{constructor(p,l=g.getConfig(),t=[]){super(p,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],l,t);y(this,"name","choose")}}x.exports=h},9269:(x,C,e)=>{"use strict";const g=e(6010),f=e(8889);class h extends f{constructor(p,l=g.getConfig(),t=[]){super(p,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],l,t);y(this,"name","combobox")}}x.exports=h},8889:(x,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),h=e(8138);class u extends h{constructor(l,t,s,n=f.getConfig(),i=[]){var c;const o=e(7267),r=e(3423),a=(c=l==null?void 0:l.replaceAll(t,(m,A,$,k,b)=>{const v=`\0${i.length+1}e\x7F`;return new o(A,$,k,b,n,i),v}))==null?void 0:c.replaceAll(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(m,A,$)=>$===""?A:(new r($,n,i),`${A}\0${i.length}c\x7F`));super(a,n,!0,i,{NoincludeToken:":",ExtToken:":"});y(this,"type","ext-inner")}lint(l=0){let t;return[...super.lint(l),...this.childNodes.filter(s=>{if(s.type==="ext")return!1;const n=String(s).trim();return n&&!/^<!--.*-->$/u.test(n)}).map(s=>(t||(t=this.getRootNode().posFromIndex(l)),g(s,t,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}x.exports=u},5937:(x,C,e)=>{"use strict";const g=e(6010),f=e(8889);class h extends f{constructor(p,l=g.getConfig(),t=[]){super(p,/<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],l,t);y(this,"name","references")}}x.exports=h},7033:(x,C,e)=>{var g={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function f(u){var d=h(u);return e(d)}function h(u){if(!e.o(g,u)){var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}return g[u]}f.keys=function(){return Object.keys(g)},f.resolve=h,x.exports=f,f.id=7033},5749:(x,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(2308),h=e(6010),u=e(6935);class d extends f(u){constructor(t,s=!0,n=h.getConfig(),i=[]){super(t,n,i);y(this,"type","comment");y(this,"closed");this.closed=s}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}lint(t=0){return this.closed?[]:[g(this,this.getRootNode().posFromIndex(t),"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(t){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}x.exports=d},3434:(x,C,e)=>{"use strict";const g=e(6935);class f extends g{constructor(){super(...arguments);y(this,"type","dd")}}x.exports=f},7815:(x,C,e)=>{"use strict";const g=e(2308),f=e(6935);class h extends g(f){constructor(){super(...arguments);y(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(p){return`__${String(this.firstChild)}__`}}x.exports=h},2582:(x,C,e)=>{"use strict";const g=e(6010),f=e(6935);class h extends f{constructor(p,l=g.getConfig(),t=[]){super("-".repeat(p),l,t);y(this,"type","hr")}}x.exports=h},6935:(x,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(6010),h=e(8138);class u extends h{constructor(l,t=f.getConfig(),s=[]){super(l,t,!0,s);y(this,"type","ext-inner")}lint(l=0){const{type:t,name:s}=this;return t==="ext-inner"&&(s==="templatestyles"||s==="section")&&String(this)?[g(this,this.getRootNode().posFromIndex(l),`<${s}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(l)}}x.exports=u},962:(x,C,e)=>{"use strict";const g=e(3434);class f extends g{constructor(){super(...arguments);y(this,"type","list")}}x.exports=f},3423:(x,C,e)=>{"use strict";const g=e(2308),f=e(6935);class h extends g(f){constructor(){super(...arguments);y(this,"type","noinclude")}}x.exports=h},6714:(x,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(6010),h=e(7507),u=e(6935);class d extends u{constructor(t,s=f.getConfig(),n=[]){super("'".repeat(t),s,n);y(this,"type","quote")}lint(t=0){const{previousSibling:s,nextSibling:n}=this,i=`\u5B64\u7ACB\u7684"'"`,o=[];let r;if((s==null?void 0:s.type)==="text"&&s.data.at(-1)==="'"){r=g(this,this.getRootNode().posFromIndex(t),"");const{startLine:a,startCol:c}=r,[,{length:m}]=s.data.match(/(?:^|[^'])('+)$/u);o.push({message:i,startLine:a,startCol:c-m,endLine:a,endCol:c})}if((n==null?void 0:n.type)==="text"&&n.data[0]==="'"){r||(r=g(this,this.getRootNode().posFromIndex(t),""));const{endLine:a,endCol:c}=r,[{length:m}]=n.data.match(/^'+/u);o.push({message:i,startLine:a,startCol:c,endLine:a,endCol:c+m})}return o}}x.exports=d},851:(x,C,e)=>{"use strict";const g=e(6010),f=e(8138);class h extends f{constructor(p,l=g.getConfig(),t=[]){super(p,l,!0,t);y(this,"type","onlyinclude")}toString(p){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:"&lt;onlyinclude&gt;",post:"&lt;/onlyinclude&gt;"})}isPlain(){return!0}}x.exports=h},9380:(x,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),h=e(8138),u=e(9237);class d extends h{constructor(t,s=f.getConfig(),n=[]){super(void 0,s,!0,n,{AtomToken:":"});y(this,"type","ext-inner");t&&this.append(...t.split(`
`).map(i=>new u(i,"param-line",s,n,{AstText:":"})))}toString(t){return super.toString(t,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(t=0){let s;return this.childNodes.filter(n=>{const{childNodes:i}=n,o=i.findIndex(({type:a})=>a!=="text"),r=(o>=0?i.slice(0,o).map(String).join(""):String(n)).trim();return r&&!(o>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(r)}).map(n=>(s||(s=this.getRootNode().posFromIndex(t)),g(n,s,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}x.exports=d},9799:(x,C,e)=>{"use strict";const g=e(6010),f=e(8138);class h extends f{constructor(p,l,t=g.getConfig(),s=[]){super(void 0,t,!0,s);y(this,"type","parameter");const n=e(9237),i=new n(typeof p=="number"?void 0:p,"parameter-key",t,s,{"Stage-2":":","!HeadingToken":""}),o=new f(l,t,!0,s);o.type="parameter-value",this.append(i,o.setAttribute("stage",2))}get anon(){return this.firstChild.childNodes.length===0}afterBuild(){if(!this.anon){const p=e(1782),l=String(this.firstChild).trim(),{parentNode:t}=this;this.setAttribute("name",l),t&&t instanceof p&&t.getArgs(l,!1,!1).add(this)}return this}toString(p){return this.anon?this.lastChild.toString(p):super.toString(p,"=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}}x.exports=h},8058:(x,C,e)=>{"use strict";const g=e(6010),f=e(8138);class h extends f{constructor(d,p,l="plain",t=g.getConfig(),s=[],n=null){super(d,t,!0,s,n),this.type=l}}x.exports=h},2840:(x,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(3125),h=e(8058);class u extends f{constructor(){super(...arguments);y(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(l=0){const t=super.lint(l);return this.closed||t.push(g(this.firstChild,this.getRootNode().posFromIndex(l),"\u672A\u95ED\u5408\u7684\u8868\u683C")),t}close(l=`
|}`,t=!1){const s=this.getAttribute("config"),n=this.getAttribute("accum");super.insertAt(new h(l,null,"table-syntax",s,n))}}x.exports=u},5567:(x,C,e)=>{var d;"use strict";const g=e(6010),f=e(8138),h=e(3125);class u extends h{constructor(t,s,n=g.getConfig(),i=[]){let o=s==null?void 0:s.match(/\||\0\d+!\x7F/u),r=o?s.slice(0,o.index):"";/\[\[|-\{/u.test(r)&&(o=null,r="");super(t,r,n,i);y(this,"type","td");w(this,d,"");o&&([et(this,d)._]=o);const a=new f(s==null?void 0:s.slice((o==null?void 0:o.index)+T(this,d).length),n,!0,i);a.type="td-inner",this.insertAt(a.setAttribute("stage",4))}afterBuild(){return T(this,d).includes("\0")&&M(this,d,this.getAttribute("buildFromStr")(T(this,d)).map(String).join("")),this}toString(t){const{childNodes:[s,n,i]}=this;return`${s.toString()}${n.toString()}${T(this,d)}${i.toString()}`}getGaps(t=0){return t=t<0?t+this.childNodes.length:t,t===1?T(this,d).length:0}print(){const{childNodes:[t,s,n]}=this;return`<span class="wpb-td">${t.print()}${s.print()}${T(this,d)}${n.print()}</span>`}}d=new WeakMap,x.exports=u},3125:(x,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),h=e(8138),u=e(8058);class d extends h{constructor(t,s="",n=f.getConfig(),i=[],o=null){super(void 0,n,!0,i,{Token:2,SyntaxToken:0,AttributeToken:1,TdToken:"2:"});y(this,"type","tr");const r=e(5037);this.append(new u(t,o,"table-syntax",n,i,{"Stage-1":":","!ExtToken":"",TranscludeToken:":"}),new r(s,"table-attr","tr",n,i))}lint(t=0){const s=super.lint(t),n=this.childNodes.find(({type:o})=>o==="table-inter"),i=String(n).trim();if(n&&i&&!/^<!--.*-->$/su.test(i)){const o=g(n,this.getRootNode().posFromIndex(t),"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");o.startLine++,o.startCol=0,s.push(o)}return s}}x.exports=d},7267:(x,C,e)=>{"use strict";const g=e(6010),f=e(1074);class h extends f{constructor(p,l="",t="",s=void 0,n=g.getConfig(),i=[]){l=!l||l.trimStart()!==l?l:` ${l}`;const o=e(8138),r=e(5037),a=p.toLowerCase(),c=new r(l,"ext-attr",a,n,i),m=structuredClone(n),A=new Set(m.ext);let $;switch(A.delete(a),m.ext=[...A],a){case"tab":A.delete("tabs"),m.ext=[...A];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":$=new o(t,m,!0,i);break;case"gallery":{const k=e(1891);$=new k(t,m,i);break}case"pre":{const k=e(428);$=new k(t,m,i);break}case"charinsert":{const k=e(8103);$=new k(t,m,i);break}case"references":case"choose":case"combobox":{const k=e(8889),b=e(7033)(`./${a}`);$=new b(t,m,i);break}case"imagemap":{const k=e(2641);$=new k(t,n,i);break}case"dynamicpagelist":{const k=e(9380);$=new k(t,m,i);break}default:{const k=e(6935);$=new k(t,n)}}$.setAttribute("name",a).type="ext-inner";super(p,c,$,s,n,i);y(this,"type","ext");y(this,"closed",!0)}}x.exports=h},8655:(x,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(2308),h=e(6010),u=e(1074);class d extends f(u){constructor(t,s="",n=void 0,i=void 0,o=h.getConfig(),r=[]){super(t,s,n!=null?n:"",n===void 0||i!=null?i:"",o,r);y(this,"type","include")}lint(t=0){return this.closed?[]:[g(this,this.getRootNode().posFromIndex(t),"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}}x.exports=d},1074:(x,C,e)=>{var u,d,p;"use strict";const g=e(6010),f=e(8138);class h extends f{constructor(s,n,i,o,r=g.getConfig(),a=[]){super(void 0,r,!0);w(this,u,void 0);w(this,d,void 0);w(this,p,void 0);M(this,p,[s,o||s]),M(this,u,o===void 0),M(this,d,o!==""),this.append(n,i);let c=a.indexOf(n);c===-1&&(c=a.indexOf(i)),c===-1&&(c=1/0),a.splice(c,0,this)}get closed(){return T(this,d)}toString(s){const{firstChild:n,lastChild:i}=this,[o,r]=T(this,p);return T(this,u)?`<${o}${String(n)}/>`:`<${o}${String(n)}>${String(i)}${T(this,d)?`</${r}>`:""}`}getPadding(){return T(this,p)[0].length+1}getGaps(){return 1}print(){const[s,n]=T(this,p);return super.print(T(this,u)?{pre:`&lt;${s}`,post:"/&gt;"}:{pre:`&lt;${s}`,sep:"&gt;",post:T(this,d)?`&lt;/${n}&gt;`:""})}}u=new WeakMap,d=new WeakMap,p=new WeakMap,x.exports=h},1782:(x,C,e)=>{var t,s,mt;"use strict";const{removeComment:g,print:f}=e(231),{generateForChild:h}=e(8277),u=e(6010),d=e(8138),p=e(9799);class l extends d{constructor(r,a,c=u.getConfig(),m=[]){super(void 0,c,!0,m,{AtomToken:0,SyntaxToken:0,ParameterToken:"1:"});w(this,s);y(this,"type","template");y(this,"modifier","");w(this,t,{});const A=e(9237),$=e(8058),{parserFunction:[k,b,v]}=c;if(r.includes(":")){const[N,...R]=r.split(":");this.setModifier(N)&&(r=R.join(":"))}if(r.includes(":")||a.length===0&&!v.includes(this.modifier.toLowerCase())){const[N,...R]=r.split(":"),H=g(N),G=b.includes(H);if(G||k.includes(H.toLowerCase())){this.setAttribute("name",H.toLowerCase().replace(/^#/u,"")).type="magic-word";const W=new RegExp(`^\\s*${H}\\s*$`,G?"u":"iu"),X=new $(N,W,"magic-word-name",c,m,{"Stage-1":":","!ExtToken":""});if(this.insertAt(X),R.length>0&&a.unshift([R.join(":")]),this.name==="invoke")for(let z=0;z<2;z++){const B=a.shift();if(!B)break;const U=new A(B.join("="),`invoke-${z?"function":"module"}`,c,m,{"Stage-1":":","!ExtToken":""});this.insertAt(U)}}}if(this.type==="template"){const[N]=g(r).split("#");if(/\0\d+[eh!+-]\x7F|[<>[\]{}]/u.test(N))throw m.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${N}`);const R=new A(r,"template-name",c,m,{"Stage-2":":","!HeadingToken":""});this.insertAt(R)}const F=this.isTemplate();let L=1;for(const N of a)F||(N[0]=N.join("="),N.length=1),N.length===1&&(N.unshift(L),L++),this.insertAt(new p(...N,c,m))}setModifier(r=""){const{parserFunction:[,,a,c]}=this.getAttribute("config"),m=r.trim().toLowerCase(),A=a.includes(m),$=c.includes(m);return A||$||r===""?(this.setAttribute("modifier",r),Boolean(r)):!1}toString(r){const{childNodes:a,firstChild:c,modifier:m}=this;return`{{${m}${m&&":"}${this.type==="magic-word"?`${String(c)}${a.length>1?":":""}${a.slice(1).map(String).join("|")}`:super.toString(r,"|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:r,firstChild:a,modifier:c}=this;return`<span class="wpb-${this.type}">{{${c}${c&&":"}${this.type==="magic-word"?`${a.print()}${r.length>1?":":""}${f(r.slice(1),{sep:"|"})}`:f(r,{sep:"|"})}}}</span>`}lint(r=0){const a=super.lint(r);if(!this.isTemplate())return a;const c=this.getDuplicatedArgs();if(c.length>0){const m=this.getRootNode().posFromIndex(r);a.push(...c.flatMap(([,A])=>[...A]).map(A=>h(A,m,"\u91CD\u590D\u53C2\u6570")))}return a}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(r,a=this.childNodes.length){return super.insertAt(r,a),r.anon?D(this,s,mt).call(this,r):r.name&&this.getArgs(r.name,!1,!1).add(r),r}getAllArgs(){return this.childNodes.filter(r=>r instanceof p)}getAnonArgs(){return this.getAllArgs().filter(({anon:r})=>r)}getArgs(r,a,c=!0){const m=String(r).trim();let A;return Object.prototype.hasOwnProperty.call(T(this,t),m)?A=T(this,t)[m]:(A=new Set(this.getAllArgs().filter(({name:$})=>m===$)),T(this,t)[m]=A),A}getDuplicatedArgs(){return this.isTemplate()?Object.entries(T(this,t)).filter(([,{size:r}])=>r>1).map(([r,a])=>[r,new Set(a)]):[]}}t=new WeakMap,s=new WeakSet,mt=function(r){const a=this.getAnonArgs(),c=a.indexOf(r);for(let m=c;m<a.length;m++){const A=a[m],{name:$}=A,k=String(m+1);$!==k&&this.getArgs(k,!1,!1).add(A.setAttribute("name",k))}},x.exports=l},8277:(x,C,e)=>{"use strict";const g=e(8138),f=(u,d,p,l="error")=>{const{style:{top:t,left:s,height:n,width:i}}=u,{top:o,left:r}=d,a=o+t,c=a+n-1,m=t?s:r+s,A=n>1?i:m+i;return{message:p,severity:l,startLine:a,endLine:c,startCol:m,endCol:A}},h=(u,d,p,l="error")=>({message:p,severity:l,startLine:d.top,endLine:d.top+u.offsetHeight-1,startCol:d.left,endCol:u.offsetHeight>1?u.offsetWidth:d.left+u.offsetWidth});x.exports={generateForChild:f,generateForSelf:h}},231:(x,C,e)=>{"use strict";const g='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',f=p=>p.replaceAll(/\0\d+c\x7F/gu,""),h=(p,l={})=>{const t=e(7507),s=e(9205),{pre:n="",post:i="",sep:o=""}=l,r={"&":"amp","<":"lt",">":"gt"};return`${n}${p.map(a=>a instanceof s?a.print():String(a).replaceAll(/[&<>]/gu,c=>`&${r[c]};`)).join(o)}${i}`},u=p=>p.replaceAll(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),d=(p,l,t,s)=>{if(s===void 0)return[];const n=new RegExp(`${[p,l,t].map(u).join("|")}`,"gu"),i=[];let o=n.exec(s),r=0,a=0;for(;o;){const{0:c,index:m}=o;c!==t?r+=c===p?1:-1:r===0&&(i.push(s.slice(a,m)),{lastIndex:a}=n),o=n.exec(s)}return i.push(s.slice(a)),i};x.exports={extUrlChar:g,removeComment:f,print:h,escapeRegExp:u,explode:d}},8166:x=>{"use strict";x.exports=JSON.parse('{"ext":["nowiki","pre","gallery","indicator"],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"0":"","6":"File","14":"Category"},"nsid":{"":0,"file":6,"image":6,"\u56FE\u50CF":6,"\u5716\u50CF":6,"\u6587\u4EF6":6,"\u6863\u6848":6,"\u6A94\u6848":6,"category":14,"\u5206\u7C7B":14,"\u5206\u985E":14},"parserFunction":[["\u540D\u79F0\u7A7A\u95F4","ns","\u540D\u79F0\u7A7A\u95F4e","nse","url\u7F16\u7801","urlencode","\u5C0F\u5199\u9996\u5B57","lcfirst","\u5927\u5199\u9996\u5B57","ucfirst","\u5C0F\u5199","lc","\u5927\u5199","uc","\u672C\u5730url","localurl","\u672C\u5730urle","localurle","\u5B8C\u6574url","fullurl","\u5B8C\u6574url\u7B49\u540C","fullurle","\u89C4\u8303url","canonicalurl","\u89C4\u8303url\u7B49\u540C","canonicalurle","\u683C\u5F0F\u5316\u6570\u5B57","formatnum","\u8BED\u6CD5","grammar","\u6027\u522B","gender","\u590D\u6570","plural","bidi","#\u8BED\u8A00","#language","\u5DE6\u586B\u5145","padleft","\u53F3\u586B\u5145","padright","\u951A\u7F16\u7801","anchorencode","\u6587\u4EF6\u8DEF\u5F84","filepath","\u9875\u9762id","pageid","\u754C\u9762","int","#\u7279\u6B8A","#special","#\u7279\u6B8A\u7B49\u540C","#speciale","#\u6807\u8BB0","#tag","#\u683C\u5F0F\u5316\u65E5\u671F","#\u65E5\u671F\u683C\u5F0F\u5316","#formatdate","#dateformat","#invoke","#while","#dowhile","#loop","#forargs","#fornumargs","#\u975E\u7A7A\u5F0F","#\u82E5","#\u5982\u679C","#if","#\u76F8\u540C\u5F0F","#\u5339\u914D\u5F0F","#\u82E5\u76F8\u7B49","#\u5982\u679C\u76F8\u7B49","#ifeq","#\u591A\u9009\u5F0F","#\u591A\u6761\u4EF6\u5F0F","#\u53CC\u5C04\u5F0F","#\u5F00\u5173","#\u8F6C\u6362","#switch","#\u5B58\u5728\u5F0F","#\u82E5\u6709","#\u5982\u6709","#ifexist","#\u82E5\u8868\u8FBE\u5F0F","#ifexpr","#\u9519\u8BEF\u5F0F","#\u5982\u679C\u9519\u8BEF","#iferror","#\u65F6\u95F4","#time","#\u65F6\u95F4l","#timel","#\u8BA1\u7B97\u5F0F","#\u8868\u8FBE\u5F0F","#expr","#rel2abs","#\u6807\u9898\u7EC4\u6210\u90E8\u5206","#titleparts","#categorytree","#url\u89E3\u7801","#urldecode","#choose","#\u8C03\u7528","#var","#varexists","#var_final","#vardefine","#vardefineecho","#\u5C0F\u5DE5\u5177","#widget","\u6761\u76EE\u8DEF\u5F84","articlepath","\u670D\u52A1\u5668","server","\u670D\u52A1\u5668\u540D","servername","\u811A\u672C\u8DEF\u5F84","scriptpath","\u6837\u5F0F\u8DEF\u5F84","stylepath","msgnw","#related","#cscore"],[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{"thumbnail":"thumbnail","thumb":"thumbnail","\u7F29\u7565\u56FE":"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","\u7F29\u7565\u56FE=$1":"manualthumb","left":"left","\u5DE6":"left","right":"right","\u53F3":"right","none":"none","\u65E0":"none","$1px":"width","$1\u50CF\u7D20":"width","center":"center","centre":"center","\u5C45\u4E2D":"center","framed":"framed","enframed":"framed","frame":"framed","\u6709\u6846":"framed","frameless":"frameless","\u65E0\u6846":"frameless","upright":"upright","\u53F3\u4E0A":"upright","upright=$1":"manual-upright","upright $1":"manual-upright","\u53F3\u4E0A=$1":"manual-upright","\u53F3\u4E0A$1":"manual-upright","border":"border","\u8FB9\u6846":"border","alt=$1":"alt","\u66FF\u4EE3=$1":"alt","\u66FF\u4EE3\u6587\u672C=$1":"alt","class=$1":"class","\u7C7B=$1":"class","link=$1":"link","\u94FE\u63A5=$1":"link","baseline":"baseline","\u57FA\u7EBF":"baseline","sub":"sub","\u5B50":"sub","super":"super","sup":"super","\u8D85":"super","top":"top","\u9876\u90E8":"top","text-top":"text-top","\u6587\u5B57\u9876\u90E8":"text-top","middle":"middle","\u4E2D\u95F4":"middle","bottom":"bottom","\u5E95\u90E8":"bottom","text-bottom":"text-bottom","\u6587\u5B57\u5E95\u90E8":"text-bottom","lang=$1":"lang","\u8BED\u8A00=$1":"lang","page=$1":"page","page $1":"page","\u9875\u6570=$1":"page","$1\u9875":"page"},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},I={};function j(x){var C=I[x];if(C!==void 0)return C.exports;var e=I[x]={exports:{}};return O[x](e,e.exports,j),e.exports}j.o=(x,C)=>Object.prototype.hasOwnProperty.call(x,C);var K=j(6010)})();})();
