"use strict";(()=>{var Ja=Object.defineProperty;var yr=e=>{throw TypeError(e)};var Ka=(e,t,s)=>t in e?Ja(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ya=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ne=(e,t,s)=>Ka(e,typeof t!="symbol"?t+"":t,s),Ht=(e,t,s)=>t.has(e)||yr("Cannot "+s);var c=(e,t,s)=>(Ht(e,t,"read from private field"),s?s.call(e):t.get(e)),$=(e,t,s)=>t.has(e)?yr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),k=(e,t,s,r)=>(Ht(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),R=(e,t,s)=>(Ht(e,t,"access private method"),s);var Tr=(e,t,s,r)=>({set _(i){k(e,t,i,s)},get _(){return c(e,t,r)}});var lo=Ya((uo,Qa)=>{var Za=Object.create,qe=Object.defineProperty,en=Object.getOwnPropertyDescriptor,tr=Object.getOwnPropertyNames,el=Object.prototype.hasOwnProperty,tn=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Me=e=>{throw TypeError(e)},sn=(e,t,s)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Sr=(e,t)=>qe(e,"name",{value:t,configurable:!0}),m=(e,t)=>function(){return e&&(t=(0,e[tr(e)[0]])(e=0)),t},tl=(e,t)=>function(){return t||(0,e[tr(e)[0]])((t={exports:{}}).exports,t),t.exports},q=(e,t)=>{for(var s in t)qe(e,s,{get:t[s],enumerable:!0})},sl=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of tr(t))!el.call(e,i)&&i!==s&&qe(e,i,{get:()=>t[i],enumerable:!(r=en(t,i))||r.enumerable});return e},j=e=>sl(qe({},"__esModule",{value:!0}),e),W=e=>{var t;return[,,,Za((t=e==null?void 0:e[tn("metadata")])!=null?t:null)]},rn=["class","method","getter","setter","accessor","field","value","get","set"],Ye=e=>e!==void 0&&typeof e!="function"?Me("Function expected"):e,rl=(e,t,s,r,i)=>({kind:rn[e],name:t,metadata:r,addInitializer:n=>s._?Me("Already initialized"):i.push(Ye(n||null))}),sr=(e,t)=>sn(t,tn("metadata"),e[3]),B=(e,t,s,r)=>{for(var i=0,n=e[t>>1],a=n&&n.length;i<a;i++)t&1?n[i].call(s):r=n[i].call(s,r);return r},O=(e,t,s,r,i,n)=>{var a,u,l,h,o,d=t&7,x=!!(t&8),p=!!(t&16),g=d>3?e.length+1:d?x?1:2:0,v=rn[d+5],y=d>3&&(e[g-1]=[]),C=e[g]||(e[g]=[]),b=d&&(!p&&!x&&(i=i.prototype),d<5&&(d>3||!p)&&en(d<4?i:{get[s](){return U(this,n)},set[s](w){return te(this,n,w)}},s));d?p&&d<4&&Sr(n,(d>2?"set ":d>1?"get ":"")+s):Sr(i,s);for(var T=r.length-1;T>=0;T--)h=rl(d,s,l={},e[3],C),d&&(h.static=x,h.private=p,o=h.access={has:p?w=>nl(i,w):w=>s in w},d^3&&(o.get=p?w=>(d^1?U:zs)(w,i,d^4?n:b.get):w=>w[s]),d>2&&(o.set=p?(w,I)=>te(w,i,I,d^4?n:b.set):(w,I)=>w[s]=I)),u=(0,r[T])(d?d<4?p?n:b[v]:d>4?void 0:{get:b.get,set:b.set}:i,h),l._=1,d^4||u===void 0?Ye(u)&&(d>4?y.unshift(u):d?p?n=u:b[v]=u:i=u):typeof u!="object"||u===null?Me("Object expected"):(Ye(a=u.get)&&(b.get=a),Ye(a=u.set)&&(b.set=a),Ye(a=u.init)&&y.unshift(a));return d||sr(e,i),b&&qe(i,s,b),p?d^4?n:b:i},il=(e,t,s)=>sn(e,typeof t!="symbol"?t+"":t,s),rr=(e,t,s)=>t.has(e)||Me("Cannot "+s),nl=(e,t)=>Object(t)!==t?Me('Cannot use the "in" operator on this value'):e.has(t),U=(e,t,s)=>(rr(e,t,"read from private field"),s?s.call(e):t.get(e)),de=(e,t,s)=>t.has(e)?Me("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),te=(e,t,s,r)=>(rr(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),zs=(e,t,s)=>(rr(e,t,"access private method"),s),al=(e,t,s,r)=>({set _(i){te(e,t,i,s)},get _(){return U(e,t,r)}});function Y(e,t,s){return s===1?e.replace(/\0(\d+)g\x7F/gu,(r,i)=>Y(String(t[i]),t,2)):s===2?e.replace(/\0(\d+)n\x7F/gu,(r,i)=>String(t[i])):e.replace(/\0(\d+)\x7F/gu,(r,i)=>t[i])}var ye,Gt,pt,ct,je,Ie,nn,G,Te,$r,kr,vt,Ds,an,Cr,Ir,gt,We,H=m({"util/string.ts"(){"use strict";ye=String.raw` \xA0\u1680\u2000-\u200A\u202F\u205F\u3000`,Gt=String.raw`[^[\]<>"\0-\x1F\x7F${ye}\uFFFD]`,pt=String.raw`(?:\[[\da-f:.]+\]|${Gt})`,ct=String.raw`(?:${Gt}|\0\d+[cn!~]\x7F)*`,je=e=>e.trim().toLowerCase(),Ie=(e,t)=>s=>s.replace(e,t),nn=Ie(/[\0\x7F]|\r$/gmu,""),G=Ie(/\0\d+[cn]\x7F/gu,""),Te=(e,t="")=>e.map(s=>typeof s=="string"?s:s.text()).join(t),$r={lt:"<",gt:">",lbrack:"[",rbrack:"]",lbrace:"{",rbrace:"}",nbsp:" ",amp:"&",quot:'"'},kr=Ie(/&(?:#(\d+|[Xx][\da-fA-F]+)|([lg]t|[LG]T|[lr]brac[ke]|nbsp|amp|AMP|quot|QUOT));/gu,(e,t,s)=>t?String.fromCodePoint(+((/^x/iu.test(t)?"0":"")+t)):$r[s.toLowerCase()]),Ds=e=>(vt!=null||(vt=kr),vt(e)),an=Ie(/&#(\d+|x[\da-f]+);/giu,(e,t)=>String.fromCodePoint(+((/^x/iu.test(t)?"0":"")+t))),Cr={"&":"amp","<":"lt",">":"gt",'"':"quot","\n":"#10"},Ir=(e=/[&<>"{}[\]|]/gu)=>Ie(e,t=>`&${Cr[t]};`),gt=Ir(/[&<>]/gu),We=(e,t={})=>{const{pre:s="",post:r="",sep:i=""}=t;return s+e.map(n=>n.print()).join(i)+r}}}),ll=tl({"config/minimum.json"(e,t){t.exports={ext:[],html:[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link"]],namespaces:{0:"",6:"File",10:"Template",14:"Category",828:"Module"},nsid:{"":0,file:6,template:10,category:14,module:828},functionHook:["msgnw"],variable:["!","=","pageid","articlepath","server","servername","scriptpath","stylepath"],parserFunction:[{msgnw:"msgnw",pageid:"pageid",articlepath:"articlepath",server:"server",servername:"servername",scriptpath:"scriptpath",stylepath:"stylepath","#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#dateformat":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#regex":"regex","#regex_var":"regex_var","#regexquote":"regexquote","#regexall":"regexall","#len":"len","#pos":"pos","#rpos":"rpos","#sub":"sub","#count":"count","#rmatch":"rmatch","#rreplace":"rreplace","#replace":"replace","#rsplit":"rsplit","#explode":"explode","#tab":"tab","#seo":"seo","#babel":"babel","#translation":"translation","#commaseparatedlist":"commaseparatedlist","#coordinates":"coordinates","#lst":"lst","#lsth":"lsth","#lstx":"lstx","#assessment":"assessment","#mentor":"mentor","#property":"property","#target":"target","#section":"lst","#section-x":"lstx","#section-h":"lsth","#statements":"statements","#useliquidthreads":"useliquidthreads","#lqtpagelimit":"lqtpagelimit","#avatar":"avatar","#img":"img","#chart":"chart"},{"!":"!","=":"=","#FORMAL":"formal","#bcp47":"bcp47","#dir":"dir","#interwikilink":"interwikilink","#interlanguagelink":"interlanguagelink","#contentmodel":"contentmodel","#timef":"timef","#timefl":"timefl"},["msg","raw"],["subst","safesubst"]],doubleUnderscore:[[],[]],protocol:"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|matrix:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|wikipedia://|worldwind://|xmpp:",interwiki:[],img:{},redirection:["#redirect"],variants:[]}}}),K,ln,Hs,oe=m({"util/constants.ts"(){"use strict";K=11,ln=new Set(["alt","link","lang","page","caption"]),Hs=ll()}});function dt(e){const t=new Map,s=new WeakMap;return r=>{const i=typeof r=="string"?t:s;if(i.has(r)){const a=i.get(r);return a.lastIndex=0,a}const n=e(r);return i.set(r,n),n}}var Gs,Rt=m({"../common/dist/index.mjs"(){"use strict";Gs=e=>decodeURIComponent(e.replace(/%(?![\da-f]{2})/giu,"%25"))}}),Nr,Fr,It,Oe,on,Bt=m({"util/lint.ts"(){"use strict";me(),X(),Nr=new Set(["tr","td","th","caption"]),Fr=new Set(["Template:!!","Template:!-"]),It=e=>{const t=e.childNodes.find(s=>s.text().trim());if(!t||t.type==="text"&&t.data.trim().startsWith("!")||t.is("magic-word")&&t.name==="!"||t.is("template")&&Fr.has(t.name)||t.is("html")&&Nr.has(t.name))return!1;if(t.is("arg"))return t.length>1&&It(t.childNodes[1]);if(t.is("magic-word"))try{const s=t.getPossibleValues().map(It);return s.includes(2)?2:s.includes(1)&&1}catch{}return t.is("template")||t.is("magic-word")&&t.name==="invoke"?1:2},Oe=(e,t,s,r)=>{if(e&&(r||D.viewOnly&&e[0]===ae.rev))return e[1];const i=t();return(r||D.viewOnly)&&s([ae.rev,i]),i},on=(e,t)=>e==="ol"&&t==="type"?["1","a","A","i","I"]:e==="th"&&t==="scope"?["row","col","rowgroup","colgroup"]:t==="dir"?["ltr","rtl","auto"]:t==="aria-hidden"?["true","false"]:[]}}),Lr,un,ol=m({"util/selector.ts"(){"use strict";Lr=e=>{if(e.includes("#")){const t=e.indexOf("#"),s=e.slice(0,t),r=e.slice(t+1);return(i,n)=>(t===0||i===s)&&n===r}return t=>t===e},un=(e,t,s)=>{if(e=e.trim(),!e)return(()=>!0);const r=e.split(",").map(i=>i.trim()).filter(i=>i!=="").map(Lr);return(({type:i,name:n})=>r.some(a=>a(i,n)))}}}),Ot,ir=m({"mixin/cached.ts"(){"use strict";Bt(),Ot=(e=!0)=>t=>{const s=new WeakMap;return function(...r){return Oe(s.get(this),()=>t.apply(this,r),i=>{s.set(this,i)},e)}}}}),hn,ul=m({"mixin/nodeLike.ts"(){"use strict";hn=e=>{class t extends e{get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get offsetHeight(){}get offsetWidth(){}}return t}}}),Er,Pr,bt,Ge,Ve,wt,_t,Qe,Xe,we,dn=m({"lib/node.ts"(){"use strict";Bt(),me(),ir(),ul(),X(),Pr=[hn],Er=[Ot(!1)],we=class{constructor(){B(Xe,5,this),il(this,"childNodes",[]),de(this,bt),de(this,Ge),de(this,Ve),de(this,wt),de(this,_t),de(this,Qe,{})}get parentNode(){return U(this,bt)}get nextSibling(){return U(this,Ge)}get previousSibling(){return U(this,Ve)}getChildNodes(){const{childNodes:e}=this;return Object.isFrozen(e)?[...e]:e}getAttribute(e){return e==="padding"?0:this[e]}setAttribute(e,t){switch(e){case"parentNode":te(this,bt,t),t||(te(this,Ge,void 0),te(this,Ve,void 0));break;case"nextSibling":te(this,Ge,t);break;case"previousSibling":te(this,Ve,t);break;case"aIndex":break;default:this[e]=t}}getRootNode(){return Oe(U(this,wt),()=>{var e,t;return(t=(e=this.parentNode)==null?void 0:e.getRootNode())!=null?t:this},e=>{const[,t]=e;t.type==="root"&&te(this,wt,e)})}indexFromPos(e,t){this.lspError("AstNode.indexFromPos")}posFromIndex(e){}getDimension(){}getGaps(e){return 0}getRelativeIndex(e){if(e===void 0){const{parentNode:t}=this;return t?t.getRelativeIndex(t.childNodes.indexOf(this)):0}return Oe(U(this,Qe)[e],()=>{const{childNodes:t}=this,s=e+(e<0?t.length:0);let r=this.getAttribute("padding");for(let i=0;i<s;i++)D.viewOnly&&(U(this,Qe)[i]=[ae.rev,r]),r+=t[i].toString().length+this.getGaps(i);return r},t=>{U(this,Qe)[e]=t})}getAbsoluteIndex(){return Oe(U(this,_t),()=>{const{parentNode:e}=this;return e?e.getAbsoluteIndex()+this.getRelativeIndex():0},e=>{te(this,_t,e)})}getBoundingClientRect(){this.lspError("AstNode.getBoundingClientRect")}is(e){return this.type===e}getLines(){}seal(e,t){}lspError(e){throw new Error(`${e} method is only available in the LSP version!`)}},Xe=W(null),bt=new WeakMap,Ge=new WeakMap,Ve=new WeakMap,wt=new WeakMap,_t=new WeakMap,Qe=new WeakMap,O(Xe,1,"getLines",Er,we),we=O(Xe,0,"AstNode",Pr,we),B(Xe,1,we)}}),pn,hl=m({"mixin/elementLike.ts"(){"use strict";pn=e=>{}}}),Rr,Vt,Br,Ze,dl=m({"lib/element.ts"(){"use strict";H(),me(),ol(),dn(),hl(),Rr=[pn],Ze=class extends(Br=we){get length(){return this.childNodes.length}text(e){return Te(this.childNodes,e)}removeAt(e){this.lspError("AstElement.removeAt")}insertAt(e,t=this.length){return _r(this,t,0,[e]),e}closest(e){const t=un(e,this);let{parentNode:s}=this;for(;s;){if(t(s))return s;({parentNode:s}=s)}}isInside(e){var t;return((t=this.closest(`${e},ext`))==null?void 0:t.type)===e}append(...e){this.safeAppend(e)}safeAppend(e){for(const t of e)this.insertAt(t)}safeReplaceChildren(e){}setText(e,t=0){t+=t<0?this.length:0;const s=this.childNodes[t],{data:r}=s;return s.replaceData(e),r}toString(e,t=""){return this.childNodes.map(s=>s.toString(e)).join(t)}caretPositionFromIndex(e){this.lspError("AstElement.caretPositionFromIndex")}elementFromIndex(e){this.lspError("AstElement.elementFromIndex")}elementFromPoint(e,t){this.lspError("AstElement.elementFromPoint")}lint(e=this.getAbsoluteIndex(),t){}print(e={}){const t=e.class;return this.toString()?(t===""?"":`<span class="wpb-${t!=null?t:this.type}${this.getAttribute("invalid")?" wpb-invalid":""}">`)+We(this.childNodes,e)+(t===""?"":"</span>"):""}json(e,t=this.getAbsoluteIndex()){}},Vt=W(Br),Ze=O(Vt,0,"AstElement",Rr,Ze),B(Vt,1,Ze)}}),Vs,pl=m({"lib/text.ts"(){"use strict";var e,cn,s;H(),dn(),Vs=(s=class extends we{constructor(i){super();$(this,e);ne(this,"data","");this.data=i}get type(){return"text"}toString(i){var n;return i&&!((n=this.parentNode)!=null&&n.getAttribute("built"))?G(this.data):this.data}text(){return this.data}lint(i=this.getAbsoluteIndex(),n){}replaceData(i){R(this,e,cn).call(this,i)}splitText(i){this.lspError("AstText.splitText")}escape(){}print(){return gt(this.data)}},e=new WeakSet,cn=function(i){this.setAttribute("data",i)},s)}}),ge,Se=m({"mixin/hidden.ts"(){"use strict";ge=(e=!0,t=!0)=>s=>{class r extends s{text(){return""}lint(n){}}return r}}}),V,Q=m({"mixin/noEscape.ts"(){"use strict";V=e=>{}}}),xe,$e=m({"src/syntax.ts"(){"use strict";var e,t;E(),xe=(t=class extends N{constructor(r,i,n,a,u){super(r,n,a,u);$(this,e);k(this,e,i)}get type(){return c(this,e)}lint(r=this.getAbsoluteIndex()){}},e=new WeakMap,t)}}),ue,fe=m({"mixin/padded.ts"(){"use strict";ue=({length:e})=>t=>{class s extends t{getAttribute(i){return i==="padding"?e:super.getAttribute(i)}}return s}}}),re,ke=m({"src/atom.ts"(){"use strict";var e,t;E(),re=(t=class extends N{constructor(r,i,n,a,u){super(r,n,a,u);$(this,e);k(this,e,i)}get type(){return c(this,e)}set type(r){k(this,e,r)}getAttribute(r){var i;return r==="invalid"?this.type==="converter-flag"&&!!((i=this.parentNode)!=null&&i.isInvalidFlag(this)):super.getAttribute(r)}},e=new WeakMap,t)}}),Or,Qt,jr,pe,jt=m({"src/link/base.ts"(){"use strict";var e,t,s,r;oe(),fe(),Q(),E(),ke(),Or=[V,ue("[[")],pe=(r=class extends(jr=N){constructor(n,a,u,l=[],h="|"){super(void 0,u,l,{});$(this,e,!0);$(this,t);$(this,s);if(this.insertAt(new re(n,"link-target",u,l,{})),a!==void 0){const o=new N(a,u,l,{});o.type="link-text",o.setAttribute("stage",K-1),this.insertAt(o)}k(this,t,h)}get link(){}get fragment(){}afterBuild(){k(this,s,this.getTitle()),c(this,t).includes("\0")&&k(this,t,this.buildFromStr(c(this,t),0)),this.setAttribute("name",c(this,s).title),super.afterBuild()}setAttribute(n,a){n==="bracket"?k(this,e,a):n==="title"?k(this,s,a):super.setAttribute(n,a)}toString(n){const a=super.toString(n,c(this,t));return c(this,e)?`[[${a}]]`:a}text(){const n=super.text("|");return c(this,e)?`[[${n}]]`:n}getAttribute(n){return n==="title"?c(this,s):super.getAttribute(n)}getGaps(n){return n===0?c(this,t).length:1}lint(n=this.getAbsoluteIndex(),a){}getTitle(n,a){return this.normalizeTitle(this.firstChild.text(),0,{halfParsed:a,temporary:n,decode:!0,selfLink:!0})}print(){return super.print(c(this,e)?{pre:"[[",post:"]]",sep:c(this,t)}:{sep:c(this,t)})}json(n,a=this.getAbsoluteIndex()){}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r),Qt=W(jr),pe=O(Qt,0,"LinkBaseToken",Or,pe),B(Qt,1,pe)}}),Wr,Xt,qr,se,Ce=m({"src/nowiki/base.ts"(){"use strict";Q(),E(),Wr=[V],se=class extends(qr=N){get innerText(){return this.firstChild.data}constructor(e="",t,s){super(e,t,s)}},Xt=W(qr),se=O(Xt,0,"NowikiBaseToken",Wr,se),B(Xt,1,se)}}),Mr,Jt,Ur,Z,Ue=m({"src/nowiki/noinclude.ts"(){"use strict";Se(),Ce(),Mr=[ge(!1)],Z=class extends(Ur=se){get type(){return"noinclude"}toString(e){return e?"":super.toString()}lint(e=this.getAbsoluteIndex()){}},Jt=W(Ur),Z=O(Jt,0,"NoincludeToken",Mr,Z),B(Jt,1,Z)}}),gn,cl=m({"src/link/redirectTarget.ts"(){"use strict";jt(),Ue(),gn=class extends pe{get type(){return"redirect-target"}constructor(e,t,s,r){super(e,void 0,s,r),t!==void 0&&this.insertAt(new Z(t,s,r))}getTitle(){return this.normalizeTitle(this.firstChild.toString(),0,{halfParsed:!0,decode:!0,page:""})}lint(e=this.getAbsoluteIndex()){}}}}),zr,Kt,Dr,et,gl=m({"src/redirect.ts"(){"use strict";var e,t,s;Se(),Q(),E(),$e(),cl(),zr=[ge(!1,!1),V],et=(s=class extends(Dr=N){constructor(i,n,a,u,l,h,o=[]){super(void 0,h,o);$(this,e);$(this,t);k(this,e,i),k(this,t,l),this.append(new xe(n,"redirect-syntax",h,o),new gn(a,u==null?void 0:u.slice(1),h,o))}get type(){return"redirect"}getAttribute(i){return i==="padding"?c(this,e).length:super.getAttribute(i)}toString(i){return c(this,e)+super.toString(i)+c(this,t)}lint(i=this.getAbsoluteIndex()){}print(){return super.print({pre:c(this,e),post:c(this,t)})}},e=new WeakMap,t=new WeakMap,s),Kt=W(Dr),et=O(Kt,0,"RedirectToken",zr,et),B(Kt,1,et)}}),xn={};q(xn,{parseRedirect:()=>fn});var fn,xl=m({"parser/redirect.ts"(){"use strict";X(),gl(),fn=(e,t,s)=>{var i;(i=t.regexRedirect)!=null||(t.regexRedirect=new RegExp(String.raw`^(\s*)((?:${t.redirection.join("|")})\s*(?::\s*)?)\[\[([^\n|\]]+)(\|.*?)?\]\](\s*)`,"iu"));const r=t.regexRedirect.exec(e);return r&&D.normalizeTitle(r[3],0,!1,t,{halfParsed:!0,temporary:!0,decode:!0,page:""}).valid?(e=`\0${s.length}o${e.slice(r[0].length)}`,new et(...r.slice(1),t,s),e):!1}}}),Hr,Yt,Gr,tt,fl=m({"src/onlyinclude.ts"(){"use strict";fe(),Q(),E(),Hr=[V,ue("<onlyinclude>")],tt=class extends(Gr=N){get type(){return"onlyinclude"}toString(e){return`<onlyinclude>${super.toString(e)}</onlyinclude>`}isPlain(){return!0}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}},Yt=W(Gr),tt=O(Yt,0,"OnlyincludeToken",Hr,tt),B(Yt,1,tt)}}),ft,Wt=m({"mixin/gapped.ts"(){"use strict";ft=(e=1)=>t=>{class s extends t{getGaps(){return e}}return s}}}),Vr,Zt,Qr,_e,nr=m({"src/tagPair/index.ts"(){"use strict";var e,t;Wt(),Q(),E(),Vr=[ft(),V],_e=(t=class extends(Qr=N){constructor(r,i,n,a,u,l=[]){super(void 0,u);$(this,e);ne(this,"closed");ne(this,"selfClosing");this.setAttribute("name",r.toLowerCase()),k(this,e,[r,a||r]),this.closed=a!=="",this.selfClosing=a===void 0,this.append(i,n);const h=typeof i=="string"?-1:l.indexOf(i);l.splice(h===-1?1/0:h,0,this)}get innerText(){return this.selfClosing?void 0:this.lastChild.text()}toString(r){const{selfClosing:i,firstChild:n,lastChild:a}=this,[u,l]=c(this,e);return i?`<${u}${n.toString(r)}/>`:`<${u}${n.toString(r)}>${a.toString(r)}${this.closed?`</${l}>`:""}`}text(){const[r,i]=c(this,e);return this.selfClosing?`<${r}${this.firstChild.text()}/>`:`<${r}${super.text(">")}${this.closed?`</${i}>`:""}`}getAttribute(r){return r==="padding"?c(this,e)[0].length+1:super.getAttribute(r)}print(){const[r,i]=c(this,e);return super.print(this.selfClosing?{pre:`&lt;${r}`,post:"/&gt;"}:{pre:`&lt;${r}`,sep:"&gt;",post:this.closed?`&lt;/${i}&gt;`:""})}},e=new WeakMap,t),Zt=W(Qr),_e=O(Zt,0,"TagPairToken",Vr,_e),B(Zt,1,_e)}}),Xr,es,Jr,st,ml=m({"src/tagPair/include.ts"(){"use strict";Se(),nr(),Xr=[ge(!1)],st=class extends(Jr=_e){get type(){return"include"}constructor(e,t="",s,r,i,n){super(e,t,s!=null?s:"",s===void 0||r!=null?r:"",i,n)}toString(e){return e?"":super.toString()}lint(e=this.getAbsoluteIndex()){}},es=W(Jr),st=O(es,0,"IncludeToken",Xr,st),B(es,1,st)}}),qt,ar=m({"mixin/attributesParent.ts"(){"use strict";qt=(e=0)=>t=>{}}}),J,ts,ss,rs,Kr,is,ns,Yr,Zr,ei,At,as,ls,os,he,mn,vn,bn,vl=m({"util/sharable.ts"(){"use strict";J=new Set(["align"]),ts=new Set(["cite"]),ss=new Set(["cite","datetime"]),rs=new Set(["width"]),Kr=new Set(["axis","align","bgcolor","height","width","valign"]),is=new Set([...Kr,"abbr","headers","scope","rowspan","colspan"]),ns=new Set(["type"]),Yr=new Set(["summary","align","bgcolor","cellpadding","cellspacing","frame","rules","width"]),Zr=new Set(["clear"]),ei=new Set(["bgcolor","align","valign"]),At=new Set(["id","qid","forcemathmode","type","display"]),as=new Set(["enclose","inline","lang","line","linelinks","style","class","id","dir","copy","highlight","start"]),ls=new Set(["weight"]),os=new Set(["width","height","zoom","latitude","longitude","align","mapstyle","lang","alt","text"]),he=new Set,mn=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-level","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),vn={div:J,h1:J,h2:J,h3:J,h4:J,h5:J,h6:J,blockquote:ts,q:ts,p:J,br:Zr,pre:rs,ins:ss,del:ss,ul:ns,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set([...Yr,"border"]),caption:J,tr:ei,td:is,th:is,font:new Set(["size","color","face"]),hr:rs,data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:ns,poem:J,categorytree:J,combooption:J,img:new Set(["alt","src","width","height","loading","srcset"])},bn={gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails"]),poem:new Set(["compact"]),categorytree:new Set(["hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline"]),nowiki:he,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","follow","dir","details"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:ls,choicetemplate:ls,imagemap:he,inputbox:he,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:he,poll:new Set(["id","show-results-before-voting"]),score:new Set(["line_width_inches","lang","override_midi","raw","note-language","override_audio","override_ogg","sound","vorbis"]),seo:new Set(["title","title_mode","title_separator","keywords","description","robots","google_bot","image","image_width","image_height","image_alt","type","site_name","locale","section","author","published_time","twitter_site"]),tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"]),math:new Set([...At,"chem"]),chem:At,ce:At,hiero:he,phonos:new Set(["ipa","class","text","lang","wikibase","file"]),section:new Set(["begin","end"]),source:as,syntaxhighlight:as,templatedata:he,timeline:new Set(["method","font"]),quiz:new Set(["display","shuffleanswers","points","shuffle","case"]),languages:he,mapframe:new Set([...os,"frameless"]),maplink:new Set([...os,"class"]),rss:new Set(["template","templatename","max","highlight","filter","filterout","reverse","date","item-max-length"]),"page-collection":new Set(["lang","name","description","end-date"])}}}),ti,si,ri,ii,Qs,bl=m({"src/attribute.ts"(){"use strict";var e,t,s,r,i,wn,_n,u;Bt(),H(),oe(),vl(),X(),E(),ke(),ti=/expression|(?:accelerator|-o-link(?:-source)?|-o-replace)\s*:|(?:url|src|image(?:-set)?)\s*\(|attr\s*\([^)]+[\s,]url/u,si=/(?:^|\s|\*\/)(?:javascript|vbscript)(?:\W|$)/iu,ri=new Set(["ext","arg","magic-word","template"]),ii=new Set(["about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),Qs=(u=class extends N{constructor(h,o,d,x="",p,g=[],v=D.getConfig(),y=[]){const C=new re(d,"attr-key",v,y);let b;if(d==="title"||o==="img"&&d==="alt")b=new N(p,v,y,{}),b.type="attr-value",b.setAttribute("stage",K-1);else if(o==="gallery"&&d==="caption"||o==="ref"&&d==="details"||(o==="mapframe"||o==="maplink")&&d==="text"||o==="choose"&&(d==="before"||d==="after")){const T={...v,excludes:[...v.excludes,"heading","html","table","hr","list"]};b=new N(p,T,y,{}),b.type="attr-value",b.setAttribute("stage",1)}else b=new re(p,"attr-value",v,y,{});super(void 0,v,y);$(this,i);$(this,e);$(this,t);$(this,s);$(this,r);k(this,e,h),this.append(C,b),k(this,s,x),k(this,r,[...g]),k(this,t,o),this.setAttribute("name",je(G(d)))}get type(){return c(this,e)}get tag(){return c(this,t)}get balanced(){}afterBuild(){c(this,s).includes("\0")&&k(this,s,this.buildFromStr(c(this,s),0)),this.parentNode&&k(this,t,this.parentNode.name),R(this,i,wn).call(this),super.afterBuild()}toString(h){const[o="",d=""]=c(this,r);return c(this,s)?super.toString(h,c(this,s)+o)+d:this.firstChild.toString(h)}text(){return c(this,s)?`${super.text(`${c(this,s).trim()}"`)}"`:this.firstChild.text()}getGaps(){var h,o;return c(this,s)?c(this,s).length+((o=(h=c(this,r)[0])==null?void 0:h.length)!=null?o:0):0}lint(h=this.getAbsoluteIndex(),o){}getValue(){return c(this,s)?this.lastChild.text().trim():this.type==="ext-attr"||""}escape(){}getAttribute(h){return h==="invalid"?R(this,i,_n).call(this):super.getAttribute(h)}print(){const[h="",o=""]=c(this,r);return c(this,s)?super.print({sep:gt(c(this,s))+h,post:o}):super.print()}json(h,o=this.getAbsoluteIndex()){}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,i=new WeakSet,wn=function(){this.setAttribute("name",je(this.firstChild.text()))},_n=function(h,o){const{firstChild:d,lastChild:x,type:p,name:g,tag:v,parentNode:y}=this,C=!x.childNodes.some(({type:A})=>ri.has(A)),b=this.getValue(),T=bn[v],w=vn[v],{length:I}=this.toString();let F="illegal-attr",P,f;if(!(T!=null&&T.has(g))&&!(w!=null&&w.has(g))&&(p==="ext-attr"?T||w:!/\{\{[^{]+\}\}/u.test(g))&&(p==="ext-attr"&&!w||!/^(?:xmlns:[\w:.-]+|data-(?!ooui|mw|parsoid)[^:]*)$/u.test(g)&&(v==="meta"||v==="link"||!mn.has(g)))||(g==="itemtype"||g==="itemid"||g==="itemref")&&!(y!=null&&y.hasAttr("itemscope"))){if(h===void 0)return!0}else if(g==="style"&&typeof b=="string"&&ti.test(b)){if(h===void 0)return!0}else if(g==="tabindex"&&typeof b=="string"&&b!=="0"){if(h===void 0)return!0}else if(typeof b=="string"&&((/^xmlns:[\w:.-]+$/u.test(g)||ii.has(g))&&si.test(b)||C&&(g==="href"||v==="img"&&g==="src")&&!new RegExp(String.raw`^(?:${this.getAttribute("config").protocol}|//)\S+$`,"iu").test(b))){if(h===void 0)return!0}else if(C&&p!=="ext-attr"){const A=on(v,g),_=String(b).toLowerCase();if(A.length>0&&A.every(S=>S!==_)&&h===void 0)return!0}return!1},u)}}),us,ni,Mt,lr=m({"src/attributes.ts"(){"use strict";var e,t,Xs,r;H(),E(),ke(),bl(),us=i=>i.slice(0,-1),ni=i=>`${us(i)}-dirty`,Mt=(r=class extends N{constructor(n,a,u,l,h=[]){super(void 0,l,h,{});$(this,t);$(this,e);if(k(this,e,a),this.setAttribute("name",u),n){const o=/([^\s/](?:(?!\0\d+~\x7F)[^\s/=])*)(?:((?:\s(?:\s|\0\d+[cn]\x7F)*)?(?:=|\0\d+~\x7F)(?:\s|\0\d+[cn]\x7F)*)(?:(["'])([\s\S]*?)(\3|$)|(\S*)))?/gu;let d="",x=o.exec(n),p=0;const g=(()=>{d&&(super.insertAt(new re(d,ni(a),l,h,{})),d="")});for(;x;){const{index:v,0:y,1:C,2:b,3:T,4:w,5:I,6:F}=x;if(d+=n.slice(p,v),/^(?:[\w:]|\0\d+t\x7F)(?:[\w:.-]|\0\d+t\x7F)*$/u.test(G(C).trim())){const P=w!=null?w:F,f=[T,I],A=new Qs(us(a),u,C,b,P,f,l,h);g(),super.insertAt(A)}else d+=y;({lastIndex:p}=o),x=o.exec(n)}d+=n.slice(p),g()}}get type(){return c(this,e)}afterBuild(){const{parentNode:n}=this;n!=null&&n.is("td")&&this.setAttribute("name",n.subtype),super.afterBuild()}getAttrTokens(n){return this.childNodes.filter(a=>a instanceof Qs&&(!n||a.name===je(n)))}hasAttr(n){return this.getAttrTokens(n).length>0}getAttrToken(n){}getAttr(n){}lint(n=this.getAbsoluteIndex(),a){}escape(){}getAttribute(n){return n==="invalid"?R(this,t,Xs).call(this):super.getAttribute(n)}print(){return this.toString()?`<span class="wpb-${this.type}${R(this,t,Xs).call(this)?" wpb-invalid":""}">${this.childNodes.map(n=>n.print(n instanceof re?{class:n.toString().trim()&&"attr-dirty"}:void 0)).join("")}</span>`:""}},e=new WeakMap,t=new WeakSet,Xs=function(){const{parentNode:n}=this;return(n==null?void 0:n.type)==="html"&&n.closing&&this.text().trim()!==""},r)}}),An={};q(An,{PreToken:()=>yn});var yn,wl=m({"src/pre.ts"(){"use strict";oe(),E(),Ue(),yn=class extends N{get type(){return"ext-inner"}constructor(e,t,s=[]){if(e){const r=/<nowiki>/giu,i=/<\/nowiki>/giu,{length:n}=r.source;let a=r.exec(e);a&&(i.lastIndex=a.index+n);let u=i.exec(e),l=0,h="";for(;a&&u;)new Z(a[0],t,s,!0),new Z(u[0],t,s,!0),h+=`${e.slice(l,a.index)}\0${s.length-1}n${e.slice(a.index+n,u.index)}\0${s.length}n`,l=u.index+n+1,r.lastIndex=l,a=r.exec(e),a&&(i.lastIndex=a.index+n),u=i.exec(e);e=h+e.slice(l)}super(e,t,s,{}),this.setAttribute("stage",K-1)}isPlain(){return!0}lint(e=this.getAbsoluteIndex()){}}}}),Ut,or=m({"src/multiLine/index.ts"(){"use strict";E(),Ut=class extends N{get type(){return"ext-inner"}toString(e){return super.toString(e,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}}}),Tn,_l=m({"src/paramLine.ts"(){"use strict";E(),Tn=class extends N{get type(){return"param-line"}}}}),Sn={};q(Sn,{ParamTagToken:()=>ur});var ur,$n=m({"src/multiLine/paramTag.ts"(){"use strict";Dt(),X(),or(),_l(),ur=class extends Ut{constructor(e,t,s=D.getConfig(),r=[],i){super(void 0,s,r,{}),t&&this.safeAppend(t.split(`
`).map(n=>i?n:mt(n,s,r,e)).map(n=>new Tn(n,s,r,{}))),r.splice(r.indexOf(this),1),r.push(this)}lint(e=this.getAbsoluteIndex()){}}}}),ai,hs,li,Ne,kn=m({"src/heading.ts"(){"use strict";var e,t,Nt,r;Q(),E(),$e(),ai=[V],Ne=(r=class extends(li=N){constructor(n,a,u,l=[]){super(void 0,u,l);$(this,t);$(this,e);k(this,e,n);const h=new N(a[0],u,l);h.type="heading-title",h.setAttribute("stage",2);const o=new xe(a[1],"heading-trail",u,l);this.append(h,o)}get type(){return"heading"}get level(){return c(this,e)}toString(n){const a=R(this,t,Nt).call(this);return a+this.firstChild.toString(n)+a+this.lastChild.toString(n)}text(){const n=R(this,t,Nt).call(this);return n+this.firstChild.text()+n}getAttribute(n){return n==="invalid"?this.inHtmlAttrs()===2:n==="padding"?this.level:super.getAttribute(n)}getGaps(){return this.level}lint(n=this.getAbsoluteIndex(),a){}print(){const n=R(this,t,Nt).call(this);return super.print({pre:n,sep:n})}json(n,a=this.getAbsoluteIndex()){}},e=new WeakMap,t=new WeakSet,Nt=function(){return"=".repeat(this.level)},r),hs=W(li),Ne=O(hs,0,"HeadingToken",ai,Ne),B(hs,1,Ne)}}),Cn,Al=m({"src/parameter.ts"(){"use strict";E(),Cn=class extends N{get type(){return"parameter"}get anon(){return this.firstChild.length===0}get duplicated(){}constructor(e,t,s,r=[]){super(void 0,s,r);const i=new N(typeof e=="number"?void 0:e,s,r,{}),n=new N(t,s,r);i.type="parameter-key",i.setAttribute("stage",2),n.type="parameter-value",n.setAttribute("stage",2),this.append(i,n)}trimName(e,t=!0){const s=(typeof e=="string"?e:e.toString(!0)).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");return this.setAttribute("name",s),s}afterBuild(){if(!this.anon){const{parentNode:e,firstChild:t}=this,s=this.trimName(t);e&&e.getArgs(s,!1,!1).add(this)}super.afterBuild()}toString(e){return this.anon?this.lastChild.toString(e):super.toString(e,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}lint(e=this.getAbsoluteIndex(),t){}print(){return super.print({sep:this.anon?"":"="})}json(e,t=this.getAbsoluteIndex()){}}}}),oi,ds,ui,Fe,yl=m({"src/transclude.ts"(){"use strict";var e,t,s,r,i,n,Js,In,l;H(),me(),Wt(),Q(),E(),Al(),ke(),$e(),oi=[V,ft()],Fe=(l=class extends(ui=N){constructor(o,d,x,p=[]){var A,_;let g;const v=/^(?:\s|\0\d+[cn]\x7F)*\0(\d+)h\x7F(?:\s|\0\d+[cn]\x7F)*/u.exec(o);v&&(g=Number(v[1]),o=o.replace(`\0${g}h`,p[g].toString().replace(/^\n/u,"")));super(void 0,x,p,{});$(this,n);ne(this,"modifier","");$(this,e,"template");$(this,t,":");$(this,s,!1);$(this,r,new Map);$(this,i);const{parserFunction:y,variable:C,functionHook:b}=x,T=(A=/^(?:\s|\0\d+[cn]\x7F)*\0\d+s\x7F/u.exec(o))==null?void 0:A[0];if(T)this.setAttribute("modifier",T),o=o.slice(T.length);else if(o.includes(":")){const[S,...L]=o.split(":"),[M]=/^(?:\s|\0\d+[cn]\x7F)*/u.exec((_=L[0])!=null?_:"");this.setModifier(`${S}:${M}`)&&(o=L.join(":").slice(M.length))}const w=o.search(/[:：]/u),I=o[w]==="：",F=w!==-1;if(F||d.length===0&&!c(this,s)){const S=F?o.slice(0,w):o,L=F&&o.slice(w+1),M=G(S),z=F?M.slice(M.search(/\S/u))+(I?"：":""):M.trim(),[,ie,ve]=Ha(z,y),ze=!("functionHook"in x)||b.includes(ve),le=C.includes(ve);if(F?ve&&ze:le){this.setAttribute("name",ve),k(this,e,"magic-word"),I&&k(this,t,"：");const De=new xe(S,"magic-word-name",x,p);if(super.insertAt(De),L!==!1&&d.unshift([L]),this.name==="invoke")for(let He=0;He<2;He++){const Ar=d.shift();if(!Ar)break;const Xa=new re(Ar.join("="),`invoke-${He?"function":"module"}`,x,p);super.insertAt(Xa)}}}if(this.type==="template"){const S=G(o).trim();if(!this.normalizeTitle(S,10,{halfParsed:!0,temporary:!0}).valid)throw p.pop(),new SyntaxError("Invalid template name");const L=new re(o,"template-name",x,p,{});super.insertAt(L)}typeof g=="number"&&(p[g]=void 0);const P=this.isTemplate();let f=1;for(let S=0;S<d.length;S++){const L=d[S];P||this.name==="switch"&&S>0||this.name==="tag"&&S>1||(L[0]=L.join("="),L.length=1),L.length===1&&(L.unshift(f),f++),this.insertAt(new Cn(...L,x,p))}this.seal("modifier")}get type(){return c(this,e)}get module(){}get function(){}setModifier(o){const{parserFunction:[,,d,x]}=this.getAttribute("config"),p=G(o).trim();if(o&&!p.endsWith(":"))return!1;const g=p.slice(0,-1).toLowerCase(),v=d.includes(g),y=x.includes(g);return(c(this,s)?v:y||!o)||(ae.running||this.length>1)&&(v||y||!o)?(this.setAttribute("modifier",o),k(this,s,v),!!o):!1}isTemplate(){return this.type==="template"||this.name==="invoke"}afterBuild(){this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,0)),super.afterBuild(),this.isTemplate()&&this.type==="template"&&(k(this,i,R(this,n,Js).call(this)),this.setAttribute("name",c(this,i).title))}toString(o){const{childNodes:d,length:x,firstChild:p,modifier:g,type:v}=this;return`{{${g}${v==="magic-word"?p.toString(o)+(x===1?"":c(this,t))+d.slice(1).map(y=>y.toString(o)).join("|"):super.toString(o,"|")}}}`}text(){const{childNodes:o,length:d,firstChild:x,modifier:p,type:g,name:v}=this;return g==="magic-word"&&v==="vardefine"?"":`{{${p}${g==="magic-word"?x.text()+(d===1?"":c(this,t))+Te(o.slice(1),"|"):super.text("|")}}}`}getAttribute(o){switch(o){case"padding":return this.modifier.length+2;case"title":return c(this,i);case"colon":return c(this,t);case"invalid":return this.type==="magic-word"&&this.name==="invoke"&&(this.length===2||!R(this,n,Js).call(this).valid);default:return super.getAttribute(o)}}lint(o=this.getAbsoluteIndex(),d){}insertAt(o,d=this.length){return super.insertAt(o,d),o.anon?R(this,n,In).call(this,o):o.name&&this.getArgs(o.name,!1,!1).add(o),o}getAllArgs(){return this.childNodes.filter(wr("parameter"))}getAnonArgs(){return this.getAllArgs().filter(({anon:o})=>o)}getArgs(o,d,x=!0){const p=String(o).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let g;return c(this,r).has(p)?g=c(this,r).get(p):(g=new Set(this.getAllArgs().filter(({name:v})=>p===v)),c(this,r).set(p,g)),g}getDuplicatedArgs(){}getPossibleValues(){const{type:o,name:d,childNodes:x}=this;if(o==="template")throw new Error("TranscludeToken.getPossibleValues method is only for specific magic words!");let p,g;switch(d){case"if":case"ifexist":case"ifexpr":case"iferror":p=2;break;case"ifeq":p=3;break;case"switch":{const v=x.slice(2),y=v[v.length-1];g=[...v.filter(({anon:C})=>!C),...y!=null&&y.anon?[y]:[]].map(({lastChild:C})=>C);break}default:throw new Error("TranscludeToken.getPossibleValues method is only for specific magic words!")}g!=null||(g=x.slice(p,p+2).map(({lastChild:v})=>v));for(let v=0;v<g.length;){const{length:y,0:C}=g[v].childNodes.filter(b=>b.text().trim());if(y===0)g.splice(v,1);else if(y>1||!C.is("magic-word"))v++;else try{const b=C.getPossibleValues();Array.prototype.splice.apply(g,[v,1,...b]),v+=b.length}catch{v++}}return g}print(){const{childNodes:o,length:d,firstChild:x,modifier:p,type:g}=this;return`<span class="wpb-${g}${this.getAttribute("invalid")?" wpb-invalid":""}">{{${g==="magic-word"?gt(p)+x.print()+(d===1?"":c(this,t))+We(o.slice(1),{sep:"|"}):(p?`<span class="wpb-magic-word">${gt(p)}</span>`:"")+We(o,{sep:"|"})}}}</span>`}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,i=new WeakMap,n=new WeakSet,Js=function(){const o=this.type==="template";return this.normalizeTitle((o?"":"Module:")+G(this.childNodes[o?0:1].text()),10,{temporary:!0,...!o&&{page:""}})},In=function(o){const d=this.getAnonArgs(),x=typeof o!="number";for(let p=x?d.indexOf(o):o-1;p<d.length;p++){const g=d[p],{name:v}=g,y=String(p+1);(v!==y||g===o)&&(g.setAttribute("name",y),this.getArgs(y,!1,!1).add(g))}},l),ds=W(ui),Fe=O(ds,0,"TranscludeToken",oi,Fe),B(ds,1,Fe)}}),hi,ps,di,rt,Tl=m({"src/hidden.ts"(){"use strict";Se(),Q(),E(),hi=[ge(),V],rt=class extends(di=N){get type(){return"hidden"}getAttribute(e){return e==="invalid"||super.getAttribute(e)}},ps=W(di),rt=O(ps,0,"HiddenToken",hi,rt),B(ps,1,rt)}}),pi,cs,ci,it,Sl=m({"src/arg.ts"(){"use strict";var e,$l,s;H(),fe(),Wt(),Q(),E(),ke(),Tl(),pi=[V,ue("{{{"),ft()],it=(s=class extends(ci=N){constructor(i,n,a=[]){super(void 0,n,a,{});$(this,e);for(let u=0;u<i.length;u++){const l=i[u];if(u===0){const h=new re(l,"arg-name",n,a,{});super.insertAt(h)}else if(u>1){const h=new rt(l,n,a);super.insertAt(h)}else{const h=new N(l,n,a);h.type="arg-default",h.setAttribute("stage",2),super.insertAt(h)}}}get type(){return"arg"}get default(){}toString(i){return`{{{${super.toString(i,"|")}}}}`}text(){return`{{{${Te(this.childNodes.slice(0,2),"|")}}}}`}afterBuild(){super.afterBuild()}lint(i=this.getAbsoluteIndex(),n){}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}json(i,n=this.getAbsoluteIndex()){}},e=new WeakSet,$l=function(){},s),cs=W(ci),it=O(cs,0,"ArgToken",pi,it),B(cs,1,it)}}),Nn={};q(Nn,{parseBraces:()=>zt});var gi,gs,yt,xs,fs,ms,xi,vs,zt,hr=m({"parser/braces.ts"(){"use strict";Rt(),H(),kn(),yl(),Sl(),gi={"=":String.raw`\n(?!(?:[^\S\n]|\0\d+[cn]\x7F)*\n)`,"{":String.raw`\}{2,}|\|`,"-":String.raw`\}-`,"[":String.raw`\]\]`},gs=String.raw`\[(?!\[)`,yt=String.raw`\n(?![=\0])`,xs=String.raw`|\{{2,}`,fs=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"],["server","m"]]),ms=dt(e=>new RegExp(e,"gmu")),xi=new RegExp(String.raw`\{\{((?:[^\n{}[]|${gs}|${yt})*)\}\}(?!\})`+"|"+String.raw`\[\[(?:[^\n[\]{]|${yt})*\]\]`+"|"+String.raw`-\{(?:[^\n{}[]|${gs}|${yt})*\}-`,"gu"),vs=e=>{const t=je(G(e));return fs.has(t)?fs.get(t):/^(?:filepath|(?:full|canonical)urle?):./u.test(t)?"m":/^#vardefine:./u.test(t)?"n":"t"},zt=(e,t,s)=>{var g,v,y,C,b;const r=String.raw`${t.excludes.includes("heading")?"":String.raw`^((?:\0\d+[cno]\x7F)*)={1,6}|`}\[\[|-\{(?!\{)`,{parserFunction:[,,,i]}=t,n=[],a=[],u=(T,w,I,F)=>{w[w.length-1].push(Y(T.slice(I,F),a))};let l;do l!==void 0&&(e=l),l=e.replace(xi,(T,w,I)=>{if(w!==void 0||typeof I=="string")try{const{length:F}=s,P=(w!=null?w:I).split("|");return new Fe(Y(P[0],a),P.slice(1).map(f=>{const A=f.indexOf("=");return(A===-1?[f]:[f.slice(0,A),f.slice(A+1)]).map(_=>Y(_,a))}),t,s),`\0${F}${vs(P[0])}`}catch(F){if(!(F instanceof SyntaxError)||F.message!=="Invalid template name")throw F}return a.push(Y(T,a)),`\0${a.length-1}`});while(l!==e);e=l;const h=e.lastIndexOf("}}")-e.length;let o=h+e.length!==-1,d=ms(r+(o?xs:"")),x=d.exec(e),p;for(;x||p!==void 0&&p<=e.length&&((v=(g=n[n.length-1])==null?void 0:g[0])!=null&&v.startsWith("="));){if(x!=null&&x[1]){const[,{length:M}]=x;x[0]=x[0].slice(M),x.index+=M}const{0:T,index:w}=x!=null?x:{0:`
`,index:e.length},I=(y=n.pop())!=null?y:{},{0:F,index:P,parts:f,findEqual:A,pos:_}=I,S=T==="="&&A;if(T==="]]"||T==="}-")p=w+2;else if(T===`
`){p=w+1;const{pos:M,findEqual:z}=(C=n[n.length-1])!=null?C:{};if(M===void 0||z||G(e.slice(M,P))!==""){const ie=/^(={1,6})(.+)\1((?:\s|\0\d+[cn]\x7F)*)$/u.exec(e.slice(P,w));ie&&(ie[2]=Y(ie[2],a),ie[2].includes(`
`)||(e=`${e.slice(0,P)}\0${s.length}h${e.slice(w)}`,p=P+4+String(s.length).length,new Ne(ie[1].length,ie.slice(2),t,s)))}}else if(T==="|"||S)p=w+1,u(e,f,_,w),T==="|"&&f.push([]),I.pos=p,I.findEqual=T==="|",n.push(I);else if(T.startsWith("}}")){const M=T.slice(0,Math.min(F.length,3)),z=F.length-M.length,{length:ie}=s;p=w+M.length,u(e,f,_,w);let ve=!1,ze="t";if(M.length===3){const le=f.map(He=>He.join("=")),De=le.length>1&&G(le[1]).trim();new it(le,t,s),De&&De.endsWith(":")&&i.includes(De.slice(0,-1).toLowerCase())&&(ze="s")}else try{new Fe(f[0][0],f.slice(1),t,s),ze=vs(f[0][0])}catch(le){if(le instanceof SyntaxError&&le.message==="Invalid template name")ve=!0;else throw le}ve||(e=`${e.slice(0,P+z)}\0${ie}${ze}${e.slice(p)}`,p=P+z+3+String(ie).length,z>1?n.push({0:F.slice(0,z),index:P,pos:P+z,parts:[[]]}):z===1&&e[P-1]==="-"&&n.push({0:"-{",index:P-1,pos:P+1,parts:[[]]}))}else p=w+T.length,T.startsWith("{")&&(x.pos=p,x.parts=[[]]),n.push(..."0"in I?[I]:[],x);let L=n[n.length-1];if(o&&h+e.length<p)for(o=!1;(b=L==null?void 0:L[0])!=null&&b.startsWith("{");)n.pop(),L=n[n.length-1];d=ms(r+(o?xs:"")+(L?`|${gi[L[0][0]]}${L.findEqual?"|=":""}`:"")),d.lastIndex=p,x=d.exec(e)}return Y(e,a)}}}),Fn={};q(Fn,{InputboxToken:()=>Ln});var Ln,kl=m({"src/multiLine/inputbox.ts"(){"use strict";Dt(),hr(),X(),$n(),Ln=class extends ur{constructor(e,t,s=D.getConfig(),r=[]){const i=Symbol("InputboxToken"),n=s.excludes.includes("heading")?s:{...s,excludes:[...s.excludes,"heading"]},{length:a}=r;r.push(i),t&&(t=mt(t,n,r,e)),t&&(t=zt(t,n,r)),r.splice(a,1),super(e,t,n,r,{})}}}}),Ft={};q(Ft,{NestedToken:()=>En});var En,bs=m({"src/nested.ts"(){"use strict";var e,t,s;Dt(),hr(),E(),ea(),Ue(),En=(s=class extends N{constructor(i,n,a,u,l=[]){if(typeof n=="boolean"){const h=Symbol("NestedToken"),{length:o}=l;l.push(h),i&&(i=mt(i,u,l,n)),i&&(i=zt(i,u,l)),l.splice(o,1)}else i&&(i=i.replace(n,(h,o,d,x,p)=>{const g=`\0${l.length+1}e`;return new Re(o,d,x,p,u,!1,l),g}));i&&(i=i.replace(/(^|\0\d+.\x7F)([^\0]+)(?=$|\0\d+.\x7F)/gu,(h,o,d)=>(new Z(d,u,l),`${o}\0${l.length}n`)));super(i,u,l);$(this,e);$(this,t);k(this,e,[...a]),k(this,t,n)}get type(){return"ext-inner"}lint(i=this.getAbsoluteIndex(),n){}},e=new WeakMap,t=new WeakMap,s)}});function Cl(e,t,s,r,i){t=G(t).trim();let n=t.replace(e==="link"?/\0\d+[tq]\x7F/gu:/\0\d+t\x7F/gu,"").trim();switch(e){case"width":return!n&&!!t||/^(?:\d+x?|\d*x\d+)(?:\s*px)?$/u.test(n);case"link":{if(n){if(Pn(s.protocol).test(n))return Rn(s.protocol).test(n)&&t;n.startsWith("[[")&&n.endsWith("]]")&&(n=n.slice(2,-2))}else return t;const a=D.normalizeTitle(n,0,!1,s,{halfParsed:r,decode:!0,selfLink:!0,page:""});return a.valid&&a}case"lang":return(i==="svg"||i==="svgz")&&!/[^a-z\d-]/u.test(n);case"alt":case"class":case"manualthumb":return!0;case"page":return(i==="djvu"||i==="djv"||i==="pdf")&&Number(n)>0;default:return!!n&&!isNaN(n)}}var Pn,Rn,fi,mi,ws,vi,nt,Il=m({"src/imageParameter.ts"(){"use strict";var e,t,Nl,i;Rt(),H(),oe(),Q(),X(),E(),Pn=dt(n=>new RegExp(String.raw`^(?:${n}|//|\0\d+m\x7F)`,"iu")),Rn=dt(n=>new RegExp(String.raw`^(?:(?:${n}|//)${pt}|\0\d+m\x7F)${ct}$`,"iu")),fi=dt(n=>new RegExp(String.raw`^(\s*(?!\s))${n.replace("$1","(.*)")}${n.endsWith("$1")?`(?=$|
)`:""}(\s*)$`,"u")),mi=[V],nt=(i=class extends(vi=N){constructor(a,u,l,h){var n=(...r)=>(super(...r),$(this,t),$(this,e,""),this);let o;const d=Object.entries(l.img).map(([p,g])=>[p,g,fi(p)]),x=d.find(([,p,g])=>(o=g.exec(a),o&&(o.length!==4||Cl(p,o[2],l,!0,u)!==!1)));if(x&&o){o.length===3?(n(void 0,l,h),k(this,e,a)):(n(o[2],l,h,{}),k(this,e,o[1]+x[0]+o[3])),this.setAttribute("name",x[1]),x[1]==="alt"&&this.setAttribute("stage",K-1);return}n(a,l.excludes.includes("list")?l:{...l,excludes:[...l.excludes,"list"]},h),this.setAttribute("name","caption"),this.setAttribute("stage",7)}get type(){return"image-parameter"}get thumb(){}get link(){}afterBuild(){var a;(a=this.parentNode)!=null&&a.is("gallery-image")&&!ln.has(this.name)&&this.setAttribute("name","invalid"),super.afterBuild()}toString(a){return c(this,e)?c(this,e).replace("$1",super.toString(a)):super.toString(a)}text(){return c(this,e)?c(this,e).replace("$1",super.text()).trim():super.text().trim()}isPlain(){return this.name==="caption"||this.name==="alt"}getAttribute(a){return a==="invalid"?this.name==="invalid":a==="padding"?Math.max(0,c(this,e).indexOf("$1")):super.getAttribute(a)}lint(a=this.getAbsoluteIndex(),u){}getValue(){}print(){return c(this,e)?`<span class="wpb-image-parameter${this.name==="invalid"?" wpb-invalid":""}">${c(this,e).replace("$1",`<span class="wpb-image-caption">${We(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}},e=new WeakMap,t=new WeakSet,Nl=function(){},i),ws=W(vi),nt=O(ws,0,"ImageParameterToken",mi,nt),B(ws,1,nt)}}),bi,dr,Bn=m({"src/link/file.ts"(){"use strict";jt(),Il(),bi=e=>{if(e===void 0)return[];const t=/-\{|\}-|\|/gu,s=[];let r=t.exec(e),i=0,n=0;for(;r;){const{0:a,index:u}=r;a!=="|"?i+=a==="-{"?1:-1:i===0&&(s.push(e.slice(n,u)),{lastIndex:n}=t),r=t.exec(e)}return s.push(e.slice(n)),s},dr=class extends pe{get type(){return"file"}get extension(){}constructor(e,t,s,r=[],i="|"){super(e,void 0,s,r,i);const{extension:n}=this.getTitle(!0,!0);this.safeAppend(bi(t).map(a=>new nt(a,n,s,r)))}lint(e=this.getAbsoluteIndex(),t){}getAllArgs(){}getArgs(e){}getArg(e){}getValue(e){}json(e,t=this.getAbsoluteIndex()){}}}}),wi,_s,_i,Le,On=m({"src/link/galleryImage.ts"(){"use strict";var e,jn,s;oe(),fe(),E(),Bn(),wi=[ue("")],Le=(s=class extends(_i=dr){constructor(i,n,a,u,l=[]){let h;if(a!==void 0){const{length:o}=l;h=new N(a,u,l);for(let d=0;d<K-1;d++)h.parseOnce();l.splice(o,1)}super(n,h==null?void 0:h.firstChild.toString(),u,l);$(this,e);ne(this,"privateType","imagemap-image");this.setAttribute("bracket",!1),this.privateType=`${i}-image`,this.seal("privateType",!0)}get type(){return this.privateType}getTitle(i){const n=this.type==="imagemap-image";return this.normalizeTitle(this.firstChild.toString(),n?0:6,{halfParsed:!0,temporary:i,decode:!n,page:""})}lint(i=this.getAbsoluteIndex(),n){}getAttribute(i){return i==="invalid"?R(this,e,jn).call(this):super.getAttribute(i)}},e=new WeakSet,jn=function(){const{ns:i}=this.getAttribute("title");return i!==6},s),_s=W(_i),Le=O(_s,0,"GalleryImageToken",wi,Le),B(_s,1,Le)}}),Et,Wn=m({"src/nowiki/commentLine.ts"(){"use strict";Ue(),Et=class extends Z{}}}),qn={};q(qn,{GalleryToken:()=>Mn});var Mn,Fl=m({"src/multiLine/gallery.ts"(){"use strict";var e,Un,Ll,r;or(),On(),Wn(),Mn=(r=class extends Ut{constructor(n,a,u=[]){var l;super(void 0,a,u,{});$(this,e);for(const h of(l=n==null?void 0:n.split(`
`))!=null?l:[]){const o=/^([^|]+)(?:\|(.*))?/u.exec(h);if(!o){super.insertAt(h.trim()?new Et(h,a,u):h);continue}const[,d,x]=o;R(this,e,Un).call(this,d)?super.insertAt(new Le("gallery",d,x,a,u)):super.insertAt(new Et(h,a,u))}}get widths(){}get heights(){}lint(n=this.getAbsoluteIndex(),a){}json(n,a=this.getAbsoluteIndex()){}},e=new WeakSet,Un=function(n){return this.normalizeTitle(n,6,{halfParsed:!0,temporary:!0,decode:!0,page:""}).valid},Ll=function(n){},r)}}),pr,zn=m({"src/link/index.ts"(){"use strict";jt(),pr=class extends pe{get type(){return"link"}get innerText(){}lint(e=this.getAbsoluteIndex(),t){}}}}),Ai,yi,xt,cr=m({"src/magicLink.ts"(){"use strict";var e,t,Dn,r;H(),X(),E(),Ai=String.raw`(?:[${ye}\t]|&nbsp;|&#0*160;|&#[xX]0*[aA]0;)`,yi=new RegExp(`${Ai}+`,"gu"),xt=(r=class extends N{constructor(n,a="free-ext-link",u=D.getConfig(),l){super(n,u,l,{});$(this,t);$(this,e);k(this,e,a)}get type(){return c(this,e)}get innerText(){const n=new Map([["!","|"],["=","="]]);let a=Te(this.childNodes.map(u=>{const{type:l}=u,h=String(u.name);return l==="magic-word"&&n.has(h)?n.get(h):u}));return this.type==="magic-link"&&(a=a.replace(yi," ")),a}get link(){const{innerText:n}=this;return this.type==="magic-link"?n.startsWith("ISBN")?`ISBN ${n.slice(5).replace(/[- ]/gu,"").replace(/x$/u,"X")}`:n:an(n).replace(/\n/gu,"%0A")}lint(n=this.getAbsoluteIndex(),a){}getUrl(n){this.lspError("MagicLinkToken.getUrl")}getAttribute(n){return n==="invalid"?R(this,t,Dn).call(this):super.getAttribute(n)}},e=new WeakMap,t=new WeakSet,Dn=function(){if(this.type==="magic-link"){const{link:n}=this;if(n.startsWith("ISBN")){const a=[...n.slice(5)].map(u=>u==="X"?10:Number(u));return a.length===10?a.reduce((u,l,h)=>u+l*(10-h),0)%11!==0:a.length===13&&(a[12]===10||a.reduce((u,l,h)=>u+l*(h%2?3:1),0)%10!==0)}}return!1},r)}}),Ti,As,Si,Ee,Hn=m({"src/extLink.ts"(){"use strict";var e,t;oe(),fe(),E(),cr(),Ti=[ue("[")],Ee=(t=class extends(Si=N){constructor(r,i="",n="",a,u=[]){super(void 0,a,u,{});$(this,e);const l=r&&/^\0\d+f\x7F$/u.test(r)?u[Number(r.slice(1,-2))]:new xt(r,"ext-link-url",a,u);if(this.insertAt(l),k(this,e,i),n){const h=new N(n,a,u,{});h.type="ext-link-text",h.setAttribute("stage",K-1),this.insertAt(h)}}get type(){return"ext-link"}toString(r){return this.length===1?`[${super.toString(r)}${c(this,e)}]`:`[${super.toString(r,c(this,e))}]`}text(){return`[${super.text(" ")}]`}getGaps(){return c(this,e).length}lint(r=this.getAbsoluteIndex(),i){}print(){return super.print(this.length===1?{pre:"[",post:`${c(this,e)}]`}:{pre:"[",sep:c(this,e),post:"]"})}},e=new WeakMap,t),As=W(Si),Ee=O(As,0,"ExtLinkToken",Ti,Ee),B(As,1,Ee)}}),Ks,El=m({"src/imagemapLink.ts"(){"use strict";E(),Ue(),zn(),Hn(),Ks=class extends N{get type(){return"imagemap-link"}constructor(e,t,s,r,i=[]){super(void 0,r,i),this.append(e,t.length===2?new pr(...t,r,i):new Ee(...t,r,i),new Z(s,r,i))}}}}),Gn={};q(Gn,{ImagemapToken:()=>Vn});var Vn,Pl=m({"src/multiLine/imagemap.ts"(){"use strict";me(),X(),or(),Wn(),On(),El(),Vn=class extends Ut{get image(){return this.childNodes.find(wr("imagemap-image"))}constructor(e,t=D.getConfig(),s=[]){if(super(void 0,t,s,{}),!e)return;const r=e.split(`
`),i=new Set(t.protocol.split("|"));let n=!0,a=!1;for(const u of r){const l=u.trim();if(!(a||!l||l.startsWith("#"))){if(n){const h=u.indexOf("|"),o=h===-1?u:u.slice(0,h),{valid:d,ns:x}=this.normalizeTitle(o,0,{halfParsed:!0,temporary:!0,page:""});if(d&&x===6){const p=new Le("imagemap",o,h===-1?void 0:u.slice(h+1),t,s);super.insertAt(p),n=!1;continue}else a=!0}else if(u.trim().split(/[\t ]/u,1)[0]==="desc"){super.insertAt(u);continue}else if(u.includes("[")){const h=u.indexOf("["),o=u.slice(h),d=/^\[\[([^|]+)(?:\|([^\]]*))?\]\][\w\s]*$/u.exec(o);if(d){if(this.normalizeTitle(d[1],0,{halfParsed:!0,temporary:!0,selfLink:!0,page:""}).valid){super.insertAt(new Ks(u.slice(0,h),d.slice(1),o.slice(o.indexOf("]]")+2),t,s));continue}}else if(o.startsWith("[//")||i.has(o.slice(1,o.indexOf(":")+1))||i.has(o.slice(1,o.indexOf("//")+2))){const x=/^\[([^\]\s]+)(?:(\s+(?!\s))([^\]]*))?\][\w\s]*$/u.exec(o);if(x){super.insertAt(new Ks(u.slice(0,h),x.slice(1),o.slice(o.indexOf("]")+1),t,s));continue}}}}super.insertAt(new Et(u,t,s))}}lint(e=this.getAbsoluteIndex(),t){}getAttribute(e){return e==="invalid"?!this.image:super.getAttribute(e)}}}}),$i,ys,ki,Pe,Qn=m({"src/nowiki/comment.ts"(){"use strict";Se(),fe(),Ce(),$i=[ge(!1),ue("<!--")],Pe=class extends(ki=se){constructor(t,s,r,i){super(t,r,i);ne(this,"closed");this.closed=s}get type(){return"comment"}lint(t=this.getAbsoluteIndex()){}toString(t){return t?"":`<!--${this.innerText}${this.closed?"-->":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}},ys=W(ki),Pe=O(ys,0,"CommentToken",$i,Pe),B(ys,1,Pe)}}),Xn={};q(Xn,{CommentedToken:()=>Jn});var Jn,Rl=m({"src/commented.ts"(){"use strict";E(),Qn(),Jn=class extends N{get type(){return"ext-inner"}constructor(e,t,s=[]){if(super(void 0,t,s,{AstText:":",CommentToken:":"}),e){let r=e.indexOf("<!--"),i=r!==-1&&e.indexOf("-->",r+4),n=0;for(;i!==!1&&i!==-1;)r>n&&this.insertAt(e.slice(n,r)),this.insertAt(new Pe(e.slice(r+4,i),!0,t,s)),n=i+3,r=e.indexOf("<!--",n),i=r!==-1&&e.indexOf("-->",r+4);n<e.length&&this.insertAt(e.slice(n))}}lint(e=this.getAbsoluteIndex()){}}}}),Kn={};q(Kn,{NowikiToken:()=>Yn});var Ci,Yn,Bl=m({"src/nowiki/index.ts"(){"use strict";var e,Zn,s;Ce(),Ci=new Set(["languages","section","templatestyles"]),Yn=(s=class extends se{constructor(){super(...arguments);$(this,e)}get type(){return"ext-inner"}lint(i=this.getAbsoluteIndex()){}getAttribute(i){return i==="invalid"?R(this,e,Zn).call(this):super.getAttribute(i)}},e=new WeakSet,Zn=function(){const{name:i,firstChild:{data:n}}=this;return Ci.has(i)&&!!n},s)}}),Ii,Ts,Ni,Re,ea=m({"src/tagPair/ext.ts"(){"use strict";X(),ar(),E(),nr(),lr(),Ii=[qt()],Re=class extends(Ni=_e){get type(){return"ext"}constructor(e,t,s,r,i=D.getConfig(),n=!1,a=[]){const u=e.toLowerCase(),l=new Mt(!t||/^\s/u.test(t)?t:` ${t}`,"ext-attrs",u,i,a),h={...i,ext:i.ext.filter(d=>d!==u),excludes:[...i.excludes],inExt:!0};let o;switch(u){case"tab":h.ext=h.ext.filter(d=>d!=="tabs");case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"langconvert":case"phonos":u==="poem"&&h.excludes.push("heading"),o=new N(s,h,a);break;case"pre":{const{PreToken:d}=(wl(),j(An));o=new d(s,h,a);break}case"dynamicpagelist":{const{ParamTagToken:d}=($n(),j(Sn));o=new d(n,s,h,a);break}case"inputbox":{const{InputboxToken:d}=(kl(),j(Fn));o=new d(n,s,h,a);break}case"references":{const{NestedToken:d}=(bs(),j(Ft));h.excludes.push("heading"),o=new d(s,n,["ref"],h,a);break}case"choose":{const{NestedToken:d}=(bs(),j(Ft));o=new d(s,/<(option|choicetemplate)(\s[^>]*?)?(?:\/>|>([\s\S]*?)<\/(\1)>)/gu,["option","choicetemplate"],h,a);break}case"combobox":{const{NestedToken:d}=(bs(),j(Ft));o=new d(s,/<(combooption)(\s[^>]*?)?(?:\/>|>([\s\S]*?)<\/(combooption\s*)>)/giu,["combooption"],h,a);break}case"gallery":{const{GalleryToken:d}=(Fl(),j(qn));o=new d(s,h,a);break}case"imagemap":{const{ImagemapToken:d}=(Pl(),j(Gn));o=new d(s,h,a);break}case"hiero":{const{CommentedToken:d}=(Rl(),j(Xn));o=new d(s,h,a);break}default:{const{NowikiToken:d}=(Bl(),j(Kn));o=new d(s,h,a)}}o.setAttribute("name",u),o.type==="plain"&&(o.type="ext-inner"),super(e,l,o,r,i,a),this.seal("closed",!0)}lint(e=this.getAbsoluteIndex(),t){}},Ts=W(Ni),Re=O(Ts,0,"ExtToken",Ii,Re),B(Ts,1,Re)}}),gr,ta=m({"src/tag/index.ts"(){"use strict";var e,t,s,r;E(),gr=(r=class extends N{constructor(n,a,u,l,h){super(void 0,l,h);$(this,e);$(this,t);$(this,s);this.insertAt(a),k(this,e,u),k(this,t,n)}get closing(){return c(this,e)}toString(n){return`<${c(this,e)?"/":""}${c(this,t)}${super.toString(n)}${this.selfClosing?"/":""}>`}text(n=""){const{closing:a}=this;return`<${a&&!n?"/":""}${c(this,t)}${a?"":super.text()}${n}>`}getAttribute(n){return n==="padding"?c(this,t).length+(c(this,e)?2:1):super.getAttribute(n)}findMatchingTag(){}print(){return super.print({pre:`&lt;${c(this,e)?"/":""}${c(this,t)}`,post:`${this.selfClosing?"/":""}&gt;`})}json(n,a=this.getAbsoluteIndex()){}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r)}}),Fi,Ss,Li,ce,Ol=m({"src/tag/tvar.ts"(){"use strict";Se(),Q(),ta(),$e(),Fi=[ge(),V],ce=class extends(Li=gr){get type(){return"tvar"}constructor(e,t,s,r,i){const n=new xe(t,"tvar-name",r,i);super(e,n,s,r,i)}},Ss=W(Li),ce=O(Ss,0,"TvarToken",Fi,ce),B(Ss,1,ce)}}),sa={};q(sa,{TranslateToken:()=>ra});var ra,jl=m({"src/tagPair/translate.ts"(){"use strict";var e,ia,s;E(),nr(),$e(),Ol(),ra=(s=class extends _e{constructor(i,n,a,u=[]){const l=new xe(i,"translate-attr",a,u);n=n==null?void 0:n.replace(/<tvar(\|[^>]+)>([\s\S]*?)<\/>/gu,(o,d,x)=>(new ce("tvar",d,!1,a,u),new ce("","",!0,a,u),`\0${u.length-2}n${x}\0${u.length}n`)).replace(/<(tvar)(\s+name\s*=(?:\s*(?:(["'])[\s\S]*?\3|[^"'\s>]+))?\s*)>([\s\S]*?)<\/(tvar)(\s*)>/giu,(o,d,x,p,g,v,y)=>(new ce(d,x,!1,a,u),new ce(v,y,!0,a,u),`\0${u.length-2}n${g}\0${u.length}n`));const h=new N(n,a,u);h.type="translate-inner";super("translate",l,h,"translate",a,u);$(this,e);this.seal("closed",!0),this.seal("selfClosing",!0)}get type(){return"translate"}toString(i){return i?this.lastChild.toString(!0):super.toString()}text(){return this.lastChild.text()}print(){return`<span class="wpb-ext">&lt;translate${R(this,e,ia).call(this)?'<span class="wpb-ext-attrs"> <span class="wpb-ext-attr"><span class="wpb-attr-key">nowrap</span></span></span>':""}&gt;${this.lastChild.print({class:"ext-inner"})}&lt;/translate&gt;</span>`}},e=new WeakSet,ia=function(){return this.firstChild.toString()===" nowrap"},s)}}),na={};q(na,{parseCommentAndExt:()=>mt});var $s,Ei,Tt,Pi,ks,mt,Dt=m({"parser/commentAndExt.ts"(){"use strict";Rt(),H(),fl(),Ue(),ml(),ea(),Qn(),$s="<onlyinclude>",Ei="</onlyinclude>",{length:Tt}=$s,Pi=[!1,!0].map(e=>{const t=e?"includeonly":"(?:no|only)include",s=e?"noinclude":"includeonly";return dt(r=>new RegExp(String.raw`<!--[\s\S]*?(?:-->|$)|<${t}(?:\s[^>]*)?/?>|</${t}\s*>|<(${r})(\s[^>]*?)?(?:/>|>([\s\S]*?)</(${"\\1"}\s*)>)|<(${s})(\s[^>]*?)?(?:/>|>([\s\S]*?)(?:</(${s}\s*)>|$))`,"giu"))}),ks=e=>{const t=e.indexOf($s);return{i:t,j:e.indexOf(Ei,t+Tt)}},mt=(e,t,s,r)=>{if(r){let{i:l,j:h}=ks(e);if(l!==-1&&h!==-1){let o="";const d=x=>{new Z(x,t,s),o+=`\0${s.length-1}n`};for(;l!==-1&&h!==-1;){const x=`\0${s.length}g`;new tt(e.slice(l+Tt,h),t,s),l>0&&d(e.slice(0,l)),o+=x,e=e.slice(h+Tt+1),{i:l,j:h}=ks(e)}return e&&d(e),o}}const{ext:i}=t;let n=i,a=t;if(i.includes("translate")){const{TranslateToken:l}=(jl(),j(sa)),h=[];n=i.filter(o=>o!=="translate"&&o!=="tvar"),a={...t,ext:n},e=e.replace(/<nowiki>[\s\S]*?<\/nowiki>/giu,o=>(h.push(o),`\0${h.length-1}`)).replace(/<translate( nowrap)?>([\s\S]*?)<\/translate>/gu,(o,d,x)=>{const p=s.length;return new l(d,x&&Y(x,h),a,s),`\0${p}g`}),e=Y(e,h)}const u=Pi[r?1:0](n.join("|"));return u.lastIndex=0,u.test(e)?e.replace(u,(l,h,o,d,x,p,g,v,y)=>{const C=s.length;let b="n";if(h)b="e",new Re(h,o,d,x,a,p,s);else if(l.startsWith("<!--")){b="c";const T=l.endsWith("-->");new Pe(Y(l,s,1).slice(4,T?-3:void 0),T,t,s)}else p?new st(p,g&&Y(g,s,1),v&&Y(v,s,1),y,t,s):new Z(l,t,s,!0);return`\0${C}${b}`}):e}}}),Ri,Cs,Bi,at,Wl=m({"src/tag/html.ts"(){"use strict";var e,t;ar(),ta(),Ri=[qt()],at=(t=class extends(Bi=gr){constructor(r,i,n,a,u,l){super(r,i,n,u,l);$(this,e);this.setAttribute("name",r.toLowerCase()),k(this,e,a)}get type(){return"html"}get selfClosing(){return c(this,e)}text(){const{closing:r,selfClosing:i,name:n}=this,{html:[,,a]}=this.getAttribute("config");return a.includes(n)?r&&n!=="br"?"":super.text("/"):super.text(i&&!r?"/":"")}lint(r=this.getAbsoluteIndex(),i){}getAttribute(r){return r==="invalid"?this.inTableAttrs()===2:super.getAttribute(r)}json(r,i=this.getAbsoluteIndex()){}},e=new WeakMap,t),Cs=W(Bi),at=O(Cs,0,"HtmlToken",Ri,at),B(Cs,1,at)}}),aa={};q(aa,{parseHtml:()=>la});var Oi,la,ql=m({"parser/html.ts"(){"use strict";lr(),Wl(),Oi=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,la=(e,t,s)=>{var a;const{html:r}=t;(a=t.htmlElements)!=null||(t.htmlElements=new Set([...r[0],...r[1],...r[2]]));const i=e.split("<");let n=i.shift();for(const u of i){const l=Oi.exec(u),h=l==null?void 0:l[2],o=h==null?void 0:h.toLowerCase();if(!l||!t.htmlElements.has(o)){n+=`<${u}`;continue}const[,d,,x="",p,g]=l,{length:v}=s,y=new Mt(x,"html-attrs",o,t,s),C=y.hasAttr("itemprop");if(o==="meta"&&!(C&&y.hasAttr("content"))||o==="link"&&!(C&&y.hasAttr("href"))){n+=`<${u}`,s.length=v;continue}n+=`\0${s.length}x${g}`,new at(h,y,d==="/",p==="/>",t,s)}return n}}}),ji,Is,Wi,Be,oa=m({"src/table/base.ts"(){"use strict";ar(),E(),$e(),lr(),ji=[qt(1)],Be=class extends(Wi=N){constructor(e,t,s,r,i,n=[],a){super(void 0,i,n,a),this.append(new xe(t,"table-syntax",i,n),new Mt(r,"table-attrs",s,i,n))}escape(){}},Is=W(Wi),Be=O(Is,0,"TableBaseToken",ji,Be),B(Is,1,Be)}}),qi,Ns,ee,St,Je,Ke,Ys,Ml=m({"src/table/td.ts"(){"use strict";ir(),E(),oa(),Ys=class extends(Ns=Be,qi=[Ot(!1)],Ns){constructor(e,t,s,r=[]){var u;let i=/\||\0\d+!\x7F/u.exec(t!=null?t:""),n=i?t.slice(0,i.index):"";/\[\[|-\{/u.test(n)&&(i=null,n=""),super(/^(?:\n[^\S\n]*(?:[|!]|\|\+|\{\{\s*!\s*\}\}\+?)|(?:\||\{\{\s*!\s*\}\}){2}|!!|\{\{\s*!!\s*\}\})$/u,e,"td",n,s,r),B(St,5,this),de(this,Je),de(this,ee,""),i&&([al(this,ee)._]=i);const a=new N(t==null?void 0:t.slice(((u=i==null?void 0:i.index)!=null?u:NaN)+U(this,ee).length),s,r);a.type="td-inner",a.setAttribute("stage",4),this.insertAt(a)}get type(){return"td"}get rowspan(){}get colspan(){}get subtype(){return zs(this,Je,Ke).call(this).subtype}afterBuild(){U(this,ee).includes("\0")&&te(this,ee,this.buildFromStr(U(this,ee),0)),super.afterBuild()}toString(e){const{childNodes:[t,s,r]}=this;return t.toString(e)+s.toString(e)+U(this,ee)+r.toString(e)}text(){const{childNodes:[e,t,s]}=this;return e.text()+t.text()+U(this,ee)+s.text()}getGaps(e){return e===1?U(this,ee).length:0}lint(e=this.getAbsoluteIndex(),t){}isIndependent(){return this.firstChild.text().startsWith(`
`)}getAttr(e){}escape(){}print(){const{childNodes:[e,t,s]}=this;return`<span class="wpb-td">${e.print()}${t.print()}${U(this,ee)}${s.print()}</span>`}json(e,t=this.getAbsoluteIndex()){}},St=W(Ns),ee=new WeakMap,Je=new WeakSet,Ke=function(){var e;const t=this.firstChild.text(),s=t.slice(-1);let r="td";if(s==="!"?r="th":s==="+"&&(r="caption"),this.isIndependent())return{subtype:r};const{previousSibling:i}=this;return{...zs(e=i,Je,Ke).call(e)}},Ke=O(St,17,"#getSyntax",qi,Je,Ke),sr(St,Ys)}}),xr,ua=m({"src/table/trBase.ts"(){"use strict";oa(),xr=class extends Be{lint(e=this.getAbsoluteIndex(),t){}getRowCount(){}}}}),Mi,Fs,$t,Lt,Ul=m({"src/table/index.ts"(){"use strict";me(),ir(),ua(),$e(),Lt=class extends(Fs=xr,Mi=[Ot(!1)],Fs){constructor(e,t,s,r){super(/^(?:\{\||\{\{\{\s*!\s*\}\}|\{\{\s*\(!\s*\}\})$/u,e,"table",t,s,r,{}),B($t,5,this)}get type(){return"table"}get closed(){}lint(e=this.getAbsoluteIndex(),t){}close(e=`
|}`,t){ae.run(()=>{const s=new xe(t?e:void 0,"table-syntax",this.getAttribute("config"),this.getAttribute("accum"));super.insertAt(s)})}getLayout(e){}getAllRows(){}getNthRow(e,t,s){}json(e,t=this.getAbsoluteIndex()){}},$t=W(Fs),O($t,1,"getLayout",Mi,Lt),sr($t,Lt)}}),ha,zl=m({"src/table/tr.ts"(){"use strict";ua(),ha=class extends xr{get type(){return"tr"}constructor(e,t,s,r){super(/^\n[^\S\n]*(?:\|-+|\{\{\s*!\s*\}\}-+|\{\{\s*!-\s*\}\}-*)$/u,e,"tr",t,s,r)}}}}),fr,da=m({"src/nowiki/listBase.ts"(){"use strict";Ce(),fr=class extends se{get indent(){}json(e,t=this.getAbsoluteIndex()){}}}}),mr,pa=m({"src/nowiki/dd.ts"(){"use strict";da(),mr=class extends fr{get type(){return"dd"}}}}),ca={};q(ca,{parseTable:()=>ga});var Ui,Ls,ga,Dl=m({"parser/table.ts"(){"use strict";E(),Ul(),zl(),Ml(),pa(),Ui=e=>e.lastChild.constructor!==N,Ls=(e,t)=>e.is("td")?t.pop():e,ga=({firstChild:{data:e},type:t,name:s},r,i)=>{const n=[],a=e.split(`
`);let u=t==="root"||t==="parameter-value"||t==="ext-inner"&&s==="poem"?"":`
${a.shift()}`,l;const h=(o,d)=>{if(!d){u+=o;return}const{lastChild:x}=d;if(Ui(d)){const p=new N(o,r,i);p.type="table-inter",p.setAttribute("stage",3),d.insertAt(p)}else x.setText(x.toString()+o)};for(const o of a){l=n.pop();const[d]=/^(?:\s|\0\d+[cno]\x7F)*/u.exec(o),x=o.slice(d.length),p=/^(:*)((?:\s|\0\d+[cn]\x7F)*)(\{\||\{(?:\0\d+[cn]\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(x);if(p){for(;l&&!l.is("td");)l=n.pop();const[,T,w,I,F]=p;T&&new mr(T,r,i),h(`
${d}${T&&`\0${i.length-1}d`}${w}\0${i.length}b`,l),n.push(...l?[l]:[],new Lt(I,F,r,i));continue}else if(!l){u+=`
${o}`;continue}const g=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(x);if(!g){h(`
${o}`,l),n.push(l);continue}const[,v,y,C,b]=g;if(v){for(;!l.is("table");)l=n.pop();l.close(`
${d}${v}`,!0),h(b,n[n.length-1])}else if(y){l=Ls(l,n),l.is("tr")&&(l=n.pop());const T=new ha(`
${d}${y}`,b,r,i);n.push(l,T),l.insertAt(T)}else{l=Ls(l,n);const T=C==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let w=T.exec(b),I=0,F=`
${d}${C}`;const P=f=>{const A=new Ys(F,b.slice(I,w==null?void 0:w.index),r,i);return f.insertAt(A),A};for(;w;)P(l),{lastIndex:I}=T,[F]=w,w=T.exec(b);n.push(l,P(l))}}return u.slice(1)}}}),lt,Hl=m({"../cm-util/dist/index.mjs"(){"use strict";lt=e=>!/^＿{2}.+＿{2}$/u.test(e)}}),xa,Gl=m({"src/nowiki/hr.ts"(){"use strict";Ce(),xa=class extends se{get type(){return"hr"}}}}),zi,Es,Di,ot,Vl=m({"src/nowiki/doubleUnderscore.ts"(){"use strict";var e,t;Se(),fe(),Ce(),zi=[ge(),ue("__")],ot=(t=class extends(Di=se){constructor(r,i,n,a,u){var d,x;super(r,a,u);$(this,e);const l=r.toLowerCase(),{doubleUnderscore:[,,h,o]}=a;this.setAttribute("name",(x=i?(d=o==null?void 0:o[r])==null?void 0:d.toLowerCase():h==null?void 0:h[l])!=null?x:l),k(this,e,n)}get type(){return"double-underscore"}toString(){const r=c(this,e)?"＿＿":"__";return r+this.innerText+r}print(){const r=c(this,e)?"＿＿":"__";return super.print({pre:r,post:r})}},e=new WeakMap,t),Es=W(Di),ot=O(Es,0,"DoubleUnderscoreToken",zi,ot),B(Es,1,ot)}}),fa={};q(fa,{parseHrAndDoubleUnderscore:()=>ma});var ma,Ql=m({"parser/hrAndDoubleUnderscore.ts"(){"use strict";Hl(),Gl(),Vl(),kn(),ma=({firstChild:{data:e},type:t,name:s},r,i)=>{var h,o,d;const{doubleUnderscore:[n,a,u]}=r,l=[...n,...a];return(h=r.insensitiveDoubleUnderscore)!=null||(r.insensitiveDoubleUnderscore=new Set(n.filter(lt))),(o=r.sensitiveDoubleUnderscore)!=null||(r.sensitiveDoubleUnderscore=new Set(a.filter(lt))),(d=r.regexHrAndDoubleUnderscore)!=null||(r.regexHrAndDoubleUnderscore=new RegExp(String.raw`^((?:\0\d+[cno]\x7F)*)(-{4,})|__(${l.filter(lt).join("|")})__|＿{2}(${l.filter(x=>!lt(x)).map(x=>x.slice(2,-2)).join("|")})＿{2}`,"gimu")),t!=="root"&&(t!=="ext-inner"||s!=="poem")&&(e=`\0${e}`),e=e.replace(r.regexHrAndDoubleUnderscore,(x,p,g,v,y)=>{var I;if(g)return new xa(g,r,i),`${p}\0${i.length-1}r`;const C=v!=null?v:y,b=r.sensitiveDoubleUnderscore.has(C),T=C.toLowerCase(),w=r.insensitiveDoubleUnderscore.has(T);return b||w?(new ot(C,b,!!y,r,i),`\0${i.length-1}${w&&((I=u==null?void 0:u[T])!=null?I:T)==="toc"?"u":"n"}`):x}),r.excludes.includes("heading")||(e=e.replace(/^((?:\0\d+[cn]\x7F)*)(={1,6})(.+)\2((?:\s|\0\d+[cn]\x7F)*)$/gmu,(x,p,g,v,y)=>{const C=`${p}\0${i.length}h`;return new Ne(g.length,[v,y],r,i),C})),t==="root"||t==="ext-inner"&&s==="poem"?e:e.slice(1)}}}),va,Xl=m({"src/nowiki/quote.ts"(){"use strict";var e,t;Ce(),va=(t=class extends se{constructor(r,i,n,a){super(r,n,a);$(this,e);k(this,e,i)}get type(){return"quote"}get bold(){return this.innerText.length!==2}get italic(){return this.innerText.length!==3}get closing(){}text(){const{parentNode:r,innerText:i}=this;return r!=null&&r.is("image-parameter")&&r.name!=="caption"?"":i}lint(r=this.getAbsoluteIndex()){}json(r,i=this.getAbsoluteIndex()){}},e=new WeakMap,t)}}),ba={};q(ba,{parseQuotes:()=>vr});var vr,wa=m({"parser/quotes.ts"(){"use strict";Xl(),vr=(e,t,s,r)=>{var p;const i=e.split(/('{2,})/u),{length:n}=i;if(n===1)return e;let a=0,u=0,l,h,o;for(let g=1;g<n;g+=2){const v=i[g].length;switch(v){case 2:u++;break;case 4:i[g-1]+="'",i[g]="'''";case 3:if(a++,l!==void 0)break;i[g-1].endsWith(" ")?h===void 0&&o===void 0&&(o=g):i[g-1].slice(-2,-1)===" "?l=g:h!=null||(h=g);break;default:i[g-1]+="'".repeat(v-5),i[g]="'''''",u++,a++}}if(u%2===1&&a%2===1){const g=(p=l!=null?l:h)!=null?p:o;g!==void 0&&(i[g]="''",i[g-1]+="'")}let d=!1,x=!1;for(let g=1;g<n;g+=2){const v=i[g].length,y=v!==2,C=v!==3,b=new va(i[g],{bold:y&&!!d,italic:C&&!!x},t,s);y&&(d=!d&&b),C&&(x=!x&&b),i[g]=`\0${s.length-1}q`}return i.join("")}}}),_a={};q(_a,{parseExternalLinks:()=>br});var br,Aa=m({"parser/externalLinks.ts"(){"use strict";H(),Hn(),cr(),br=(e,t,s,r)=>{var i;return(i=t.regexExternalLinks)!=null||(t.regexExternalLinks=new RegExp(String.raw`\[((?:\0\d+[cn]\x7F)*(?:\0\d+f\x7F|(?:(?:${t.protocol}|//)${pt}|\0\d+m\x7F)${ct}(?=[[\]<>"\t${ye}]|\0\d)))([${ye}]*(?![${ye}]))([^\]\x01-\x08\x0A-\x1F\uFFFD]*)\]`,"giu")),e.replace(t.regexExternalLinks,(n,a,u,l)=>{const{length:h}=s,o=/&[lg]t;/u.exec(a);return o&&(u="",l=a.slice(o.index)+u+l,a=a.slice(0,o.index)),r?(new xt(a,"ext-link-url",t,s),`[\0${h}f${u}${l}]`):(new Ee(a,u,l,t,s),`\0${h}w`)})}}}),ya,Jl=m({"src/link/category.ts"(){"use strict";jt(),ya=class extends pe{get type(){return"category"}get sortkey(){}json(e,t=this.getAbsoluteIndex()){}}}}),Ta={};q(Ta,{parseLinks:()=>Zs});var Hi,Zs,Kl=m({"parser/links.ts"(){"use strict";H(),X(),wa(),Aa(),zn(),Bn(),Jl(),Hi=/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])+)(\||\0\d+!\x7F)([\s\S]*)$/u,Zs=(e,t,s,r,i)=>{var l;(l=t.regexLinks)!=null||(t.regexLinks=new RegExp(String.raw`^\s*(?:${t.protocol}|//)`,"iu"));const n=t.inExt?/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])+)(?:(\||\0\d+!\x7F)([\s\S]*?[^\]]))?\]\]([\s\S]*)$/u:/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])*)(?:(\||\0\d+!\x7F)([\s\S]*?[^\]])?)?\]\]([\s\S]*)$/u,a=e.split("[[");let u=a.shift();for(let h=0;h<a.length;h++){let o=!1,d,x,p,g;const v=a[h],y=n.exec(v);if(y)[,d,x,p,g]=y,g.startsWith("]")&&(p!=null&&p.includes("["))&&(p+="]",g=g.slice(1));else{const F=Hi.exec(v);F&&(o=!0,[,d,x,p]=F)}if(d===void 0||t.regexLinks.test(d)||/\0\d+[exhbru]\x7F/u.test(d)){u+=`[[${v}`;continue}let C=G(d).trim();const b=C.startsWith(":");if(b&&o){u+=`[[${v}`;continue}else!C&&p&&!p.includes(`
`)&&(C=G(p).trim());const{ns:T,valid:w}=D.normalizeTitle(C,0,!1,t,{halfParsed:!0,temporary:!0,decode:!0,selfLink:!0,page:r});if(w){if(o){if(T!==6){u+=`[[${v}`;continue}let F=!1;for(h++;h<a.length;h++){const P=a[h],f=P.split("]]");if(f.length>2){F=!0,p+=`[[${f[0]}]]${f[1]}`,g=f.slice(2).join("]]");break}else if(f.length===2)p+=`[[${f[0]}]]${f[1]}`;else{p+=`[[${P}`;break}}if(p=Zs(p,t,s,r,i),!F){u+=`[[${d}${x}${p}`;continue}}}else{u+=`[[${v}`;continue}p&&(p=vr(p,t,s,i));let I=pr;b||(T===6?(p&&(p=br(p,t,s,!0)),I=dr):T===14&&(I=ya)),p===void 0&&x&&(p=""),u+=`\0${s.length}l${g}`,new I(d,p,t,s,x)}return u}}}),Sa={};q(Sa,{parseMagicLinks:()=>$a});var Ps,Rs,Bs,Os,$a,Yl=m({"parser/magicLinks.ts"(){"use strict";H(),cr(),Ps=String.raw`[${ye}\t]|&nbsp;|&#0*160;|&#x0*a0;`,Rs=`(?:${Ps})+`,Bs=`(?:${Ps}|-)`,Os=String.raw`(?:RFC|PMID)${Rs}\d+\b|ISBN${Rs}(?:97[89]${Bs}?)?(?:\d${Bs}?){9}[\dx]\b`,$a=(e,t,s)=>{if(!t.regexMagicLinks)try{t.regexMagicLinks=new RegExp(String.raw`(^|[^\p{L}\p{N}_])(?:(?:${t.protocol})(${pt}${ct})|${Os})`,"giu")}catch{t.regexMagicLinks=new RegExp(String.raw`(^|\W)(?:(?:${t.protocol})(${pt}${ct})|${Os})`,"giu")}return e.replace(t.regexMagicLinks,(r,i,n)=>{let a=i?r.slice(i.length):r;if(n){let u="";const l=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(a);l&&(u=a.slice(l.index),a=a.slice(0,l.index));const h=a.includes("(")?/[^,;\\.:!?][,;\\.:!?]+$/u:/[^,;\\.:!?)][,;\\.:!?)]+$/u,o=h.exec(a);if(o){let d=1;o[0][1]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(a.slice(0,o.index))&&(d=2),u=a.slice(o.index+d)+u,a=a.slice(0,o.index+d)}return u.length>=n.length?r:(new xt(a,void 0,t,s),`${i}\0${s.length-1}w${u}`)}else if(!/^(?:RFC|PMID|ISBN)/u.test(a))return r;return new xt(a,"magic-link",t,s),`${i}\0${s.length-1}i`})}}}),ka,Zl=m({"util/html.ts"(){"use strict";ka=(e,t)=>e.startsWith(t)?t.length:[...t].findIndex((s,r)=>s!==e[r])}}),Ca,eo=m({"src/nowiki/list.ts"(){"use strict";da(),Ca=class extends fr{get type(){return"list"}lint(e=this.getAbsoluteIndex()){}}}}),Ia={};q(Ia,{parseList:()=>Na});var Na,to=m({"parser/list.ts"(){"use strict";Zl(),eo(),pa(),Na=(e,t,s,r)=>{const i=/^((?:\0\d+[cno]\x7F)*)([;:*#]+)(\s*)/u.exec(e);if(!i)return t.lastPrefix="",e;const[n,a,u,l]=i,h=u.replace(/;/gu,":"),o=ka(h,t.lastPrefix),d=((o>1?u.slice(o-1):u)+l).split(/(?=;)/u),x=d[0].startsWith(";");let p=d.length-(x?0:1);if(o>1){const _=u.slice(0,o-1);if(x){const S=_.split(/(?=;)/u);d.unshift(...S),p+=_.includes(";")?S.length:0}else d[0]=_+d[0]}t.lastPrefix=h;let g=a+d.map((_,S)=>`\0${r.length+S}d`).join("")+e.slice(n.length);for(const _ of d)new Ca(_,s,r);if(!p)return g;const{html:[v,,y]}=s,C=/:+|-\{|\0\d+[xq]\x7F/gu;let b=C,T=b.exec(g),w=0,I=!1,F=!1,P=0;const f=(_,S)=>(new mr(_,s,r),`${g.slice(0,S)}\0${r.length-1}d${g.slice(S+_.length)}`),A=_=>{_?w&&w--:w++};for(;T&&p;){const{0:_,index:S}=T;if(_==="-{"){if(!P){const{lastIndex:L}=b;b=/-\{|\}-/gu,b.lastIndex=L}P++}else if(_==="}-"){if(P--,!P){const{lastIndex:L}=b;b=C,b.lastIndex=L}}else if(_.endsWith("x")){const{name:L,closing:M,selfClosing:z}=r[Number(_.slice(1,-2))];(v.includes(L)||!z&&!y.includes(L))&&A(M)}else if(_.endsWith("q")){const{bold:L,italic:M}=r[Number(_.slice(1,-2))];L&&(A(I),I=!I),M&&(A(F),F=!F)}else if(w===0){if(_.length>=p)return f(_.slice(0,p),S);p-=_.length,b.lastIndex=S+4+String(r.length).length,g=f(_,S)}T=b.exec(g)}return g}}}),Gi,Vi,js,Qi,ut,so=m({"src/converterFlags.ts"(){"use strict";var e,t;Wt(),Q(),E(),ke(),Gi=new Set(["A","T","R","D","-","H","N"]),Vi=[ft(),V],ut=(t=class extends(Qi=N){constructor(r,i,n=[]){super(void 0,i,n,{});$(this,e);this.safeAppend(r.map(a=>new re(a,"converter-flag",i,n)))}get type(){return"converter-flags"}afterBuild(){k(this,e,this.childNodes.map(r=>r.text().trim())),super.afterBuild()}toString(r){return super.toString(r,";")}text(){return super.text(";")}getUnknownFlags(){return new Set(c(this,e).filter(r=>/\{{3}[^{}]+\}{3}/u.test(r)))}getVariantFlags(){const r=new Set(this.getAttribute("config").variants);return new Set(c(this,e).filter(i=>r.has(i)))}isInvalidFlag(r,i,n,a){return typeof r=="object"&&(r=r.text().trim(),i=this.getVariantFlags(),n=this.getUnknownFlags(),a=new Set(c(this,e).filter(u=>Gi.has(u)))),!!r&&!i.has(r)&&!n.has(r)&&(i.size>0||!a.has(r))}lint(r=this.getAbsoluteIndex(),i){}print(){return super.print({sep:";"})}},e=new WeakMap,t),js=W(Qi),ut=O(js,0,"ConverterFlagsToken",Vi,ut),B(js,1,ut)}}),kt,Xi,Ws,Ji,Ae,ro=m({"src/converterRule.ts"(){"use strict";oe(),Q(),X(),E(),ke(),kt=(e,t,s,r)=>{const i=new N(e,s,r);return i.type=`converter-rule-${t}`,i.setAttribute("stage",K),i},Xi=[V],Ae=class extends(Ji=N){get type(){return"converter-rule"}get variant(){}constructor(e,t=!0,s=D.getConfig(),r=[]){super(void 0,s,r,{});const i=e.indexOf(":"),n=e.slice(0,i).indexOf("=>"),a=n===-1?e.slice(0,i):e.slice(n+2,i);t&&s.variants.includes(a.trim().toLowerCase())?(super.insertAt(new re(a,"converter-rule-variant",s,r)),super.insertAt(kt(e.slice(i+1),"to",s,r)),n!==-1&&super.insertAt(kt(e.slice(0,n),"from",s,r),0)):super.insertAt(kt(e,"to",s,r))}toString(e){const{childNodes:t,firstChild:s,lastChild:r}=this;return t.length===3?`${s.toString(e)}=>${t[1].toString(e)}:${r.toString(e)}`:super.toString(e,":")}text(){const{childNodes:e,firstChild:t,lastChild:s}=this;return e.length===3?`${t.text()}=>${e[1].text()}:${s.text()}`:super.text(":")}getGaps(e){return e===0&&this.length===3?2:1}print(){const{childNodes:e}=this;if(e.length===3){const[t,s,r]=e;return`<span class="wpb-converter-rule">${t.print()}=>${s.print()}:${r.print()}</span>`}return super.print({sep:":"})}json(e,t=this.getAbsoluteIndex()){}},Ws=W(Ji),Ae=O(Ws,0,"ConverterRuleToken",Xi,Ae),B(Ws,1,Ae)}}),Ki,qs,Yi,ht,io=m({"src/converter.ts"(){"use strict";H(),fe(),Q(),E(),so(),ro(),Ki=[V,ue("-{")],ht=class extends(Yi=N){get type(){return"converter"}constructor(e,t,s,r=[]){super(void 0,s,r),this.insertAt(new ut(e,s,r));const[i]=t,n=i.includes(":"),a=new Ae(i,n,s,r);(n?a.length===1:t.length===2&&!G(t[1]).trim())?this.insertAt(new Ae(t.join(";"),!1,s,r)):this.safeAppend([a,...t.slice(1).map(u=>new Ae(u,!0,s,r))])}toString(e){const{childNodes:[t,...s]}=this;return`-{${t.toString(e)}${t.length>0?"|":""}${s.map(r=>r.toString(e)).join(";")}}-`}text(){const{childNodes:[e,...t]}=this;return`-{${e.text()}|${Te(t,";")}}-`}getGaps(e){return e||this.firstChild.length>0?1:0}print(){const{childNodes:[e,...t]}=this;return`<span class="wpb-converter">-{${e.print()}${e.length>0?"|":""}${We(t,{sep:";"})}}-</span>`}},qs=W(Yi),ht=O(qs,0,"ConverterToken",Ki,ht),B(qs,1,ht)}}),Fa={};q(Fa,{parseConverter:()=>La});var La,no=m({"parser/converter.ts"(){"use strict";io(),La=(e,t,s)=>{var l;(l=t.regexConverter)!=null||(t.regexConverter=new RegExp(String.raw`;(?=(?:[^;]*?=>)?\s*(?:${t.variants.join("|")})\s*:|(?:\s|\0\d+[cn]\x7F)*$)`,"iu"));const r=/-\{/gu,i=/-\{|\}-/gu,n=[];let a=r,u=a.exec(e);for(;u;){const{0:h,index:o}=u;if(h==="}-"){const d=n.pop(),{length:x}=s,p=e.slice(d.index+2,o),g=p.indexOf("|"),[v,y]=g===-1?[[],p]:[p.slice(0,g).split(";"),p.slice(g+1)],C=y.replace(/(&[#a-z\d]+);/giu,"$1"),b=C.split(t.regexConverter).map(T=>T.replace(/\x01/gu,";"));new ht(v,b,t,s),e=`${e.slice(0,d.index)}\0${x}v${e.slice(o+2)}`,n.length===0&&(a=r),a.lastIndex=d.index+3+String(x).length}else n.push(u),a=i,a.lastIndex=o+2;u=a.exec(e)}return e}}}),Pt={};q(Pt,{Token:()=>N});var N,E=m({"src/index.ts"(){"use strict";var e,t,s,r,i,n,a,u,l,Ea,Pa,Ra,Ba,Oa,ja,Wa,qa,Ma,Ua,za,Da,I;H(),oe(),Bt(),me(),X(),dl(),pl(),N=(I=class extends Ze{constructor(f,A=D.getConfig(),_=[],S){super();$(this,l);$(this,e,"plain");$(this,t,0);$(this,s);$(this,r);$(this,i);$(this,n,!1);$(this,a);$(this,u);typeof f=="string"&&this.insertAt(f),k(this,s,A),k(this,r,_),_.push(this)}get type(){return c(this,e)}set type(f){k(this,e,f)}get pageName(){return c(this.getRootNode(),u)}set pageName(f){if(f){const A=this.normalizeTitle(f,0,{temporary:!0,page:""});k(this,u,A.valid?A.title:void 0)}else k(this,u,f===""?"":void 0)}parseOnce(f=c(this,t),A=!1,_){if(f<c(this,t)||this.length!==1||!this.isPlain())return this;if(c(this,t)>=K)return this;switch(f){case 0:if(this.type==="root"){c(this,r).pop();const S=R(this,l,Ea).call(this);A&&(A=!S)}k(this,i,A),R(this,l,Pa).call(this,A);break;case 1:R(this,l,Ra).call(this);break;case 2:R(this,l,Ba).call(this);break;case 3:R(this,l,Oa).call(this);break;case 4:R(this,l,ja).call(this);break;case 5:R(this,l,Wa).call(this,_);break;case 6:R(this,l,qa).call(this,_);break;case 7:R(this,l,Ma).call(this);break;case 8:R(this,l,Ua).call(this);break;case 9:R(this,l,za).call(this);break;case 10:R(this,l,Da).call(this)}if(this.type==="root")for(const S of c(this,r))S==null||S.parseOnce(f,A,_);return Tr(this,t)._++,this}buildFromStr(f,A){const _=f.split(/[\0\x7F]/u).map((S,L)=>{if(L%2===0)return S&&new Vs(S);if(isNaN(S.slice(-1)))return c(this,r)[Number(S.slice(0,-1))];throw new Error(`Failed to build! Unrecognized token: ${S}`)}).filter(S=>S!=="");return A===0?_.map(String).join(""):A===1?Te(_):_}build(){k(this,t,K);const{length:f,firstChild:A}=this,_=A==null?void 0:A.toString();if(f===1&&A.type==="text"&&_.includes("\0")&&(_r(this,0,1,this.buildFromStr(_)),this.type==="root"))for(const S of c(this,r))S==null||S.build()}afterBuild(){if(this.type==="root")for(const f of c(this,r))f==null||f.afterBuild();k(this,n,!0)}parse(f=K,A,_){for(f=Math.min(f,K);c(this,t)<f;)this.parseOnce(c(this,t),A,_);return f&&(this.build(),this.afterBuild()),this}isPlain(){return this.constructor===I}getAttribute(f){var A;switch(f){case"config":return c(this,s);case"include":return(A=c(this,i))!=null?A:!!c(this.getRootNode(),i);case"accum":return c(this,r);case"built":return c(this,n);case"stage":return c(this,t);case"invalid":return this.type==="table-inter"&&It(this)===2;default:return super.getAttribute(f)}}setAttribute(f,A){switch(f){case"stage":c(this,t)===0&&this.type==="root"&&c(this,r).shift(),k(this,t,A);break;default:super.setAttribute(f,A)}}insertAt(f,A=this.length){const _=typeof f=="string"?new Vs(f):f;super.insertAt(_,A);const{type:S}=_;return S==="root"&&(_.type="plain"),_}normalizeTitle(f,A=0,_){return D.normalizeTitle(f,A,this.getAttribute("include"),c(this,s),{page:this.pageName,..._})}inTableAttrs(){var f;return this.isInside("table-attrs")&&((f=this.closest("table-attrs,arg,parameter"))!=null&&f.is("table-attrs")?2:1)}inHtmlAttrs(){return this.isInside("html-attrs")?2:this.inTableAttrs()}lint(f=this.getAbsoluteIndex(),A){}toString(f,A){return f?super.toString(!0,A):Oe(c(this,a),()=>super.toString(!1,A),_=>{const S=this.getRootNode();S.type==="root"&&c(S,n)&&k(this,a,_)})}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,l=new WeakSet,Ea=function(){const{parseRedirect:f}=(xl(),j(xn)),A=this.firstChild.toString(),_=f(A,c(this,s),c(this,r));return _&&this.setText(_),!!_},Pa=function(f){const{parseCommentAndExt:A}=(Dt(),j(na));this.setText(A(this.firstChild.toString(),c(this,s),c(this,r),f))},Ra=function(){const{parseBraces:f}=(hr(),j(Nn)),A=this.type==="root"?this.firstChild.toString():`\0${this.firstChild.toString()}`,_=f(A,c(this,s),c(this,r));this.setText(this.type==="root"?_:_.slice(1))},Ba=function(){if(c(this,s).excludes.includes("html"))return;const{parseHtml:f}=(ql(),j(aa));this.setText(f(this.firstChild.toString(),c(this,s),c(this,r)))},Oa=function(){if(c(this,s).excludes.includes("table"))return;const{parseTable:f}=(Dl(),j(ca));this.setText(f(this,c(this,s),c(this,r)))},ja=function(){if(c(this,s).excludes.includes("hr"))return;const{parseHrAndDoubleUnderscore:f}=(Ql(),j(fa));this.setText(f(this,c(this,s),c(this,r)))},Wa=function(f){const{parseLinks:A}=(Kl(),j(Ta));this.setText(A(this.firstChild.toString(),c(this,s),c(this,r),this.pageName,f))},qa=function(f){if(c(this,s).excludes.includes("quote"))return;const{parseQuotes:A}=(wa(),j(ba)),_=this.firstChild.toString().split(`
`);for(let S=0;S<_.length;S++)_[S]=A(_[S],c(this,s),c(this,r),f);this.setText(_.join(`
`))},Ma=function(){if(c(this,s).excludes.includes("extLink"))return;const{parseExternalLinks:f}=(Aa(),j(_a));this.setText(f(this.firstChild.toString(),c(this,s),c(this,r)))},Ua=function(){if(c(this,s).excludes.includes("magicLink"))return;const{parseMagicLinks:f}=(Yl(),j(Sa));this.setText(f(this.firstChild.toString(),c(this,s),c(this,r)))},za=function(){if(c(this,s).excludes.includes("list"))return;const{parseList:f}=(to(),j(Ia)),{firstChild:A,type:_,name:S}=this,L=A.toString().split(`
`),M={lastPrefix:""};let z=_==="root"||_==="ext-inner"&&S==="poem"?0:1;for(;z<L.length;z++)L[z]=f(L[z],M,c(this,s),c(this,r));this.setText(L.join(`
`))},Da=function(){if(c(this,s).variants.length>0){const{parseConverter:f}=(no(),j(Fa));this.setText(f(this.firstChild.toString(),c(this,s),c(this,r)))}},I)}}),ae,wr,_r,Ha,me=m({"util/debug.ts"(){"use strict";ae={running:!1,run(e,t){const{running:s}=this;this.running=!0;const r=t==null?void 0:t.internal;t&&(t.internal=!0);const i=()=>{this.running=s,t&&(t.internal=r)};try{const{Token:n}=(E(),j(Pt)),a=e();return a instanceof n&&!a.getAttribute("built")&&a.afterBuild(),i(),a}catch(n){throw i(),n}},internal(e,t){const{internal:s}=t;t.internal=!0;const r=e();return t.internal=s,r},rev:0},wr=e=>t=>t.type===e,_r=(e,t,s,r=[])=>{var a,u;let i=e.getChildNodes(),n;i.length===s?(n=i,i=r):n=Array.prototype.splice.apply(i,[t,s,...r]);for(let l=0;l<r.length;l++){const h=r[l];h.setAttribute("parentNode",e),h.setAttribute("nextSibling",i[t+l+1]),h.setAttribute("previousSibling",i[t+l-1])}return(a=i[t-1])==null||a.setAttribute("nextSibling",i[t]),(u=i[t+r.length])==null||u.setAttribute("previousSibling",i[t+r.length-1]),i===r&&e.setAttribute("childNodes",i),n},Ha=(e,t)=>{const s=e.toLowerCase(),[r,i]=t,n=Object.prototype.hasOwnProperty.call(i,e);return[s,n,n?i[e]:Object.prototype.hasOwnProperty.call(r,s)&&r[s]]}}}),Ms,er,ao=m({"lib/title.ts"(){"use strict";var e,t,s,r,i,n,Ga,u;Rt(),H(),Ms=l=>{const[,{length:h},o]=/^((?:\.\.\/)*)([\s\S]*)/u.exec(l);return[h/3,o]},er=(u=class{constructor(l,h,o,{temporary:d,decode:x,selfLink:p,page:g}={}){$(this,n);$(this,e);$(this,t);$(this,s);$(this,r);$(this,i);ne(this,"page");ne(this,"valid");ne(this,"encoded",!1);this.page=g;const v=l.trim(),y=v.startsWith("../");if(x&&l.includes("%"))try{const w=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(l);l=Gs(l),this.encoded=w}catch{}if(l=Ds(l).replace(/[_ ]+/gu," ").trim(),y||g&&v.startsWith("/"))k(this,r,0);else{let w=h;l.startsWith(":")&&(w=0,l=l.slice(1).trim());const I=l.split(":");if(I.length>1){const F=je(I[0]),P=Object.prototype.hasOwnProperty.call(o.nsid,F)&&o.nsid[F];P&&(w=P,l=I.slice(1).join(":").trim())}k(this,r,w)}const C=l.indexOf("#");if(C!==-1){let w=l.slice(C).trim().slice(1);if(w.includes("%"))try{w=Gs(w)}catch{}k(this,i,w.replace(/ /gu,"_")),l=l.slice(0,C).trim()}const[b,T]=y?Ms(l):[0,l];this.valid=!!(l||p&&this.ns===0&&c(this,i)!==void 0)&&Ds(l)===l&&(b===0||g===void 0||g.split("/",b+1).length>b)&&!/^:|\0\d+[eh!+-]\x7F|[<>[\]{}|\n]|%[\da-f]{2}|(?:^|\/)\.{1,2}(?:$|\/)/iu.test(T),this.main=l,k(this,t,o.namespaces),k(this,s,o.articlePath||"/wiki/$1"),c(this,s).includes("$1")||k(this,s,c(this,s)+`${c(this,s).endsWith("/")?"":"/"}$1`),d||Object.defineProperties(this,{encoded:{enumerable:!1,writable:!1}})}get ns(){return c(this,r)}get fragment(){return c(this,i)}get main(){return c(this,e)}set main(l){l=l.replace(/_/gu," ").trim(),k(this,e,l&&l[0].toUpperCase()+l.slice(1))}get prefix(){const l=c(this,t)[this.ns];return l+(l&&":")}get title(){return this.getRedirection()[1]}get extension(){const{main:l}=this,h=l.lastIndexOf(".");return h===-1?void 0:l.slice(h+1).toLowerCase()}getRedirection(){const{prefix:l}=this,h=l;return R(this,n,Ga).call(this,h)}setFragment(l){k(this,i,l)}getUrl(l){throw new Error("Title.getUrl method is only available in the LSP version!")}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,i=new WeakMap,n=new WeakSet,Ga=function(l){var o,d;let h=(l+this.main).replace(/ /gu,"_");if(h.startsWith("/"))h=((o=this.page)!=null?o:"")+h.replace(/(.)\/$/u,"$1");else if(h.startsWith("../")&&((d=this.page)!=null&&d.includes("/"))){const[x,p]=Ms(h),g=this.page.split("/");g.length>x&&(h=g.slice(0,-x).join("/")+(p&&"/")+p)}return[!1,h]},u)}}),Va={};q(Va,{default:()=>D});Qa.exports=j(Va);var Ct,be,Us,Zi,D,X=m({"index.ts"(){me(),oe(),H(),ao(),Ct=!0,be={config:Hs,get rules(){},get i18n(){},set i18n(e){},get lintConfig(){},set lintConfig(e){},get viewOnly(){return Ct},set viewOnly(e){Ct&&!e&&ae.rev++,Ct=e},internal:!1,getConfig(e){const t=e!=null?e:this.config,{doubleUnderscore:s,ext:r,parserFunction:i,variable:n}=t;for(let a=0;a<2;a++)s.length>a+2&&s[a].length===0&&(s[a]=Object.keys(s[a+2]));return r.includes("translate")&&!n.includes("translationlanguage")&&(n.push("translationlanguage"),i[1].TRANSLATIONLANGUAGE="translationlanguage"),{...Hs,...t,excludes:[]}},msg(e,t=""){},normalizeTitle(e,t=0,s,r=be.getConfig(),i){let n;if(i!=null&&i.halfParsed)n=new er(e,t,r,i);else{const{Token:a}=(E(),j(Pt));n=ae.run(()=>{const u=new a(e,r);u.type="root",u.pageName=i==null?void 0:i.page,u.parseOnce(0,s).parseOnce();const l=new er(u.firstChild.toString(),t,r,i);u.build();for(const h of["main","fragment"]){const o=l[h];if(o!=null&&o.includes("\0")){const d=u.buildFromStr(o,1);h==="main"?l.main=d:l.setFragment(d)}}return l},be)}return n},parse(e,t,s,r,i){e=nn(e);let n,a,u,l;typeof t=="string"?(n=!!s,a=r,u=i,l=t):(n=!!t,a=s,u=r,l=i),a!=null||(a=K),u!=null||(u=this.getConfig());let h;const{Token:o}=(E(),j(Pt));return ae.run(()=>{const x=new o(e,u);return x.type="root",x.pageName=l,x.parse(a,n)})},parseWithRef(e,t,s,r=t.getAttribute("include")){return this.parse(e,r,s,t.getAttribute("config"),t.pageName)},createLanguageService(e={}){},lint(e,t,s){},print(e,t,s){return ae.internal(()=>this.parse(e,t,void 0,s).print(),this)}},Us={},Zi=new Set(["lintConfig","normalizeTitle","parse","createLanguageService"]);for(const e of Object.keys(be))Zi.has(e)||(Us[e]={enumerable:!1});Object.defineProperties(be,Us),Object.assign(typeof globalThis=="object"?globalThis:self,{Parser:be}),D=be}});X()});lo();})();
//# sourceMappingURL=bundle.min.js.map
