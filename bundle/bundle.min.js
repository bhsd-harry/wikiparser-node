(()=>{var $t=Object.defineProperty;var Tt=(W,D,X)=>D in W?$t(W,D,{enumerable:!0,configurable:!0,writable:!0,value:X}):W[D]=X;var P=(W,D,X)=>(Tt(W,typeof D!="symbol"?D+"":D,X),X),st=(W,D,X)=>{if(!D.has(W))throw TypeError("Cannot "+X)};var f=(W,D,X)=>(st(W,D,"read from private field"),X?X.call(W):D.get(W)),z=(W,D,X)=>{if(D.has(W))throw TypeError("Cannot add the same private member more than once");D instanceof WeakSet?D.add(W):D.set(W,X)},M=(W,D,X,tt)=>(st(W,D,"write to private field"),tt?tt.call(W,X):D.set(W,X),X),nt=(W,D,X,tt)=>({set _(T){M(W,D,T,X)},get _(){return f(W,D,tt)}}),J=(W,D,X)=>(st(W,D,"access private method"),X);(()=>{"use strict";var W={6010:(T,F,e)=>{const c={config:void 0,minConfig:e(8166),i18n:void 0,MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config,excludes:[]}},msg(d,u){var n,i;return d=(i=(n=this.i18n)==null?void 0:n[d])!=null?i:d,d.replace("$1",u)},normalizeTitle(d,u=0,n=!1,i=c.getConfig(),s=!1,t=!1,l=!1){let r;if(!s){const h=e(8138);r=this.run(()=>{const g=new h(String(d),i),$=g.getAttribute("parseOnce");return $(0,n),$()}),d=r.firstChild}const o=e(6986);return new o(String(d),u,i,t,l)},parse(d,u,n=c.MAX_STAGE,i=c.getConfig()){if(typeof d!="string")throw new TypeError("\u5F85\u89E3\u6790\u7684\u5185\u5BB9\u5E94\u4E3A String\uFF01");const s=e(8138);let t;return this.run(()=>{t=new s(d,i);try{t.parse(n,u)}catch(l){}}),t},run(d){return d()}},x={},A=new Set(["MAX_STAGE","minConfig"]),y=new Set(["config","normalizeTitle","parse"]);for(const d in c)A.has(d)?x[d]={enumerable:!1,writable:!1}:y.has(d)||(x[d]={enumerable:!1});Object.defineProperties(c,x),typeof self=="object"&&(self.Parser=c),T.exports=c},9205:(T,F,e)=>{const{print:c}=e(231),x=e(3853),A=e(7507),y=new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"]);class d extends x{constructor(){super(...arguments);P(this,"name")}get length(){return this.childNodes.length}closest(i){const s=new Set(i.split(",").map(l=>l.trim()));let{parentNode:t}=this;for(;t;){if(s.has(t.type))return t;({parentNode:t}=t)}}append(...i){for(const s of i)this.insertAt(s)}replaceChildren(...i){this.childNodes.length=0,this.append(...i)}setText(i,s=0){const t=this.childNodes[s],{type:l,data:r}=t;if(l==="text")return t.replaceData(i),r}toString(i,s=""){return this.childNodes.map(t=>t.toString()).join(s)}lint(i=0){const s=e(8058);if(this instanceof s||this.constructor.hidden||this.type==="ext-inner"&&y.has(this.name))return[];const t=[];for(let l=0,r=i+this.getPadding();l<this.length;l++){const o=this.childNodes[l];t.push(...o.lint(r)),r+=String(o).length+this.getGaps(l)}return t}print(i={}){return String(this)?`<span class="wpb-${i.class||this.type}">${c(this.childNodes,i)}</span>`:""}}T.exports=d},3853:(T,F,e)=>{var A,y,it;const{text:c}=e(231);class x{constructor(){z(this,y);P(this,"type");P(this,"childNodes",[]);z(this,A,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return f(this,A)}get nextSibling(){var i;const n=(i=f(this,A))==null?void 0:i.childNodes;return n&&n[n.indexOf(this)+1]}get previousSibling(){var i;const n=(i=f(this,A))==null?void 0:i.childNodes;return n&&n[n.indexOf(this)-1]}hasAttribute(n){const i=typeof n;return i==="string"||i==="number"||i==="symbol"?n in this:!1}getAttribute(n){return this.hasAttribute(n)?String(this[n]):void 0}setAttribute(n,i){return n==="parentNode"?M(this,A,i):this[n]=i,this}text(n=""){return c(this.childNodes,n)}removeAt(n){const{childNodes:i}=this,[s]=i.splice(n,1);return s}insertAt(n,i=this.childNodes.length){const{childNodes:s}=this;return-1===-1&&n.setAttribute("parentNode",this),s.splice(i,0,n),n}normalize(){var s;const n=e(7507),{childNodes:i}=this;for(let t=i.length-1;t>=0;t--){const{type:l,data:r}=i[t];this.getGaps(t-1)||(r===""?i.splice(t,1):l==="text"&&((s=i[t-1])==null?void 0:s.type)==="text"&&(i[t-1].setAttribute("data",i[t-1].data+r),i.splice(t,1)))}}getRootNode(){let{parentNode:n}=this;for(;n!=null&&n.parentNode;)({parentNode:n}=n);return n!=null?n:this}posFromIndex(n){const i=String(this);if(n>=-i.length&&n<=i.length){const s=i.slice(0,n).split(`
`);return{top:s.length-1,left:s[s.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(n){let i;const s=(t,l)=>i.slice(0,t).reduce((r,o,a)=>r+String(o).length+l.getGaps(a),0)+l.getPadding();if(n===void 0){const{parentNode:t}=this;return t?({childNodes:i}=t,s(i.indexOf(this),t)):0}return{childNodes:i}=this,s(n,this)}get offsetHeight(){return J(this,y,it).call(this).height}get offsetWidth(){return J(this,y,it).call(this).width}}A=new WeakMap,y=new WeakSet,it=function(){const n=String(this).split(`
`);return{height:n.length,width:n[n.length-1].length}},T.exports=x},7507:(T,F,e)=>{var i,rt;const c=e(6010),x=e(3853),A=e(9205),y=/https?:|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)(?=[\s/>])/giu,d=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)(?=[\s/>])/giu,u=["html","head","style","title","body","a","audio","img","video","embed","iframe","object","canvas","script","col","colgroup","tbody","tfoot","thead","button","input","label","option","select","textarea"];class n extends x{constructor(r=""){super();z(this,i);P(this,"type","text");P(this,"data");this.data=r}toString(){return this.data}text(){return this.data}lint(r){var k;const{data:o,parentNode:a}=this,h=a==null?void 0:a.type,g=a==null?void 0:a.name,$=["itemtype","src","srcset"].includes((k=a==null?void 0:a.parentNode)==null?void 0:k.name),m=h==="free-ext-link"||h==="ext-link-url"||h==="image-parameter"&&g==="link"?d:y,S=[],{ext:p,html:w}=this.getRootNode().getAttribute("config");if(o.search(m)!==-1){m.lastIndex=0;const C=this.getRootNode(),{top:b,left:v}=C.posFromIndex(r),E=new Set([p,w,u].flat(2));for(let G=m.exec(o);G;G=m.exec(o)){const[,L,R]=G;let{0:O,index:U}=G;L&&(U+=L.length,O=O.slice(L.length));const j=r+U,B=o.slice(0,U).split(`
`),V=B.length+b-1,K=B[B.length-1],Q=B.length>1?K.length:v+K.length,{0:q,length:Y}=O,N=j+Y;let I=Y>1?"error":"warning";if(q==="h")switch(h){case"ext-link-text":I="warning";break;case"attr-value":if($)continue;break;case"ext-inner":if(g==="sm2"||g==="flashmp3")continue}else if(q==="<"&&!E.has(R.toLowerCase()))continue;S.push({message:c.msg('lonely "$1"',q==="h"?O:q),severity:I,startIndex:j,endIndex:N,startLine:V,endLine:V,startCol:Q,endCol:Q+Y})}}return S}replaceData(r=""){J(this,i,rt).call(this,r)}}i=new WeakSet,rt=function(r){r=String(r),this.setAttribute("data",r)},T.exports=n},6986:(T,F,e)=>{const{decodeHtml:c}=e(231),x=e(6010);class A{constructor(d,u=0,n=x.getConfig(),i=!1,s=!1){P(this,"valid",!0);P(this,"ns",0);P(this,"fragment");P(this,"encoded",!1);const{namespaces:t,nsid:l}=n;let r=t[u];if(d=c(d),i&&d.includes("%"))try{const g=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(d);d=decodeURIComponent(d),this.encoded=g}catch(g){}d=d.replace(/_/gu," ").trim(),d[0]===":"&&(r="",d=d.slice(1).trim());const o=d.split(":");if(o.length>1){const g=t[l[o[0].trim().toLowerCase()]];g!==void 0&&(r=g,d=o.slice(1).join(":").trim())}this.ns=l[r.toLowerCase()];const a=d.indexOf("#");let h;a!==-1&&(h=d.slice(a+1).trim(),d=d.slice(0,a).trim()),this.valid=Boolean(d||s&&h!==void 0)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]|%[\da-f]{2}/iu.test(d),this.fragment=h}}T.exports=A},2308:T=>{const F=e=>{var c;return c=class extends e{text(){return""}},P(c,"hidden",!0),c};T.exports=F},8275:(T,F,e)=>{const{removeComment:c}=e(231),x=e(6010),A=e(9450),y=e(1782),d=e(9544),u=(n,i=x.getConfig(),s=[])=>{var S,p,w,k,C;const t=`${i.excludes.includes("heading")?"":"^(\0\\d+c\x7F)*={1,6}|"}\\[\\[|\\{{2,}|-\\{(?!\\{)`,{parserFunction:[,,,l]}=i,r=[],o={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},a={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let h=new RegExp(t,"gmu"),g=h.exec(n),$=n.includes("}}"),m;for(;g||m<=n.length&&((p=(S=r[r.length-1])==null?void 0:S[0])==null?void 0:p[0])==="=";){if(g!=null&&g[1]){const[,{length:V}]=g;g[0]=g[0].slice(V),g.index+=V}const{0:b,index:v}=g!=null?g:{0:`
`,index:n.length},E=(w=r.pop())!=null?w:{},{0:G,index:L,parts:R,findEqual:O,pos:U}=E,j=b==="="&&O;if(b==="]]"||b==="}-")m=v+2;else if(b===`
`){m=v+1;const{pos:V,findEqual:K}=(k=r[r.length-1])!=null?k:{};if(!V||K||c(n.slice(V,L))!==""){const Q=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(n.slice(L,v));Q&&(n=`${n.slice(0,L)}\0${s.length}h\x7F${n.slice(v)}`,m=L+4+String(s.length).length,new A(Q[1].length,Q.slice(2),i,s))}}else if(b==="|"||j)m=v+1,R[R.length-1].push(n.slice(U,v)),b==="|"&&R.push([]),E.pos=m,E.findEqual=b==="|",r.push(E);else if(b.startsWith("}}")){const V=b.slice(0,Math.min(G.length,3)),K=G.length-V.length,{length:Q}=s;m=v+V.length,R[R.length-1].push(n.slice(U,v));let q=!1,Y="t";if(V.length===3){const N=R.map(H=>H.join("=")),I=N.length>1&&c(N[1]).trim();new d(N,i,s),I&&I.endsWith(":")&&l.includes(I.slice(0,-1).toLowerCase())&&(Y="s")}else{const N=c(R[0][0]).trim();N in a?Y=a[N]:/^(?:filepath|(?:full|canonical)urle?):.|^server$/iu.test(N)?Y="m":/^#vardefine:./iu.test(N)&&(Y="c");try{new y(R[0][0],R.slice(1),i,s)}catch(I){if(I instanceof Error&&I.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))m=L+G.length,q=!0;else throw I}}q||(n=`${n.slice(0,L+K)}\0${Q}${Y}\x7F${n.slice(m)}`,m=L+K+3+String(Q).length,K>1?r.push({0:G.slice(0,K),index:L,pos:L+K,parts:[[]]}):K===1&&n[L-1]==="-"&&r.push({0:"-{",index:L-1,pos:L+1,parts:[[]]}))}else m=v+b.length,b[0]==="{"&&(g.pos=m,g.parts=[[]]),r.push(..."0"in E?[E]:[],g);$&&($=n.slice(m).includes("}}"));let B=r[r.length-1];!$&&((C=B==null?void 0:B[0])==null?void 0:C[0])==="{"&&(r.pop(),B=r[r.length-1]),h=new RegExp(t+(B?`|${o[B[0][0]]}${B.findEqual?"|=":""}`:""),"gmu"),h.lastIndex=m,g=h.exec(n)}return n};T.exports=u},4907:(T,F,e)=>{const c=e(6010),x=e(851),A=e(3423),y=e(8655),d=e(7267),u=e(5749),n=(i,s=c.getConfig(),t=[],l=!1)=>{const r=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(l&&i.search(r)!==-1)return i.replace(r,($,m)=>{const S=`\0${t.length}e\x7F`;return new x(m,s,t),S}).replace(/(^|\0\d+e\x7F)([^\0]+)(?=$|\0\d+e\x7F)/gu,($,m,S)=>(new A(S,s,t),`${m}\0${t.length-1}c\x7F`));const o=s.ext.join("|"),a=l?"includeonly":"(?:no|only)include",h=l?"noinclude":"includeonly",g=new RegExp(`<!--.*?(?:-->|$)|<${a}(?:\\s[^>]*?)?>|</${a}\\s*>|<(${o})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${h})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return i.replace(g,($,m,S,p,w,k,C,b,v)=>{const E=`\0${t.length}${m?"e":"c"}\x7F`;if(m)new d(m,S,p,w,s,t);else if($.startsWith("<!--")){const G=$.endsWith("-->");new u($.slice(4,G?-3:void 0),G,s,t)}else k?new y(k,C,b,v,s,t):new A($,s,t);return E})};T.exports=n},3765:(T,F,e)=>{const c=e(6010),x=e(9910),A=(y,d=c.getConfig(),u=[])=>{const n=/-\{/gu,i=/-\{|\}-/gu,s=[];let t=n,l=t.exec(y);for(;l;){const{0:r,index:o}=l;if(r==="}-"){const a=s.pop(),{length:h}=u,g=y.slice(a.index+2,o),$=g.indexOf("|"),[m,S]=$===-1?[[],g]:[g.slice(0,$).split(";"),g.slice($+1)],p=S.replace(/(&[#a-z\d]+);/giu,"$1"),w=`(?:${d.variants.join("|")})`,k=p.split(new RegExp(`;(?=\\s*(?:${w}|[^;]*?=>\\s*${w})\\s*:)`,"u")).map(C=>C.replace(/\x01/gu,";"));new x(m,k,d,u),y=`${y.slice(0,a.index)}\0${h}v\x7F${y.slice(o+2)}`,s.length===0&&(t=n),t.lastIndex=a.index+3+String(h).length}else s.push(l),t=i,t.lastIndex=o+2;l=t.exec(y)}return y};T.exports=A},7513:(T,F,e)=>{const{extUrlChar:c,extUrlCharFirst:x}=e(231),A=e(6010),y=e(741),d=(u,n=A.getConfig(),i=[])=>{const s=new RegExp(`\\[((?:(?:${n.protocol}|//)${x}|\0\\d+m\x7F)${c})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return u.replace(s,(t,l,r,o)=>{const{length:a}=i,h=/&[lg]t;/u.exec(l);return h&&(l=l.slice(0,h.index),r="",o=`${l.slice(h.index)}${r}${o}`),new y(l,r,o,n,i),`\0${a}w\x7F`})};T.exports=d},2937:(T,F,e)=>{const c=e(6010),x=e(7507),A=e(8138),y=e(2582),d=e(7815),u=({firstChild:{data:n},type:i,name:s},t=c.getConfig(),l=[])=>{const{doubleUnderscore:r}=t,o=new Set(r[0]),a=new Set(r[1]);return i!=="root"&&(i!=="ext-inner"||s!=="poem")&&(n=`\0${n}`),n=n.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(h,g,$)=>(new y($.length,t,l),`${g}\0${l.length-1}r\x7F`)).replace(new RegExp(`__(${r.flat().join("|")})__`,"giu"),(h,g)=>o.has(g.toLowerCase())||a.has(g)?(new d(g,t,l),`\0${l.length-1}u\x7F`):h),i==="root"||i==="ext-inner"&&s==="poem"?n:n.slice(1)};T.exports=u},5130:(T,F,e)=>{const c=e(6010),x=e(5649),A=e(2350),y=(d,u=c.getConfig(),n=[])=>{const i=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,s=new Set(u.html.flat()),t=d.split("<");let l=t.shift();for(const r of t){const o=i.exec(r),a=o==null?void 0:o[2],h=a==null?void 0:a.toLowerCase();if(!o||!s.has(h)){l+=`<${r}`;continue}const[,g,,$="",m,S]=o,p=new x($,"html-attrs",h,u,n),w=p.getAttr("itemprop");if(h==="meta"&&(w===void 0||p.getAttr("content")===void 0)||h==="link"&&(w===void 0||p.getAttr("href")===void 0)){l+=`<${r}`,n.pop();continue}l+=`\0${n.length}x\x7F${S}`,new A(a,p,g==="/",m==="/>",u,n)}return l};T.exports=y},1452:(T,F,e)=>{const c=e(6010),x=e(3905),A=e(7625),y=e(337),d=(u,n=c.getConfig(),i=[])=>{const s=e(3360),t=n.inExt?/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su:/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]])?)?\]\](.*)$/su,l=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,r=new RegExp(`^\\s*(?:${n.protocol})`,"iu"),o=u.split("[[");let a=o.shift();for(let h=0;h<o.length;h++){let g,$,m,S,p;const w=o[h],k=t.exec(w);if(k)[,$,m,S,p]=k,p[0]==="]"&&(S==null?void 0:S.includes("["))&&(S+="]",p=p.slice(1));else{const L=l.exec(w);L&&(g=!0,[,$,m,S]=L)}if($===void 0||r.test($)||/\0\d+[exhbru]\x7F/u.test($)){a+=`[[${w}`;continue}const C=$.trim()[0]===":";if(C&&g){a+=`[[${w}`;continue}const b=c.normalizeTitle($,0,!1,n,!0,!0,!0),{ns:v,valid:E}=b;if(E){if(g){if(v!==6){a+=`[[${w}`;continue}let L;for(h++;h<o.length;h++){const R=o[h],O=R.split("]]");if(O.length>2){L=!0,S+=`[[${O[0]}]]${O[1]}`,p=O.slice(2).join("]]");break}else if(O.length===2)S+=`[[${O[0]}]]${O[1]}`;else{S+=`[[${R}`;break}}if(S=d(S,n,i),!L){a+=`[[${$}${m}${S}`;continue}}}else{a+=`[[${w}`;continue}S&&(S=s(S,n,i)),a+=`\0${i.length}l\x7F${p}`;let G=x;C||(v===6?G=A:v===14&&(G=y)),S===void 0&&m&&(S=""),new G($,S,n,i,m)}return a};T.exports=d},6622:(T,F,e)=>{const c=e(6010),x=e(962),A=e(3434),y=(d,u=c.getConfig(),n=[])=>{const i=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(d);if(!i)return d;const[s,t,l]=i;d=`${t}\0${n.length}d\x7F${d.slice(s.length)}`,new x(l,u,n);let r=l.split(";").length-1;if(!r)return d;let o=/:+|-\{/gu,a=o.exec(d),h=0;for(;a&&r;){const{0:g,index:$}=a;if(g[0]===":"){if(g.length>=r)return new A(":".repeat(r),u,n),`${d.slice(0,$)}\0${n.length-1}d\x7F${d.slice($+r)}`;d=`${d.slice(0,$)}\0${n.length}d\x7F${d.slice(o.lastIndex)}`,r-=g.length,o.lastIndex=$+4+String(n.length).length,new A(g,u,n)}else if(g==="-{"){if(!h){const{lastIndex:m}=o;o=/-\{|\}-/gu,o.lastIndex=m}h++}else if(h--,!h){const{lastIndex:m}=o;o=/:+|-\{/gu,o.lastIndex=m}a=o.exec(d)}return d};T.exports=y},4737:(T,F,e)=>{const{extUrlChar:c,extUrlCharFirst:x}=e(231),A=e(6010),y=e(8962),d=(u,n=A.getConfig(),i=[])=>{const s=new RegExp(`(^|[^\\p{L}\\d_])(?:${n.protocol})(${x}${c})`,"giu");return u.replace(s,(t,l,r)=>{let o="",a=l?t.slice(1):t;const h=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(a);h&&(o=a.slice(h.index),a=a.slice(0,h.index));const g=new RegExp(`[,;.:!?${a.includes("(")?"":")"}]+$`,"u"),$=g.exec(a);if($){let m=0;$[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(a.slice(0,$.index))&&(m=1),o=`${a.slice($.index+m)}${o}`,a=a.slice(0,$.index+m)}return o.length>=r.length?t:(new y(a,!1,n,i),`${l}\0${i.length-1}w\x7F${o}`)})};T.exports=d},3360:(T,F,e)=>{const c=e(6010),x=e(6714),A=(y,d=c.getConfig(),u=[])=>{var a;const n=y.split(/('{2,})/u),{length:i}=n;if(i===1)return y;let s=0,t=0,l,r,o;for(let h=1;h<i;h+=2){const{length:g}=n[h];switch(g){case 2:t++;break;case 4:n[h-1]+="'",n[h]="'''";case 3:if(s++,l)break;n[h-1].endsWith(" ")?!r&&!o&&(o=h):n[h-1].slice(-2,-1)===" "?l=h:r||(r=h);break;default:n[h-1]+="'".repeat(g-5),n[h]="'''''",t++,s++}}if(t%2===1&&s%2===1){const h=(a=l!=null?l:r)!=null?a:o;n[h]="''",n[h-1]+="'"}for(let h=1;h<i;h+=2)new x(n[h].length,d,u),n[h]=`\0${u.length-1}q\x7F`;return n.join("")};T.exports=A},4624:(T,F,e)=>{const c=e(6010),x=e(7507),A=e(8138),y=e(2840),d=e(3125),u=e(5567),n=e(3434),i=({firstChild:{data:s},type:t,name:l},r=c.getConfig(),o=[])=>{const a=[],h=s.split(`
`);let g=t==="root"||t==="parameter-value"||t==="ext-inner"&&l==="poem"?"":`
${h.shift()}`;const $=(m,S)=>{if(!S){g+=m;return}const{lastChild:p}=S;if(p.constructor===A)p.setText(String(p)+m);else{const w=new A(m,r,!0,o);w.type="table-inter",S.insertAt(w.setAttribute("stage",3))}};for(const m of h){let S=a.pop();const[p]=/^(?:\s|\0\d+c\x7F)*/u.exec(m),w=m.slice(p.length),k=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{(?:\0\d+c\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(w);if(k){for(;S&&S.type!=="td";)S=a.pop();const[,L,R,O,U]=k;L&&new n(L,r,o),$(`
${p}${L&&`\0${o.length-1}d\x7F`}${R}\0${o.length}b\x7F`,S);const j=new y(O,U,r,o);a.push(...S?[S]:[],j);continue}else if(!S){g+=`
${m}`;continue}const C=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(w);if(!C){$(`
${m}`,S),a.push(...S?[S]:[]);continue}const[,b,v,E,G]=C;if(b){for(;!(S instanceof y);)S=a.pop();S.close(`
${p}${b}`,!0),$(G,a[a.length-1])}else if(v){S.type==="td"&&(S=a.pop()),S.type==="tr"&&(S=a.pop());const L=new d(`
${p}${v}`,G,r,o);a.push(S,L),S.insertAt(L)}else{S.type==="td"&&(S=a.pop());const L=E==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let R=L.exec(G),O=0,U=`
${p}${E}`;for(;R;){const B=new u(U,G.slice(O,R.index),r,o);S.insertAt(B),{lastIndex:O}=L,[U]=R,R=L.exec(G)}const j=new u(U,G.slice(O),r,o);a.push(S,j),S.insertAt(j)}}return g.slice(1)};T.exports=i},9544:(T,F,e)=>{const{text:c}=e(231),{generateForSelf:x,generateForChild:A}=e(8277),y=e(6010),d=e(8138);class u extends d{constructor(s,t=y.getConfig(),l=[]){super(void 0,t,!0,l,{});P(this,"type","arg");for(let r=0;r<s.length;r++)if(r===0||r>1){const o=e(r===0?9237:9263),a=new o(s[r],r===0?"arg-name":void 0,t,l,{});super.insertAt(a)}else{const o=new d(s[r],t,!0,l);o.type="arg-default",super.insertAt(o.setAttribute("stage",2))}}get default(){var s,t;return(t=(s=this.childNodes[1])==null?void 0:s.text())!=null?t:!1}toString(s){return`{{{${super.toString(s,"|")}}}}`}text(){return`{{{${c(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}lint(s){if(!this.getAttribute("include"))return[x(this,{start:s},"unexpected template argument")];const{childNodes:[t,l,...r]}=this,o=t.lint(s+3);if(l&&o.push(...l.lint(s+4+String(t).length)),r.length>0){const a={start:s,...this.getRootNode().posFromIndex(s)};o.push(...r.map(h=>{const g=A(h,a,"invisible content inside triple brackets"),{startIndex:$,startCol:m}=g;return{...g,startIndex:$-1,startCol:m-1}}))}return o}}T.exports=u},9263:(T,F,e)=>{const c=e(2308),x=e(9237);class A extends c(x){constructor(){super(...arguments);P(this,"type","hidden")}}T.exports=A},9237:(T,F,e)=>{const c=e(6010),x=e(8138);class A extends x{constructor(u,n,i=c.getConfig(),s=[],t=void 0){super(u,i,!0,s,t);P(this,"type","plain");n&&(this.type=n)}}T.exports=A},5037:(T,F,e)=>{var m,S,p;const{generateForChild:c}=e(8277),{removeComment:x}=e(231),A=e(6010),y=e(8138),d=e(9237),u=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),n=new Set(["align"]),i=new Set(["cite"]),s=new Set(["cite","datetime"]),t=new Set(["width"]),l=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),r=new Set(["type"]),o={div:n,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,blockquote:i,q:i,p:n,br:new Set(["clear"]),pre:t,ins:s,del:s,ul:r,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:n,tr:new Set(["bgcolor","align","valign"]),td:l,th:l,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:t,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline","align"])},a=new Set,h={nowiki:a,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:a,inputbox:a,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:a,poll:new Set(["id","show-results-before-voting"]),sm2:r,flashmp3:r,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},g=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class $ extends y{constructor(C,b,v,E="",G="",L=[],R=A.getConfig(),O=[]){const U=new d(v,"attr-key",R,O,{});let j;if(v==="title")j=new y(G,R,!0,O,{}).setAttribute("type","attr-value").setAttribute("stage",A.MAX_STAGE-1);else if(b==="gallery"&&v==="caption"){const B={...R,excludes:[...R.excludes,"quote","extLink","magicLink","list"]};j=new y(G,B,!0,O,{}).setAttribute("type","attr-value").setAttribute("stage",5)}else if(b==="choose"&&(v==="before"||v==="after")){const B={...R,excludes:[...R.excludes,"heading","html","table","hr","list"]};j=new y(G,B,!0,O,{}).setAttribute("type","attr-value").setAttribute("stage",1)}else j=new d(G,"attr-value",R,O,{});super(void 0,R,!0,O);z(this,m,void 0);z(this,S,void 0);z(this,p,void 0);this.type=C,this.append(U,j),M(this,m,E),M(this,S,L),M(this,p,b),this.setAttribute("name",x(v).trim().toLowerCase())}get balanced(){return!f(this,m)||f(this,S)[0]===f(this,S)[1]}get value(){return this.getValue()}get tag(){return f(this,p)}afterBuild(){f(this,m).includes("\0")&&M(this,m,this.getAttribute("buildFromStr")(f(this,m),"string")),this.parentNode&&M(this,p,this.parentNode.name),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(C){const[b="",v=""]=f(this,S);return f(this,m)?`${super.toString(C,`${f(this,m)}${b}`)}${v}`:this.firstChild.toString(C)}text(){return f(this,m)?`${super.text(`${f(this,m).trim()}"`)}"`:this.firstChild.text()}getGaps(){var C,b;return f(this,m)?f(this,m).length+((b=(C=f(this,S)[0])==null?void 0:C.length)!=null?b:0):0}print(){const[C="",b=""]=f(this,S);return f(this,m)?super.print({sep:`${f(this,m)}${C}`,post:b}):super.print()}lint(C){var V;const b=super.lint(C),{balanced:v,firstChild:E,lastChild:G,type:L,name:R,parentNode:O,value:U}=this,j=O==null?void 0:O.name;let B;if(!v){const K=this.getRootNode();B={start:C,...K.posFromIndex(C)};const Q=c(G,B,"unclosed quotes","warning"),q=Q.startIndex-1,Y=Q.startCol-1;b.push({...Q,startIndex:q,startCol:Y})}return!/\{\{[^{]+\}\}/u.test(R)&&(L==="ext-attr"&&!(j in o)&&h[j]&&!h[j].has(R)||(L==="html-attr"||L==="table-attr"||j in o)&&!((V=o[j])!=null&&V.has(R))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(R)&&(j==="meta"||j==="link"||!u.has(R)))?(B||(B={start:C,...this.getRootNode().posFromIndex(C)}),b.push(c(E,B,"illegal attribute name"))):R==="style"&&typeof U=="string"&&g.test(U)&&(B||(B={start:C,...this.getRootNode().posFromIndex(C)}),b.push(c(G,B,"insecure style"))),b}getValue(){if(f(this,m)){const C=this.lastChild.text();return f(this,S)[1]?C:C.trim()}return!0}}m=new WeakMap,S=new WeakMap,p=new WeakMap,T.exports=$},5649:(T,F,e)=>{const{generateForSelf:c,generateForChild:x}=e(8277),{removeComment:A}=e(231),y=e(6010),d=e(8138),u=e(9237),n=e(5037);class i extends d{constructor(t,l,r,o=y.getConfig(),a=[]){if(super(void 0,o,!0,a,{}),this.type=l,this.setAttribute("name",r),t){const h=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let g="",$=h.exec(t),m=0;const S=()=>{g&&(super.insertAt(new u(g,`${l.slice(0,-1)}-dirty`,o,a,{})),g="")};for(;$;){const{index:p,0:w,1:k,2:C,3:b,4:v,5:E,6:G}=$;if(g+=t.slice(m,p),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(A(k).trim())){const L=v!=null?v:G,R=[b,E],O=new n(l.slice(0,-1),r,k,C,L,R,o,a);S(),super.insertAt(O)}else g+=w;({lastIndex:m}=h),$=h.exec(t)}g+=t.slice(m),S()}}afterBuild(){var l,r;const t=e(5567);this.type==="table-attrs"&&this.setAttribute("name",((l=this.parentNode)==null?void 0:l.subtype)==="caption"?"caption":(r=this.parentNode)==null?void 0:r.type)}getAttrTokens(t){return this.childNodes.filter(l=>l instanceof n&&l.name===t.toLowerCase().trim())}getAttrToken(t){const l=this.getAttrTokens(t);return l[l.length-1]}getAttr(t){var l;return(l=this.getAttrToken(t))==null?void 0:l.getValue()}lint(t){const l=e(2350),r=super.lint(t),{parentNode:{closing:o},length:a,childNodes:h}=this,g={},$=new Set;let m;o&&this.text().trim()&&(m={start:t,...this.getRootNode().posFromIndex(t)},r.push(c(this,m,"attributes of a closing tag")));for(let S=0;S<a;S++){const p=h[S];if(p instanceof u&&p.text().trim())m||(m={start:t,...this.getRootNode().posFromIndex(t)}),r.push(x(p,m,"containing invalid attribute"));else if(p instanceof n){const{name:w}=p;w in g?($.add(w),g[w].push(p)):w!=="class"&&(g[w]=[p])}}if($.size>0){m||(m={start:t,...this.getRootNode().posFromIndex(t)});for(const S of $)r.push(...g[S].map(p=>x(p,m,y.msg("duplicated $1 attribute",S))))}return r}print(){const t=e(2350);return String(this)?`<span class="wpb-${this.type}">${this.childNodes.map(l=>l.print({class:l instanceof u&&l.text().trim()&&"hidden"})).join("")}</span>`:""}}T.exports=i},9910:(T,F,e)=>{const{text:c,print:x}=e(231),A=e(6010),y=e(8138),d=e(6719),u=e(8683);class n extends y{constructor(t,l,r=A.getConfig(),o=[]){super(void 0,r,!0,o);P(this,"type","converter");this.append(new d(t,r,o));const[a]=l,h=a.includes(":"),g=new u(a,h,r,o);h&&g.length===1?this.insertAt(new u(l.join(";"),!1,r,o)):this.append(g,...l.slice(1).map($=>new u($,!0,r,o)))}toString(t){const{childNodes:[l,...r]}=this;return`-{${l.toString()}${l.length>0?"|":""}${r.map(String).join(";")}}-`}text(){const{childNodes:[t,...l]}=this;return`-{${t.text()}|${c(l,";")}}-`}getPadding(){return 2}getGaps(t=0){return t=t<0?t+this.length:t,t||this.firstChild.length>0?1:0}print(){const{childNodes:[t,...l]}=this;return`<span class="wpb-converter">-{${t.print()}${t.length>0?"|":""}${x(l,{sep:";"})}}-</span>`}}T.exports=n},6719:(T,F,e)=>{var n;const{generateForChild:c}=e(8277),x=e(6010),A=e(8138),y=e(9237),d=new Set(["A","T","R","D","-","H","N"]);class u extends A{constructor(t,l=x.getConfig(),r=[]){super(void 0,l,!0,r,{});P(this,"type","converter-flags");z(this,n,void 0);this.append(...t.map(o=>new y(o,"converter-flag",l,r)))}afterBuild(){M(this,n,this.childNodes.map(t=>t.text().trim()))}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t){const l=this.getVariantFlags(),r=this.getUnknownFlags(),o=new Set(f(this,n).filter(p=>d.has(p))),{length:a}=f(this,n).filter(p=>!p),h=f(this,n).length-r.size-a,g=super.lint(t);if(l.size===h||o.size===h)return g;const $={start:t,...this.getRootNode().posFromIndex(t)},{childNodes:m,length:S}=this;for(let p=0;p<S;p++){const w=m[p],k=w.text().trim();if(k&&!l.has(k)&&!r.has(k)&&(l.size>0||!o.has(k))){const C=c(w,$,"invalid conversion flag");g.push(C)}}return g}getUnknownFlags(){return new Set(f(this,n).filter(t=>/\{{3}[^{}]+\}{3}/u.test(t)))}getVariantFlags(){const t=new Set(this.getAttribute("config").variants);return new Set(f(this,n).filter(l=>t.has(l)))}}n=new WeakMap,T.exports=u},8683:(T,F,e)=>{const c=e(6010),x=e(8138),A=e(9237);class y extends x{constructor(n,i=!0,s=c.getConfig(),t=[]){super(void 0,s,!0,t);P(this,"type","converter-rule");if(i){const l=n.indexOf(":"),r=n.slice(0,l).indexOf("=>"),o=r===-1?n.slice(0,l):n.slice(r+2,l),{variants:a}=s;a.includes(o.trim())?(super.insertAt(new A(o,"converter-rule-variant",s,t)),super.insertAt(new A(n.slice(l+1),"converter-rule-to",s,t)),r!==-1&&super.insertAt(new A(n.slice(0,r),"converter-rule-from",s,t),0)):super.insertAt(new A(n,"converter-rule-noconvert",s,t))}else super.insertAt(new A(n,"converter-rule-noconvert",s,t))}toString(n){if(this.length===3){const{childNodes:[i,s,t]}=this;return`${i.toString(n)}=>${s.toString(n)}:${t.toString(n)}`}return super.toString(n,":")}text(){if(this.length===3){const{childNodes:[n,i,s]}=this;return`${n.text()}=>${i.text()}:${s.text()}`}return super.text(":")}getGaps(n=0){const{length:i}=this;return n=n<0?n+i:n,n===0&&i===3?2:1}print(){if(this.length===3){const{childNodes:[n,i,s]}=this;return`<span class="wpb-converter-rule">${n.print()}=>${i.print()}:${s.print()}</span>`}return super.print({sep:":"})}}T.exports=y},741:(T,F,e)=>{var d;const c=e(6010),x=e(8138),A=e(8962);class y extends x{constructor(i,s="",t="",l=c.getConfig(),r=[]){super(void 0,l,!0,r,{});P(this,"type","ext-link");z(this,d,void 0);if(this.insertAt(new A(i,!0,l,r)),M(this,d,s),t){const o=new x(t,l,!0,r,{});o.type="ext-link-text",this.insertAt(o.setAttribute("stage",c.MAX_STAGE-1))}}toString(i){return this.length===1?`[${super.toString(i)}${f(this,d)}]`:`[${super.toString(i,f(this,d))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return f(this,d).length}print(){const{length:i}=this;return super.print(i>1?{pre:"[",sep:f(this,d),post:"]"}:{pre:"[",post:`${f(this,d)}]`})}}d=new WeakMap,T.exports=y},1891:(T,F,e)=>{const c=e(6010),x=e(8138),A=e(1031),y=e(9263);class d extends x{constructor(i,s=c.getConfig(),t=[]){var r;super(void 0,s,!0,t,{});P(this,"type","ext-inner");P(this,"name","gallery");const l={...s,img:{...s.img}};for(const[o,a]of Object.entries(s.img))a==="width"&&delete l.img[o];for(const o of(r=i==null?void 0:i.split(`
`))!=null?r:[]){const a=/^([^|]+)(?:\|(.*))?/u.exec(o);if(!a){super.insertAt(o.trim()?new y(o,void 0,l,[],{}):o);continue}const[,h,g]=a;this.normalizeTitle(h,6,!0,!0).valid?super.insertAt(new A(h,g,l,t)):super.insertAt(new y(o,void 0,l,[],{}))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i){const{top:s,left:t}=this.getRootNode().posFromIndex(i),l=[];for(let r=0,o=i;r<this.length;r++){const a=this.childNodes[r],h=String(a),{length:g}=h,$=h.trim(),m=s+r,S=r?0:t;a.type==="hidden"&&$&&!/^<!--.*-->$/u.test($)?l.push({message:c.msg("invalid content in <$1>","gallery"),severity:"error",startIndex:o,endIndex:o+g,startLine:m,endLine:m,startCol:S,endCol:S+g}):a.type!=="hidden"&&a.type!=="text"&&l.push(...a.lint(o)),o+=g+1}return l}}T.exports=d},2158:(T,F,e)=>{const c=e(6010),x=e(8138),A=e(3423);class y extends x{constructor(u,n,i=c.getConfig(),s=[]){u=u.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(t,l,r,o)=>(new A(l,i,s),new A(o,i,s),`\0${s.length-1}c\x7F${r}\0${s.length}c\x7F`)),super(u,i,!0,s,{}),this.type=n}}T.exports=y},428:(T,F,e)=>{const c=e(6010),x=e(2158);class A extends x{constructor(u,n=c.getConfig(),i=[]){super(u,"ext-inner",n,i);P(this,"name","pre");this.setAttribute("stage",c.MAX_STAGE-1)}isPlain(){return!0}}T.exports=A},9450:(T,F,e)=>{const{generateForSelf:c}=e(8277),x=e(6010),A=e(8138),y=e(8058);class d extends A{constructor(i,s,t=x.getConfig(),l=[]){super(void 0,t,!0,l);P(this,"type","heading");this.setAttribute("name",String(i));const r=new A(s[0],t,!0,l);r.type="heading-title",r.setAttribute("stage",2);const o=new y(s[1],/^[^\S\n]*$/u,"heading-trail",t,l,{});this.append(r,o)}toString(i){const s="=".repeat(Number(this.name));return`${s}${this.firstChild.toString()}${s}${this.lastChild.toString()}`}text(){const i="=".repeat(Number(this.name));return`${i}${this.firstChild.text()}${i}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const i="=".repeat(Number(this.name));return super.print({pre:i,sep:i})}lint(i){const s=super.lint(i),t=String(this.firstChild);let l;return this.name==="1"&&(l=c(this,{start:i},"<h1>"),s.push(l)),(t[0]==="="||t.endsWith("="))&&(l||(l=c(this,{start:i},"")),s.push({...l,message:x.msg('unbalanced "=" in a section header')})),this.closest("html-attrs, table-attrs")&&(l||(l=c(this,{start:i},"")),s.push({...l,message:x.msg("section header in a HTML tag")})),s}}T.exports=d},2350:(T,F,e)=>{var u,n,i;const{generateForSelf:c}=e(8277),x=e(6010),A=e(8138),y=new Set(["if","ifeq","ifexpr","ifexist","iferror","switch"]);class d extends A{constructor(l,r,o,a,h=x.getConfig(),g=[]){super(void 0,h,!0,g);P(this,"type","html");z(this,u,void 0);z(this,n,void 0);z(this,i,void 0);this.insertAt(r),this.setAttribute("name",l.toLowerCase()),M(this,u,o),M(this,n,a),M(this,i,l)}get closing(){return f(this,u)}toString(l){return`<${f(this,u)?"/":""}${f(this,i)}${super.toString()}${f(this,n)?"/":""}>`}text(){return`<${f(this,u)?"/":""}${f(this,i)}${f(this,u)?"":super.text()}${f(this,n)?"/":""}>`}getPadding(){return f(this,i).length+(f(this,u)?2:1)}print(){return super.print({pre:`&lt;${f(this,u)?"/":""}${f(this,i)}`,post:`${f(this,n)?"/":""}&gt;`})}lint(l){var a;const r=super.lint(l);let o;this.name==="h1"&&!f(this,u)&&(o=c(this,{start:l},"<h1>"),r.push(o)),this.closest("table-attrs")&&(o||(o=c(this,{start:l},"")),r.push({...o,message:"HTML tag in table attributes"}));try{this.findMatchingTag()}catch({message:h}){o||(o=c(this,{start:l},""));const[g]=h.split(":"),$={...o,message:x.msg(g)};(g==="unclosed tag"||g==="unmatched closing tag"&&y.has((a=this.closest("magic-word"))==null?void 0:a.name))&&($.severity="warning"),r.push($)}return r}findMatchingTag(){const{html:l}=this.getAttribute("config"),{name:r,parentNode:o}=this,a=String(this);if(f(this,u)&&(f(this,n)||l[2].includes(r)))throw new SyntaxError(`tag that is both closing and self-closing: ${a}`);if(l[2].includes(r)||f(this,n)&&l[1].includes(r))return this;if(f(this,n)&&l[0].includes(r))throw new SyntaxError(`invalid self-closing tag: ${a}`);if(!o)return;const{childNodes:h}=o,g=h.indexOf(this),$=f(this,u)?h.slice(0,g).reverse().filter(({type:S,name:p})=>S==="html"&&p===r):h.slice(g+1).filter(({type:S,name:p})=>S==="html"&&p===r);let m=f(this,u)?-1:1;for(const S of $)if(S.closing?m--:m++,m===0)return S;throw new SyntaxError(`${f(this,u)?"unmatched closing":"unclosed"} tag: ${a}`)}}u=new WeakMap,n=new WeakMap,i=new WeakMap,T.exports=d},1874:(T,F,e)=>{var t;const{print:c,extUrlChar:x,extUrlCharFirst:A}=e(231),{generateForSelf:y}=e(8277),d=e(6986),u=e(6010),n=e(8138),i=(r,o,a=u.getConfig(),h=!1)=>{switch(o=o.replace(/\0\d+t\x7F/gu,"").trim(),r){case"width":return/^\d*(?:x\d*)?$/u.test(o);case"link":{if(!o)return"";if(new RegExp(`(?:(?:${a.protocol}|//)${A}|\0\\d+m\x7F)${x}(?=\0\\d+t\x7F|$)`,"iu").test(o))return o;o.startsWith("[[")&&o.endsWith("]]")&&(o=o.slice(2,-2));const $=u.normalizeTitle(o,0,!1,a,h,!0,!0);return $.valid&&$}case"lang":return a.variants.includes(o);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(o)}};class s extends n{constructor(a,h=u.getConfig(),g=[]){var o=(...l)=>{super(...l);P(this,"type","image-parameter");z(this,t,"")};let $;const m=Object.entries(h.img).map(([p,w])=>[p,w,new RegExp(`^(\\s*)${p.replace("$1","(.*)")}(\\s*)$`,"u")]),S=m.find(([,p,w])=>($=w.exec(a),$&&($.length!==4||i(p,$[2],h,!0)!==!1)));if(S){$.length===3?(o(void 0,h,!0,g),M(this,t,a)):(o($[2],h,!0,g,{}),M(this,t,`${$[1]}${S[0]}${$[3]}`)),this.setAttribute("name",S[1]);return}o(a,{...h,excludes:[...h.excludes,"list"]},!0,g),this.setAttribute("name","caption").setAttribute("stage",7)}get link(){return this.name==="link"?i("link",super.text(),this.getAttribute("config")):void 0}isPlain(){return this.name==="caption"}toString(a){return f(this,t)?f(this,t).replace("$1",super.toString(a)):super.toString(a)}text(){return f(this,t)?f(this,t).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,f(this,t).indexOf("$1"))}lint(a){const h=super.lint(a),{link:g}=this;return g!=null&&g.encoded&&h.push(y(this,{start:a},"unnecessary URL encoding in an internal link")),h}print(){return f(this,t)?`<span class="wpb-image-parameter">${f(this,t).replace("$1",`<span class="wpb-image-caption">${c(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}}t=new WeakMap,T.exports=s},2641:(T,F,e)=>{const{generateForSelf:c,generateForChild:x}=e(8277),A=e(6010),y=e(8138),d=e(3423),u=e(1031),n=e(2571);class i extends y{constructor(l,r=A.getConfig(),o=[]){super(void 0,r,!0,o,{});P(this,"type","ext-inner");P(this,"name","imagemap");if(!l)return;const a=l.split(`
`),h=new Set(r.protocol.split("|")),g=d,$=p=>{super.insertAt(new g(p,r,o))};let m=!0,S=!1;for(const p of a){const w=p.trim();if(!(S||!w||w[0]==="#")){if(m){const[k,...C]=p.split("|"),b=this.normalizeTitle(k,0,!0);if(b.valid&&b.ns===6){const v=new u(k,C.length>0?C.join("|"):void 0,r,o);v.type="imagemap-image",super.insertAt(v),m=!1;continue}else S=!0}else if(p.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(p);continue}else if(p.includes("[")){const k=p.indexOf("["),C=p.slice(k),b=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(C);if(b){if(this.normalizeTitle(b[1],0,!0,!1,!0).valid){super.insertAt(new n(p.slice(0,k),b.slice(1),C.slice(C.indexOf("]]")+2),r,o));continue}}else if(h.has(C.slice(1,C.indexOf(":")+1))||h.has(C.slice(1,C.indexOf("//")+2))){const v=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(C);if(v){super.insertAt(new n(p.slice(0,k),v.slice(1),C.slice(C.indexOf("]")+1),r,o));continue}}}}$(p)}}get image(){return this.childNodes.find(({type:l})=>l==="imagemap-image")}toString(l){return super.toString(l,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(l){const r=super.lint(l),o={start:l,...this.getRootNode().posFromIndex(l)};return this.image?r.push(...this.childNodes.filter(a=>{const h=String(a).trim();return a.type==="noinclude"&&h&&h[0]!=="#"}).map(a=>x(a,o,"invalid link in <imagemap>"))):r.push(c(this,o,"<imagemap> without an image")),r}}T.exports=i},2571:(T,F,e)=>{const c=e(6986),x=e(8138),A=e(3423),y=e(3905),d=e(741);class u extends x{constructor(s,t,l,r,o){const a=t.length===2?y:d;super(void 0,r,!0,o);P(this,"type","imagemap-link");this.append(s,new a(...t,r,o),new A(l,r,o))}}T.exports=u},8138:(T,F,e)=>{var n,i,s,t,l,r,o,a,ot,g,lt,m,at,p,ht,k,dt,b,pt,E,ut,L,gt,O,ct,j,ft,V,xt;const{text:c}=e(231),x=e(6010),A=e(9205),y=e(7507),{MAX_STAGE:d}=x,Q=class extends A{constructor(N,I=x.getConfig(),H=!1,Z=[],_=void 0){super();z(this,a);z(this,g);z(this,m);z(this,p);z(this,k);z(this,b);z(this,E);z(this,L);z(this,O);z(this,j);z(this,V);P(this,"type","root");z(this,n,0);z(this,i,void 0);z(this,s,void 0);z(this,t,void 0);z(this,l,(N=f(this,n),I=!1)=>{if(N<f(this,n)||!this.isPlain()||this.length===0)return this;switch(N){case 0:this.type==="root"&&f(this,s).shift(),M(this,t,Boolean(I)),J(this,a,ot).call(this,I);break;case 1:J(this,g,lt).call(this);break;case 2:J(this,m,at).call(this);break;case 3:J(this,p,ht).call(this);break;case 4:J(this,k,dt).call(this);break;case 5:J(this,b,pt).call(this);break;case 6:J(this,E,ut).call(this);break;case 7:J(this,L,gt).call(this);break;case 8:J(this,O,ct).call(this);break;case 9:J(this,j,ft).call(this);break;case 10:J(this,V,xt).call(this)}if(this.type==="root")for(const H of f(this,s))H.getAttribute("parseOnce")(N,I);return nt(this,n)._++,this});z(this,r,(N,I)=>{const H=N.split(/[\0\x7F]/u).map((Z,_)=>{if(_%2===0)return new y(Z);if(isNaN(Z[Z.length-1]))return f(this,s)[Number(Z.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${Z}`)});return I==="string"?H.map(String).join(""):I==="text"?c(H):H});z(this,o,()=>{M(this,n,d);const{length:N,firstChild:I}=this,H=String(I);if(N===1&&I.type==="text"&&H.includes("\0")&&(this.replaceChildren(...f(this,r).call(this,H)),this.normalize(),this.type==="root"))for(const Z of f(this,s))Z.getAttribute("build")()});typeof N=="string"&&this.insertAt(H?N:N.replace(/[\0\x7F]/gu,"")),M(this,i,I),M(this,s,Z),Z.push(this)}getAttribute(N){switch(N){case"config":return JSON.parse(JSON.stringify(f(this,i)));case"accum":return f(this,s);case"parseOnce":return f(this,l);case"buildFromStr":return f(this,r);case"build":return f(this,o);case"include":{if(f(this,t)!==void 0)return f(this,t);const I=this.getRootNode();return I.type==="root"&&I!==this?I.getAttribute("include"):!1}default:return super.getAttribute(N)}}setAttribute(N,I){switch(N){case"stage":return f(this,n)===0&&this.type==="root"&&f(this,s).shift(),M(this,n,I),this;default:return super.setAttribute(N,I)}}isPlain(){return this.constructor===Q}insertAt(N,I=this.length){return typeof N=="string"&&(N=new y(N)),super.insertAt(N,I),N.type==="root"&&(N.type="plain"),N}normalizeTitle(N,I=0,H=!1,Z=!1,_=!1){return x.normalizeTitle(N,I,f(this,t),f(this,i),H,Z,_)}afterBuild(){if(this.type==="root")for(const N of f(this,s))N.afterBuild()}parse(N=d,I=!1){for(;f(this,n)<N;)f(this,l).call(this,f(this,n),I);return N&&(f(this,o).call(this),this.afterBuild()),this}};let u=Q;n=new WeakMap,i=new WeakMap,s=new WeakMap,t=new WeakMap,l=new WeakMap,r=new WeakMap,o=new WeakMap,a=new WeakSet,ot=function(N){const I=e(4907);this.setText(I(String(this.firstChild),f(this,i),f(this,s),N))},g=new WeakSet,lt=function(){const N=e(8275),I=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,H=N(I,f(this,i),f(this,s));this.setText(this.type==="root"?H:H.slice(1))},m=new WeakSet,at=function(){if(f(this,i).excludes.includes("html"))return;const N=e(5130);this.setText(N(String(this.firstChild),f(this,i),f(this,s)))},p=new WeakSet,ht=function(){if(f(this,i).excludes.includes("table"))return;const N=e(4624),I=e(2840);this.setText(N(this,f(this,i),f(this,s)));for(const H of f(this,s))if(H instanceof I&&H.type!=="td"){H.normalize();const{childNodes:[,Z]}=H;if(typeof Z=="string"&&Z.includes("\0")){H.removeAt(1);const _=new Q(Z,f(this,i),!0,f(this,s));H.insertAt(_,1),_.setAttribute("stage",4)}}},k=new WeakSet,dt=function(){if(f(this,i).excludes.includes("hr"))return;const N=e(2937);this.setText(N(this,f(this,i),f(this,s)))},b=new WeakSet,pt=function(){const N=e(1452);this.setText(N(String(this.firstChild),f(this,i),f(this,s)))},E=new WeakSet,ut=function(){if(f(this,i).excludes.includes("quote"))return;const N=e(3360),I=String(this.firstChild).split(`
`);for(let H=0;H<I.length;H++)I[H]=N(I[H],f(this,i),f(this,s));this.setText(I.join(`
`))},L=new WeakSet,gt=function(){if(f(this,i).excludes.includes("extLink"))return;const N=e(7513);this.setText(N(String(this.firstChild),f(this,i),f(this,s)))},O=new WeakSet,ct=function(){if(f(this,i).excludes.includes("magicLink"))return;const N=e(4737);this.setText(N(String(this.firstChild),f(this,i),f(this,s)))},j=new WeakSet,ft=function(){if(f(this,i).excludes.includes("list"))return;const N=e(6622),I=String(this.firstChild).split(`
`);let H=this.type==="root"||this.type==="ext-inner"&&this.name==="poem"?0:1;for(;H<I.length;H++)I[H]=N(I[H],f(this,i),f(this,s));this.setText(I.join(`
`))},V=new WeakSet,xt=function(){const N=e(3765);this.setText(N(String(this.firstChild),f(this,i),f(this,s)))},T.exports=u},337:(T,F,e)=>{const c=e(3905);class x extends c{constructor(){super(...arguments);P(this,"type","category")}}T.exports=x},7625:(T,F,e)=>{var t,et;const{explode:c}=e(231),{generateForChild:x}=e(8277),A=e(6010),y=e(3905),d=e(1874),u=new Set(["manualthumb","frameless","framed","thumbnail"]),n=new Set(["left","right","center","none"]),i=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class s extends y{constructor(a,h,g=A.getConfig(),$=[],m="|"){super(a,void 0,g,$,m);z(this,t);P(this,"type","file");this.append(...c("-{","}-","|",h).map(S=>new d(S,g,$)))}lint(a){const h=super.lint(a),g=this.getAllArgs(),$=[...new Set(g.map(({name:k})=>k))],m=$.filter(k=>u.has(k)),S=$.filter(k=>n.has(k)),p=$.filter(k=>i.has(k));if(g.length===$.length&&m.length<2&&S.length<2&&p.length<2)return h;const w={start:a,...this.getRootNode().posFromIndex(a)};for(const k of $){let C=g.filter(({name:b})=>b===k);k==="caption"&&(C=[...C.slice(0,-1).filter(b=>b.text()),C[C.length-1]]),C.length>1&&h.push(...C.map(b=>x(b,w,A.msg("duplicated image $1 parameter",k))))}return m.size>1&&h.push(...g.filter(({name:k})=>u.has(k)).map(k=>x(k,w,"conflicting image $1 parameter","frame"))),S.size>1&&h.push(...g.filter(({name:k})=>n.has(k)).map(k=>x(k,w,"conflicting image $1 parameter","horizontal-alignment"))),p.size>1&&h.push(...g.filter(({name:k})=>i.has(k)).map(k=>x(k,w,"conflicting image $1 parameter","vertical-alignment"))),h}getAllArgs(){return this.childNodes.slice(1)}getArgs(a){return this.getAllArgs().filter(({name:h})=>a===h)}getFrameArgs(){return J(this,t,et).call(this,u,"\u6846\u67B6")}getHorizAlignArgs(){return J(this,t,et).call(this,n,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return J(this,t,et).call(this,i,"\u5782\u76F4\u5BF9\u9F50")}}t=new WeakSet,et=function(a,h){return this.getAllArgs().filter(({name:$})=>a.has($))},T.exports=s},1031:(T,F,e)=>{var u;const{generateForSelf:c}=e(8277),x=e(6010),A=e(8138),y=e(7625);class d extends y{constructor(s,t,l=x.getConfig(),r=[]){let o;if(t!==void 0){o=new A(t,l,!0,r),o.type="temp";for(let a=1;a<x.MAX_STAGE;a++)o.getAttribute("parseOnce")();r.splice(r.indexOf(o),1)}super(s,o==null?void 0:o.toString(),l,r);P(this,"type","gallery-image");z(this,u,!1);this.setAttribute("bracket",!1)}afterBuild(){const s=this.type==="imagemap-image",t=this.normalizeTitle(String(this.firstChild),s?0:6,!0,!s);M(this,u,t.ns!==6)}getPadding(){return 0}lint(s){const t=super.lint(s);return f(this,u)&&t.push(c(this,{start:s},"invalid gallery image")),t}}u=new WeakMap,T.exports=d},3905:(T,F,e)=>{var n,i,s,t;const{generateForChild:c}=e(8277),x=e(6010),A=e(7507),y=e(8138),d=e(9237);class u extends y{constructor(o,a,h=x.getConfig(),g=[],$="|"){super(void 0,h,!0,g,{});P(this,"type","link");z(this,n,!0);z(this,i,void 0);z(this,s,void 0);z(this,t,!1);if(this.insertAt(new d(o,"link-target",h,g,{})),a!==void 0){const m=new y(a,h,!0,g,{});m.type="link-text",this.insertAt(m.setAttribute("stage",x.MAX_STAGE-1))}M(this,i,$)}afterBuild(){var a;const o=this.normalizeTitle(this.firstChild.text(),0,!1,!0,!0);M(this,s,o.fragment),M(this,t,o.encoded),(a=f(this,i))!=null&&a.includes("\0")&&M(this,i,this.getAttribute("buildFromStr")(f(this,i),"string"))}setAttribute(o,a){return o==="bracket"?(M(this,n,Boolean(a)),this):super.setAttribute(o,a)}toString(o){const a=super.toString(o,f(this,i));return f(this,n)?`[[${a}]]`:a}text(){const o=super.text("|");return f(this,n)?`[[${o}]]`:o}getPadding(){return 2}getGaps(){return f(this,i).length}print(){return super.print(f(this,n)?{pre:"[[",post:"]]",sep:f(this,i)}:{sep:f(this,i)})}lint(o){var S;const a=super.lint(o),{childNodes:[h,g],type:$}=this;let m;return f(this,t)&&(m={start:o,...this.getRootNode().posFromIndex(o)},a.push(c(h,m,"unnecessary URL encoding in an internal link"))),$==="link"&&((S=g==null?void 0:g.childNodes)==null?void 0:S.some(({type:p,data:w})=>p==="text"&&w.includes("|")))?(m||(m={start:o,...this.getRootNode().posFromIndex(o)}),a.push(c(g,m,'additional "|" in the link text',"warning"))):$!=="link"&&f(this,s)!==void 0&&(m||(m={start:o,...this.getRootNode().posFromIndex(o)}),a.push(c(h,m,"redundant fragment"))),a}}n=new WeakMap,i=new WeakMap,s=new WeakMap,t=new WeakMap,T.exports=u},8962:(T,F,e)=>{const{generateForChild:c}=e(8277),x=e(6010),A=e(8138);class y extends A{constructor(n,i,s=x.getConfig(),t=[]){super(n,s,!0,t,{});P(this,"type","free-ext-link");i&&(this.type="ext-link-url")}lint(n){const i=super.lint(n),s=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`;let t;for(const l of this.childNodes){const r=String(l);if(l.type!=="text"||!new RegExp(s,"u").test(r))continue;t||(t={start:n,...this.getRootNode().posFromIndex(n)});const o=c(l,t,"","warning"),a=new RegExp(s,"gu");for(let h=a.exec(r);h;h=a.exec(r)){const{index:g,0:{0:$,length:m}}=h,S=r.slice(0,g).split(`
`),{length:p}=S,{length:w}=S[p-1],k=n+g,C=o.startLine+p-1,b=(p>1?0:o.startCol)+w;i.push({...o,message:x.msg("$1 in URL",$==="|"?'"|"':x.msg("full-width punctuation")),startIndex:k,endIndex:k+m,startLine:C,endLine:C,startCol:b,endCol:b+m})}}return i}}T.exports=y},9389:(T,F,e)=>{const c=e(6010),x=e(8889);class A extends x{constructor(u,n=c.getConfig(),i=[]){super(u,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],n,i);P(this,"name","choose")}}T.exports=A},9269:(T,F,e)=>{const c=e(6010),x=e(8889);class A extends x{constructor(u,n=c.getConfig(),i=[]){super(u,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],n,i);P(this,"name","combobox")}}T.exports=A},8889:(T,F,e)=>{const{generateForChild:c}=e(8277),x=e(6010),A=e(8138),y=e(7267),d=e(3423),u=e(5749);class n extends A{constructor(t,l,r,o=x.getConfig(),a=[]){var g;const h=(g=t==null?void 0:t.replace(l,($,m,S,p,w)=>{const k=`\0${a.length+1}${m?"e":"c"}\x7F`;if(m)new y(m,S,p,w,o,a);else{const C=$.endsWith("-->");new u($.slice(4,C?-3:void 0),C,o,a)}return k}))==null?void 0:g.replace(/(^|\0\d+[ce]\x7F)([^\0]+)(?=$|\0\d+[ce]\x7F)/gu,($,m,S)=>(new d(S,o,a),`${m}\0${a.length}c\x7F`));super(h,o,!0,a,{});P(this,"type","ext-inner")}lint(t){let l;return[...super.lint(t),...this.childNodes.filter(r=>{if(r.type==="ext"||r.type==="comment")return!1;const o=String(r).trim();return o&&!/^<!--.*-->$/u.test(o)}).map(r=>(l||(l={start:t,...this.getRootNode().posFromIndex(t)}),c(r,l,x.msg("invalid content in <$1>",this.name))))]}}T.exports=n},5937:(T,F,e)=>{const c=e(6010),x=e(8889);class A extends x{constructor(u,n=c.getConfig(),i=[]){super(u,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],n,i);P(this,"name","references")}}T.exports=A},5749:(T,F,e)=>{const c=e(2308),{generateForSelf:x}=e(8277),A=e(6010),y=e(6935);class d extends c(y){constructor(i,s=!0,t=A.getConfig(),l=[]){super(i,t,l);P(this,"type","comment");P(this,"closed");this.closed=s}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}lint(i){return this.closed?[]:[x(this,{start:i},"unclosed HTML comment")]}toString(i){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}T.exports=d},3434:(T,F,e)=>{const c=e(6935);class x extends c{constructor(){super(...arguments);P(this,"type","dd")}}T.exports=x},7815:(T,F,e)=>{const c=e(2308),x=e(6935);class A extends c(x){constructor(){super(...arguments);P(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(u){return`__${String(this.firstChild)}__`}}T.exports=A},2582:(T,F,e)=>{const c=e(6010),x=e(6935);class A extends x{constructor(u,n=c.getConfig(),i=[]){super("-".repeat(u),n,i);P(this,"type","hr")}}T.exports=A},6935:(T,F,e)=>{const{generateForSelf:c}=e(8277),x=e(6010),A=e(8138);class y extends A{constructor(n,i=x.getConfig(),s=[]){super(n,i,!0,s);P(this,"type","ext-inner")}lint(n){const{type:i,name:s}=this;return i==="ext-inner"&&(s==="templatestyles"||s==="section")&&String(this)?[c(this,{start:n},x.msg("nothing should be in <$1>",s))]:super.lint(n)}}T.exports=y},962:(T,F,e)=>{const c=e(3434);class x extends c{constructor(){super(...arguments);P(this,"type","list")}}T.exports=x},3423:(T,F,e)=>{const c=e(2308),x=e(6935);class A extends c(x){constructor(){super(...arguments);P(this,"type","noinclude")}}T.exports=A},6714:(T,F,e)=>{const{generateForSelf:c}=e(8277),x=e(6010),A=e(7507),y=e(6935);class d extends y{constructor(i,s=x.getConfig(),t=[]){super("'".repeat(i),s,t);P(this,"type","quote")}lint(i){const{previousSibling:s,nextSibling:t}=this,l=x.msg('lonely "$1"',"'"),r=[];let o;if((s==null?void 0:s.type)==="text"&&s.data.endsWith("'")){o=c(this,{start:i},l);const{startIndex:a,startLine:h,startCol:g}=o,[,{length:$}]=s.data.match(/(?:^|[^'])('+)$/u),m=i-$;r.push({...o,startIndex:m,endIndex:a,startCol:g-$,endLine:h,endCol:g})}if((t==null?void 0:t.type)==="text"&&t.data[0]==="'"){o||(o=c(this,{start:i},l));const{endIndex:a,endLine:h,endCol:g}=o,[{length:$}]=t.data.match(/^'+/u),m=a+$;r.push({...o,startIndex:a,endIndex:m,startLine:h,startCol:g,endCol:g+$})}return r}}T.exports=d},851:(T,F,e)=>{const c=e(6010),x=e(8138);class A extends x{constructor(u,n=c.getConfig(),i=[]){super(u,n,!0,i);P(this,"type","onlyinclude")}toString(u){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}T.exports=A},9380:(T,F,e)=>{const{generateForChild:c}=e(8277),x=e(6010),A=e(8138),y=e(9237);class d extends A{constructor(i,s=x.getConfig(),t=[]){super(void 0,s,!0,t,{});P(this,"type","ext-inner");if(i){const l=y;this.append(...i.split(`
`).map(r=>new l(r,"param-line",s,t,{})))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i){let s;return this.childNodes.filter(t=>{const{childNodes:l}=t,r=l.findIndex(({type:a})=>a!=="text"),o=(r>=0?l.slice(0,r).map(String).join(""):String(t)).trim();return o&&!(r>=0?/^[a-z]+(?:\[\])?\s*(?:=|$)/iu:/^[a-z]+(?:\[\])?\s*=/iu).test(o)}).map(t=>(s||(s={start:i,...this.getRootNode().posFromIndex(i)}),c(t,s,x.msg("invalid parameter of $1",this.name))))}}T.exports=d},6934:(T,F,e)=>{const c=e(8275),x=e(6010),A=e(9380),y=e(9237);class d extends A{constructor(i,s=x.getConfig(),t=[]){super(void 0,s,t);P(this,"name","inputbox");if(i=c(i,s,t),t.splice(t.indexOf(this),1),t.push(this),i){const l=y;this.append(...i.split(`
`).map(r=>new l(r,"param-line",s,t,{})))}}}T.exports=d},9799:(T,F,e)=>{const{extUrlChar:c,extUrlCharFirst:x}=e(231),{generateForChild:A}=e(8277),y=e(6010),d=e(8138);class u extends d{constructor(s,t,l=y.getConfig(),r=[]){super(void 0,l,!0,r);P(this,"type","parameter");const o=new d(typeof s=="number"?void 0:s,l,!0,r,{}),a=new d(t,l,!0,r);o.type="parameter-key",a.type="parameter-value",this.append(o,a.setAttribute("stage",2))}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const s=e(1782),t=String(this.firstChild).replace(/<!--.*?-->/gu,"").replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1"),{parentNode:l}=this;this.setAttribute("name",t),l instanceof s&&l.getArgs(t,!1,!1).add(this)}}toString(s){return this.anon?this.lastChild.toString(s):super.toString(s,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(s){var o;const t=super.lint(s),{firstChild:l}=this,r=(o=new RegExp(`https?://${x}${c}$`,"iu").exec(String(l).replace(/<!--.*?-->/gu,"")))==null?void 0:o[0];if(r&&new URL(r).search){const a=A(l,{start:s},"unescaped query string in an anonymous parameter");t.push({...a,startIndex:a.endIndex,endIndex:a.endIndex+1,startLine:a.endLine,startCol:a.endCol,endCol:a.endCol+1})}return t}}T.exports=u},8058:(T,F,e)=>{const c=e(6010),x=e(8138);class A extends x{constructor(d,u,n="plain",i=c.getConfig(),s=[],t=void 0){super(d,i,!0,s,t),this.type=n}}T.exports=A},2840:(T,F,e)=>{const{generateForChild:c}=e(8277),x=e(3125),A=e(8058);class y extends x{constructor(){super(...arguments);P(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(n){const i=super.lint(n);if(!this.closed){const{firstChild:s}=this,t=c(s,{start:n},"unclosed table");i.push(t)}return i}close(n=`
|}`,i=!1){const s=this.getAttribute("config"),t=this.getAttribute("accum");super.insertAt(new A(n,void 0,"table-syntax",s,t))}}T.exports=y},5567:(T,F,e)=>{var u;const{generateForChild:c}=e(8277),x=e(6010),A=e(8138),y=e(3125);class d extends y{constructor(s,t,l=x.getConfig(),r=[]){let o=t==null?void 0:t.match(/\||\0\d+!\x7F/u),a=o?t.slice(0,o.index):"";/\[\[|-\{/u.test(a)&&(o=void 0,a="");super(s,a,l,r);P(this,"type","td");z(this,u,"");o&&([nt(this,u)._]=o);const h=new A(t==null?void 0:t.slice((o==null?void 0:o.index)+f(this,u).length),l,!0,r);h.type="td-inner",this.insertAt(h.setAttribute("stage",4))}get subtype(){return this.getSyntax().subtype}getSyntax(){const s=this.firstChild.text(),t=s[s.length-1];let l="td";return t==="!"?l="th":t==="+"&&(l="caption"),{subtype:l}}afterBuild(){f(this,u).includes("\0")&&M(this,u,this.getAttribute("buildFromStr")(f(this,u),"string"))}toString(s){const{childNodes:[t,l,r]}=this;return`${t.toString()}${l.toString()}${f(this,u)}${r.toString()}`}text(){const{childNodes:[s,t,l]}=this;return`${s.text()}${t.text()}${f(this,u)}${l.text()}`}getGaps(s=0){return s=s<0?s+this.length:s,s===1?f(this,u).length:0}lint(s){const t=super.lint(s),{lastChild:l}=this;s+=this.getRelativeIndex(-1);for(const r of l.childNodes)r.type==="text"&&r.data.includes("|")&&t.push(c(r,{start:s},'additional "|" in a table cell',"warning"));return t}print(){const{childNodes:[s,t,l]}=this;return`<span class="wpb-td">${s.print()}${t.print()}${f(this,u)}${l.print()}</span>`}}u=new WeakMap,T.exports=d},3125:(T,F,e)=>{const{generateForChild:c}=e(8277),x=e(6010),A=e(8138),y=e(8058),d=e(5649);class u extends A{constructor(s,t="",l=x.getConfig(),r=[],o=void 0){super(void 0,l,!0,r,{});P(this,"type","tr");this.append(new y(s,o,"table-syntax",l,r,{}),new d(t,"table-attrs",this.type,l,r))}lint(s){const t=e(1782),l=e(9544),r=super.lint(s),o=this.childNodes.find(({type:$})=>$==="table-inter");if(!o)return r;const a=o.childNodes.find($=>$.text().trim()),h=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!a||h.test(String(a))||a.type==="arg"&&h.test(a.default||""))return r;if(a.type==="magic-word")try{if(a.getPossibleValues().every(m=>h.test(m.text())))return r}catch($){}const g=c(o,{start:s},"content to be moved out from the table");return r.push({...g,startIndex:g.startIndex+1,startLine:g.startLine+1,startCol:0}),r}text(){const s=super.text();return this.type==="tr"&&!s.trim().includes(`
`)?"":s}}T.exports=u},7267:(T,F,e)=>{const{generateForSelf:c}=e(8277),x=e(6010),A=e(8138),y=e(1074),d=e(5649);class u extends y{constructor(s,t="",l="",r=void 0,o=x.getConfig(),a=[]){t=!t||/^\s/u.test(t)?t:` ${t}`;const h=s.toLowerCase(),g=new d(t,"ext-attrs",h,o,a),$={...o,excludes:[...o.excludes]},m=new Set($.ext);let S;switch(m.delete(h),$.ext=[...m],$.inExt=!0,h){case"tab":m.delete("tabs"),$.ext=[...m];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":h==="poem"&&$.excludes.push("heading"),S=new A(l,$,!0,a);break;case"gallery":{const p=e(1891);S=new p(l,$,a);break}case"pre":{const p=e(428);S=new p(l,$,a);break}case"references":{const p=e(5937);S=new p(l,$,a);break}case"choose":{const p=e(9389);S=new p(l,$,a);break}case"combobox":{const p=e(9269);S=new p(l,$,a);break}case"imagemap":{const p=e(2641);S=new p(l,o,a);break}case"dynamicpagelist":{const p=e(9380);S=new p(l,$,a);break}case"inputbox":{$.excludes.push("heading");const p=e(6934);S=new p(l,$,a);break}default:{const p=e(6935);S=new p(l,o)}}S.setAttribute("name",h).type="ext-inner";super(s,g,S,r,o,a);P(this,"type","ext");P(this,"closed",!0)}lint(s){const t=super.lint(s);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const l=this.getRootNode(),r={start:s,...l.posFromIndex(s)};t.push(c(this,r,"extension tag in HTML tag attributes"))}return t}}T.exports=u},8655:(T,F,e)=>{const c=e(2308),x=e(6010),A=e(1074);class y extends c(A){constructor(n,i="",s=void 0,t=void 0,l=x.getConfig(),r=[]){super(n,i,s!=null?s:"",s===void 0||t!=null?t:"",l,r);P(this,"type","include")}}T.exports=y},1074:(T,F,e)=>{var y,d,u;const c=e(6010),x=e(8138);class A extends x{constructor(s,t,l,r,o=c.getConfig(),a=[]){super(void 0,o,!0);z(this,y,void 0);z(this,d,void 0);z(this,u,void 0);this.setAttribute("name",s.toLowerCase()),M(this,u,[s,r||s]),M(this,y,r===void 0),M(this,d,r!==""),this.append(t,l);let h=a.indexOf(t);h===-1&&(h=a.indexOf(l)),h===-1&&(h=1/0),a.splice(h,0,this)}get closed(){return f(this,d)}toString(s){const{firstChild:t,lastChild:l}=this,[r,o]=f(this,u);return f(this,y)?`<${r}${String(t)}/>`:`<${r}${String(t)}>${String(l)}${f(this,d)?`</${o}>`:""}`}text(){const[s,t]=f(this,u);return f(this,y)?`<${s}${this.firstChild.text()}/>`:`<${s}${super.text(">")}${f(this,d)?`</${t}>`:""}`}getPadding(){return f(this,u)[0].length+1}getGaps(){return 1}print(){const[s,t]=f(this,u);return super.print(f(this,y)?{pre:`&lt;${s}`,post:"/&gt;"}:{pre:`&lt;${s}`,sep:"&gt;",post:f(this,d)?`&lt;/${t}&gt;`:""})}}y=new WeakMap,d=new WeakMap,u=new WeakMap,T.exports=A},1782:(T,F,e)=>{var r,o,a,h,g,mt;const{removeComment:c,print:x,text:A,decodeHtml:y}=e(231),{generateForChild:d}=e(8277),u=e(6010),n=e(8138),i=e(9799),s=e(9237),t=e(8058);class l extends n{constructor(p,w,k=u.getConfig(),C=[]){var R,O;super(void 0,k,!0,C,{});z(this,g);P(this,"type","template");P(this,"modifier","");z(this,r,{});z(this,o,void 0);z(this,a,!0);z(this,h,!1);const{parserFunction:[b,v]}=k,E=(R=/^(?:\s|\0\d+c\x7F)*\0\d+s\x7F/u.exec(p))==null?void 0:R[0];if(E)this.setAttribute("modifier",E),p=p.slice(E.length);else if(p.includes(":")){const[U,...j]=p.split(":"),[B]=/^(?:\s|\0\d+c\x7F)*/u.exec((O=j[0])!=null?O:"");this.setModifier(`${U}:${B}`)&&(p=j.join(":").slice(B.length))}if(p.includes(":")||w.length===0&&!f(this,h)){const[U,...j]=p.split(":"),B=c(U),V=B.trim(),K=v.includes(V),Q=b[V.toLowerCase()];if(!(j.length>0&&/\s$/u.test(B))&&(K||Q)){this.setAttribute("name",Q||V.toLowerCase()).type="magic-word";const q=new RegExp(`^\\s*${V}\\s*$`,K?"u":"iu"),Y=new t(U,q,"magic-word-name",k,C,{});if(this.insertAt(Y),j.length>0&&w.unshift([j.join(":")]),this.name==="invoke")for(let N=0;N<2;N++){const I=w.shift();if(!I)break;const H=new s(I.join("="),`invoke-${N?"function":"module"}`,k,C,{});this.insertAt(H)}}}if(this.type==="template"){const U=c(y(p)).split("#")[0].trim();if(!U||/\0\d+[eh!+-]\x7F|[<>[\]{}\n]|%[\da-f]{2}/u.test(U))throw C.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${U}`);const j=new s(p,"template-name",k,C,{});this.insertAt(j)}const G=this.isTemplate();let L=1;for(let U=0;U<w.length;U++){const j=w[U];!G&&!(this.name==="switch"&&U>0)&&(j[0]=j.join("="),j.length=1),j.length===1&&(j.unshift(L),L++),this.insertAt(new i(...j,k,C))}}setModifier(p=""){const{parserFunction:[,,w,k]}=this.getAttribute("config"),C=c(p).trim();if(p&&!C.endsWith(":"))return!1;const b=C.slice(0,-1).toLowerCase(),v=w.includes(b),E=k.includes(b);return v||E||p===""?(this.setAttribute("modifier",p),M(this,h,v),Boolean(p)):!1}afterBuild(){if(this.modifier.includes("\0")&&this.setAttribute("modifier",this.getAttribute("buildFromStr")(this.modifier,"string")),this.isTemplate()){const p=this.type==="template",w=this.normalizeTitle(this.childNodes[p?0:1].text(),p?10:828);M(this,o,w.fragment),M(this,a,w.valid)}}toString(p){const{childNodes:w,firstChild:k,modifier:C}=this;return`{{${C}${this.type==="magic-word"?`${String(k)}${w.length>1?":":""}${w.slice(1).map(String).join("|")}`:super.toString(p,"|")}}}`}text(){const{childNodes:p,firstChild:w,modifier:k,type:C,name:b}=this;return C==="magic-word"&&b==="vardefine"?"":`{{${k}${this.type==="magic-word"?`${w.text()}${p.length>1?":":""}${A(p.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier.length+2}getGaps(){return 1}print(){const{childNodes:p,firstChild:w,modifier:k}=this;return`<span class="wpb-${this.type}">{{${k}${this.type==="magic-word"?`${w.print()}${p.length>1?":":""}${x(p.slice(1),{sep:"|"})}`:x(p,{sep:"|"})}}}</span>`}lint(p){const w=super.lint(p),{type:k,childNodes:C}=this;let b;if(this.isTemplate())f(this,o)!==void 0&&(b={start:p,...this.getRootNode().posFromIndex(p)},w.push(d(C[k==="template"?0:1],b,"redundant fragment")));else return w;f(this,a)||(b={start:p,...this.getRootNode().posFromIndex(p)},w.push(d(C[1],b,"illegal module name")));const v=this.getDuplicatedArgs();return v.length>0&&(b||(b={start:p,...this.getRootNode().posFromIndex(p)}),w.push(...v.flatMap(([,E])=>E).map(E=>d(E,b,"duplicated parameter")))),w}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(p,w=this.length){return super.insertAt(p,w),p.anon?J(this,g,mt).call(this,p):p.name&&this.getArgs(p.name,!1,!1).add(p),p}getAllArgs(){return this.childNodes.filter(p=>p instanceof i)}getAnonArgs(){return this.getAllArgs().filter(({anon:p})=>p)}getArgs(p,w,k=!0){const C=String(p).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let b;return Object.prototype.hasOwnProperty.call(f(this,r),C)?b=f(this,r)[C]:(b=new Set(this.getAllArgs().filter(({name:v})=>C===v)),f(this,r)[C]=b),b}getDuplicatedArgs(){return this.isTemplate()?Object.entries(f(this,r)).filter(([,{size:p}])=>p>1).map(([p,w])=>[p,[...w]]):[]}getPossibleValues(){const{type:p,name:w,childNodes:k,constructor:{name:C}}=this;if(p==="template")throw new Error(`${C}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let b;switch(w){case"if":case"ifexist":case"ifexpr":case"iferror":b=2;break;case"ifeq":b=3;break;default:throw new Error(`${C}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const v=k.slice(b,b+2).map(({childNodes:[,E]})=>E);for(let E=0;E<v.length;){const{length:G,0:L}=v[E].childNodes.filter(R=>R.text().trim());if(G===0)v.splice(E,1);else if(G>1||L.type!=="magic-word")E++;else try{const R=L.getPossibleValues();v.splice(E,1,...R),E+=R.length}catch(R){E++}}return v}}r=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakMap,g=new WeakSet,mt=function(p){const w=this.getAnonArgs(),k=w.indexOf(p);for(let C=k;C<w.length;C++){const b=w[C],{name:v}=b,E=String(C+1);v!==E&&this.getArgs(E,!1,!1).add(b.setAttribute("name",E))}},T.exports=l},8277:(T,F,e)=>{const c=e(6010),x=e(8138),A=(d,u,n,i="error")=>{const s=d.getRelativeIndex(),{offsetHeight:t,offsetWidth:l,parentNode:r,length:o}=d,{top:a,left:h}=r.posFromIndex(s),{start:g}=u,{top:$,left:m}="top"in u?u:d.getRootNode().posFromIndex(g),S=g+s,p=S+o,w=$+a,k=w+t-1,C=a?h:m+h,b=t>1?l:C+l;return{message:c.msg(n),severity:i,startIndex:S,endIndex:p,startLine:w,endLine:k,startCol:C,endCol:b}},y=(d,u,n,i="error")=>{const{start:s}=u,{offsetHeight:t,offsetWidth:l,length:r}=d,{top:o,left:a}="top"in u?u:d.getRootNode().posFromIndex(s);return{message:c.msg(n),severity:i,startIndex:s,endIndex:s+r,startLine:o,endLine:o+t-1,startCol:a,endCol:t>1?l:a+l}};T.exports={generateForChild:A,generateForSelf:y}},231:(T,F,e)=>{const c='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])',x='(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',A=s=>s.replace(/\0\d+c\x7F/gu,""),y=(s,t={})=>{const l=e(7507),r=e(9205),{pre:o="",post:a="",sep:h=""}=t,g={"&":"amp","<":"lt",">":"gt"};return`${o}${s.map($=>$ instanceof r?$.print():String($).replace(/[&<>]/gu,m=>`&${g[m]};`)).join(h)}${a}`},d=s=>s.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),u=(s,t,l,r)=>{if(r===void 0)return[];const o=new RegExp(`${[s,t,l].map(d).join("|")}`,"gu"),a=[];let h=o.exec(r),g=0,$=0;for(;h;){const{0:m,index:S}=h;m!==l?g+=m===s?1:-1:g===0&&(a.push(r.slice($,S)),{lastIndex:$}=o),h=o.exec(r)}return a.push(r.slice($)),a},n=(s,t="")=>{const l=e(3853);return s.map(r=>typeof r=="string"?r:r.text()).join(t)},i=s=>s==null?void 0:s.replace(/&#(\d+|x[\da-f]+);/giu,(t,l)=>String.fromCodePoint(`${l[0].toLowerCase()==="x"?"0":""}${l}`));T.exports={extUrlCharFirst:c,extUrlChar:x,removeComment:A,print:y,escapeRegExp:d,explode:u,text:n,decodeHtml:i}},8166:T=>{T.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#regex":"regex","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","img":{},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},D={};function X(T){var F=D[T];if(F!==void 0)return F.exports;var e=D[T]={exports:{}};return W[T](e,e.exports,X),e.exports}var tt=X(6010)})();})();
