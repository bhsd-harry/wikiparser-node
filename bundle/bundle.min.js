"use strict";(()=>{var Ha=Object.defineProperty;var vr=e=>{throw TypeError(e)};var Da=(e,t,s)=>t in e?Ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Ga=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ne=(e,t,s)=>Da(e,typeof t!="symbol"?t+"":t,s),zt=(e,t,s)=>t.has(e)||vr("Cannot "+s);var c=(e,t,s)=>(zt(e,t,"read from private field"),s?s.call(e):t.get(e)),T=(e,t,s)=>t.has(e)?vr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),k=(e,t,s,r)=>(zt(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),B=(e,t,s)=>(zt(e,t,"access private method"),s);var br=(e,t,s,r)=>({set _(n){k(e,t,n,s)},get _(){return c(e,t,r)}});var to=Ga((ro,Wa)=>{var Va=Object.create,Me=Object.defineProperty,Gi=Object.getOwnPropertyDescriptor,Js=Object.getOwnPropertyNames,Qa=Object.prototype.hasOwnProperty,Vi=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Ue=e=>{throw TypeError(e)},Qi=(e,t,s)=>t in e?Me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,wr=(e,t)=>Me(e,"name",{value:t,configurable:!0}),f=(e,t)=>function(){return e&&(t=(0,e[Js(e)[0]])(e=0)),t},Xa=(e,t)=>function(){return t||(0,e[Js(e)[0]])((t={exports:{}}).exports,t),t.exports},M=(e,t)=>{for(var s in t)Me(e,s,{get:t[s],enumerable:!0})},Ja=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Js(t))!Qa.call(e,n)&&n!==s&&Me(e,n,{get:()=>t[n],enumerable:!(r=Gi(t,n))||r.enumerable});return e},O=e=>Ja(Me({},"__esModule",{value:!0}),e),W=e=>{var t;return[,,,Va((t=e==null?void 0:e[Vi("metadata")])!=null?t:null)]},Xi=["class","method","getter","setter","accessor","field","value","get","set"],Je=e=>e!==void 0&&typeof e!="function"?Ue("Function expected"):e,Ka=(e,t,s,r,n)=>({kind:Xi[e],name:t,metadata:r,addInitializer:i=>s._?Ue("Already initialized"):n.push(Je(i||null))}),Ks=(e,t)=>Qi(t,Vi("metadata"),e[3]),j=(e,t,s,r)=>{for(var n=0,i=e[t>>1],a=i&&i.length;n<a;n++)t&1?i[n].call(s):r=i[n].call(s,r);return r},q=(e,t,s,r,n,i)=>{var a,h,l,u,o,d=t&7,x=!!(t&8),p=!!(t&16),g=d>3?e.length+1:d?x?1:2:0,v=Xi[d+5],y=d>3&&(e[g-1]=[]),$=e[g]||(e[g]=[]),b=d&&(!p&&!x&&(n=n.prototype),d<5&&(d>3||!p)&&Gi(d<4?n:{get[s](){return z(this,i)},set[s](w){return re(this,i,w)}},s));d?p&&d<4&&wr(i,(d>2?"set ":d>1?"get ":"")+s):wr(n,s);for(var S=r.length-1;S>=0;S--)u=Ka(d,s,l={},e[3],$),d&&(u.static=x,u.private=p,o=u.access={has:p?w=>Za(n,w):w=>s in w},d^3&&(o.get=p?w=>(d^1?z:qs)(w,n,d^4?i:b.get):w=>w[s]),d>2&&(o.set=p?(w,C)=>re(w,n,C,d^4?i:b.set):(w,C)=>w[s]=C)),h=(0,r[S])(d?d<4?p?i:b[v]:d>4?void 0:{get:b.get,set:b.set}:n,u),l._=1,d^4||h===void 0?Je(h)&&(d>4?y.unshift(h):d?p?i=h:b[v]=h:n=h):typeof h!="object"||h===null?Ue("Object expected"):(Je(a=h.get)&&(b.get=a),Je(a=h.set)&&(b.set=a),Je(a=h.init)&&y.unshift(a));return d||Ks(e,n),b&&Me(n,s,b),p?d^4?i:b:n},Ya=(e,t,s)=>Qi(e,typeof t!="symbol"?t+"":t,s),Ys=(e,t,s)=>t.has(e)||Ue("Cannot "+s),Za=(e,t)=>Object(t)!==t?Ue('Cannot use the "in" operator on this value'):e.has(t),z=(e,t,s)=>(Ys(e,t,"read from private field"),s?s.call(e):t.get(e)),pe=(e,t,s)=>t.has(e)?Ue("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),re=(e,t,s,r)=>(Ys(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),qs=(e,t,s)=>(Ys(e,t,"access private method"),s),el=(e,t,s,r)=>({set _(n){re(e,t,n,s)},get _(){return z(e,t,r)}});function K(e,t,s){return s===1?e.replace(/\0(\d+)g\x7F/gu,(r,n)=>K(String(t[n]),t,2)):s===2?e.replace(/\0(\d+)n\x7F/gu,(r,n)=>String(t[n])):e.replace(/\0(\d+)\x7F/gu,(r,n)=>t[n])}var ye,Ht,ht,ut,qe,Ie,Ji,Q,Se,_r,Ar,Ws,Ki,yr,Sr,dt,We,D=f({"util/string.ts"(){"use strict";ye=String.raw` \xA0\u1680\u2000-\u200A\u202F\u205F\u3000`,Ht=String.raw`[^[\]<>"\0-\x1F\x7F${ye}\uFFFD]`,ht=String.raw`(?:\[[\da-f:.]+\]|${Ht})`,ut=String.raw`(?:${Ht}|\0\d+[cn!~]\x7F)*`,qe=e=>e.trim().toLowerCase(),Ie=(e,t)=>s=>s.replace(e,t),Ji=Ie(/[\0\x7F]|\r$/gmu,""),Q=Ie(/\0\d+[cn]\x7F/gu,""),Se=(e,t="")=>e.map(s=>typeof s=="string"?s:s.text()).join(t),_r={lt:"<",gt:">",lbrack:"[",rbrack:"]",lbrace:"{",rbrace:"}",nbsp:" ",amp:"&",quot:'"'},Ar=Ie(/&(?:#(\d+|[Xx][\da-fA-F]+)|([lg]t|[LG]T|[lr]brac[ke]|nbsp|amp|AMP|quot|QUOT));/gu,(e,t,s)=>t?String.fromCodePoint(+((/^x/iu.test(t)?"0":"")+t)):_r[s.toLowerCase()]),Ws=e=>Ar(e),Ki=Ie(/&#(\d+|x[\da-f]+);/giu,(e,t)=>String.fromCodePoint(+((/^x/iu.test(t)?"0":"")+t))),yr={"&":"amp","<":"lt",">":"gt",'"':"quot","\n":"#10"},Sr=e=>Ie(e,t=>`&${yr[t]};`),dt=Sr(/[&<>]/gu),We=(e,t={})=>{const{pre:s="",post:r="",sep:n=""}=t;return s+e.map(i=>i.print()).join(n)+r}}}),tl=Xa({"config/minimum.json"(e,t){t.exports={ext:[],html:[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link"]],namespaces:{0:"",6:"File",10:"Template",14:"Category",828:"Module"},nsid:{"":0,file:6,template:10,category:14,module:828},functionHook:["msgnw"],variable:["!","=","pageid","articlepath","server","servername","scriptpath","stylepath"],parserFunction:[{msgnw:"msgnw",pageid:"pageid",articlepath:"articlepath",server:"server",servername:"servername",scriptpath:"scriptpath",stylepath:"stylepath","#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#dateformat":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#regex":"regex","#regex_var":"regex_var","#regexquote":"regexquote","#regexall":"regexall","#len":"len","#pos":"pos","#rpos":"rpos","#sub":"sub","#count":"count","#rmatch":"rmatch","#rreplace":"rreplace","#replace":"replace","#rsplit":"rsplit","#explode":"explode","#tab":"tab","#seo":"seo","#babel":"babel","#translation":"translation","#commaseparatedlist":"commaseparatedlist","#coordinates":"coordinates","#lst":"lst","#lsth":"lsth","#lstx":"lstx","#assessment":"assessment","#mentor":"mentor","#property":"property","#target":"target","#section":"lst","#section-x":"lstx","#section-h":"lsth","#statements":"statements","#useliquidthreads":"useliquidthreads","#lqtpagelimit":"lqtpagelimit","#avatar":"avatar","#img":"img","#chart":"chart"},{"!":"!","=":"=","#FORMAL":"formal","#bcp47":"bcp47","#dir":"dir","#interwikilink":"interwikilink","#interlanguagelink":"interlanguagelink","#contentmodel":"contentmodel","#timef":"timef","#timefl":"timefl"},["msg","raw"],["subst","safesubst"]],doubleUnderscore:[[],[]],protocol:"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|matrix:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|wikipedia://|worldwind://|xmpp:",interwiki:[],img:{},redirection:["#redirect"],variants:[]}}}),Y,Ms,xe=f({"util/constants.ts"(){"use strict";Y=11,Ms=tl()}});function ot(e){const t=new Map,s=new WeakMap;return r=>{const n=typeof r=="string"?t:s;if(n.has(r)){const a=n.get(r);return a.lastIndex=0,a}const i=e(r);return n.set(r,i),i}}var Us,Ft=f({"../common/dist/index.mjs"(){"use strict";Us=e=>decodeURIComponent(e.replace(/%(?![\da-f]{2})/giu,"%25"))}}),Tr,$r,St,je,Yi,Lt=f({"util/lint.ts"(){"use strict";be(),X(),Tr=new Set(["tr","td","th","caption"]),$r=new Set(["Template:!!","Template:!-"]),St=e=>{const t=e.childNodes.find(s=>s.text().trim());if(!t||t.type==="text"&&t.data.trim().startsWith("!")||t.is("magic-word")&&t.name==="!"||t.is("template")&&$r.has(t.name)||t.is("html")&&Tr.has(t.name))return!1;if(t.is("arg"))return t.length>1&&St(t.childNodes[1]);if(t.is("magic-word"))try{const s=t.getPossibleValues().map(St);return s.includes(2)?2:s.includes(1)&&1}catch{}return t.is("template")||t.is("magic-word")&&t.name==="invoke"?1:2},je=(e,t,s,r)=>{if(e&&(r||H.viewOnly&&e[0]===le.rev))return e[1];const n=t();return(r||H.viewOnly)&&s([le.rev,n]),n},Yi=(e,t)=>e==="ol"&&t==="type"?["1","a","A","i","I"]:e==="th"&&t==="scope"?["row","col","rowgroup","colgroup"]:t==="dir"?["ltr","rtl","auto"]:t==="aria-hidden"?["true","false"]:[]}}),kr,Zi,sl=f({"parser/selector.ts"(){"use strict";kr=e=>{if(e.includes("#")){const t=e.indexOf("#"),s=e.slice(0,t),r=e.slice(t+1);return(n,i)=>(t===0||n===s)&&i===r}return e?t=>t===e:()=>!0},Zi=(e,t,s)=>{const r=e.split(",").map(n=>kr(n.trim()));return(({type:n,name:i})=>r.some(a=>a(n,i)))}}}),Et,Zs=f({"mixin/cached.ts"(){"use strict";Lt(),Et=(e=!0)=>t=>{const s=new WeakMap;return function(...r){return je(s.get(this),()=>t.apply(this,r),n=>{s.set(this,n)},e)}}}}),en,rl=f({"mixin/nodeLike.ts"(){"use strict";en=e=>{class t extends e{get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get offsetHeight(){}get offsetWidth(){}}return t}}}),Cr,Nr,xt,He,De,mt,ft,Ge,Ve,_e,tn=f({"lib/node.ts"(){"use strict";Lt(),be(),Zs(),rl(),X(),Nr=[en],Cr=[Et(!1)],_e=class{constructor(){j(Ve,5,this),Ya(this,"childNodes",[]),pe(this,xt),pe(this,He),pe(this,De),pe(this,mt),pe(this,ft),pe(this,Ge,{})}get parentNode(){return z(this,xt)}get nextSibling(){return z(this,He)}get previousSibling(){return z(this,De)}getChildNodes(){const{childNodes:e}=this;return Object.isFrozen(e)?[...e]:e}getAttribute(e){return e==="padding"?0:this[e]}setAttribute(e,t){switch(e){case"parentNode":re(this,xt,t),t||(re(this,He,void 0),re(this,De,void 0));break;case"nextSibling":re(this,He,t);break;case"previousSibling":re(this,De,t);break;case"aIndex":break;default:this[e]=t}}getRootNode(){return je(z(this,mt),()=>{var e,t;return(t=(e=this.parentNode)==null?void 0:e.getRootNode())!=null?t:this},e=>{const[,t]=e;t.type==="root"&&re(this,mt,e)})}indexFromPos(e,t){this.lspError("AstNode.indexFromPos")}posFromIndex(e){}getDimension(){}getGaps(e){return 0}getRelativeIndex(e){if(e===void 0){const{parentNode:t}=this;return t?t.getRelativeIndex(t.childNodes.indexOf(this)):0}return je(z(this,Ge)[e],()=>{const{childNodes:t}=this,s=e+(e<0?t.length:0);let r=this.getAttribute("padding");for(let n=0;n<s;n++)H.viewOnly&&(z(this,Ge)[n]=[le.rev,r]),r+=t[n].toString().length+this.getGaps(n);return r},t=>{z(this,Ge)[e]=t})}getAbsoluteIndex(){return je(z(this,ft),()=>{const{parentNode:e}=this;return e?e.getAbsoluteIndex()+this.getRelativeIndex():0},e=>{re(this,ft,e)})}getBoundingClientRect(){this.lspError("AstNode.getBoundingClientRect")}is(e){return this.type===e}getLines(){}seal(e,t){const s=!t&&!!this[e];Object.defineProperty(this,e,{enumerable:s,configurable:!0})}lspError(e){throw new Error(`${e} method is only available in the LSP version!`)}},Ve=W(null),xt=new WeakMap,He=new WeakMap,De=new WeakMap,mt=new WeakMap,ft=new WeakMap,Ge=new WeakMap,q(Ve,1,"getLines",Cr,_e),_e=q(Ve,0,"AstNode",Nr,_e),j(Ve,1,_e)}}),sn,il=f({"mixin/elementLike.ts"(){"use strict";sn=e=>{}}}),Ir,Dt,Fr,Ke,nl=f({"lib/element.ts"(){"use strict";D(),be(),sl(),tn(),il(),Ir=[sn],Ke=class extends(Fr=_e){get length(){return this.childNodes.length}text(e){return Se(this.childNodes,e)}normalize(){const e=this.getChildNodes(),t=s=>{var r,n;e.splice(s,1),(r=e[s-1])==null||r.setAttribute("nextSibling",e[s]),(n=e[s])==null||n.setAttribute("previousSibling",e[s-1])};for(let s=e.length-1;s>=0;s--){const{type:r,data:n}=e[s];r!=="text"||e.length===1||this.getGaps(s-(s&&1))||n===""&&t(s)}this.setAttribute("childNodes",e)}removeAt(e){this.lspError("AstElement.removeAt")}insertAt(e,t=this.length){return mr(this,t,0,[e]),e}closest(e){const t=Zi(e,this);let{parentNode:s}=this;for(;s;){if(t(s))return s;({parentNode:s}=s)}}append(...e){this.safeAppend(e)}safeAppend(e){for(const t of e)this.insertAt(t)}safeReplaceChildren(e){}setText(e,t=0){t+=t<0?this.length:0;const s=this.childNodes[t],{data:r}=s;return s.replaceData(e),r}toString(e,t=""){return this.childNodes.map(s=>s.toString(e)).join(t)}caretPositionFromIndex(e){this.lspError("AstElement.caretPositionFromIndex")}elementFromIndex(e){this.lspError("AstElement.elementFromIndex")}elementFromPoint(e,t){this.lspError("AstElement.elementFromPoint")}lint(e=this.getAbsoluteIndex(),t){}print(e={}){const t=e.class;return this.toString()?(t===""?"":`<span class="wpb-${t!=null?t:this.type}${this.getAttribute("invalid")?" wpb-invalid":""}">`)+We(this.childNodes,e)+(t===""?"":"</span>"):""}json(e,t=this.getAbsoluteIndex()){}},Dt=W(Fr),Ke=q(Dt,0,"AstElement",Ir,Ke),j(Dt,1,Ke)}}),zs,al=f({"lib/text.ts"(){"use strict";var e,rn,s;D(),tn(),zs=(s=class extends _e{constructor(n){super();T(this,e);ne(this,"data","");this.data=n}get type(){return"text"}toString(n){var i;return n&&!((i=this.parentNode)!=null&&i.getAttribute("built"))?Q(this.data):this.data}text(){return this.data}lint(n=this.getAbsoluteIndex(),i){}replaceData(n){B(this,e,rn).call(this,n)}splitText(n){this.lspError("AstText.splitText")}escape(){}print(){return dt(this.data)}},e=new WeakSet,rn=function(n){this.setAttribute("data",n)},s)}}),me,Te=f({"mixin/hidden.ts"(){"use strict";me=(e=!0,t=!0)=>s=>{class r extends s{text(){return""}lint(i){}}return r}}}),ae,oe=f({"mixin/noEscape.ts"(){"use strict";ae=e=>{}}}),fe,$e=f({"src/syntax.ts"(){"use strict";var e,t;E(),fe=(t=class extends I{constructor(r,n,i,a,h){super(r,i,a,h);T(this,e);k(this,e,n)}get type(){return c(this,e)}lint(r=this.getAbsoluteIndex()){}},e=new WeakMap,t)}}),he,ve=f({"mixin/padded.ts"(){"use strict";he=({length:e})=>t=>{}}}),V,ke=f({"src/atom.ts"(){"use strict";var e,t;E(),V=(t=class extends I{constructor(r,n,i,a,h){super(r,i,a,h);T(this,e);k(this,e,n)}get type(){return c(this,e)}set type(r){k(this,e,r)}getAttribute(r){var n;return r==="invalid"?this.type==="converter-flag"&&!!((n=this.parentNode)!=null&&n.isInvalidFlag(this)):super.getAttribute(r)}},e=new WeakMap,t)}}),Lr,Gt,Er,ce,Pt=f({"src/link/base.ts"(){"use strict";var e,t,s,r;xe(),ve(),oe(),E(),ke(),Lr=[ae,he("[[")],ce=(r=class extends(Er=I){constructor(i,a,h,l=[],u="|"){super(void 0,h,l,{});T(this,e,!0);T(this,t);T(this,s);if(this.insertAt(new V(i,"link-target",h,l,{})),a!==void 0){const o=new I(a,h,l,{});o.type="link-text",o.setAttribute("stage",Y-1),this.insertAt(o)}k(this,t,u)}get link(){}get fragment(){}afterBuild(){k(this,s,this.getTitle()),c(this,t).includes("\0")&&k(this,t,this.buildFromStr(c(this,t),0)),this.setAttribute("name",c(this,s).title),super.afterBuild()}setAttribute(i,a){i==="bracket"?k(this,e,a):i==="title"?k(this,s,a):super.setAttribute(i,a)}toString(i){const a=super.toString(i,c(this,t));return c(this,e)?`[[${a}]]`:a}text(){const i=super.text("|");return c(this,e)?`[[${i}]]`:i}getAttribute(i){return i==="title"?c(this,s):super.getAttribute(i)}getGaps(i){return i===0?c(this,t).length:1}lint(i=this.getAbsoluteIndex(),a){}getTitle(i,a){return this.normalizeTitle(this.firstChild.text(),0,{halfParsed:a,temporary:i,decode:!0,selfLink:!0})}print(){return super.print(c(this,e)?{pre:"[[",post:"]]",sep:c(this,t)}:{sep:c(this,t)})}json(i,a=this.getAbsoluteIndex()){}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r),Gt=W(Er),ce=q(Gt,0,"LinkBaseToken",Lr,ce),j(Gt,1,ce)}}),Pr,Vt,Rr,ie,Ce=f({"src/nowiki/base.ts"(){"use strict";oe(),E(),Pr=[ae],ie=class extends(Rr=I){get innerText(){return this.firstChild.data}constructor(e="",t,s){super(e,t,s)}},Vt=W(Rr),ie=q(Vt,0,"NowikiBaseToken",Pr,ie),j(Vt,1,ie)}}),Br,Qt,Or,Z,ze=f({"src/nowiki/noinclude.ts"(){"use strict";Te(),Ce(),Br=[me()],Z=class extends(Or=ie){get type(){return"noinclude"}toString(e){return e?"":super.toString()}},Qt=W(Or),Z=q(Qt,0,"NoincludeToken",Br,Z),j(Qt,1,Z)}}),nn,ll=f({"src/link/redirectTarget.ts"(){"use strict";Pt(),ze(),nn=class extends ce{get type(){return"redirect-target"}constructor(e,t,s,r){super(e,void 0,s,r),t!==void 0&&this.insertAt(new Z(t,s,r))}getTitle(){return this.normalizeTitle(this.firstChild.toString(),0,{halfParsed:!0,decode:!0,page:""})}lint(e=this.getAbsoluteIndex()){}}}}),jr,Xt,qr,Ye,ol=f({"src/redirect.ts"(){"use strict";var e,t,s;Te(),oe(),E(),$e(),ll(),jr=[me(!1,!1),ae],Ye=(s=class extends(qr=I){constructor(n,i,a,h,l,u,o=[]){super(void 0,u,o);T(this,e);T(this,t);k(this,e,n),k(this,t,l),this.append(new fe(i,"redirect-syntax",u,o),new nn(a,h==null?void 0:h.slice(1),u,o))}get type(){return"redirect"}getAttribute(n){return n==="padding"?c(this,e).length:super.getAttribute(n)}toString(n){return c(this,e)+super.toString(n)+c(this,t)}lint(n=this.getAbsoluteIndex()){}print(){return super.print({pre:c(this,e),post:c(this,t)})}},e=new WeakMap,t=new WeakMap,s),Xt=W(qr),Ye=q(Xt,0,"RedirectToken",jr,Ye),j(Xt,1,Ye)}}),an={};M(an,{parseRedirect:()=>ln});var ln,hl=f({"parser/redirect.ts"(){"use strict";X(),ol(),ln=(e,t,s)=>{var n;(n=t.regexRedirect)!=null||(t.regexRedirect=new RegExp(String.raw`^(\s*)((?:${t.redirection.join("|")})\s*(?::\s*)?)\[\[([^\n|\]]+)(\|.*?)?\]\](\s*)`,"iu"));const r=t.regexRedirect.exec(e);return r&&H.normalizeTitle(r[3],0,!1,t,{halfParsed:!0,temporary:!0,decode:!0,page:""}).valid?(e=`\0${s.length}o${e.slice(r[0].length)}`,new Ye(...r.slice(1),t,s),e):!1}}}),Wr,Jt,Mr,Ze,ul=f({"src/onlyinclude.ts"(){"use strict";ve(),oe(),E(),Wr=[ae,he("<onlyinclude>")],Ze=class extends(Mr=I){get type(){return"onlyinclude"}toString(e){return`<onlyinclude>${super.toString(e)}</onlyinclude>`}isPlain(){return!0}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}},Jt=W(Mr),Ze=q(Jt,0,"OnlyincludeToken",Wr,Ze),j(Jt,1,Ze)}}),ct,Rt=f({"mixin/gapped.ts"(){"use strict";ct=(e=1)=>t=>{class s extends t{getGaps(){return e}}return s}}}),Ur,Kt,zr,Ae,er=f({"src/tagPair/index.ts"(){"use strict";var e,t;Rt(),oe(),E(),Ur=[ct(),ae],Ae=(t=class extends(zr=I){constructor(r,n,i,a,h,l=[]){super(void 0,h);T(this,e);ne(this,"closed");ne(this,"selfClosing");this.setAttribute("name",r.toLowerCase()),k(this,e,[r,a||r]),this.closed=a!=="",this.selfClosing=a===void 0,this.append(n,i);const u=typeof n=="string"?-1:l.indexOf(n);l.splice(u===-1?1/0:u,0,this)}get innerText(){return this.selfClosing?void 0:this.lastChild.text()}toString(r){const{selfClosing:n,firstChild:i,lastChild:a}=this,[h,l]=c(this,e);return n?`<${h}${i.toString(r)}/>`:`<${h}${i.toString(r)}>${a.toString(r)}${this.closed?`</${l}>`:""}`}text(){const[r,n]=c(this,e);return this.selfClosing?`<${r}${this.firstChild.text()}/>`:`<${r}${super.text(">")}${this.closed?`</${n}>`:""}`}getAttribute(r){return r==="padding"?c(this,e)[0].length+1:super.getAttribute(r)}print(){const[r,n]=c(this,e);return super.print(this.selfClosing?{pre:`&lt;${r}`,post:"/&gt;"}:{pre:`&lt;${r}`,sep:"&gt;",post:this.closed?`&lt;/${n}&gt;`:""})}},e=new WeakMap,t),Kt=W(zr),Ae=q(Kt,0,"TagPairToken",Ur,Ae),j(Kt,1,Ae)}}),tr,on=f({"src/tag/index.ts"(){"use strict";var e,t,s,r;E(),tr=(r=class extends I{constructor(i,a,h,l,u){super(void 0,l,u);T(this,e);T(this,t);T(this,s);this.insertAt(a),k(this,e,h),k(this,t,i)}get closing(){return c(this,e)}toString(i){return`<${c(this,e)?"/":""}${c(this,t)}${super.toString(i)}${this.selfClosing?"/":""}>`}text(i=""){const{closing:a}=this;return`<${a&&!i?"/":""}${c(this,t)}${a?"":super.text()}${i}>`}getAttribute(i){return i==="padding"?c(this,t).length+(c(this,e)?2:1):super.getAttribute(i)}findMatchingTag(){}print(){return super.print({pre:`&lt;${c(this,e)?"/":""}${c(this,t)}`,post:`${this.selfClosing?"/":""}&gt;`})}json(i,a=this.getAbsoluteIndex()){}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r)}}),Hr,Yt,Dr,ge,dl=f({"src/tag/tvar.ts"(){"use strict";Te(),on(),$e(),Hr=[me()],ge=class extends(Dr=tr){get type(){return"tvar"}constructor(e,t,s,r,n){const i=new fe(t,"tvar-name",r,n);super(e,i,s,r,n)}},Yt=W(Dr),ge=q(Yt,0,"TvarToken",Hr,ge),j(Yt,1,ge)}}),hn,pl=f({"src/tagPair/translate.ts"(){"use strict";var e,un,s;E(),er(),$e(),dl(),hn=(s=class extends Ae{constructor(n,i,a,h=[]){const l=new fe(n,"translate-attr",a,h);i=i==null?void 0:i.replace(/<tvar(\|[^>]+)>([\s\S]*?)<\/>/gu,(o,d,x)=>(new ge("tvar",d,!1,a,h),new ge("","",!0,a,h),`\0${h.length-2}n${x}\0${h.length}n`)).replace(/<(tvar)(\s+name\s*=(?:\s*(?:(["'])[\s\S]*?\3|[^"'\s>]+))?\s*)>([\s\S]*?)<\/(tvar)(\s*)>/giu,(o,d,x,p,g,v,y)=>(new ge(d,x,!1,a,h),new ge(v,y,!0,a,h),`\0${h.length-2}n${g}\0${h.length}n`));const u=new I(i,a,h);u.type="translate-inner";super("translate",l,u,"translate",a,h);T(this,e);this.seal("closed",!0),this.seal("selfClosing",!0)}get type(){return"translate"}toString(n){return n?this.lastChild.toString(!0):super.toString()}text(){return this.lastChild.text()}print(){return`<span class="wpb-ext">&lt;translate${B(this,e,un).call(this)?'<span class="wpb-ext-attrs"> <span class="wpb-ext-attr"><span class="wpb-attr-key">nowrap</span></span></span>':""}&gt;${this.lastChild.print({class:"ext-inner"})}&lt;/translate&gt;</span>`}},e=new WeakSet,un=function(){return this.firstChild.toString()===" nowrap"},s)}}),Gr,Zt,Vr,et,cl=f({"src/tagPair/include.ts"(){"use strict";Te(),er(),Gr=[me(!1)],et=class extends(Vr=Ae){get type(){return"include"}constructor(e,t="",s,r,n,i){super(e,t,s!=null?s:"",s===void 0||r!=null?r:"",n,i)}toString(e){return e?"":super.toString()}lint(e=this.getAbsoluteIndex()){}},Zt=W(Vr),et=q(Zt,0,"IncludeToken",Gr,et),j(Zt,1,et)}}),Bt,sr=f({"mixin/attributesParent.ts"(){"use strict";Bt=(e=0)=>t=>{}}}),J,es,ts,ss,Qr,rs,is,Xr,Jr,Kr,vt,ns,as,ls,te,dn,pn,cn,gl=f({"util/sharable.ts"(){"use strict";J=new Set(["align"]),es=new Set(["cite"]),ts=new Set(["cite","datetime"]),ss=new Set(["width"]),Qr=new Set(["axis","align","bgcolor","height","width","valign"]),rs=new Set([...Qr,"abbr","headers","scope","rowspan","colspan"]),is=new Set(["type"]),Xr=new Set(["summary","align","bgcolor","cellpadding","cellspacing","frame","rules","width"]),Jr=new Set(["clear"]),Kr=new Set(["bgcolor","align","valign"]),vt=new Set(["qid","forcemathmode","type","display"]),ns=new Set(["enclose","inline","lang","line","linelinks","style","class","id","dir","copy","highlight","start"]),as=new Set(["weight"]),ls=new Set(["width","height","zoom","latitude","longitude","align","mapstyle","lang","alt","text"]),te=new Set,dn=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-level","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),pn={div:J,h1:J,h2:J,h3:J,h4:J,h5:J,h6:J,blockquote:es,q:es,p:J,br:Jr,pre:ss,ins:ts,del:ts,ul:is,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set([...Xr,"border"]),caption:J,tr:Kr,td:rs,th:rs,font:new Set(["size","color","face"]),hr:ss,data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:is,poem:J,categorytree:J,combooption:J,math:te,chem:te,ce:te,img:new Set(["alt","src","width","height","loading","srcset"])},cn={gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails"]),poem:new Set(["compact"]),categorytree:new Set(["hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline"]),nowiki:te,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","follow","dir","details"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:as,choicetemplate:as,imagemap:te,inputbox:te,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:te,poll:new Set(["id","show-results-before-voting"]),score:new Set(["line_width_inches","lang","override_midi","raw","note-language","override_audio","override_ogg","sound","vorbis"]),seo:new Set(["title","title_mode","title_separator","keywords","description","robots","google_bot","image","image_width","image_height","image_alt","type","site_name","locale","section","author","published_time","twitter_site"]),tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"]),math:new Set([...vt,"chem"]),chem:vt,ce:vt,hiero:te,phonos:new Set(["ipa","class","text","lang","wikibase","file"]),section:new Set(["begin","end"]),source:ns,syntaxhighlight:ns,templatedata:te,timeline:new Set(["method","font"]),quiz:new Set(["display","shuffleanswers","points","shuffle","case"]),languages:te,mapframe:new Set([...ls,"frameless"]),maplink:new Set([...ls,"class"]),rss:new Set(["template","templatename","max","highlight","filter","filterout","reverse","date","item-max-length"]),"page-collection":new Set(["lang","name","description","end-date"])}}}),Yr,Zr,ei,ti,Hs,xl=f({"src/attribute.ts"(){"use strict";var e,t,s,r,n,gn,xn,h;Lt(),D(),xe(),gl(),X(),E(),ke(),Yr=/expression|(?:accelerator|-o-link(?:-source)?|-o-replace)\s*:|(?:url|src|image(?:-set)?)\s*\(|attr\s*\([^)]+[\s,]url/u,Zr=/(?:^|\s|\*\/)(?:javascript|vbscript)(?:\W|$)/iu,ei=new Set(["ext","arg","magic-word","template"]),ti=new Set(["about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),Hs=(h=class extends I{constructor(u,o,d,x="",p,g=[],v=H.getConfig(),y=[]){const $=new V(d,"attr-key",v,y);let b;if(d==="title"||o==="img"&&d==="alt")b=new I(p,v,y,{}),b.type="attr-value",b.setAttribute("stage",Y-1);else if(o==="gallery"&&d==="caption"||o==="ref"&&d==="details"||(o==="mapframe"||o==="maplink")&&d==="text"||o==="choose"&&(d==="before"||d==="after")){const S={...v,excludes:[...v.excludes,"heading","html","table","hr","list"]};b=new I(p,S,y,{}),b.type="attr-value",b.setAttribute("stage",1)}else b=new V(p,"attr-value",v,y,{});super(void 0,v,y);T(this,n);T(this,e);T(this,t);T(this,s);T(this,r);k(this,e,u),this.append($,b),k(this,s,x),k(this,r,[...g]),k(this,t,o),this.setAttribute("name",qe(Q(d)))}get type(){return c(this,e)}get tag(){return c(this,t)}get balanced(){}afterBuild(){c(this,s).includes("\0")&&k(this,s,this.buildFromStr(c(this,s),0)),this.parentNode&&k(this,t,this.parentNode.name),B(this,n,gn).call(this),super.afterBuild()}toString(u){const[o="",d=""]=c(this,r);return c(this,s)?super.toString(u,c(this,s)+o)+d:this.firstChild.toString(u)}text(){return c(this,s)?`${super.text(`${c(this,s).trim()}"`)}"`:this.firstChild.text()}getGaps(){var u,o;return c(this,s)?c(this,s).length+((o=(u=c(this,r)[0])==null?void 0:u.length)!=null?o:0):0}lint(u=this.getAbsoluteIndex(),o){}getValue(){return c(this,s)?this.lastChild.text().trim():this.type==="ext-attr"||""}escape(){}getAttribute(u){return u==="invalid"?B(this,n,xn).call(this):super.getAttribute(u)}print(){const[u="",o=""]=c(this,r);return c(this,s)?super.print({sep:dt(c(this,s))+u,post:o}):super.print()}json(u,o=this.getAbsoluteIndex()){}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,n=new WeakSet,gn=function(){this.setAttribute("name",qe(this.firstChild.text()))},xn=function(u,o){const{firstChild:d,lastChild:x,type:p,name:g,tag:v,parentNode:y}=this,$=!x.childNodes.some(({type:A})=>ei.has(A)),b=this.getValue(),S=cn[v],w=pn[v],{length:C}=this.toString();let P="illegal-attr",F,m;if(!(S!=null&&S.has(g))&&!(w!=null&&w.has(g))&&(p==="ext-attr"?S||w:!/\{\{[^{]+\}\}/u.test(g))&&(p==="ext-attr"&&!w||!/^(?:xmlns:[\w:.-]+|data-(?!ooui|mw|parsoid)[^:]*)$/u.test(g)&&(v==="meta"||v==="link"||!dn.has(g)))||(g==="itemtype"||g==="itemid"||g==="itemref")&&!(y!=null&&y.hasAttr("itemscope"))){if(u===void 0)return!0}else if(g==="style"&&typeof b=="string"&&Yr.test(b)){if(u===void 0)return!0}else if(g==="tabindex"&&typeof b=="string"&&b!=="0"){if(u===void 0)return!0}else if(typeof b=="string"&&((/^xmlns:[\w:.-]+$/u.test(g)||ti.has(g))&&Zr.test(b)||$&&(g==="href"||v==="img"&&g==="src")&&!new RegExp(String.raw`^(?:${this.getAttribute("config").protocol}|//)\S+$`,"iu").test(b))){if(u===void 0)return!0}else if($&&p!=="ext-attr"){const A=Yi(v,g),_=String(b).toLowerCase();if(A.length>0&&A.every(N=>N!==_)&&u===void 0)return!0}return!1},h)}}),os,si,Ot,rr=f({"src/attributes.ts"(){"use strict";var e,t,Ds,r;D(),E(),ke(),xl(),os=n=>n.slice(0,-1),si=n=>`${os(n)}-dirty`,Ot=(r=class extends I{constructor(i,a,h,l,u=[]){super(void 0,l,u,{});T(this,t);T(this,e);if(k(this,e,a),this.setAttribute("name",h),i){const o=/([^\s/](?:(?!\0\d+~\x7F)[^\s/=])*)(?:((?:\s(?:\s|\0\d+[cn]\x7F)*)?(?:=|\0\d+~\x7F)(?:\s|\0\d+[cn]\x7F)*)(?:(["'])([\s\S]*?)(\3|$)|(\S*)))?/gu;let d="",x=o.exec(i),p=0;const g=(()=>{d&&(super.insertAt(new V(d,si(a),l,u,{})),d="")});for(;x;){const{index:v,0:y,1:$,2:b,3:S,4:w,5:C,6:P}=x;if(d+=i.slice(p,v),/^(?:[\w:]|\0\d+t\x7F)(?:[\w:.-]|\0\d+t\x7F)*$/u.test(Q($).trim())){const F=w!=null?w:P,m=[S,C],A=new Hs(os(a),h,$,b,F,m,l,u);g(),super.insertAt(A)}else d+=y;({lastIndex:p}=o),x=o.exec(i)}d+=i.slice(p),g()}}get type(){return c(this,e)}afterBuild(){const{parentNode:i}=this;i!=null&&i.is("td")&&this.setAttribute("name",i.subtype),super.afterBuild()}getAttrTokens(i){return this.childNodes.filter(a=>a instanceof Hs&&(!i||a.name===qe(i)))}hasAttr(i){return this.getAttrTokens(i).length>0}getAttrToken(i){}getAttr(i){}lint(i=this.getAbsoluteIndex(),a){}getAttribute(i){return i==="invalid"?B(this,t,Ds).call(this):super.getAttribute(i)}print(){return this.toString()?`<span class="wpb-${this.type}${B(this,t,Ds).call(this)?" wpb-invalid":""}">${this.childNodes.map(i=>i.print(i instanceof V?{class:i.toString().trim()&&"attr-dirty"}:void 0)).join("")}</span>`:""}},e=new WeakMap,t=new WeakSet,Ds=function(){const{parentNode:i}=this;return(i==null?void 0:i.type)==="html"&&i.closing&&this.text().trim()!==""},r)}}),mn={};M(mn,{PreToken:()=>fn});var fn,ml=f({"src/pre.ts"(){"use strict";xe(),E(),ze(),fn=class extends I{get type(){return"ext-inner"}constructor(e,t,s=[]){if(e){const r=/<nowiki>/giu,n=/<\/nowiki>/giu,{length:i}=r.source;let a=r.exec(e);a&&(n.lastIndex=a.index+i);let h=n.exec(e),l=0,u="";for(;a&&h;)new Z(a[0],t,s,!0),new Z(h[0],t,s,!0),u+=`${e.slice(l,a.index)}\0${s.length-1}n${e.slice(a.index+i,h.index)}\0${s.length}n`,l=h.index+i+1,r.lastIndex=l,a=r.exec(e),a&&(n.lastIndex=a.index+i),h=n.exec(e);e=u+e.slice(l)}super(e,t,s,{}),this.setAttribute("stage",Y-1)}isPlain(){return!0}lint(e=this.getAbsoluteIndex()){}}}}),jt,ir=f({"src/multiLine/index.ts"(){"use strict";E(),jt=class extends I{get type(){return"ext-inner"}toString(e){return super.toString(e,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}}}),vn,fl=f({"src/paramLine.ts"(){"use strict";E(),vn=class extends I{get type(){return"param-line"}}}}),bn={};M(bn,{ParamTagToken:()=>nr});var nr,wn=f({"src/multiLine/paramTag.ts"(){"use strict";Wt(),X(),ir(),fl(),nr=class extends jt{constructor(e,t,s=H.getConfig(),r=[],n){super(void 0,s,r,{}),t&&this.safeAppend(t.split(`
`).map(i=>n?i:gt(i,s,r,e)).map(i=>new vn(i,s,r,{}))),r.splice(r.indexOf(this),1),r.push(this)}lint(e=this.getAbsoluteIndex()){}}}}),ri,hs,ii,Fe,_n=f({"src/heading.ts"(){"use strict";var e,t,Tt,r;oe(),E(),$e(),ri=[ae],Fe=(r=class extends(ii=I){constructor(i,a,h,l=[]){super(void 0,h,l);T(this,t);T(this,e);k(this,e,i);const u=new I(a[0],h,l);u.type="heading-title",u.setAttribute("stage",2);const o=new fe(a[1],"heading-trail",h,l);this.append(u,o)}get type(){return"heading"}get level(){return c(this,e)}toString(i){const a=B(this,t,Tt).call(this);return a+this.firstChild.toString(i)+a+this.lastChild.toString(i)}text(){const i=B(this,t,Tt).call(this);return i+this.firstChild.text()+i}getAttribute(i){return i==="invalid"?this.inHtmlAttrs()===2:i==="padding"?this.level:super.getAttribute(i)}getGaps(){return this.level}lint(i=this.getAbsoluteIndex(),a){}print(){const i=B(this,t,Tt).call(this);return super.print({pre:i,sep:i})}json(i,a=this.getAbsoluteIndex()){}},e=new WeakMap,t=new WeakSet,Tt=function(){return"=".repeat(this.level)},r),hs=W(ii),Fe=q(hs,0,"HeadingToken",ri,Fe),j(hs,1,Fe)}}),An,vl=f({"src/parameter.ts"(){"use strict";E(),An=class extends I{get type(){return"parameter"}get anon(){return this.firstChild.length===0}get duplicated(){}constructor(e,t,s,r=[]){super(void 0,s,r);const n=new I(typeof e=="number"?void 0:e,s,r,{}),i=new I(t,s,r);n.type="parameter-key",n.setAttribute("stage",2),i.type="parameter-value",i.setAttribute("stage",2),this.append(n,i)}trimName(e,t=!0){const s=(typeof e=="string"?e:e.toString(!0)).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");return this.setAttribute("name",s),s}afterBuild(){if(!this.anon){const{parentNode:e,firstChild:t}=this,s=this.trimName(t);e&&e.getArgs(s,!1,!1).add(this)}super.afterBuild()}toString(e){return this.anon?this.lastChild.toString(e):super.toString(e,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}lint(e=this.getAbsoluteIndex(),t){}print(){return super.print({sep:this.anon?"":"="})}json(e,t=this.getAbsoluteIndex()){}}}}),ni,us,ai,Le,bl=f({"src/transclude.ts"(){"use strict";var e,t,s,r,n,i,Gs,yn,l;D(),be(),Rt(),oe(),E(),vl(),ke(),$e(),ni=[ae,ct()],Le=(l=class extends(ai=I){constructor(o,d,x,p=[]){var _,N;let g;const v=/^(?:\s|\0\d+[cn]\x7F)*\0(\d+)h\x7F(?:\s|\0\d+[cn]\x7F)*/u.exec(o);v&&(g=Number(v[1]),o=o.replace(`\0${g}h`,p[g].toString().replace(/^\n/u,"")));super(void 0,x,p,{});T(this,i);ne(this,"modifier","");T(this,e,"template");T(this,t,":");T(this,s,!1);T(this,r,new Map);T(this,n);const{parserFunction:[y,$],variable:b,functionHook:S}=x,w=(_=/^(?:\s|\0\d+[cn]\x7F)*\0\d+s\x7F/u.exec(o))==null?void 0:_[0];if(w)this.setAttribute("modifier",w),o=o.slice(w.length);else if(o.includes(":")){const[L,...R]=o.split(":"),[U]=/^(?:\s|\0\d+[cn]\x7F)*/u.exec((N=R[0])!=null?N:"");this.setModifier(`${L}:${U}`)&&(o=R.join(":").slice(U.length))}const C=o.search(/[:：]/u),P=o[C]==="：",F=C!==-1;if(F||d.length===0&&!c(this,s)){const L=F?o.slice(0,C):o,R=F&&o.slice(C+1),U=Q(L),G=F?U.slice(U.search(/\S/u))+(P?"：":""):U.trim(),Ne=G.toLowerCase(),ue=Array.isArray($),ee=ue?$.includes(G):Object.prototype.hasOwnProperty.call($,G),de=!ue&&ee?$[G]:Object.prototype.hasOwnProperty.call(y,Ne)&&y[Ne],Mt=ue&&ee||!("functionHook"in x)||S.includes(de),Ma=ue&&ee||b.includes(de);if(F?de&&Mt:Ma){this.setAttribute("name",de||Ne.replace(/^#|：$/u,"")),k(this,e,"magic-word"),P&&k(this,t,"：");const Ua=new fe(L,"magic-word-name",x,p);if(super.insertAt(Ua),R!==!1&&d.unshift([R]),this.name==="invoke")for(let Ut=0;Ut<2;Ut++){const fr=d.shift();if(!fr)break;const za=new V(fr.join("="),`invoke-${Ut?"function":"module"}`,x,p);super.insertAt(za)}}}if(this.type==="template"){const L=Q(o).trim();if(!this.normalizeTitle(L,10,{halfParsed:!0,temporary:!0}).valid)throw p.pop(),new SyntaxError("Invalid template name");const R=new V(o,"template-name",x,p,{});super.insertAt(R)}typeof g=="number"&&(p[g]=void 0);const m=this.isTemplate();let A=1;for(let L=0;L<d.length;L++){const R=d[L];m||this.name==="switch"&&L>0||this.name==="tag"&&L>1||(R[0]=R.join("="),R.length=1),R.length===1&&(R.unshift(A),A++),this.insertAt(new An(...R,x,p))}this.seal("modifier")}get type(){return c(this,e)}get module(){}get function(){}setModifier(o){const{parserFunction:[,,d,x]}=this.getAttribute("config"),p=Q(o).trim();if(o&&!p.endsWith(":"))return!1;const g=p.slice(0,-1).toLowerCase(),v=d.includes(g),y=x.includes(g);return c(this,s)&&v||!c(this,s)&&(y||!o)||(le.running||this.length>1)&&(v||y||!o)?(this.setAttribute("modifier",o),k(this,s,v),!!o):!1}isTemplate(){return this.type==="template"||this.name==="invoke"}afterBuild(){this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,0)),super.afterBuild(),this.isTemplate()&&this.type==="template"&&(k(this,n,B(this,i,Gs).call(this)),this.setAttribute("name",c(this,n).title))}toString(o){const{childNodes:d,length:x,firstChild:p,modifier:g,type:v}=this;return`{{${g}${v==="magic-word"?p.toString(o)+(x===1?"":c(this,t))+d.slice(1).map(y=>y.toString(o)).join("|"):super.toString(o,"|")}}}`}text(){const{childNodes:o,length:d,firstChild:x,modifier:p,type:g,name:v}=this;return g==="magic-word"&&v==="vardefine"?"":`{{${p}${g==="magic-word"?x.text()+(d===1?"":c(this,t))+Se(o.slice(1),"|"):super.text("|")}}}`}getAttribute(o){switch(o){case"padding":return this.modifier.length+2;case"title":return c(this,n);case"colon":return c(this,t);case"invalid":return this.type==="magic-word"&&this.name==="invoke"&&(this.length===2||!B(this,i,Gs).call(this).valid);default:return super.getAttribute(o)}}lint(o=this.getAbsoluteIndex(),d){}insertAt(o,d=this.length){return super.insertAt(o,d),o.anon?B(this,i,yn).call(this,o):o.name&&this.getArgs(o.name,!1,!1).add(o),o}getAllArgs(){return this.childNodes.filter(xr("parameter"))}getAnonArgs(){return this.getAllArgs().filter(({anon:o})=>o)}getArgs(o,d,x=!0){const p=String(o).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let g;return c(this,r).has(p)?g=c(this,r).get(p):(g=new Set(this.getAllArgs().filter(({name:v})=>p===v)),c(this,r).set(p,g)),g}getDuplicatedArgs(){}getPossibleValues(){const{type:o,name:d,childNodes:x}=this;if(o==="template")throw new Error("TranscludeToken.getPossibleValues method is only for specific magic words!");let p,g;switch(d){case"if":case"ifexist":case"ifexpr":case"iferror":p=2;break;case"ifeq":p=3;break;case"switch":{const v=x.slice(2),y=v[v.length-1];g=[...v.filter(({anon:$})=>!$),...y!=null&&y.anon?[y]:[]].map(({lastChild:$})=>$);break}default:throw new Error("TranscludeToken.getPossibleValues method is only for specific magic words!")}g!=null||(g=x.slice(p,p+2).map(({lastChild:v})=>v));for(let v=0;v<g.length;){const{length:y,0:$}=g[v].childNodes.filter(b=>b.text().trim());if(y===0)g.splice(v,1);else if(y>1||$.type!=="magic-word")v++;else try{const b=$.getPossibleValues();Array.prototype.splice.apply(g,[v,1,...b]),v+=b.length}catch{v++}}return g}print(){const{childNodes:o,length:d,firstChild:x,modifier:p,type:g}=this;return`<span class="wpb-${g}${this.getAttribute("invalid")?" wpb-invalid":""}">{{${g==="magic-word"?dt(p)+x.print()+(d===1?"":c(this,t))+We(o.slice(1),{sep:"|"}):(p?`<span class="wpb-magic-word">${dt(p)}</span>`:"")+We(o,{sep:"|"})}}}</span>`}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakSet,Gs=function(){const o=this.type==="template";return this.normalizeTitle((o?"":"Module:")+this.childNodes[o?0:1].text(),10,{temporary:!0,...!o&&{page:""}})},yn=function(o){const d=this.getAnonArgs(),x=typeof o!="number";for(let p=x?d.indexOf(o):o-1;p<d.length;p++){const g=d[p],{name:v}=g,y=String(p+1);(v!==y||g===o)&&(g.setAttribute("name",y),this.getArgs(y,!1,!1).add(g))}},l),us=W(ai),Le=q(us,0,"TranscludeToken",ni,Le),j(us,1,Le)}}),li,ds,oi,tt,wl=f({"src/hidden.ts"(){"use strict";Te(),E(),li=[me()],tt=class extends(oi=I){get type(){return"hidden"}getAttribute(e){return e==="invalid"||super.getAttribute(e)}},ds=W(oi),tt=q(ds,0,"HiddenToken",li,tt),j(ds,1,tt)}}),hi,ps,ui,st,_l=f({"src/arg.ts"(){"use strict";var e,Al,s;D(),ve(),Rt(),oe(),E(),ke(),wl(),hi=[ae,he("{{{"),ct()],st=(s=class extends(ui=I){constructor(n,i,a=[]){super(void 0,i,a,{});T(this,e);for(let h=0;h<n.length;h++){const l=n[h];if(h===0){const u=new V(l,"arg-name",i,a,{});super.insertAt(u)}else if(h>1){const u=new tt(l,i,a);super.insertAt(u)}else{const u=new I(l,i,a);u.type="arg-default",u.setAttribute("stage",2),super.insertAt(u)}}}get type(){return"arg"}get default(){}toString(n){return`{{{${super.toString(n,"|")}}}}`}text(){return`{{{${Se(this.childNodes.slice(0,2),"|")}}}}`}afterBuild(){super.afterBuild()}lint(n=this.getAbsoluteIndex(),i){}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}json(n,i=this.getAbsoluteIndex()){}},e=new WeakSet,Al=function(){},s),ps=W(ui),st=q(ps,0,"ArgToken",hi,st),j(ps,1,st)}}),Sn={};M(Sn,{parseBraces:()=>qt});var di,cs,bt,gs,xs,ms,pi,fs,qt,ar=f({"parser/braces.ts"(){"use strict";Ft(),D(),_n(),bl(),_l(),di={"=":String.raw`\n(?!(?:[^\S\n]|\0\d+[cn]\x7F)*\n)`,"{":String.raw`\}{2,}|\|`,"-":String.raw`\}-`,"[":String.raw`\]\]`},cs=String.raw`\[(?!\[)`,bt=String.raw`\n(?![=\0])`,gs=String.raw`|\{{2,}`,xs=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"],["server","m"]]),ms=ot(e=>new RegExp(e,"gmu")),pi=new RegExp(String.raw`\{\{((?:[^\n{}[]|${cs}|${bt})*)\}\}(?!\})`+"|"+String.raw`\[\[(?:[^\n[\]{]|${bt})*\]\]`+"|"+String.raw`-\{(?:[^\n{}[]|${cs}|${bt})*\}-`,"gu"),fs=e=>{const t=qe(Q(e));return xs.has(t)?xs.get(t):/^(?:filepath|(?:full|canonical)urle?):./u.test(t)?"m":/^#vardefine:./u.test(t)?"n":"t"},qt=(e,t,s)=>{var g,v,y,$,b;const r=String.raw`${t.excludes.includes("heading")?"":String.raw`^((?:\0\d+[cno]\x7F)*)={1,6}|`}\[\[|-\{(?!\{)`,{parserFunction:[,,,n]}=t,i=[],a=[],h=(S,w,C,P)=>{w[w.length-1].push(K(S.slice(C,P),a))};let l;do l!==void 0&&(e=l),l=e.replace(pi,(S,w,C)=>{if(w!==void 0||typeof C=="string")try{const{length:P}=s,F=(w!=null?w:C).split("|");return new Le(K(F[0],a),F.slice(1).map(m=>{const A=m.indexOf("=");return(A===-1?[m]:[m.slice(0,A),m.slice(A+1)]).map(_=>K(_,a))}),t,s),`\0${P}${fs(F[0])}`}catch(P){if(!(P instanceof SyntaxError)||P.message!=="Invalid template name")throw P}return a.push(K(S,a)),`\0${a.length-1}`});while(l!==e);e=l;const u=e.lastIndexOf("}}")-e.length;let o=u+e.length!==-1,d=ms(r+(o?gs:"")),x=d.exec(e),p;for(;x||p!==void 0&&p<=e.length&&((v=(g=i[i.length-1])==null?void 0:g[0])!=null&&v.startsWith("="));){if(x!=null&&x[1]){const[,{length:R}]=x;x[0]=x[0].slice(R),x.index+=R}const{0:S,index:w}=x!=null?x:{0:`
`,index:e.length},C=(y=i.pop())!=null?y:{},{0:P,index:F,parts:m,findEqual:A,pos:_}=C,N=S==="="&&A;if(S==="]]"||S==="}-")p=w+2;else if(S===`
`){p=w+1;const{pos:R,findEqual:U}=($=i[i.length-1])!=null?$:{};if(R===void 0||U||Q(e.slice(R,F))!==""){const G=/^(={1,6})(.+)\1((?:\s|\0\d+[cn]\x7F)*)$/u.exec(e.slice(F,w));G&&(G[2]=K(G[2],a),G[2].includes(`
`)||(e=`${e.slice(0,F)}\0${s.length}h${e.slice(w)}`,p=F+4+String(s.length).length,new Fe(G[1].length,G.slice(2),t,s)))}}else if(S==="|"||N)p=w+1,h(e,m,_,w),S==="|"&&m.push([]),C.pos=p,C.findEqual=S==="|",i.push(C);else if(S.startsWith("}}")){const R=S.slice(0,Math.min(P.length,3)),U=P.length-R.length,{length:G}=s;p=w+R.length,h(e,m,_,w);let Ne=!1,ue="t";if(R.length===3){const ee=m.map(Mt=>Mt.join("=")),de=ee.length>1&&Q(ee[1]).trim();new st(ee,t,s),de&&de.endsWith(":")&&n.includes(de.slice(0,-1).toLowerCase())&&(ue="s")}else try{new Le(m[0][0],m.slice(1),t,s),ue=fs(m[0][0])}catch(ee){if(ee instanceof SyntaxError&&ee.message==="Invalid template name")Ne=!0;else throw ee}Ne||(e=`${e.slice(0,F+U)}\0${G}${ue}${e.slice(p)}`,p=F+U+3+String(G).length,U>1?i.push({0:P.slice(0,U),index:F,pos:F+U,parts:[[]]}):U===1&&e[F-1]==="-"&&i.push({0:"-{",index:F-1,pos:F+1,parts:[[]]}))}else p=w+S.length,S.startsWith("{")&&(x.pos=p,x.parts=[[]]),i.push(..."0"in C?[C]:[],x);let L=i[i.length-1];if(o&&u+e.length<p)for(o=!1;(b=L==null?void 0:L[0])!=null&&b.startsWith("{");)i.pop(),L=i[i.length-1];d=ms(r+(o?gs:"")+(L?`|${di[L[0][0]]}${L.findEqual?"|=":""}`:"")),d.lastIndex=p,x=d.exec(e)}return K(e,a)}}}),Tn={};M(Tn,{InputboxToken:()=>$n});var $n,yl=f({"src/multiLine/inputbox.ts"(){"use strict";Wt(),ar(),X(),wn(),$n=class extends nr{constructor(e,t,s=H.getConfig(),r=[]){const n=Symbol("InputboxToken"),i=s.excludes.includes("heading")?s:{...s,excludes:[...s.excludes,"heading"]},{length:a}=r;r.push(n),t&&(t=gt(t,i,r,e)),t&&(t=qt(t,i,r)),r.splice(a,1),super(e,t,i,r,{})}}}}),$t={};M($t,{NestedToken:()=>kn});var kn,vs=f({"src/nested.ts"(){"use strict";var e,t,s;Wt(),ar(),E(),Xn(),ze(),kn=(s=class extends I{constructor(n,i,a,h,l=[]){if(typeof i=="boolean"){const u=Symbol("NestedToken"),{length:o}=l;l.push(u),n&&(n=gt(n,h,l,i)),n&&(n=qt(n,h,l)),l.splice(o,1)}else n&&(n=n.replace(i,(u,o,d,x,p)=>{const g=`\0${l.length+1}e`;return new Be(o,d,x,p,h,!1,l),g}));n&&(n=n.replace(/(^|\0\d+.\x7F)([^\0]+)(?=$|\0\d+.\x7F)/gu,(u,o,d)=>(new Z(d,h,l),`${o}\0${l.length}n`)));super(n,h,l);T(this,e);T(this,t);k(this,e,[...a]),k(this,t,i)}get type(){return"ext-inner"}lint(n=this.getAbsoluteIndex(),i){}},e=new WeakMap,t=new WeakMap,s)}});function Sl(e,t,s,r,n){t=Q(t).trim();let i=t.replace(e==="link"?/\0\d+[tq]\x7F/gu:/\0\d+t\x7F/gu,"").trim();switch(e){case"width":return!i&&!!t||/^(?:\d+x?|\d*x\d+)(?:\s*px)?$/u.test(i);case"link":{if(i){if(Cn(s.protocol).test(i))return Nn(s.protocol).test(i)&&t;i.startsWith("[[")&&i.endsWith("]]")&&(i=i.slice(2,-2))}else return t;const a=H.normalizeTitle(i,0,!1,s,{halfParsed:r,decode:!0,selfLink:!0,page:""});return a.valid&&a}case"lang":return(n==="svg"||n==="svgz")&&!/[^a-z\d-]/u.test(i);case"alt":case"class":case"manualthumb":return!0;case"page":return(n==="djvu"||n==="djv"||n==="pdf")&&Number(i)>0;default:return!!i&&!isNaN(i)}}var Cn,Nn,ci,gi,In,Tl=f({"src/imageParameter.ts"(){"use strict";var e,t,$l,n;Ft(),D(),xe(),X(),E(),Cn=ot(i=>new RegExp(String.raw`^(?:${i}|//|\0\d+m\x7F)`,"iu")),Nn=ot(i=>new RegExp(String.raw`^(?:(?:${i}|//)${ht}|\0\d+m\x7F)${ut}$`,"iu")),ci=ot(i=>new RegExp(String.raw`^(\s*(?!\s))${i.replace("$1","(.*)")}${i.endsWith("$1")?`(?=$|
)`:""}(\s*)$`,"u")),gi=new Set(["alt","link","lang","page","caption"]),In=(n=class extends I{constructor(a,h,l,u){var i=(...r)=>(super(...r),T(this,t),T(this,e,""),this);let o;const d=Object.entries(l.img).map(([p,g])=>[p,g,ci(p)]),x=d.find(([,p,g])=>(o=g.exec(a),o&&(o.length!==4||Sl(p,o[2],l,!0,h)!==!1)));if(x&&o){o.length===3?(i(void 0,l,u),k(this,e,a)):(i(o[2],l,u,{}),k(this,e,o[1]+x[0]+o[3])),this.setAttribute("name",x[1]),x[1]==="alt"&&this.setAttribute("stage",Y-1);return}i(a,l.excludes.includes("list")?l:{...l,excludes:[...l.excludes,"list"]},u),this.setAttribute("name","caption"),this.setAttribute("stage",7)}get type(){return"image-parameter"}get thumb(){}get link(){}afterBuild(){var a;(a=this.parentNode)!=null&&a.is("gallery-image")&&!gi.has(this.name)&&this.setAttribute("name","invalid"),super.afterBuild()}toString(a){return c(this,e)?c(this,e).replace("$1",super.toString(a)):super.toString(a)}text(){return c(this,e)?c(this,e).replace("$1",super.text()).trim():super.text().trim()}isPlain(){return this.name==="caption"||this.name==="alt"}getAttribute(a){return a==="invalid"?this.name==="invalid":a==="padding"?Math.max(0,c(this,e).indexOf("$1")):super.getAttribute(a)}lint(a=this.getAbsoluteIndex(),h){}getValue(){}print(){return c(this,e)?`<span class="wpb-image-parameter${this.name==="invalid"?" wpb-invalid":""}">${c(this,e).replace("$1",`<span class="wpb-image-caption">${We(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}},e=new WeakMap,t=new WeakSet,$l=function(){},n)}}),xi,lr,Fn=f({"src/link/file.ts"(){"use strict";Pt(),Tl(),xi=e=>{if(e===void 0)return[];const t=/-\{|\}-|\|/gu,s=[];let r=t.exec(e),n=0,i=0;for(;r;){const{0:a,index:h}=r;a!=="|"?n+=a==="-{"?1:-1:n===0&&(s.push(e.slice(i,h)),{lastIndex:i}=t),r=t.exec(e)}return s.push(e.slice(i)),s},lr=class extends ce{get type(){return"file"}get extension(){}constructor(e,t,s,r=[],n="|"){super(e,void 0,s,r,n);const{extension:i}=this.getTitle(!0,!0);this.safeAppend(xi(t).map(a=>new In(a,i,s,r)))}lint(e=this.getAbsoluteIndex(),t){}getAllArgs(){}getArgs(e){}getArg(e){}getValue(e){}json(e,t=this.getAbsoluteIndex()){}}}}),mi,bs,fi,Ee,Ln=f({"src/link/galleryImage.ts"(){"use strict";var e,En,s;xe(),ve(),E(),Fn(),mi=[he("")],Ee=(s=class extends(fi=lr){constructor(n,i,a,h,l=[]){let u;if(a!==void 0){const{length:o}=l;u=new I(a,h,l);for(let d=0;d<Y-1;d++)u.parseOnce();l.splice(o,1)}super(i,u==null?void 0:u.toString(),h,l);T(this,e);ne(this,"privateType","imagemap-image");this.setAttribute("bracket",!1),this.privateType=`${n}-image`,this.seal("privateType",!0)}get type(){return this.privateType}getTitle(n){const i=this.type==="imagemap-image";return this.normalizeTitle(this.firstChild.toString(),i?0:6,{halfParsed:!0,temporary:n,decode:!i,page:""})}lint(n=this.getAbsoluteIndex(),i){}getAttribute(n){return n==="invalid"?B(this,e,En).call(this):super.getAttribute(n)}},e=new WeakSet,En=function(){const{ns:n}=this.getAttribute("title");return n!==6},s),bs=W(fi),Ee=q(bs,0,"GalleryImageToken",mi,Ee),j(bs,1,Ee)}}),Nt,Pn=f({"src/nowiki/commentLine.ts"(){"use strict";ze(),Nt=class extends Z{}}}),Rn={};M(Rn,{GalleryToken:()=>Bn});var Bn,kl=f({"src/multiLine/gallery.ts"(){"use strict";var e,On,Cl,r;ir(),Ln(),Pn(),Bn=(r=class extends jt{constructor(i,a,h=[]){var l;super(void 0,a,h,{});T(this,e);for(const u of(l=i==null?void 0:i.split(`
`))!=null?l:[]){const o=/^([^|]+)(?:\|(.*))?/u.exec(u);if(!o){super.insertAt(u.trim()?new Nt(u,a,h):u);continue}const[,d,x]=o;B(this,e,On).call(this,d)?super.insertAt(new Ee("gallery",d,x,a,h)):super.insertAt(new Nt(u,a,h))}}get widths(){}get heights(){}lint(i=this.getAbsoluteIndex(),a){}json(i,a=this.getAbsoluteIndex()){}},e=new WeakSet,On=function(i){return this.normalizeTitle(i,6,{halfParsed:!0,temporary:!0,decode:!0,page:""}).valid},Cl=function(i){},r)}}),or,jn=f({"src/link/index.ts"(){"use strict";Pt(),or=class extends ce{get type(){return"link"}get innerText(){}lint(e=this.getAbsoluteIndex(),t){}}}}),vi,bi,pt,hr=f({"src/magicLink.ts"(){"use strict";var e,t,qn,r;D(),X(),E(),vi=String.raw`(?:[${ye}\t]|&nbsp;|&#0*160;|&#[xX]0*[aA]0;)`,bi=new RegExp(`${vi}+`,"gu"),pt=(r=class extends I{constructor(i,a="free-ext-link",h=H.getConfig(),l){super(i,h,l,{});T(this,t);T(this,e);k(this,e,a)}get type(){return c(this,e)}get innerText(){const i=new Map([["!","|"],["=","="]]);let a=Se(this.childNodes.map(h=>{const{type:l}=h,u=String(h.name);return l==="magic-word"&&i.has(u)?i.get(u):h}));return this.type==="magic-link"&&(a=a.replace(bi," ")),a}get link(){const{innerText:i}=this;return this.type==="magic-link"?i.startsWith("ISBN")?`ISBN ${i.slice(5).replace(/[- ]/gu,"").replace(/x$/u,"X")}`:i:Ki(i).replace(/\n/gu,"%0A")}lint(i=this.getAbsoluteIndex(),a){}getUrl(i){this.lspError("MagicLinkToken.getUrl")}getAttribute(i){return i==="invalid"?B(this,t,qn).call(this):super.getAttribute(i)}},e=new WeakMap,t=new WeakSet,qn=function(){if(this.type==="magic-link"){const{link:i}=this;if(i.startsWith("ISBN")){const a=[...i.slice(5)].map(h=>h==="X"?10:Number(h));return a.length===10?a.reduce((h,l,u)=>h+l*(10-u),0)%11!==0:a.length===13&&(a[12]===10||a.reduce((h,l,u)=>h+l*(u%2?3:1),0)%10!==0)}}return!1},r)}}),wi,ws,_i,Pe,Wn=f({"src/extLink.ts"(){"use strict";var e,t;xe(),ve(),E(),hr(),wi=[he("[")],Pe=(t=class extends(_i=I){constructor(r,n="",i="",a,h=[]){super(void 0,a,h,{});T(this,e);const l=r&&/^\0\d+f\x7F$/u.test(r)?h[Number(r.slice(1,-2))]:new pt(r,"ext-link-url",a,h);if(this.insertAt(l),k(this,e,n),i){const u=new I(i,a,h,{});u.type="ext-link-text",u.setAttribute("stage",Y-1),this.insertAt(u)}}get type(){return"ext-link"}toString(r){return this.length===1?`[${super.toString(r)}${c(this,e)}]`:`[${super.toString(r,c(this,e))}]`}text(){return`[${super.text(" ")}]`}getGaps(){return c(this,e).length}lint(r=this.getAbsoluteIndex(),n){}print(){return super.print(this.length===1?{pre:"[",post:`${c(this,e)}]`}:{pre:"[",sep:c(this,e),post:"]"})}},e=new WeakMap,t),ws=W(_i),Pe=q(ws,0,"ExtLinkToken",wi,Pe),j(ws,1,Pe)}}),Vs,Nl=f({"src/imagemapLink.ts"(){"use strict";E(),ze(),jn(),Wn(),Vs=class extends I{get type(){return"imagemap-link"}constructor(e,t,s,r,n=[]){super(void 0,r,n),this.append(e,t.length===2?new or(...t,r,n):new Pe(...t,r,n),new Z(s,r,n))}}}}),Mn={};M(Mn,{ImagemapToken:()=>Un});var Un,Il=f({"src/multiLine/imagemap.ts"(){"use strict";be(),X(),ir(),Pn(),Ln(),Nl(),Un=class extends jt{get image(){return this.childNodes.find(xr("imagemap-image"))}constructor(e,t=H.getConfig(),s=[]){if(super(void 0,t,s,{}),!e)return;const r=e.split(`
`),n=new Set(t.protocol.split("|"));let i=!0,a=!1;for(const h of r){const l=h.trim();if(!(a||!l||l.startsWith("#"))){if(i){const u=h.indexOf("|"),o=u===-1?h:h.slice(0,u),{valid:d,ns:x}=this.normalizeTitle(o,0,{halfParsed:!0,temporary:!0,page:""});if(d&&x===6){const p=new Ee("imagemap",o,u===-1?void 0:h.slice(u+1),t,s);super.insertAt(p),i=!1;continue}else a=!0}else if(h.trim().split(/[\t ]/u,1)[0]==="desc"){super.insertAt(h);continue}else if(h.includes("[")){const u=h.indexOf("["),o=h.slice(u),d=/^\[\[([^|]+)(?:\|([^\]]*))?\]\][\w\s]*$/u.exec(o);if(d){if(this.normalizeTitle(d[1],0,{halfParsed:!0,temporary:!0,selfLink:!0,page:""}).valid){super.insertAt(new Vs(h.slice(0,u),d.slice(1),o.slice(o.indexOf("]]")+2),t,s));continue}}else if(o.startsWith("[//")||n.has(o.slice(1,o.indexOf(":")+1))||n.has(o.slice(1,o.indexOf("//")+2))){const x=/^\[([^\]\s]+)(?:(\s+(?!\s))([^\]]*))?\][\w\s]*$/u.exec(o);if(x){super.insertAt(new Vs(h.slice(0,u),x.slice(1),o.slice(o.indexOf("]")+1),t,s));continue}}}}super.insertAt(new Nt(h,t,s))}}lint(e=this.getAbsoluteIndex(),t){}getAttribute(e){return e==="invalid"?!this.image:super.getAttribute(e)}}}}),Ai,_s,yi,Re,zn=f({"src/nowiki/comment.ts"(){"use strict";Te(),ve(),Ce(),Ai=[me(!1),he("<!--")],Re=class extends(yi=ie){constructor(t,s,r,n){super(t,r,n);ne(this,"closed");this.closed=s}get type(){return"comment"}lint(t=this.getAbsoluteIndex()){}toString(t){return t?"":`<!--${this.innerText}${this.closed?"-->":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}},_s=W(yi),Re=q(_s,0,"CommentToken",Ai,Re),j(_s,1,Re)}}),Hn={};M(Hn,{CommentedToken:()=>Dn});var Dn,Fl=f({"src/commented.ts"(){"use strict";E(),zn(),Dn=class extends I{get type(){return"ext-inner"}constructor(e,t,s=[]){if(super(void 0,t,s,{AstText:":",CommentToken:":"}),e){let r=e.indexOf("<!--"),n=r!==-1&&e.indexOf("-->",r+4),i=0;for(;n!==!1&&n!==-1;)r>i&&this.insertAt(e.slice(i,r)),this.insertAt(new Re(e.slice(r+4,n),!0,t,s)),i=n+3,r=e.indexOf("<!--",i),n=r!==-1&&e.indexOf("-->",r+4);i<e.length&&this.insertAt(e.slice(i))}}lint(e=this.getAbsoluteIndex()){}}}}),Gn={};M(Gn,{NowikiToken:()=>Vn});var Si,Vn,Ll=f({"src/nowiki/index.ts"(){"use strict";var e,Qn,s;Ce(),Si=new Set(["languages","section","templatestyles"]),Vn=(s=class extends ie{constructor(){super(...arguments);T(this,e)}get type(){return"ext-inner"}lint(n=this.getAbsoluteIndex()){}getAttribute(n){return n==="invalid"?B(this,e,Qn).call(this):super.getAttribute(n)}},e=new WeakSet,Qn=function(){const{name:n,firstChild:{data:i}}=this;return Si.has(n)&&!!i},s)}}),Ti,As,$i,Be,Xn=f({"src/tagPair/ext.ts"(){"use strict";X(),sr(),E(),er(),rr(),Ti=[Bt()],Be=class extends($i=Ae){get type(){return"ext"}constructor(e,t,s,r,n=H.getConfig(),i=!1,a=[]){const h=e.toLowerCase(),l=new Ot(!t||/^\s/u.test(t)?t:` ${t}`,"ext-attrs",h,n,a),u={...n,ext:n.ext.filter(d=>d!==h),excludes:[...n.excludes],inExt:!0};let o;switch(h){case"tab":u.ext=u.ext.filter(d=>d!=="tabs");case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"langconvert":case"phonos":h==="poem"&&u.excludes.push("heading"),o=new I(s,u,a);break;case"pre":{const{PreToken:d}=(ml(),O(mn));o=new d(s,u,a);break}case"dynamicpagelist":{const{ParamTagToken:d}=(wn(),O(bn));o=new d(i,s,u,a);break}case"inputbox":{const{InputboxToken:d}=(yl(),O(Tn));o=new d(i,s,u,a);break}case"references":{const{NestedToken:d}=(vs(),O($t));u.excludes.push("heading"),o=new d(s,i,["ref"],u,a);break}case"choose":{const{NestedToken:d}=(vs(),O($t));o=new d(s,/<(option|choicetemplate)(\s[^>]*?)?(?:\/>|>([\s\S]*?)<\/(\1)>)/gu,["option","choicetemplate"],u,a);break}case"combobox":{const{NestedToken:d}=(vs(),O($t));o=new d(s,/<(combooption)(\s[^>]*?)?(?:\/>|>([\s\S]*?)<\/(combooption\s*)>)/giu,["combooption"],u,a);break}case"gallery":{const{GalleryToken:d}=(kl(),O(Rn));o=new d(s,u,a);break}case"imagemap":{const{ImagemapToken:d}=(Il(),O(Mn));o=new d(s,u,a);break}case"hiero":{const{CommentedToken:d}=(Fl(),O(Hn));o=new d(s,u,a);break}default:{const{NowikiToken:d}=(Ll(),O(Gn));o=new d(s,u,a)}}o.setAttribute("name",h),o.type==="plain"&&(o.type="ext-inner"),super(e,l,o,r,n,a),this.seal("closed",!0)}lint(e=this.getAbsoluteIndex(),t){}},As=W($i),Be=q(As,0,"ExtToken",Ti,Be),j(As,1,Be)}}),Jn={};M(Jn,{parseCommentAndExt:()=>gt});var ys,ki,wt,Ci,Ss,gt,Wt=f({"parser/commentAndExt.ts"(){"use strict";Ft(),D(),ul(),ze(),pl(),cl(),Xn(),zn(),ys="<onlyinclude>",ki="</onlyinclude>",{length:wt}=ys,Ci=[!1,!0].map(e=>{const t=e?"includeonly":"(?:no|only)include",s=e?"noinclude":"includeonly";return ot(r=>new RegExp(String.raw`<!--[\s\S]*?(?:-->|$)|<${t}(?:\s[^>]*)?/?>|</${t}\s*>|<(${r})(\s[^>]*?)?(?:/>|>([\s\S]*?)</(${"\\1"}\s*)>)|<(${s})(\s[^>]*?)?(?:/>|>([\s\S]*?)(?:</(${s}\s*)>|$))`,"giu"))}),Ss=e=>{const t=e.indexOf(ys);return{i:t,j:e.indexOf(ki,t+wt)}},gt=(e,t,s,r)=>{if(r){let{i:l,j:u}=Ss(e);if(l!==-1&&u!==-1){let o="";const d=x=>{new Z(x,t,s),o+=`\0${s.length-1}n`};for(;l!==-1&&u!==-1;){const x=`\0${s.length}e`;new Ze(e.slice(l+wt,u),t,s),l>0&&d(e.slice(0,l)),o+=x,e=e.slice(u+wt+1),{i:l,j:u}=Ss(e)}return e&&d(e),o}}const{ext:n}=t;let i=n,a=t;if(n.includes("translate")){i=n.filter(u=>u!=="translate"&&u!=="tvar"),a={...t,ext:i};const l=[];e=e.replace(/<nowiki>[\s\S]*?<\/nowiki>/giu,u=>(l.push(u),`\0${l.length-1}`)).replace(/<translate( nowrap)?>([\s\S]+?)?<\/translate>/gu,(u,o,d)=>{const x=s.length;return new hn(o,d&&K(d,l),a,s),`\0${x}g`}),e=K(e,l)}const h=Ci[r?1:0](i.join("|"));return h.lastIndex=0,h.test(e)?e.replace(h,(l,u,o,d,x,p,g,v,y)=>{const $=s.length;let b="n";if(u)b="e",new Be(u,o,d,x,a,p,s);else if(l.startsWith("<!--")){b="c";const S=l.endsWith("-->");new Re(K(l,s,1).slice(4,S?-3:void 0),S,t,s)}else p?new et(p,g&&K(g,s,1),v&&K(v,s,1),y,t,s):new Z(l,t,s,!0);return`\0${$}${b}`}):e}}}),Ni,Ts,Ii,rt,El=f({"src/tag/html.ts"(){"use strict";var e,t;sr(),on(),Ni=[Bt()],rt=(t=class extends(Ii=tr){constructor(r,n,i,a,h,l){super(r,n,i,h,l);T(this,e);this.setAttribute("name",r.toLowerCase()),k(this,e,a)}get type(){return"html"}get selfClosing(){return c(this,e)}text(){const{closing:r,selfClosing:n,name:i}=this,{html:[,,a]}=this.getAttribute("config");return a.includes(i)?r&&i!=="br"?"":super.text("/"):super.text(n&&!r?"/":"")}lint(r=this.getAbsoluteIndex(),n){}getAttribute(r){return r==="invalid"?this.inTableAttrs()===2:super.getAttribute(r)}json(r,n=this.getAbsoluteIndex()){}},e=new WeakMap,t),Ts=W(Ii),rt=q(Ts,0,"HtmlToken",Ni,rt),j(Ts,1,rt)}}),Kn={};M(Kn,{parseHtml:()=>Yn});var Fi,Yn,Pl=f({"parser/html.ts"(){"use strict";rr(),El(),Fi=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,Yn=(e,t,s)=>{var a;const{html:r}=t;(a=t.htmlElements)!=null||(t.htmlElements=new Set([...r[0],...r[1],...r[2]]));const n=e.split("<");let i=n.shift();for(const h of n){const l=Fi.exec(h),u=l==null?void 0:l[2],o=u==null?void 0:u.toLowerCase();if(!l||!t.htmlElements.has(o)){i+=`<${h}`;continue}const[,d,,x="",p,g]=l,{length:v}=s,y=new Ot(x,"html-attrs",o,t,s),$=y.hasAttr("itemprop");if(o==="meta"&&!($&&y.hasAttr("content"))||o==="link"&&!($&&y.hasAttr("href"))){i+=`<${h}`,s.length=v;continue}i+=`\0${s.length}x${g}`,new rt(u,y,d==="/",p==="/>",t,s)}return i}}}),Li,$s,Ei,Oe,Zn=f({"src/table/base.ts"(){"use strict";sr(),E(),$e(),rr(),Li=[Bt(1)],Oe=class extends(Ei=I){constructor(e,t,s,r,n,i=[],a){super(void 0,n,i,a),this.append(new fe(t,"table-syntax",n,i),new Ot(r,"table-attrs",s,n,i))}escape(){}},$s=W(Ei),Oe=q($s,0,"TableBaseToken",Li,Oe),j($s,1,Oe)}}),Pi,ks,se,_t,Qe,Xe,Qs,Rl=f({"src/table/td.ts"(){"use strict";Zs(),E(),Zn(),Qs=class extends(ks=Oe,Pi=[Et(!1)],ks){constructor(e,t,s,r=[]){var h;let n=/\||\0\d+!\x7F/u.exec(t!=null?t:""),i=n?t.slice(0,n.index):"";/\[\[|-\{/u.test(i)&&(n=null,i=""),super(/^(?:\n[^\S\n]*(?:[|!]|\|\+|\{\{\s*!\s*\}\}\+?)|(?:\||\{\{\s*!\s*\}\}){2}|!!|\{\{\s*!!\s*\}\})$/u,e,"td",i,s,r),j(_t,5,this),pe(this,Qe),pe(this,se,""),n&&([el(this,se)._]=n);const a=new I(t==null?void 0:t.slice(((h=n==null?void 0:n.index)!=null?h:NaN)+z(this,se).length),s,r);a.type="td-inner",a.setAttribute("stage",4),this.insertAt(a)}get type(){return"td"}get rowspan(){}get colspan(){}get subtype(){return qs(this,Qe,Xe).call(this).subtype}afterBuild(){z(this,se).includes("\0")&&re(this,se,this.buildFromStr(z(this,se),0)),super.afterBuild()}toString(e){const{childNodes:[t,s,r]}=this;return t.toString(e)+s.toString(e)+z(this,se)+r.toString(e)}text(){const{childNodes:[e,t,s]}=this;return e.text()+t.text()+z(this,se)+s.text()}getGaps(e){return e===1?z(this,se).length:0}lint(e=this.getAbsoluteIndex(),t){}isIndependent(){return this.firstChild.text().startsWith(`
`)}getAttr(e){}escape(){}print(){const{childNodes:[e,t,s]}=this;return`<span class="wpb-td">${e.print()}${t.print()}${z(this,se)}${s.print()}</span>`}json(e,t=this.getAbsoluteIndex()){}},_t=W(ks),se=new WeakMap,Qe=new WeakSet,Xe=function(){var e;const t=this.firstChild.text(),s=t.slice(-1);let r="td";if(s==="!"?r="th":s==="+"&&(r="caption"),this.isIndependent())return{subtype:r};const{previousSibling:n}=this;return{...qs(e=n,Qe,Xe).call(e)}},Xe=q(_t,17,"#getSyntax",Pi,Qe,Xe),Ks(_t,Qs)}}),ur,ea=f({"src/table/trBase.ts"(){"use strict";Zn(),ur=class extends Oe{lint(e=this.getAbsoluteIndex(),t){}getRowCount(){}}}}),Ri,Cs,At,kt,Bl=f({"src/table/index.ts"(){"use strict";be(),Zs(),ea(),$e(),kt=class extends(Cs=ur,Ri=[Et(!1)],Cs){constructor(e,t,s,r){super(/^(?:\{\||\{\{\{\s*!\s*\}\}|\{\{\s*\(!\s*\}\})$/u,e,"table",t,s,r,{}),j(At,5,this)}get type(){return"table"}get closed(){}lint(e=this.getAbsoluteIndex(),t){}close(e=`
|}`,t){le.run(()=>{const s=new fe(t?e:void 0,"table-syntax",this.getAttribute("config"),this.getAttribute("accum"));super.insertAt(s)})}getLayout(e){}getAllRows(){}getNthRow(e,t,s){}json(e,t=this.getAbsoluteIndex()){}},At=W(Cs),q(At,1,"getLayout",Ri,kt),Ks(At,kt)}}),ta,Ol=f({"src/table/tr.ts"(){"use strict";ea(),ta=class extends ur{get type(){return"tr"}constructor(e,t,s,r){super(/^\n[^\S\n]*(?:\|-+|\{\{\s*!\s*\}\}-+|\{\{\s*!-\s*\}\}-*)$/u,e,"tr",t,s,r)}}}}),dr,sa=f({"src/nowiki/listBase.ts"(){"use strict";Ce(),dr=class extends ie{get indent(){}json(e,t=this.getAbsoluteIndex()){}}}}),pr,ra=f({"src/nowiki/dd.ts"(){"use strict";sa(),pr=class extends dr{get type(){return"dd"}}}}),ia={};M(ia,{parseTable:()=>na});var Bi,Ns,na,jl=f({"parser/table.ts"(){"use strict";E(),Bl(),Ol(),Rl(),ra(),Bi=e=>e.lastChild.constructor!==I,Ns=(e,t)=>e.is("td")?t.pop():e,na=({firstChild:{data:e},type:t,name:s},r,n)=>{const i=[],a=e.split(`
`);let h=t==="root"||t==="parameter-value"||t==="ext-inner"&&s==="poem"?"":`
${a.shift()}`,l;const u=(o,d)=>{if(!d){h+=o;return}const{lastChild:x}=d;if(Bi(d)){const p=new I(o,r,n);p.type="table-inter",p.setAttribute("stage",3),d.insertAt(p)}else x.setText(x.toString()+o)};for(const o of a){l=i.pop();const[d]=/^(?:\s|\0\d+[cno]\x7F)*/u.exec(o),x=o.slice(d.length),p=/^(:*)((?:\s|\0\d+[cn]\x7F)*)(\{\||\{(?:\0\d+[cn]\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(x);if(p){for(;l&&!l.is("td");)l=i.pop();const[,S,w,C,P]=p;S&&new pr(S,r,n),u(`
${d}${S&&`\0${n.length-1}d`}${w}\0${n.length}b`,l),i.push(...l?[l]:[],new kt(C,P,r,n));continue}else if(!l){h+=`
${o}`;continue}const g=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(x);if(!g){u(`
${o}`,l),i.push(l);continue}const[,v,y,$,b]=g;if(v){for(;!l.is("table");)l=i.pop();l.close(`
${d}${v}`,!0),u(b,i[i.length-1])}else if(y){l=Ns(l,i),l.is("tr")&&(l=i.pop());const S=new ta(`
${d}${y}`,b,r,n);i.push(l,S),l.insertAt(S)}else{l=Ns(l,i);const S=$==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let w=S.exec(b),C=0,P=`
${d}${$}`;const F=m=>{const A=new Qs(P,b.slice(C,w==null?void 0:w.index),r,n);return m.insertAt(A),A};for(;w;)F(l),{lastIndex:C}=S,[P]=w,w=S.exec(b);i.push(l,F(l))}}return h.slice(1)}}}),it,ql=f({"../cm-util/dist/index.mjs"(){"use strict";it=e=>!/^＿{2}.+＿{2}$/u.test(e)}}),aa,Wl=f({"src/nowiki/hr.ts"(){"use strict";Ce(),aa=class extends ie{get type(){return"hr"}}}}),Oi,Is,ji,nt,Ml=f({"src/nowiki/doubleUnderscore.ts"(){"use strict";var e,t;Te(),ve(),Ce(),Oi=[me(),he("__")],nt=(t=class extends(ji=ie){constructor(r,n,i,a,h){var d,x;super(r,a,h);T(this,e);const l=r.toLowerCase(),{doubleUnderscore:[,,u,o]}=a;this.setAttribute("name",(x=n?(d=o==null?void 0:o[r])==null?void 0:d.toLowerCase():u==null?void 0:u[l])!=null?x:l),k(this,e,i)}get type(){return"double-underscore"}toString(){const r=c(this,e)?"＿＿":"__";return r+this.innerText+r}print(){const r=c(this,e)?"＿＿":"__";return super.print({pre:r,post:r})}},e=new WeakMap,t),Is=W(ji),nt=q(Is,0,"DoubleUnderscoreToken",Oi,nt),j(Is,1,nt)}}),la={};M(la,{parseHrAndDoubleUnderscore:()=>oa});var oa,Ul=f({"parser/hrAndDoubleUnderscore.ts"(){"use strict";ql(),Wl(),Ml(),_n(),oa=({firstChild:{data:e},type:t,name:s},r,n)=>{var u,o,d;const{doubleUnderscore:[i,a,h]}=r,l=[...i,...a];return(u=r.insensitiveDoubleUnderscore)!=null||(r.insensitiveDoubleUnderscore=new Set(i.filter(it))),(o=r.sensitiveDoubleUnderscore)!=null||(r.sensitiveDoubleUnderscore=new Set(a.filter(it))),(d=r.regexHrAndDoubleUnderscore)!=null||(r.regexHrAndDoubleUnderscore=new RegExp(`__(${l.filter(it).join("|")})__|＿{2}(${l.filter(x=>!it(x)).map(x=>x.slice(2,-2)).join("|")})＿{2}`,"giu")),t!=="root"&&(t!=="ext-inner"||s!=="poem")&&(e=`\0${e}`),e=e.replace(/^((?:\0\d+[cno]\x7F)*)(-{4,})/gmu,(x,p,g)=>(new aa(g,r,n),`${p}\0${n.length-1}r`)).replace(r.regexHrAndDoubleUnderscore,(x,p,g)=>{var S;const v=p!=null?p:g,y=r.sensitiveDoubleUnderscore.has(v),$=v.toLowerCase(),b=r.insensitiveDoubleUnderscore.has($);return y||b?(new nt(v,y,!!g,r,n),`\0${n.length-1}${b&&((S=h==null?void 0:h[$])!=null?S:$)==="toc"?"u":"n"}`):x}),r.excludes.includes("heading")||(e=e.replace(/^((?:\0\d+[cn]\x7F)*)(={1,6})(.+)\2((?:\s|\0\d+[cn]\x7F)*)$/gmu,(x,p,g,v,y)=>{const $=`${p}\0${n.length}h`;return new Fe(g.length,[v,y],r,n),$})),t==="root"||t==="ext-inner"&&s==="poem"?e:e.slice(1)}}}),ha,zl=f({"src/nowiki/quote.ts"(){"use strict";var e,t;Ce(),ha=(t=class extends ie{constructor(r,n,i,a){super(r,i,a);T(this,e);k(this,e,n)}get type(){return"quote"}get bold(){return this.innerText.length!==2}get italic(){return this.innerText.length!==3}get closing(){}text(){const{parentNode:r,innerText:n}=this;return r!=null&&r.is("image-parameter")&&r.name!=="caption"?"":n}lint(r=this.getAbsoluteIndex()){}json(r,n=this.getAbsoluteIndex()){}},e=new WeakMap,t)}}),ua={};M(ua,{parseQuotes:()=>cr});var cr,da=f({"parser/quotes.ts"(){"use strict";zl(),cr=(e,t,s,r)=>{var p;const n=e.split(/('{2,})/u),{length:i}=n;if(i===1)return e;let a=0,h=0,l,u,o;for(let g=1;g<i;g+=2){const v=n[g].length;switch(v){case 2:h++;break;case 4:n[g-1]+="'",n[g]="'''";case 3:if(a++,l!==void 0)break;n[g-1].endsWith(" ")?u===void 0&&o===void 0&&(o=g):n[g-1].slice(-2,-1)===" "?l=g:u!=null||(u=g);break;default:n[g-1]+="'".repeat(v-5),n[g]="'''''",h++,a++}}if(h%2===1&&a%2===1){const g=(p=l!=null?l:u)!=null?p:o;g!==void 0&&(n[g]="''",n[g-1]+="'")}let d=!0,x=!0;for(let g=1;g<i;g+=2){const v=n[g].length,y=v!==2,$=v!==3;y&&(d=!d),$&&(x=!x),new ha(n[g],{bold:y&&d,italic:$&&x},t,s),n[g]=`\0${s.length-1}q`}return n.join("")}}}),pa={};M(pa,{parseExternalLinks:()=>gr});var gr,ca=f({"parser/externalLinks.ts"(){"use strict";D(),Wn(),hr(),gr=(e,t,s,r)=>{var n;return(n=t.regexExternalLinks)!=null||(t.regexExternalLinks=new RegExp(String.raw`\[((?:\0\d+[cn]\x7F)*(?:\0\d+f\x7F|(?:(?:${t.protocol}|//)${ht}|\0\d+m\x7F)${ut}(?=[[\]<>"\t${ye}]|\0\d)))([${ye}]*(?![${ye}]))([^\]\x01-\x08\x0A-\x1F\uFFFD]*)\]`,"giu")),e.replace(t.regexExternalLinks,(i,a,h,l)=>{const{length:u}=s,o=/&[lg]t;/u.exec(a);return o&&(h="",l=a.slice(o.index)+h+l,a=a.slice(0,o.index)),r?(new pt(a,"ext-link-url",t,s),`[\0${u}f${h}${l}]`):(new Pe(a,h,l,t,s),`\0${u}w`)})}}}),ga,Hl=f({"src/link/category.ts"(){"use strict";Pt(),ga=class extends ce{get type(){return"category"}get sortkey(){}json(e,t=this.getAbsoluteIndex()){}}}}),xa={};M(xa,{parseLinks:()=>Xs});var qi,Xs,Dl=f({"parser/links.ts"(){"use strict";D(),X(),da(),ca(),jn(),Fn(),Hl(),qi=/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])+)(\||\0\d+!\x7F)([\s\S]*)$/u,Xs=(e,t,s,r,n)=>{var l;(l=t.regexLinks)!=null||(t.regexLinks=new RegExp(String.raw`^\s*(?:${t.protocol}|//)`,"iu"));const i=t.inExt?/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])+)(?:(\||\0\d+!\x7F)([\s\S]*?[^\]]))?\]\]([\s\S]*)$/u:/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])*)(?:(\||\0\d+!\x7F)([\s\S]*?[^\]])?)?\]\]([\s\S]*)$/u,a=e.split("[[");let h=a.shift();for(let u=0;u<a.length;u++){let o=!1,d,x,p,g;const v=a[u],y=i.exec(v);if(y)[,d,x,p,g]=y,g.startsWith("]")&&(p!=null&&p.includes("["))&&(p+="]",g=g.slice(1));else{const P=qi.exec(v);P&&(o=!0,[,d,x,p]=P)}if(d===void 0||t.regexLinks.test(d)||/\0\d+[exhbru]\x7F/u.test(d)){h+=`[[${v}`;continue}let $=Q(d).trim();const b=$.startsWith(":");if(b&&o){h+=`[[${v}`;continue}else!$&&p&&!p.includes(`
`)&&($=Q(p).trim());const{ns:S,valid:w}=H.normalizeTitle($,0,!1,t,{halfParsed:!0,temporary:!0,decode:!0,selfLink:!0,page:r});if(w){if(o){if(S!==6){h+=`[[${v}`;continue}let P=!1;for(u++;u<a.length;u++){const F=a[u],m=F.split("]]");if(m.length>2){P=!0,p+=`[[${m[0]}]]${m[1]}`,g=m.slice(2).join("]]");break}else if(m.length===2)p+=`[[${m[0]}]]${m[1]}`;else{p+=`[[${F}`;break}}if(p=Xs(p,t,s,r,n),!P){h+=`[[${d}${x}${p}`;continue}}}else{h+=`[[${v}`;continue}p&&(p=cr(p,t,s,n));let C=or;b||(S===6?(p&&(p=gr(p,t,s,!0)),C=lr):S===14&&(C=ga)),p===void 0&&x&&(p=""),h+=`\0${s.length}l${g}`,new C(d,p,t,s,x)}return h}}}),ma={};M(ma,{parseMagicLinks:()=>fa});var Fs,Ls,Es,Ps,fa,Gl=f({"parser/magicLinks.ts"(){"use strict";D(),hr(),Fs=String.raw`[${ye}\t]|&nbsp;|&#0*160;|&#x0*a0;`,Ls=`(?:${Fs})+`,Es=`(?:${Fs}|-)`,Ps=String.raw`(?:RFC|PMID)${Ls}\d+\b|ISBN${Ls}(?:97[89]${Es}?)?(?:\d${Es}?){9}[\dx]\b`,fa=(e,t,s)=>{if(!t.regexMagicLinks)try{t.regexMagicLinks=new RegExp(String.raw`(^|[^\p{L}\p{N}_])(?:(?:${t.protocol})(${ht}${ut})|${Ps})`,"giu")}catch{t.regexMagicLinks=new RegExp(String.raw`(^|\W)(?:(?:${t.protocol})(${ht}${ut})|${Ps})`,"giu")}return e.replace(t.regexMagicLinks,(r,n,i)=>{let a=n?r.slice(n.length):r;if(i){let h="";const l=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(a);l&&(h=a.slice(l.index),a=a.slice(0,l.index));const u=a.includes("(")?/[^,;\\.:!?][,;\\.:!?]+$/u:/[^,;\\.:!?)][,;\\.:!?)]+$/u,o=u.exec(a);if(o){let d=1;o[0][1]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(a.slice(0,o.index))&&(d=2),h=a.slice(o.index+d)+h,a=a.slice(0,o.index+d)}return h.length>=i.length?r:(new pt(a,void 0,t,s),`${n}\0${s.length-1}w${h}`)}else if(!/^(?:RFC|PMID|ISBN)/u.test(a))return r;return new pt(a,"magic-link",t,s),`${n}\0${s.length-1}i`})}}}),va,Vl=f({"util/html.ts"(){"use strict";va=(e,t)=>e.startsWith(t)?t.length:[...t].findIndex((s,r)=>s!==e[r])}}),ba,Ql=f({"src/nowiki/list.ts"(){"use strict";sa(),ba=class extends dr{get type(){return"list"}}}}),wa={};M(wa,{parseList:()=>_a});var _a,Xl=f({"parser/list.ts"(){"use strict";Vl(),Ql(),ra(),_a=(e,t,s,r)=>{const n=/^((?:\0\d+[cno]\x7F)*)([;:*#]+)(\s*)/u.exec(e);if(!n)return t.lastPrefix="",e;const[i,a,h,l]=n,u=h.replace(/;/gu,":"),o=va(u,t.lastPrefix),d=((o>1?h.slice(o-1):h)+l).split(/(?=;)/u),x=d[0].startsWith(";");let p=d.length-(x?0:1);if(o>1){const _=h.slice(0,o-1);if(x){const N=_.split(/(?=;)/u);d.unshift(...N),p+=_.includes(";")?N.length:0}else d[0]=_+d[0]}t.lastPrefix=u;let g=a+d.map((_,N)=>`\0${r.length+N}d`).join("")+e.slice(i.length);for(const _ of d)new ba(_,s,r);if(!p)return g;const{html:[v,,y]}=s,$=/:+|-\{|\0\d+[xq]\x7F/gu;let b=$,S=b.exec(g),w=0,C=!1,P=!1,F=0;const m=(_,N)=>(new pr(_,s,r),`${g.slice(0,N)}\0${r.length-1}d${g.slice(N+_.length)}`),A=_=>{_?w&&w--:w++};for(;S&&p;){const{0:_,index:N}=S;if(_==="-{"){if(!F){const{lastIndex:L}=b;b=/-\{|\}-/gu,b.lastIndex=L}F++}else if(_==="}-"){if(F--,!F){const{lastIndex:L}=b;b=$,b.lastIndex=L}}else if(_.endsWith("x")){const{name:L,closing:R,selfClosing:U}=r[Number(_.slice(1,-2))];(v.includes(L)||!U&&!y.includes(L))&&A(R)}else if(_.endsWith("q")){const{bold:L,italic:R}=r[Number(_.slice(1,-2))];L&&(A(C),C=!C),R&&(A(P),P=!P)}else if(w===0){if(_.length>=p)return m(_.slice(0,p),N);p-=_.length,b.lastIndex=N+4+String(r.length).length,g=m(_,N)}S=b.exec(g)}return g}}}),Wi,Mi,Rs,Ui,at,Jl=f({"src/converterFlags.ts"(){"use strict";var e,t;Rt(),E(),ke(),Wi=new Set(["A","T","R","D","-","H","N"]),Mi=[ct()],at=(t=class extends(Ui=I){constructor(r,n,i=[]){super(void 0,n,i,{});T(this,e);this.safeAppend(r.map(a=>new V(a,"converter-flag",n,i)))}get type(){return"converter-flags"}afterBuild(){k(this,e,this.childNodes.map(r=>r.text().trim())),super.afterBuild()}toString(r){return super.toString(r,";")}text(){return super.text(";")}getUnknownFlags(){return new Set(c(this,e).filter(r=>/\{{3}[^{}]+\}{3}/u.test(r)))}getVariantFlags(){const r=new Set(this.getAttribute("config").variants);return new Set(c(this,e).filter(n=>r.has(n)))}isInvalidFlag(r,n,i,a){return typeof r=="object"&&(r=r.text().trim(),n=this.getVariantFlags(),i=this.getUnknownFlags(),a=new Set(c(this,e).filter(h=>Wi.has(h)))),!!r&&!n.has(r)&&!i.has(r)&&(n.size>0||!a.has(r))}lint(r=this.getAbsoluteIndex(),n){}print(){return super.print({sep:";"})}},e=new WeakMap,t),Rs=W(Ui),at=q(Rs,0,"ConverterFlagsToken",Mi,at),j(Rs,1,at)}}),Ct,Kl=f({"src/converterRule.ts"(){"use strict";X(),E(),ke(),Ct=class extends I{get type(){return"converter-rule"}get variant(){}constructor(e,t=!0,s=H.getConfig(),r=[]){super(void 0,s,r);const n=e.indexOf(":"),i=e.slice(0,n).indexOf("=>"),a=i===-1?e.slice(0,n):e.slice(i+2,n);t&&s.variants.includes(a.trim().toLowerCase())?(super.insertAt(new V(a,"converter-rule-variant",s,r)),super.insertAt(new V(e.slice(n+1),"converter-rule-to",s,r)),i!==-1&&super.insertAt(new V(e.slice(0,i),"converter-rule-from",s,r),0)):super.insertAt(new V(e,"converter-rule-to",s,r))}toString(e){const{childNodes:t,firstChild:s,lastChild:r}=this;return t.length===3?`${s.toString(e)}=>${t[1].toString(e)}:${r.toString(e)}`:super.toString(e,":")}text(){const{childNodes:e,firstChild:t,lastChild:s}=this;return e.length===3?`${t.text()}=>${e[1].text()}:${s.text()}`:super.text(":")}getGaps(e){return e===0&&this.length===3?2:1}print(){const{childNodes:e}=this;if(e.length===3){const[t,s,r]=e;return`<span class="wpb-converter-rule">${t.print()}=>${s.print()}:${r.print()}</span>`}return super.print({sep:":"})}json(e,t=this.getAbsoluteIndex()){}}}}),zi,Bs,Hi,lt,Yl=f({"src/converter.ts"(){"use strict";D(),ve(),oe(),E(),Jl(),Kl(),zi=[ae,he("-{")],lt=class extends(Hi=I){get type(){return"converter"}constructor(e,t,s,r=[]){super(void 0,s,r),this.insertAt(new at(e,s,r));const[n]=t,i=n.includes(":"),a=new Ct(n,i,s,r);i&&a.length===1||!i&&t.length===2&&!Q(t[1]).trim()?this.insertAt(new Ct(t.join(";"),!1,s,r)):this.safeAppend([a,...t.slice(1).map(h=>new Ct(h,!0,s,r))])}toString(e){const{childNodes:[t,...s]}=this;return`-{${t.toString(e)}${t.length>0?"|":""}${s.map(r=>r.toString(e)).join(";")}}-`}text(){const{childNodes:[e,...t]}=this;return`-{${e.text()}|${Se(t,";")}}-`}getGaps(e){return e||this.firstChild.length>0?1:0}print(){const{childNodes:[e,...t]}=this;return`<span class="wpb-converter">-{${e.print()}${e.length>0?"|":""}${We(t,{sep:";"})}}-</span>`}},Bs=W(Hi),lt=q(Bs,0,"ConverterToken",zi,lt),j(Bs,1,lt)}}),Aa={};M(Aa,{parseConverter:()=>ya});var ya,Zl=f({"parser/converter.ts"(){"use strict";Yl(),ya=(e,t,s)=>{var l;(l=t.regexConverter)!=null||(t.regexConverter=new RegExp(String.raw`;(?=(?:[^;]*?=>)?\s*(?:${t.variants.join("|")})\s*:|(?:\s|\0\d+[cn]\x7F)*$)`,"iu"));const r=/-\{/gu,n=/-\{|\}-/gu,i=[];let a=r,h=a.exec(e);for(;h;){const{0:u,index:o}=h;if(u==="}-"){const d=i.pop(),{length:x}=s,p=e.slice(d.index+2,o),g=p.indexOf("|"),[v,y]=g===-1?[[],p]:[p.slice(0,g).split(";"),p.slice(g+1)],$=y.replace(/(&[#a-z\d]+);/giu,"$1"),b=$.split(t.regexConverter).map(S=>S.replace(/\x01/gu,";"));new lt(v,b,t,s),e=`${e.slice(0,d.index)}\0${x}v${e.slice(o+2)}`,i.length===0&&(a=r),a.lastIndex=d.index+3+String(x).length}else i.push(h),a=n,a.lastIndex=o+2;h=a.exec(e)}return e}}}),It={};M(It,{Token:()=>I});var I,E=f({"src/index.ts"(){"use strict";var e,t,s,r,n,i,a,h,l,Sa,Ta,$a,ka,Ca,Na,Ia,Fa,La,Ea,Pa,Ra,C;D(),xe(),Lt(),be(),X(),nl(),al(),I=(C=class extends Ke{constructor(m,A=H.getConfig(),_=[],N){super();T(this,l);T(this,e,"plain");T(this,t,0);T(this,s);T(this,r);T(this,n);T(this,i,!1);T(this,a);T(this,h);typeof m=="string"&&this.insertAt(m),k(this,s,A),k(this,r,_),_.push(this)}get type(){return c(this,e)}set type(m){k(this,e,m)}get pageName(){return c(this.getRootNode(),h)}set pageName(m){if(m){const A=this.normalizeTitle(m,0,{temporary:!0,page:""});k(this,h,A.valid?A.title:void 0)}else k(this,h,m===""?"":void 0)}parseOnce(m=c(this,t),A=!1,_){if(m<c(this,t)||this.length===0||!this.isPlain())return this;if(c(this,t)>=Y)return this;switch(m){case 0:if(this.type==="root"){c(this,r).pop();const N=B(this,l,Sa).call(this);A&&(A=!N)}k(this,n,A),B(this,l,Ta).call(this,A);break;case 1:B(this,l,$a).call(this);break;case 2:B(this,l,ka).call(this);break;case 3:B(this,l,Ca).call(this);break;case 4:B(this,l,Na).call(this);break;case 5:B(this,l,Ia).call(this,_);break;case 6:B(this,l,Fa).call(this,_);break;case 7:B(this,l,La).call(this);break;case 8:B(this,l,Ea).call(this);break;case 9:B(this,l,Pa).call(this);break;case 10:B(this,l,Ra).call(this)}if(this.type==="root")for(const N of c(this,r))N==null||N.parseOnce(m,A,_);return br(this,t)._++,this}buildFromStr(m,A){const _=m.split(/[\0\x7F]/u).map((N,L)=>{if(L%2===0)return new zs(N);if(isNaN(N.slice(-1)))return c(this,r)[Number(N.slice(0,-1))];throw new Error(`Failed to build! Unrecognized token: ${N}`)});return A===0?_.map(String).join(""):A===1?Se(_):_}build(){k(this,t,Y);const{length:m,firstChild:A}=this,_=A==null?void 0:A.toString();if(m===1&&A.type==="text"&&_.includes("\0")&&(mr(this,0,1,this.buildFromStr(_)),this.normalize(),this.type==="root"))for(const N of c(this,r))N==null||N.build()}afterBuild(){if(this.type==="root")for(const m of c(this,r))m==null||m.afterBuild();k(this,i,!0)}parse(m=Y,A,_){for(m=Math.min(m,Y);c(this,t)<m;)this.parseOnce(c(this,t),A,_);return m&&(this.build(),this.afterBuild()),this}isPlain(){return this.constructor===C}getAttribute(m){var A;switch(m){case"config":return c(this,s);case"include":return(A=c(this,n))!=null?A:!!c(this.getRootNode(),n);case"accum":return c(this,r);case"built":return c(this,i);case"stage":return c(this,t);case"invalid":return this.type==="table-inter"&&St(this)===2;default:return super.getAttribute(m)}}setAttribute(m,A){switch(m){case"stage":c(this,t)===0&&this.type==="root"&&c(this,r).shift(),k(this,t,A);break;default:super.setAttribute(m,A)}}insertAt(m,A=this.length){const _=typeof m=="string"?new zs(m):m;super.insertAt(_,A);const{type:N}=_;return N==="root"&&(_.type="plain"),_}normalizeTitle(m,A=0,_){return H.normalizeTitle(m,A,this.getAttribute("include"),c(this,s),{page:this.pageName,..._})}inTableAttrs(){var m,A;return((m=this.closest("table-attrs,ext"))==null?void 0:m.type)==="table-attrs"&&((A=this.closest("table-attrs,arg,magic-word,template"))!=null&&A.is("table-attrs")?2:1)}inHtmlAttrs(){var m;return(m=this.closest("html-attrs,ext"))!=null&&m.is("html-attrs")?2:this.inTableAttrs()}lint(m=this.getAbsoluteIndex(),A){}toString(m,A){return m?super.toString(!0,A):je(c(this,a),()=>super.toString(!1,A),_=>{const N=this.getRootNode();N.type==="root"&&c(N,i)&&k(this,a,_)})}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakMap,a=new WeakMap,h=new WeakMap,l=new WeakSet,Sa=function(){const{parseRedirect:m}=(hl(),O(an)),A=this.firstChild.toString(),_=m(A,c(this,s),c(this,r));return _&&this.setText(_),!!_},Ta=function(m){const{parseCommentAndExt:A}=(Wt(),O(Jn));this.setText(A(this.firstChild.toString(),c(this,s),c(this,r),m))},$a=function(){const{parseBraces:m}=(ar(),O(Sn)),A=this.type==="root"?this.firstChild.toString():`\0${this.firstChild.toString()}`,_=m(A,c(this,s),c(this,r));this.setText(this.type==="root"?_:_.slice(1))},ka=function(){if(c(this,s).excludes.includes("html"))return;const{parseHtml:m}=(Pl(),O(Kn));this.setText(m(this.firstChild.toString(),c(this,s),c(this,r)))},Ca=function(){if(c(this,s).excludes.includes("table"))return;const{parseTable:m}=(jl(),O(ia));this.setText(m(this,c(this,s),c(this,r)))},Na=function(){if(c(this,s).excludes.includes("hr"))return;const{parseHrAndDoubleUnderscore:m}=(Ul(),O(la));this.setText(m(this,c(this,s),c(this,r)))},Ia=function(m){const{parseLinks:A}=(Dl(),O(xa));this.setText(A(this.firstChild.toString(),c(this,s),c(this,r),this.pageName,m))},Fa=function(m){if(c(this,s).excludes.includes("quote"))return;const{parseQuotes:A}=(da(),O(ua)),_=this.firstChild.toString().split(`
`);for(let N=0;N<_.length;N++)_[N]=A(_[N],c(this,s),c(this,r),m);this.setText(_.join(`
`))},La=function(){if(c(this,s).excludes.includes("extLink"))return;const{parseExternalLinks:m}=(ca(),O(pa));this.setText(m(this.firstChild.toString(),c(this,s),c(this,r)))},Ea=function(){if(c(this,s).excludes.includes("magicLink"))return;const{parseMagicLinks:m}=(Gl(),O(ma));this.setText(m(this.firstChild.toString(),c(this,s),c(this,r)))},Pa=function(){if(c(this,s).excludes.includes("list"))return;const{parseList:m}=(Xl(),O(wa)),{firstChild:A,type:_,name:N}=this,L=A.toString().split(`
`),R={lastPrefix:""};let U=_==="root"||_==="ext-inner"&&N==="poem"?0:1;for(;U<L.length;U++)L[U]=m(L[U],R,c(this,s),c(this,r));this.setText(L.join(`
`))},Ra=function(){if(c(this,s).variants.length>0){const{parseConverter:m}=(Zl(),O(Aa));this.setText(m(this.firstChild.toString(),c(this,s),c(this,r)))}},C)}}),le,xr,mr,be=f({"util/debug.ts"(){"use strict";le={running:!1,run(e){const{running:t}=this;this.running=!0;try{const{Token:s}=(E(),O(It)),r=e();return r instanceof s&&!r.getAttribute("built")&&r.afterBuild(),this.running=t,r}catch(s){throw this.running=t,s}},rev:0},xr=e=>t=>t.type===e,mr=(e,t,s,r=[])=>{var a,h;let n=e.getChildNodes(),i;n.length===s?(i=n,n=r):i=Array.prototype.splice.apply(n,[t,s,...r]);for(let l=0;l<r.length;l++){const u=r[l];u.setAttribute("parentNode",e),u.setAttribute("nextSibling",n[t+l+1]),u.setAttribute("previousSibling",n[t+l-1])}return(a=n[t-1])==null||a.setAttribute("nextSibling",n[t]),(h=n[t+r.length])==null||h.setAttribute("previousSibling",n[t+r.length-1]),n===r&&e.setAttribute("childNodes",n),i}}}),Ba={};M(Ba,{Title:()=>Oa});var Os,Oa,eo=f({"lib/title.ts"(){"use strict";var e,t,s,r,n,i,ja,h;Ft(),D(),Os=l=>{const[,{length:u},o]=/^((?:\.\.\/)*)([\s\S]*)/u.exec(l);return[u/3,o]},Oa=(h=class{constructor(l,u,o,{temporary:d,decode:x,selfLink:p,page:g}={}){T(this,i);T(this,e);T(this,t);T(this,s);T(this,r);T(this,n);ne(this,"page");ne(this,"valid");ne(this,"encoded",!1);this.page=g;const v=l.trim(),y=v.startsWith("../");if(x&&l.includes("%"))try{const w=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(l);l=Us(l),this.encoded=w}catch{}if(l=Ws(l).replace(/[_ ]+/gu," ").trim(),y||g&&v.startsWith("/"))k(this,r,0);else{let w=u;l.startsWith(":")&&(w=0,l=l.slice(1).trim());const C=l.split(":");if(C.length>1){const P=qe(C[0]),F=Object.prototype.hasOwnProperty.call(o.nsid,P)&&o.nsid[P];F&&(w=F,l=C.slice(1).join(":").trim())}k(this,r,w)}const $=l.indexOf("#");if($!==-1){let w=l.slice($).trim().slice(1);if(w.includes("%"))try{w=Us(w)}catch{}k(this,n,w.replace(/ /gu,"_")),l=l.slice(0,$).trim()}const[b,S]=y?Os(l):[0,l];this.valid=!!(l||p&&this.ns===0&&c(this,n)!==void 0)&&Ws(l)===l&&(b===0||g===void 0||g.split("/",b+1).length>b)&&!/^:|\0\d+[eh!+-]\x7F|[<>[\]{}|\n]|%[\da-f]{2}|(?:^|\/)\.{1,2}(?:$|\/)/iu.test(S),this.main=l,k(this,t,o.namespaces),k(this,s,o.articlePath||"/wiki/$1"),c(this,s).includes("$1")||k(this,s,c(this,s)+`${c(this,s).endsWith("/")?"":"/"}$1`),d||Object.defineProperties(this,{encoded:{enumerable:!1,writable:!1}})}get ns(){return c(this,r)}get fragment(){return c(this,n)}get main(){return c(this,e)}set main(l){l=l.replace(/_/gu," ").trim(),k(this,e,l&&l[0].toUpperCase()+l.slice(1))}get prefix(){const l=c(this,t)[this.ns];return l+(l&&":")}get title(){return this.getRedirection()[1]}get extension(){const{main:l}=this,u=l.lastIndexOf(".");return u===-1?void 0:l.slice(u+1).toLowerCase()}getRedirection(){const{prefix:l}=this,u=l;return B(this,i,ja).call(this,u)}setFragment(l){k(this,n,l)}getUrl(l){throw new Error("Title.getUrl method is only available in the LSP version!")}},e=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,n=new WeakMap,i=new WeakSet,ja=function(l){var o,d;let u=(l+this.main).replace(/ /gu,"_");if(u.startsWith("/"))u=((o=this.page)!=null?o:"")+u.replace(/(.)\/$/u,"$1");else if(u.startsWith("../")&&((d=this.page)!=null&&d.includes("/"))){const[x,p]=Os(u),g=this.page.split("/");g.length>x&&(u=g.slice(0,-x).join("/")+(p&&"/")+p)}return[!1,u]},h)}}),qa={};M(qa,{default:()=>H});Wa.exports=O(qa);var yt,we,js,Di,H,X=f({"index.ts"(){be(),xe(),D(),yt=!0,we={config:Ms,get rules(){},get i18n(){},set i18n(e){},get lintConfig(){},set lintConfig(e){},get viewOnly(){return yt},set viewOnly(e){yt&&!e&&le.rev++,yt=e},getConfig(e){const t=e!=null?e:this.config,{doubleUnderscore:s,ext:r,parserFunction:n,variable:i}=t;for(let a=0;a<2;a++)s.length>a+2&&s[a].length===0&&(s[a]=Object.keys(s[a+2]));return r.includes("translate")&&!i.includes("translationlanguage")&&(i.push("translationlanguage"),Array.isArray(n[1])?n[1].push("TRANSLATIONLANGUAGE"):n[1].TRANSLATIONLANGUAGE="translationlanguage"),{...Ms,...t,excludes:[]}},msg(e,t=""){},normalizeTitle(e,t=0,s,r=we.getConfig(),n){const{Title:i}=(eo(),O(Ba));let a;if(n!=null&&n.halfParsed)a=new i(e,t,r,n);else{const{Token:h}=(E(),O(It));a=le.run(()=>{const l=new h(e,r);l.type="root",l.pageName=n==null?void 0:n.page,l.parseOnce(0,s).parseOnce();const u=new i(l.toString(),t,r,n);l.build();for(const o of["main","fragment"]){const d=u[o];if(d!=null&&d.includes("\0")){const x=l.buildFromStr(d,1);o==="main"?u.main=x:u.setFragment(x)}}return u})}return a},parse(e,t,s,r,n){e=Ji(e);let i,a,h,l;typeof t=="string"?(i=!!s,a=r,h=n,l=t):(i=!!t,a=s,h=r,l=n),a!=null||(a=Y),h!=null||(h=this.getConfig());let u;const{Token:o}=(E(),O(It));return le.run(()=>{const x=new o(e,h);return x.type="root",x.pageName=l,x.parse(a,i)})},parseWithRef(e,t,s,r=t.getAttribute("include")){return this.parse(e,r,s,t.getAttribute("config"),t.pageName)},async partialParse(e,t,s,r=we.getConfig()){},createLanguageService(e={}){throw new Error("Parser.createLanguageService method is only available in the LSP version!")}},js={},Di=new Set(["lintConfig","normalizeTitle","parse","createLanguageService"]);for(const e in we)Di.has(e)||(js[e]={enumerable:!1});Object.defineProperties(we,js),Object.assign(typeof globalThis=="object"?globalThis:self,{Parser:we}),H=we}});X()});to();})();
//# sourceMappingURL=bundle.min.js.map
