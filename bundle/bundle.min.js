(()=>{(()=>{"use strict";var Qt={891:(Q,D,t)=>{t.d(D,{default:()=>N});const w={minConfig:t(166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config,excludes:[]}},msg($,P=""){var v,d;return((d=(v=this.i18n)==null?void 0:v[$])!=null?d:$).replace("$1",P)},normalizeTitle($,P=0,v=!1,d=w.getConfig(),o=!1,l=!1,c=!1){const{Title:u}=t(599);if(o)return new u($,P,d,l,c);const{Token:h}=t(541),n=this.run(()=>new h($,d).parseOnce(0,v).parseOnce());return new u(String(n),P,d,l,c)},parse($,P,v=w.MAX_STAGE,d=w.getConfig()){const{Token:o}=t(541);let l;return this.run(()=>{l=new o($.replace(/[\0\x7F]/gu,""),d);try{l.parse(v,P)}catch(c){}}),l},run($){return $()}},b={},K=new Set(["MAX_STAGE","minConfig"]),I=new Set(["config","normalizeTitle","parse"]);for(const $ in w)K.has($)?b[$]={enumerable:!1,writable:!1}:I.has($)||(b[$]={enumerable:!1});Object.defineProperties(w,b),typeof self=="object"?Object.assign(self,{Parser:w}):typeof globalThis=="object"&&Object.assign(globalThis,{Parser:w});const N=w},599:(Q,D,t)=>{t.r(D),t.d(D,{Title:()=>$});var w=t(467),b=t(891),K=Object.defineProperty,I=(P,v,d)=>v in P?K(P,v,{enumerable:!0,configurable:!0,writable:!0,value:d}):P[v]=d,N=(P,v,d)=>(I(P,typeof v!="symbol"?v+"":v,d),d);class ${constructor(v,d=0,o=b.default.getConfig(),l=!1,c=!1){N(this,"valid"),N(this,"ns"),N(this,"fragment"),N(this,"encoded",!1);var u;const{namespaces:h,nsid:n}=o;let s=(u=h[d])!=null?u:"";if(v=(0,w.m9)(v),l&&v.includes("%"))try{const m=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(v);v=decodeURIComponent(v),this.encoded=m}catch(m){}v=v.replace(/_/gu," ").trim(),v.startsWith(":")&&(s="",v=v.slice(1).trim());const a=v.split(":");if(a.length>1){const m=n[a[0].trim().toLowerCase()],y=m===void 0?void 0:h[m];y!==void 0&&(s=y,v=a.slice(1).join(":").trim())}this.ns=n[s.toLowerCase()];const g=v.indexOf("#");let A;g!==-1&&(A=v.slice(g+1).trim(),v=v.slice(0,g).trim()),this.valid=!!(v||c&&A!==void 0)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]|%[\da-f]{2}/iu.test(v),this.fragment=A}}},959:(Q,D,t)=>{t.d(D,{a:()=>I});var w=Object.defineProperty,b=(N,$,P)=>$ in N?w(N,$,{enumerable:!0,configurable:!0,writable:!0,value:P}):N[$]=P,K=(N,$,P)=>(b(N,typeof $!="symbol"?$+"":$,P),P);const I=N=>{class $ extends N{text(){return""}}return K($,"hidden",!0),$}},313:(Q,D,t)=>{t.r(D),t.d(D,{parseBraces:()=>r});var w=t(467),b=t(891),K=t(485),I=t(169),N=t(541),$=Object.defineProperty,P=(i,e,p)=>e in i?$(i,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[e]=p,v=(i,e,p)=>(P(i,typeof e!="symbol"?e+"":e,p),p);const d=i=>i.toString(new Set(["comment","noinclude","include"])).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");class o extends N.Token{constructor(e,p,M=b.default.getConfig(),W=[]){super(void 0,M,W),v(this,"type","parameter");const F=new N.Token(typeof e=="number"?void 0:e,M,W,{}),_=new N.Token(p,M,W);F.type="parameter-key",_.type="parameter-value",_.setAttribute("stage",2),this.append(F,_)}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const{parentNode:e,firstChild:p}=this,M=d(p);this.setAttribute("name",M),e&&e.getArgs(M,!1,!1).add(this)}}toString(e){return this.anon?this.lastChild.toString(e):super.toString(e,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(e){return this.anon||e===1?0:1}lint(e=this.getAbsoluteIndex()){var p;const M=super.lint(e),{firstChild:W}=this,F=(p=new RegExp(`https?://${w._X}${w.Qk}$`,"iu").exec(W.toString(new Set(["comment","noinclude","include"]))))==null?void 0:p[0];if(F&&new URL(F).search){const _=(0,I.D)(W,{start:e},"unescaped query string in an anonymous parameter");M.push({..._,startIndex:_.endIndex,endIndex:_.endIndex+1,startLine:_.endLine,startCol:_.endCol,endCol:_.endCol+1})}return M}print(){return super.print({sep:this.anon?"":"="})}}var l=t(34),c=t(669),u=Object.defineProperty,h=(i,e,p)=>e in i?u(i,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[e]=p,n=(i,e,p)=>(h(i,typeof e!="symbol"?e+"":e,p),p),s=(i,e,p)=>{if(!e.has(i))throw TypeError("Cannot "+p)},a=(i,e,p)=>(s(i,e,"read from private field"),p?p.call(i):e.get(i)),g=(i,e,p)=>{if(e.has(i))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(i):e.set(i,p)},A=(i,e,p,M)=>(s(i,e,"write to private field"),M?M.call(i,p):e.set(i,p),p),m=(i,e,p)=>(s(i,e,"access private method"),p),y,U,R,Y,z,E;class x extends N.Token{constructor(e,p,M=b.default.getConfig(),W=[]){var F,_;super(void 0,M,W,{}),g(this,R),g(this,z),n(this,"type","template"),n(this,"modifier",""),g(this,y,!1),g(this,U,new Map);const{parserFunction:[V,X]}=M,J=(F=/^(?:\s|\0\d+c\x7F)*\0\d+s\x7F/u.exec(e))==null?void 0:F[0];if(J)this.setAttribute("modifier",J),e=e.slice(J.length);else if(e.includes(":")){const[tt,...et]=e.split(":"),[at]=/^(?:\s|\0\d+c\x7F)*/u.exec((_=et[0])!=null?_:"");this.setModifier(`${tt}:${at}`)&&(e=et.join(":").slice(at.length))}if(e.includes(":")||p.length===0&&!a(this,y)){const[tt,...et]=e.split(":"),at=(0,w.PN)(tt),nt=at.trim(),dt=X.includes(nt),Z=V[nt.toLowerCase()];if(!(et.length>0&&/\s$/u.test(at))&&(dt||Z)){this.setAttribute("name",Z!=null?Z:nt.toLowerCase()),this.type="magic-word";const st=new RegExp(`^\\s*${nt}\\s*$`,dt?"u":"iu"),it=new c.SyntaxToken(tt,st,"magic-word-name",M,W,{});if(super.insertAt(it),et.length>0&&p.unshift([et.join(":")]),this.name==="invoke")for(let lt=0;lt<2;lt++){const ut=p.shift();if(!ut)break;const ot=new l.D(ut.join("="),`invoke-${lt?"function":"module"}`,M,W);super.insertAt(ot)}}}if(this.type==="template"){const tt=(0,w.PN)((0,w.m9)(e)).split("#")[0].trim();if(!tt||/\0\d+[eh!+-]\x7F|[<>[\]{}\n]|%[\da-f]{2}/u.test(tt))throw W.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${(0,w.jq)(tt)}`);const et=new l.D(e,"template-name",M,W,{});super.insertAt(et)}const q=this.isTemplate();let j=1;for(let tt=0;tt<p.length;tt++){const et=p[tt];!q&&!(this.name==="switch"&&tt>0)&&(et[0]=et.join("="),et.length=1),et.length===1&&(et.unshift(j),j++),this.insertAt(new o(...et,M,W))}}setModifier(e){const{parserFunction:[,,p,M]}=this.getAttribute("config"),W=(0,w.PN)(e).trim();if(e&&!W.endsWith(":"))return!1;const F=W.slice(0,-1).toLowerCase(),_=p.includes(F),V=M.includes(F);return a(this,y)&&_||!a(this,y)&&(V||e==="")||this.length>1&&(_||V||e==="")?(this.setAttribute("modifier",e),A(this,y,_),!!e):!1}isTemplate(){return this.type==="template"||this.name==="invoke"}afterBuild(){this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,"string"))}toString(e){return`{{${this.modifier}${this.type==="magic-word"?`${this.firstChild.toString(e)}${this.length===1?"":":"}${this.childNodes.slice(1).map(p=>p.toString(e)).join("|")}`:super.toString(e,"|")}}}`}text(){const{childNodes:e,length:p,firstChild:M,modifier:W,type:F,name:_}=this;return F==="magic-word"&&_==="vardefine"?"":`{{${W}${F==="magic-word"?`${M.text()}${p===1?"":":"}${(0,w.fL)(e.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier.length+2}getGaps(e){return e<this.length-1?1:0}lint(e=this.getAbsoluteIndex()){const p=super.lint(e),{type:M,childNodes:W,length:F}=this;let _;if(!this.isTemplate())return p;const V=m(this,R,Y).call(this);if(V)V.fragment!==void 0&&(_={start:e,...this.getRootNode().posFromIndex(e)},p.push((0,I.D)(W[M==="template"?0:1],_,"useless fragment")));else return _={start:e,...this.getRootNode().posFromIndex(e)},p.push((0,I.Y)(this,_,"missing module name")),p;if(V.valid||(_!=null||(_={start:e,...this.getRootNode().posFromIndex(e)}),p.push((0,I.D)(W[1],_,"illegal module name"))),M==="magic-word"&&F===2)return _!=null||(_={start:e,...this.getRootNode().posFromIndex(e)}),p.push((0,I.Y)(this,_,"missing module function")),p;const X=this.getDuplicatedArgs();return X.length>0&&(_!=null||(_={start:e,...this.getRootNode().posFromIndex(e)}),p.push(...X.flatMap(([,J])=>J).map(J=>(0,I.D)(J,_,"duplicated parameter")))),p}insertAt(e,p=this.length){return super.insertAt(e,p),e.anon?m(this,z,E).call(this,e):e.name&&this.getArgs(e.name,!1,!1).add(e),e}getAllArgs(){return this.childNodes.filter(e=>e.type==="parameter")}getAnonArgs(){return this.getAllArgs().filter(({anon:e})=>e)}getArgs(e,p=!1,M=!0){const W=String(e).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let F;return a(this,U).has(W)?F=a(this,U).get(W):(F=new Set(this.getAllArgs().filter(({name:_})=>W===_)),a(this,U).set(W,F)),F}getDuplicatedArgs(){return this.isTemplate()?[...a(this,U)].filter(([,{size:e}])=>e>1).map(([e,p])=>[e,[...p]]):[]}getPossibleValues(){const{type:e,name:p,childNodes:M,constructor:{name:W}}=this;if(e==="template")throw new Error(`${W}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let F;switch(p){case"if":case"ifexist":case"ifexpr":case"iferror":F=2;break;case"ifeq":F=3;break;default:throw new Error(`${W}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const _=M.slice(F,F+2).map(({childNodes:[,V]})=>V);for(let V=0;V<_.length;){const{length:X,0:J}=_[V].childNodes.filter(q=>q.text().trim());if(X===0)_.splice(V,1);else if(X>1||J.type!=="magic-word")V++;else try{const q=J.getPossibleValues();_.splice(V,1,...q),V+=q.length}catch(q){V++}}return _}print(){const{childNodes:e,length:p,firstChild:M,modifier:W,type:F}=this;return`<span class="wpb-${F}">{{${W}${F==="magic-word"?`${M.print()}${p===1?"":":"}${(0,w.S0)(e.slice(1),{sep:"|"})}`:(0,w.S0)(e,{sep:"|"})}}}</span>`}}y=new WeakMap,U=new WeakMap,R=new WeakSet,Y=function(){const i=this.type==="template",e=this.childNodes[i?0:1];return e&&this.normalizeTitle(e.text(),i?10:828)},z=new WeakSet,E=function(i){const e=this.getAnonArgs(),p=typeof i!="number";for(let M=p?e.indexOf(i):i-1;M<e.length;M++){const W=e[M],{name:F}=W,_=String(M+1);F!==_&&(W.setAttribute("name",_),this.getArgs(_,!1,!1).add(W))}};var S=t(465),G=Object.defineProperty,L=(i,e,p)=>e in i?G(i,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[e]=p,O=(i,e,p)=>(L(i,typeof e!="symbol"?e+"":e,p),p);class T extends N.Token{constructor(e,p=b.default.getConfig(),M=[]){super(void 0,p,M,{}),O(this,"type","arg");for(let W=0;W<e.length;W++)if(W===0){const F=new l.D(e[W],"arg-name",p,M,{});super.insertAt(F)}else if(W>1){const F=new S.R(e[W],p,M,{});super.insertAt(F)}else{const F=new N.Token(e[W],p,M);F.type="arg-default",F.setAttribute("stage",2),super.insertAt(F)}}get default(){var e,p;return(p=(e=this.childNodes[1])==null?void 0:e.text())!=null?p:!1}toString(e){return`{{{${super.toString(e,"|")}}}}`}text(){return`{{{${(0,w.fL)(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(e){return e<this.length-1?1:0}lint(e=this.getAbsoluteIndex()){if(!this.getAttribute("include"))return[(0,I.Y)(this,{start:e},"unexpected template argument")];const{childNodes:[p,M,...W]}=this,F=p.lint(e+3);if(M&&F.push(...M.lint(e+4+String(p).length)),W.length>0){const _={start:e,...this.getRootNode().posFromIndex(e)};F.push(...W.map(V=>{const X=(0,I.D)(V,_,"invisible content inside triple braces"),{startIndex:J,startCol:q}=X;return{...X,startIndex:J-1,startCol:q-1}}))}return F}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}}const r=(i,e=b.default.getConfig(),p=[])=>{var M,W,F,_,V,X;const J=`${(M=e.excludes)!=null&&M.includes("heading")?"":"^(\0\\d+c\x7F)*={1,6}|"}\\[\\[|\\{{2,}|-\\{(?!\\{)`,{parserFunction:[,,,q]}=e,j=[],tt={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},et=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"]]);let at=new RegExp(J,"gmu"),nt=at.exec(i),dt=i.includes("}}"),Z;for(;nt||Z!==void 0&&Z<=i.length&&((F=(W=j[j.length-1])==null?void 0:W[0])!=null&&F.startsWith("="));){if(nt!=null&&nt[1]){const[,{length:pt}]=nt;nt[0]=nt[0].slice(pt),nt.index+=pt}const{0:st,index:it}=nt!=null?nt:{0:`
`,index:i.length},lt=(_=j.pop())!=null?_:{},{0:ut,index:ot,parts:ft,findEqual:At,pos:Ct}=lt,$t=st==="="&&At;if(st==="]]"||st==="}-")Z=it+2;else if(st===`
`){Z=it+1;const{pos:pt,findEqual:gt}=(V=j[j.length-1])!=null?V:{};if(pt===void 0||gt||(0,w.PN)(i.slice(pt,ot))!==""){const xt=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(i.slice(ot,it));xt&&(i=`${i.slice(0,ot)}\0${p.length}h\x7F${i.slice(it)}`,Z=ot+4+String(p.length).length,new K.D(xt[1].length,xt.slice(2),e,p))}}else if(st==="|"||$t)Z=it+1,ft[ft.length-1].push(i.slice(Ct,it)),st==="|"&&ft.push([]),lt.pos=Z,lt.findEqual=st==="|",j.push(lt);else if(st.startsWith("}}")){const pt=st.slice(0,Math.min(ut.length,3)),gt=ut.length-pt.length,{length:xt}=p;Z=it+pt.length,ft[ft.length-1].push(i.slice(Ct,it));let St=!1,Tt="t";if(pt.length===3){const ht=ft.map(B=>B.join("=")),wt=ht.length>1&&(0,w.PN)(ht[1]).trim();new T(ht,e,p),wt&&wt.endsWith(":")&&q.includes(wt.slice(0,-1).toLowerCase())&&(Tt="s")}else try{new x(ft[0][0],ft.slice(1),e,p);const ht=(0,w.PN)(ft[0][0]).trim();et.has(ht)?Tt=et.get(ht):/^(?:filepath|(?:full|canonical)urle?):.|^server$/iu.test(ht)?Tt="m":/^#vardefine:./iu.test(ht)&&(Tt="c")}catch(ht){if(ht instanceof SyntaxError&&ht.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))Z=ot+ut.length,St=!0;else throw ht}St||(i=`${i.slice(0,ot+gt)}\0${xt}${Tt}\x7F${i.slice(Z)}`,Z=ot+gt+3+String(xt).length,gt>1?j.push({0:ut.slice(0,gt),index:ot,pos:ot+gt,parts:[[]]}):gt===1&&i[ot-1]==="-"&&j.push({0:"-{",index:ot-1,pos:ot+1,parts:[[]]}))}else Z=it+st.length,st.startsWith("{")&&(nt.pos=Z,nt.parts=[[]]),j.push(..."0"in lt?[lt]:[],nt);dt&&(dt=i.slice(Z).includes("}}"));let vt=j[j.length-1];!dt&&((X=vt==null?void 0:vt[0])!=null&&X.startsWith("{"))&&(j.pop(),vt=j[j.length-1]),at=new RegExp(J+(vt?`|${tt[vt[0][0]]}${vt.findEqual?"|=":""}`:""),"gmu"),at.lastIndex=Z,nt=at.exec(i)}return i}},551:(Q,D,t)=>{t.r(D),t.d(D,{parseCommentAndExt:()=>s});var w=t(891),b=t(541),K=Object.defineProperty,I=(a,g,A)=>g in a?K(a,g,{enumerable:!0,configurable:!0,writable:!0,value:A}):a[g]=A,N=(a,g,A)=>(I(a,typeof g!="symbol"?g+"":g,A),A);class $ extends b.Token{constructor(){super(...arguments),N(this,"type","onlyinclude")}toString(g){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}isPlain(){return!0}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}}var P=t(826),v=t(959),d=t(415),o=Object.defineProperty,l=(a,g,A)=>g in a?o(a,g,{enumerable:!0,configurable:!0,writable:!0,value:A}):a[g]=A,c=(a,g,A)=>(l(a,typeof g!="symbol"?g+"":g,A),A);class u extends(0,v.a)(d.m){constructor(g,A="",m,y,U=w.default.getConfig(),R=[]){super(g,A,m!=null?m:"",m===void 0||y!=null?y:"",U,R),c(this,"type","include")}}var h=t(895),n=t(976);const s=(a,g=w.default.getConfig(),A=[],m=!1)=>{const y="<onlyinclude>",U="</onlyinclude>",{length:R}=y;if(m){let S=a.indexOf(y),G=a.indexOf(U,S+R);if(S!==-1&&G!==-1){let L="";for(;S!==-1&&G!==-1;){const O=`\0${A.length}e\x7F`;new $(a.slice(S+R,G),g,A),S>0?(new P.O(a.slice(0,S),g,A),L+=`\0${A.length-1}c\x7F${O}`):L+=O,a=a.slice(G+R+1),S=a.indexOf(y),G=a.indexOf(U,S+R)}return`${L}${a}`}}const Y=g.ext.join("|"),z=m?"includeonly":"(?:no|only)include",E=m?"noinclude":"includeonly",x=new RegExp(`<!--.*?(?:-->|$)|<${z}(?:\\s[^>]*?)?>|</${z}\\s*>|<(${Y})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${E})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return a.replace(x,(S,G,L,O,T,r,i,e,p)=>{const M=`\0${A.length}${G?"e":"c"}\x7F`;if(G)new h.$(G,L,O,T,g,A);else if(S.startsWith("<!--")){const W=S.endsWith("-->");new n.T(S.slice(4,W?-3:void 0),W,g,A)}else r?new u(r,i,e,p,g,A):new P.O(S,g,A);return M})}},370:(Q,D,t)=>{t.r(D),t.d(D,{parseConverter:()=>z});var w=t(891),b=t(467);const K=E=>{class x extends E{}return x};var I=t(541),N=t(169),$=t(34),P=Object.defineProperty,v=(E,x,S)=>x in E?P(E,x,{enumerable:!0,configurable:!0,writable:!0,value:S}):E[x]=S,d=(E,x,S)=>(v(E,typeof x!="symbol"?x+"":x,S),S),o=(E,x,S)=>{if(!x.has(E))throw TypeError("Cannot "+S)},l=(E,x,S)=>(o(E,x,"read from private field"),S?S.call(E):x.get(E)),c=(E,x,S)=>{if(x.has(E))throw TypeError("Cannot add the same private member more than once");x instanceof WeakSet?x.add(E):x.set(E,S)},u=(E,x,S,G)=>(o(E,x,"write to private field"),G?G.call(E,S):x.set(E,S),S),h;const n=new Set(["A","T","R","D","-","H","N"]);class s extends I.Token{constructor(x,S=w.default.getConfig(),G=[]){super(void 0,S,G,{}),d(this,"type","converter-flags"),c(this,h,void 0),this.append(...x.map(L=>new $.D(L,"converter-flag",S,G)))}afterBuild(){u(this,h,this.childNodes.map(x=>x.text().trim()))}toString(x){return super.toString(x,";")}text(){return super.text(";")}getGaps(x){return x<this.length-1?1:0}getUnknownFlags(){return new Set(l(this,h).filter(x=>/\{{3}[^{}]+\}{3}/u.test(x)))}getVariantFlags(){const x=new Set(this.getAttribute("config").variants);return new Set(l(this,h).filter(S=>x.has(S)))}lint(x=this.getAbsoluteIndex()){const S=this.getVariantFlags(),G=this.getUnknownFlags(),L=new Set(l(this,h).filter(M=>n.has(M))),{length:O}=l(this,h).filter(M=>!M),T=l(this,h).length-G.size-O,r=super.lint(x);if(S.size===T||L.size===T)return r;const i={start:x,...this.getRootNode().posFromIndex(x)},{childNodes:e,length:p}=this;for(let M=0;M<p;M++){const W=e[M],F=W.text().trim();if(F&&!S.has(F)&&!G.has(F)&&(S.size>0||!L.has(F))){const _=(0,N.D)(W,i,"invalid conversion flag");r.push(_)}}return r}print(){return super.print({sep:";"})}}h=new WeakMap;var a=Object.defineProperty,g=(E,x,S)=>x in E?a(E,x,{enumerable:!0,configurable:!0,writable:!0,value:S}):E[x]=S,A=(E,x,S)=>(g(E,typeof x!="symbol"?x+"":x,S),S);class m extends I.Token{constructor(x,S=!0,G=w.default.getConfig(),L=[]){if(super(void 0,G,L),A(this,"type","converter-rule"),S){const O=x.indexOf(":"),T=x.slice(0,O).indexOf("=>"),r=T===-1?x.slice(0,O):x.slice(T+2,O);G.variants.includes(r.trim())?(super.insertAt(new $.D(r,"converter-rule-variant",G,L)),super.insertAt(new $.D(x.slice(O+1),"converter-rule-to",G,L)),T!==-1&&super.insertAt(new $.D(x.slice(0,T),"converter-rule-from",G,L),0)):super.insertAt(new $.D(x,"converter-rule-noconvert",G,L))}else super.insertAt(new $.D(x,"converter-rule-noconvert",G,L))}toString(x){const{childNodes:S}=this;if(S.length===3){const[G,L,O]=S;return`${G.toString(x)}=>${L.toString(x)}:${O.toString(x)}`}return super.toString(x,":")}text(){const{childNodes:x}=this;if(x.length===3){const[S,G,L]=x;return`${S.text()}=>${G.text()}:${L.text()}`}return super.text(":")}getGaps(x){return x===0&&this.length===3?2:1}print(){const{childNodes:x}=this;if(x.length===3){const[S,G,L]=x;return`<span class="wpb-converter-rule">${S.print()}=>${G.print()}:${L.print()}</span>`}return super.print({sep:":"})}}var y=Object.defineProperty,U=(E,x,S)=>x in E?y(E,x,{enumerable:!0,configurable:!0,writable:!0,value:S}):E[x]=S,R=(E,x,S)=>(U(E,typeof x!="symbol"?x+"":x,S),S);class Y extends K(I.Token){constructor(x,S,G=w.default.getConfig(),L=[]){super(void 0,G,L),R(this,"type","converter"),this.append(new s(x,G,L));const[O]=S,T=O.includes(":"),r=new m(O,T,G,L);T&&r.length===1?this.insertAt(new m(S.join(";"),!1,G,L)):this.append(r,...S.slice(1).map(i=>new m(i,!0,G,L)))}toString(x){const{childNodes:[S,...G]}=this;return`-{${S.toString()}${S.length>0?"|":""}${G.map(L=>L.toString()).join(";")}}-`}text(){const{childNodes:[x,...S]}=this;return`-{${x.text()}|${(0,b.fL)(S,";")}}-`}getPadding(){return 2}getGaps(x){return x||this.firstChild.length>0?1:0}print(){const{childNodes:[x,...S]}=this;return`<span class="wpb-converter">-{${x.print()}${x.length>0?"|":""}${(0,b.S0)(S,{sep:";"})}}-</span>`}}const z=(E,x=w.default.getConfig(),S=[])=>{const G=/-\{/gu,L=/-\{|\}-/gu,O=[];let T=G,r=T.exec(E);for(;r;){const{0:i,index:e}=r;if(i==="}-"){const p=O.pop(),{length:M}=S,W=E.slice(p.index+2,e),F=W.indexOf("|"),[_,V]=F===-1?[[],W]:[W.slice(0,F).split(";"),W.slice(F+1)],X=V.replace(/(&[#a-z\d]+);/giu,"$1"),J=`(?:${x.variants.join("|")})`,q=X.split(new RegExp(`;(?=\\s*(?:${J}|[^;]*?=>\\s*${J})\\s*:)`,"u")).map(j=>j.replace(/\x01/gu,";"));new Y(_,q,x,S),E=`${E.slice(0,p.index)}\0${M}v\x7F${E.slice(e+2)}`,O.length===0&&(T=G),T.lastIndex=p.index+3+String(M).length}else O.push(r),T=L,T.lastIndex=e+2;r=T.exec(E)}return E}},418:(Q,D,t)=>{t.r(D),t.d(D,{parseExternalLinks:()=>I});var w=t(467),b=t(891),K=t(876);const I=(N,$=b.default.getConfig(),P=[])=>{const v=new RegExp(`\\[((?:(?:${$.protocol}|//)${w._X}|\0\\d+m\x7F)${w.Qk})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return N.replace(v,(d,o,l,c)=>{const{length:u}=P,h=/&[lg]t;/u.exec(o);return h&&(o=o.slice(0,h.index),l="",c=`${o.slice(h.index)}${l}${c}`),new K.a(o,l,c,$,P),`\0${u}w\x7F`})}},362:(Q,D,t)=>{t.r(D),t.d(D,{parseHrAndDoubleUnderscore:()=>u});var w=t(891),b=t(439),K=Object.defineProperty,I=(h,n,s)=>n in h?K(h,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[n]=s,N=(h,n,s)=>(I(h,typeof n!="symbol"?n+"":n,s),s);class $ extends b.h{constructor(){super(...arguments),N(this,"type","hr")}}var P=t(959),v=Object.defineProperty,d=(h,n,s)=>n in h?v(h,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[n]=s,o=(h,n,s)=>(d(h,typeof n!="symbol"?n+"":n,s),s);class l extends(0,P.a)(b.h){constructor(n,s,a=w.default.getConfig(),g=[]){super(n,a,g),o(this,"type","double-underscore")}getPadding(){return 2}toString(n){return`__${this.innerText}__`}print(){return super.print({pre:"__",post:"__"})}}var c=t(485);const u=({firstChild:{data:h},type:n,name:s},a=w.default.getConfig(),g=[])=>{const{doubleUnderscore:A}=a,m=new Set(A[0]),y=new Set(A[1]);return n!=="root"&&(n!=="ext-inner"||s!=="poem")&&(h=`\0${h}`),h=h.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(U,R,Y)=>(new $(Y,a,g),`${R}\0${g.length-1}r\x7F`)).replace(new RegExp(`__(${A.flat().join("|")})__`,"giu"),(U,R)=>{const Y=y.has(R);return Y||m.has(R.toLowerCase())?(new l(R,Y,a,g),`\0${g.length-1}u\x7F`):U}).replace(/^((?:\0\d+c\x7F)*)(={1,6})(.+)\2((?:[^\S\n]|\0\d+c\x7F)*)$/gmu,(U,R,Y,z,E)=>{const x=`${R}\0${g.length}h\x7F`;return new c.D(Y.length,[z,E],a,g),x}),n==="root"||n==="ext-inner"&&s==="poem"?h:h.slice(1)}},980:(Q,D,t)=>{t.r(D),t.d(D,{parseHtml:()=>g});var w=t(891),b=t(83),K=t(169),I=t(467),N=t(541),$=Object.defineProperty,P=(A,m,y)=>m in A?$(A,m,{enumerable:!0,configurable:!0,writable:!0,value:y}):A[m]=y,v=(A,m,y)=>(P(A,typeof m!="symbol"?m+"":m,y),y),d=(A,m,y)=>{if(!m.has(A))throw TypeError("Cannot "+y)},o=(A,m,y)=>(d(A,m,"read from private field"),y?y.call(A):m.get(A)),l=(A,m,y)=>{if(m.has(A))throw TypeError("Cannot add the same private member more than once");m instanceof WeakSet?m.add(A):m.set(A,y)},c=(A,m,y,U)=>(d(A,m,"write to private field"),U?U.call(A,y):m.set(A,y),y),u,h,n;const s=new Set(["if","ifeq","ifexpr","ifexist","iferror","switch"]);class a extends N.Token{constructor(m,y,U,R,Y=w.default.getConfig(),z=[]){super(void 0,Y,z),v(this,"type","html"),l(this,u,void 0),l(this,h,void 0),l(this,n,void 0),this.insertAt(y),this.setAttribute("name",m.toLowerCase()),c(this,u,U),c(this,h,R),c(this,n,m)}get closing(){return o(this,u)}toString(m){return`<${o(this,u)?"/":""}${o(this,n)}${super.toString()}${o(this,h)?"/":""}>`}text(){return`<${o(this,u)?"/":""}${o(this,n)}${o(this,u)?"":super.text()}${o(this,h)?"/":""}>`}getPadding(){return o(this,n).length+(o(this,u)?2:1)}lint(m=this.getAbsoluteIndex()){const y=super.lint(m);let U;this.name==="h1"&&!o(this,u)&&(U=(0,K.Y)(this,{start:m},"<h1>"),y.push(U)),this.closest("table-attrs")&&(U!=null||(U=(0,K.Y)(this,{start:m},"")),y.push({...U,message:w.default.msg("HTML tag in table attributes")}));try{this.findMatchingTag()}catch(R){if(R instanceof SyntaxError){const{message:Y}=R;U!=null||(U=(0,K.Y)(this,{start:m},""));const[z]=Y.split(":"),E={...U,message:w.default.msg(z)};if(z==="unclosed tag")E.severity="warning";else if(z==="unmatched closing tag"){const x=this.closest("magic-word");x&&s.has(x.name)&&(E.severity="warning")}y.push(E)}}return y}findMatchingTag(){const{html:m}=this.getAttribute("config"),{name:y,parentNode:U}=this,R=(0,I.jq)(String(this));if(o(this,u)&&(o(this,h)||m[2].includes(y)))throw new SyntaxError(`tag that is both closing and self-closing: ${R}`);if(m[2].includes(y)||o(this,h)&&m[1].includes(y))return this;if(o(this,h)&&m[0].includes(y))throw new SyntaxError(`invalid self-closing tag: ${R}`);if(!U)return;const{childNodes:Y}=U,z=Y.indexOf(this),E=o(this,u)?Y.slice(0,z).reverse().filter(({type:S,name:G})=>S==="html"&&G===y):Y.slice(z+1).filter(({type:S,name:G})=>S==="html"&&G===y);let x=o(this,u)?-1:1;for(const S of E)if(o(S,u)?x--:x++,x===0)return S;throw new SyntaxError(`${o(this,u)?"unmatched closing":"unclosed"} tag: ${R}`)}print(){return super.print({pre:`&lt;${o(this,u)?"/":""}${o(this,n)}`,post:`${o(this,h)?"/":""}&gt;`})}}u=new WeakMap,h=new WeakMap,n=new WeakMap;const g=(A,m=w.default.getConfig(),y=[])=>{const U=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,R=new Set(m.html.flat()),Y=A.split("<");let z=Y.shift();for(const E of Y){const x=U.exec(E),S=x==null?void 0:x[2],G=S==null?void 0:S.toLowerCase();if(!x||!R.has(G)){z+=`<${E}`;continue}const[,L,,O="",T,r]=x,i=new b.x(O,"html-attrs",G,m,y),e=i.getAttr("itemprop");if(G==="meta"&&(e===void 0||i.getAttr("content")===void 0)||G==="link"&&(e===void 0||i.getAttr("href")===void 0)){z+=`<${E}`,y.pop();continue}z+=`\0${y.length}x\x7F${r}`,new a(S,i,L==="/",T==="/>",m,y)}return z}},106:(Q,D,t)=>{t.r(D),t.d(D,{parseLinks:()=>v});var w=t(891),b=t(524),K=t(533),I=Object.defineProperty,N=(d,o,l)=>o in d?I(d,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[o]=l,$=(d,o,l)=>(N(d,typeof o!="symbol"?o+"":o,l),l);class P extends b.h{constructor(){super(...arguments),$(this,"type","category")}}const v=(d,o=w.default.getConfig(),l=[])=>{const{parseQuotes:c}=t(704),u=o.inExt?/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su:/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]])?)?\]\](.*)$/su,h=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,n=new RegExp(`^\\s*(?:${o.protocol})`,"iu"),s=d.split("[[");let a=s.shift();for(let g=0;g<s.length;g++){let A=!1,m,y,U,R;const Y=s[g],z=u.exec(Y);if(z)[,m,y,U,R]=z,R.startsWith("]")&&(U!=null&&U.includes("["))&&(U+="]",R=R.slice(1));else{const O=h.exec(Y);O&&(A=!0,[,m,y,U]=O)}if(m===void 0||n.test(m)||/\0\d+[exhbru]\x7F/u.test(m)){a+=`[[${Y}`;continue}const E=m.trim().startsWith(":");if(E&&A){a+=`[[${Y}`;continue}const x=w.default.normalizeTitle(m,0,!1,o,!0,!0,!0),{ns:S,valid:G}=x;if(G){if(A){if(S!==6){a+=`[[${Y}`;continue}let O=!1;for(g++;g<s.length;g++){const T=s[g],r=T.split("]]");if(r.length>2){O=!0,U+=`[[${r[0]}]]${r[1]}`,R=r.slice(2).join("]]");break}else if(r.length===2)U+=`[[${r[0]}]]${r[1]}`;else{U+=`[[${T}`;break}}if(U=v(U,o,l),!O){a+=`[[${m}${y}${U}`;continue}}}else{a+=`[[${Y}`;continue}U&&(U=c(U,o,l)),a+=`\0${l.length}l\x7F${R}`;let L=b.h;E||(S===6?L=K.q:S===14&&(L=P)),U===void 0&&y&&(U=""),new L(m,U,o,l,y)}return a}},904:(Q,D,t)=>{t.r(D),t.d(D,{parseList:()=>v});var w=t(891),b=t(933),K=Object.defineProperty,I=(d,o,l)=>o in d?K(d,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[o]=l,N=(d,o,l)=>(I(d,typeof o!="symbol"?o+"":o,l),l);class $ extends b.T{constructor(){super(...arguments),N(this,"type","list")}}var P=t(461);const v=(d,o=w.default.getConfig(),l=[])=>{const c=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(d);if(!c)return d;const[u,h,n]=c;let s=`${h}\0${l.length}d\x7F${d.slice(u.length)}`,a=n.split(";").length-1;if(new $(n,o,l),!a)return s;let g=/:+|-\{/gu,A=g.exec(s),m=0;for(;A&&a;){const{0:y,index:U}=A;if(y.startsWith(":")){if(y.length>=a)return new P.k(":".repeat(a),o,l),`${s.slice(0,U)}\0${l.length-1}d\x7F${s.slice(U+a)}`;s=`${s.slice(0,U)}\0${l.length}d\x7F${s.slice(g.lastIndex)}`,a-=y.length,g.lastIndex=U+4+String(l.length).length,new P.k(y,o,l)}else if(y==="-{"){if(!m){const{lastIndex:R}=g;g=/-\{|\}-/gu,g.lastIndex=R}m++}else if(m--,!m){const{lastIndex:R}=g;g=/:+|-\{/gu,g.lastIndex=R}A=g.exec(s)}return s}},311:(Q,D,t)=>{t.r(D),t.d(D,{parseMagicLinks:()=>I});var w=t(467),b=t(891),K=t(686);const I=(N,$=b.default.getConfig(),P=[])=>{const v=new RegExp(`(^|[^\\p{L}\\d_])(?:${$.protocol})(${w._X}${w.Qk})`,"giu");return N.replace(v,(d,o,l)=>{let c="",u=o?d.slice(1):d;const h=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(u);h&&(c=u.slice(h.index),u=u.slice(0,h.index));const n=new RegExp(`[,;.:!?${u.includes("(")?"":")"}]+$`,"u"),s=n.exec(u);if(s){let a=0;s[0].startsWith(";")&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(u.slice(0,s.index))&&(a=1),c=`${u.slice(s.index+a)}${c}`,u=u.slice(0,s.index+a)}return c.length>=l.length?d:(new K.k(u,!1,$,P),`${o}\0${P.length-1}w\x7F${c}`)})}},704:(Q,D,t)=>{t.r(D),t.d(D,{parseQuotes:()=>v});var w=t(891),b=t(169),K=t(439),I=Object.defineProperty,N=(d,o,l)=>o in d?I(d,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[o]=l,$=(d,o,l)=>(N(d,typeof o!="symbol"?o+"":o,l),l);class P extends K.h{constructor(){super(...arguments),$(this,"type","quote")}lint(o=this.getAbsoluteIndex()){const{previousSibling:l,nextSibling:c}=this,u=w.default.msg('lonely "$1"',"'"),h=[];let n;if((l==null?void 0:l.type)==="text"&&l.data.endsWith("'")){n=(0,b.Y)(this,{start:o},u);const{startIndex:s,startLine:a,startCol:g}=n,[,{length:A}]=l.data.match(/(?:^|[^'])('+)$/u),m=o-A;h.push({...n,startIndex:m,endIndex:s,startCol:g-A,endLine:a,endCol:g})}if((c==null?void 0:c.type)==="text"&&c.data.startsWith("'")){n!=null||(n=(0,b.Y)(this,{start:o},u));const{endIndex:s,endLine:a,endCol:g}=n,[{length:A}]=c.data.match(/^'+/u),m=s+A;h.push({...n,startIndex:s,endIndex:m,startLine:a,startCol:g,endCol:g+A})}return h}}const v=(d,o=w.default.getConfig(),l=[])=>{var c;const u=d.split(/('{2,})/u),{length:h}=u;if(h===1)return d;let n=0,s=0,a,g,A;for(let m=1;m<h;m+=2){const{length:y}=u[m];switch(y){case 2:s++;break;case 4:u[m-1]+="'",u[m]="'''";case 3:if(n++,a!==void 0)break;u[m-1].endsWith(" ")?g===void 0&&A===void 0&&(A=m):u[m-1].slice(-2,-1)===" "?a=m:g!=null||(g=m);break;default:u[m-1]+="'".repeat(y-5),u[m]="'''''",s++,n++}}if(s%2===1&&n%2===1){const m=(c=a!=null?a:g)!=null?c:A;m!==void 0&&(u[m]="''",u[m-1]+="'")}for(let m=1;m<h;m+=2)new P(u[m],o,l),u[m]=`\0${l.length-1}q\x7F`;return u.join("")}},508:(Q,D,t)=>{t.r(D),t.d(D,{parseTable:()=>O});var w=t(891),b=t(541),K=t(169),I=t(669),N=t(83);class $ extends b.Token{constructor(r,i,e,p=w.default.getConfig(),M=[],W={}){super(void 0,p,M,W),this.append(new I.SyntaxToken(i,r,"table-syntax",p,M,{}),new N.x(e,"table-attrs",this.type,p,M))}}class P extends ${lint(r=this.getAbsoluteIndex()){const i=super.lint(r),e=this.childNodes.find(({type:F})=>F==="table-inter");if(!e)return i;const p=e.childNodes.find(F=>F.text().trim()),M=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!p||M.test(String(p))||p.type==="arg"&&M.test(p.default||""))return i;if(p.type==="magic-word")try{if(p.getPossibleValues().every(F=>M.test(F.text())))return i}catch(F){}const W=(0,K.D)(e,{start:r},"content to be moved out from the table");return i.push({...W,startIndex:W.startIndex+1,startLine:W.startLine+1,startCol:0}),i}text(){const r=super.text();return this.type==="tr"&&!r.trim().includes(`
`)?"":r}}var v=Object.defineProperty,d=(T,r,i)=>r in T?v(T,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):T[r]=i,o=(T,r,i)=>(d(T,typeof r!="symbol"?r+"":r,i),i);const l=/^\n[^\S\n]*(?:\|\}|\{\{\s*!\s*\}\}\}|\{\{\s*!\)\s*\}\})$/u;class c extends P{constructor(r,i,e=w.default.getConfig(),p=[]){super(/^(?:\{\||\{\{\{\s*!\s*\}\}|\{\{\s*\(!\s*\}\})$/u,r,i,e,p,{}),o(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(r=this.getAbsoluteIndex()){const i=super.lint(r);if(!this.closed){const{firstChild:e}=this,p=(0,K.D)(e,{start:r},"unclosed table");i.push(p)}return i}close(r=`
|}`,i=!1){const e=this.getAttribute("config"),p=this.getAttribute("accum"),M=[r],W=super.insertAt(w.default.run(()=>new I.SyntaxToken(void 0,l,"table-syntax",e,p,{})));this.lastChild.replaceChildren(...M)}}var u=Object.defineProperty,h=(T,r,i)=>r in T?u(T,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):T[r]=i,n=(T,r,i)=>(h(T,typeof r!="symbol"?r+"":r,i),i);class s extends P{constructor(r,i,e=w.default.getConfig(),p=[]){super(/^\n[^\S\n]*(?:\|-+|\{\{\s*!\s*\}\}-+|\{\{\s*!-\s*\}\}-*)$/u,r,i,e,p,{}),n(this,"type","tr")}}var a=Object.defineProperty,g=(T,r,i)=>r in T?a(T,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):T[r]=i,A=(T,r,i)=>(g(T,typeof r!="symbol"?r+"":r,i),i),m=(T,r,i)=>{if(!r.has(T))throw TypeError("Cannot "+i)},y=(T,r,i)=>(m(T,r,"read from private field"),i?i.call(T):r.get(T)),U=(T,r,i)=>{if(r.has(T))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(T):r.set(T,i)},R=(T,r,i,e)=>(m(T,r,"write to private field"),e?e.call(T,i):r.set(T,i),i),Y=(T,r,i,e)=>({set _(p){R(T,r,p,i)},get _(){return y(T,r,e)}}),z=(T,r,i)=>(m(T,r,"access private method"),i),E,x,S;class G extends ${constructor(r,i,e=w.default.getConfig(),p=[]){var M;let W=i==null?void 0:i.match(/\||\0\d+!\x7F/u),F=W?i.slice(0,W.index):"";/\[\[|-\{/u.test(F)&&(W=void 0,F=""),super(/^(?:\n[^\S\n]*(?:[|!]|\|\+|\{\{\s*!\s*\}\}\+?)|(?:\||\{\{\s*!\s*\}\}){2}|!!|\{\{\s*!!\s*\}\})$/u,r,F,e,p),U(this,x),A(this,"type","td"),U(this,E,""),W&&([Y(this,E)._]=W);const _=new b.Token(i==null?void 0:i.slice(((M=W==null?void 0:W.index)!=null?M:NaN)+y(this,E).length),e,p);_.type="td-inner",_.setAttribute("stage",4),this.insertAt(_)}get subtype(){return z(this,x,S).call(this).subtype}afterBuild(){y(this,E).includes("\0")&&R(this,E,this.buildFromStr(y(this,E),"string"))}toString(r){const{childNodes:[i,e,p]}=this;return`${i.toString()}${e.toString()}${y(this,E)}${p.toString()}`}text(){const{childNodes:[r,i,e]}=this;return`${r.text()}${i.text()}${y(this,E)}${e.text()}`}getGaps(r){return r===1?y(this,E).length:0}lint(r=this.getAbsoluteIndex()){const i=super.lint(r);r+=this.getRelativeIndex(this.length-1);for(const e of this.lastChild.childNodes)e.type==="text"&&e.data.includes("|")&&i.push((0,K.D)(e,{start:r},'additional "|" in a table cell',"warning"));return i}print(){const{childNodes:[r,i,e]}=this;return`<span class="wpb-td">${r.print()}${i.print()}${y(this,E)}${e.print()}</span>`}}E=new WeakMap,x=new WeakSet,S=function(){const T=this.firstChild.text(),r=T[T.length-1];let i="td";return r==="!"?i="th":r==="+"&&(i="caption"),{subtype:i}};var L=t(461);const O=({firstChild:{data:T},type:r,name:i},e=w.default.getConfig(),p=[])=>{const M=[],W=T.split(`
`);let F=r==="root"||r==="parameter-value"||r==="ext-inner"&&i==="poem"?"":`
${W.shift()}`;const _=(V,X)=>{if(!X){F+=V;return}const{lastChild:J}=X;if(J.constructor===b.Token)J.setText(String(J)+V);else{const q=new b.Token(V,e,p);q.type="table-inter",q.setAttribute("stage",3),X.insertAt(q)}};for(const V of W){let X=M.pop();const[J]=/^(?:\s|\0\d+c\x7F)*/u.exec(V),q=V.slice(J.length),j=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{(?:\0\d+c\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(q);if(j){for(;X&&X.type!=="td";)X=M.pop();const[,Z,st,it,lt]=j;Z&&new L.k(Z,e,p),_(`
${J}${Z&&`\0${p.length-1}d\x7F`}${st}\0${p.length}b\x7F`,X),M.push(...X?[X]:[],new c(it,lt,e,p));continue}else if(!X){F+=`
${V}`;continue}const tt=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(q);if(!tt){_(`
${V}`,X),M.push(X);continue}const[,et,at,nt,dt]=tt;if(et){for(;X.type!=="table";)X=M.pop();X.close(`
${J}${et}`,!0),_(dt,M[M.length-1])}else if(at){X.type==="td"&&(X=M.pop()),X.type==="tr"&&(X=M.pop());const Z=new s(`
${J}${at}`,dt,e,p);M.push(X,Z),X.insertAt(Z)}else{X.type==="td"&&(X=M.pop());const Z=nt==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let st=Z.exec(dt),it=0,lt=`
${J}${nt}`;for(;st;)X.insertAt(new G(lt,dt.slice(it,st.index),e,p)),{lastIndex:it}=Z,[lt]=st,st=Z.exec(dt);const ut=new G(lt,dt.slice(it),e,p);M.push(X,ut),X.insertAt(ut)}}return F.slice(1)}},34:(Q,D,t)=>{t.d(D,{D:()=>K});var w=t(891),b=t(541);class K extends b.Token{constructor(N,$,P=w.default.getConfig(),v=[],d){super(N,P,v,d),this.type=$}}},83:(Q,D,t)=>{t.d(D,{x:()=>Y});var w=t(169),b=t(467),K=t(891),I=t(541),N=t(34),$=(z,E,x)=>{if(!E.has(z))throw TypeError("Cannot "+x)},P=(z,E,x)=>($(z,E,"read from private field"),x?x.call(z):E.get(z)),v=(z,E,x)=>{if(E.has(z))throw TypeError("Cannot add the same private member more than once");E instanceof WeakSet?E.add(z):E.set(z,x)},d=(z,E,x,S)=>($(z,E,"write to private field"),S?S.call(z,x):E.set(z,x),x),o,l;const c=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),u=new Set(["align"]),h=new Set(["cite"]),n=new Set(["cite","datetime"]),s=new Set(["width"]),a=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),g=new Set(["type"]),A={div:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,blockquote:h,q:h,p:u,br:new Set(["clear"]),pre:s,ins:n,del:n,ul:g,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:u,tr:new Set(["bgcolor","align","valign"]),td:a,th:a,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:s,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline","align"])},m=new Set,y={nowiki:m,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:m,inputbox:m,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:m,poll:new Set(["id","show-results-before-voting"]),sm2:g,flashmp3:g,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},U=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class R extends I.Token{constructor(E,x,S,G="",L,O=[],T=K.default.getConfig(),r=[]){const i=new N.D(S,"attr-key",T,r,{});let e;if(S==="title"||x==="img"&&S==="alt")e=new I.Token(L,T,r,{}),e.type="attr-value",e.setAttribute("stage",K.default.MAX_STAGE-1);else if(x==="gallery"&&S==="caption"){const p={...T,excludes:[...T.excludes,"quote","extLink","magicLink","list"]};e=new I.Token(L,p,r,{}),e.type="attr-value",e.setAttribute("stage",5)}else if(x==="choose"&&(S==="before"||S==="after")){const p={...T,excludes:[...T.excludes,"heading","html","table","hr","list"]};e=new I.Token(L,p,r,{}),e.type="attr-value",e.setAttribute("stage",1)}else e=new N.D(L,"attr-value",T,r,{});super(void 0,T,r),v(this,o,void 0),v(this,l,void 0),this.type=E,this.append(i,e),d(this,o,G),d(this,l,O),this.tag=x,this.setAttribute("name",(0,b.PN)(S).trim().toLowerCase())}get balanced(){return!P(this,o)||P(this,l)[0]===P(this,l)[1]}afterBuild(){P(this,o).includes("\0")&&d(this,o,this.buildFromStr(P(this,o),"string")),this.parentNode&&this.setAttribute("tag",this.parentNode.name),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(E){const[x="",S=""]=P(this,l);return P(this,o)?`${super.toString(E,`${P(this,o)}${x}`)}${S}`:this.firstChild.toString(E)}text(){return P(this,o)?`${super.text(`${P(this,o).trim()}"`)}"`:this.firstChild.text()}getGaps(E){var x,S;return P(this,o)&&E===0?P(this,o).length+((S=(x=P(this,l)[0])==null?void 0:x.length)!=null?S:0):0}lint(E=this.getAbsoluteIndex()){var x;const S=super.lint(E),{balanced:G,firstChild:L,lastChild:O,type:T,name:r,tag:i}=this,e=this.getValue();let p;if(!G){const M=this.getRootNode();p={start:E,...M.posFromIndex(E)};const W=(0,w.D)(O,p,"unclosed quotes","warning"),F=W.startIndex-1;S.push({...W,startIndex:F,startCol:W.startCol-1})}return y[i]&&!y[i].has(r)||(T==="ext-attr"?i in A:!/\{\{[^{]+\}\}/u.test(r))&&!((x=A[i])!=null&&x.has(r))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(r)&&(i==="meta"||i==="link"||!c.has(r))?(p!=null||(p={start:E,...this.getRootNode().posFromIndex(E)}),S.push((0,w.D)(L,p,"illegal attribute name"))):r==="style"&&typeof e=="string"&&U.test(e)?(p!=null||(p={start:E,...this.getRootNode().posFromIndex(E)}),S.push((0,w.D)(O,p,"insecure style"))):r==="tabindex"&&typeof e=="string"&&e.trim()!=="0"&&(p!=null||(p={start:E,...this.getRootNode().posFromIndex(E)}),S.push((0,w.D)(O,p,"nonzero tabindex"))),S}getValue(){if(P(this,o)){const E=this.lastChild.text();return P(this,l)[1]?E:E.trim()}return this.type==="ext-attr"||""}print(){const[E="",x=""]=P(this,l);return P(this,o)?super.print({sep:`${P(this,o)}${E}`,post:x}):super.print()}}o=new WeakMap,l=new WeakMap;class Y extends I.Token{constructor(E,x,S,G=K.default.getConfig(),L=[]){if(super(void 0,G,L,{}),this.type=x,this.setAttribute("name",S),E){const O=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let T="",r=O.exec(E),i=0;const e=()=>{T&&(super.insertAt(new N.D(T,`${x.slice(0,-1)}-dirty`,G,L)),T="")};for(;r;){const{index:p,0:M,1:W,2:F,3:_,4:V,5:X,6:J}=r;if(T+=E.slice(i,p),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test((0,b.PN)(W).trim())){const q=V!=null?V:J,j=[_,X],tt=new R(x.slice(0,-1),S,W,F,q,j,G,L);e(),super.insertAt(tt)}else T+=M;({lastIndex:i}=O),r=O.exec(E)}T+=E.slice(i),e()}}afterBuild(){if(this.type==="table-attrs"){const{parentNode:E}=this;this.setAttribute("name",(E==null?void 0:E.type)==="td"&&E.subtype==="caption"?"caption":E==null?void 0:E.type)}}getAttrTokens(E){return this.childNodes.filter(x=>x instanceof R&&(!E||x.name===E.toLowerCase().trim()))}getAttrToken(E){const x=this.getAttrTokens(E);return x[x.length-1]}getAttr(E){var x;return(x=this.getAttrToken(E))==null?void 0:x.getValue()}lint(E=this.getAbsoluteIndex()){const x=super.lint(E),{parentNode:S,length:G,childNodes:L}=this,O=new Map,T=new Set;let r;(S==null?void 0:S.type)==="html"&&S.closing&&this.text().trim()&&(r={start:E,...this.getRootNode().posFromIndex(E)},x.push((0,w.Y)(this,r,"attributes of a closing tag")));for(let i=0;i<G;i++){const e=L[i];if(e instanceof N.D&&e.text().trim())r!=null||(r={start:E,...this.getRootNode().posFromIndex(E)}),x.push((0,w.D)(e,r,"containing invalid attribute"));else if(e instanceof R){const{name:p}=e;O.has(p)?(T.add(p),O.get(p).push(e)):p!=="class"&&O.set(p,[e])}}if(T.size>0){r!=null||(r={start:E,...this.getRootNode().posFromIndex(E)});for(const i of T)x.push(...O.get(i).map(e=>(0,w.D)(e,r,K.default.msg("duplicated $1 attribute",i))))}return x}print(){return String(this)?`<span class="wpb-${this.type}">${this.childNodes.map(E=>E.print(E instanceof N.D&&E.text().trim()?{class:"hidden"}:void 0)).join("")}</span>`:""}}},876:(Q,D,t)=>{t.d(D,{a:()=>u});const w=h=>{class n extends h{}return n};var b=t(891),K=t(541),I=t(686),N=Object.defineProperty,$=(h,n,s)=>n in h?N(h,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[n]=s,P=(h,n,s)=>($(h,typeof n!="symbol"?n+"":n,s),s),v=(h,n,s)=>{if(!n.has(h))throw TypeError("Cannot "+s)},d=(h,n,s)=>(v(h,n,"read from private field"),s?s.call(h):n.get(h)),o=(h,n,s)=>{if(n.has(h))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(h):n.set(h,s)},l=(h,n,s,a)=>(v(h,n,"write to private field"),a?a.call(h,s):n.set(h,s),s),c;class u extends w(K.Token){constructor(n,s="",a="",g=b.default.getConfig(),A=[]){if(super(void 0,g,A,{}),P(this,"type","ext-link"),o(this,c,void 0),this.insertAt(new I.k(n,!0,g,A)),l(this,c,s),a){const m=new K.Token(a,g,A,{});m.type="ext-link-text",m.setAttribute("stage",b.default.MAX_STAGE-1),this.insertAt(m)}}toString(n){return this.length===1?`[${super.toString(n)}${d(this,c)}]`:`[${super.toString(n,d(this,c))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(n){return n===0?d(this,c).length:0}print(){return super.print(this.length===1?{pre:"[",post:`${d(this,c)}]`}:{pre:"[",sep:d(this,c),post:"]"})}}c=new WeakMap},420:(Q,D,t)=>{t.r(D),t.d(D,{GalleryToken:()=>u});var w=t(891),b=t(541),K=t(39),I=t(465),N=Object.defineProperty,$=(h,n,s)=>n in h?N(h,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[n]=s,P=(h,n,s)=>($(h,typeof n!="symbol"?n+"":n,s),s),v=(h,n,s)=>{if(!n.has(h))throw TypeError("Cannot "+s)},d=(h,n,s)=>{if(n.has(h))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(h):n.set(h,s)},o=(h,n,s)=>(v(h,n,"access private method"),s),l,c;class u extends b.Token{constructor(n,s=w.default.getConfig(),a=[]){var g;super(void 0,s,a,{}),d(this,l),P(this,"type","ext-inner");for(const A of(g=n==null?void 0:n.split(`
`))!=null?g:[]){const m=/^([^|]+)(?:\|(.*))?/u.exec(A);if(!m){super.insertAt(A.trim()?new I.R(A,s,[],{}):A);continue}const[,y,U]=m;o(this,l,c).call(this,y)?super.insertAt(new K._("gallery",y,U,s,a)):super.insertAt(new I.R(A,s,[],{}))}}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(n){return n<this.length-1?1:0}lint(n=this.getAbsoluteIndex()){const{top:s,left:a}=this.getRootNode().posFromIndex(n),g=[];for(let A=0;A<this.length;A++){const m=this.childNodes[A],y=String(m),{length:U}=y,R=y.trim(),Y=s+A,z=A?0:a;m.type==="hidden"&&R&&!/^<!--.*-->$/u.test(R)?g.push({message:w.default.msg("invalid content in <$1>","gallery"),severity:"error",startIndex:n,endIndex:n+U,startLine:Y,endLine:Y,startCol:z,endCol:z+U}):m.type!=="hidden"&&m.type!=="text"&&g.push(...m.lint(n)),n+=U+1}return g}print(){return super.print({sep:`
`})}}l=new WeakSet,c=function(h){return this.normalizeTitle(h,6,!0,!0).valid}},485:(Q,D,t)=>{t.d(D,{D:()=>u});var w=t(169),b=t(891),K=t(541),I=t(669),N=Object.defineProperty,$=(h,n,s)=>n in h?N(h,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):h[n]=s,P=(h,n,s)=>($(h,typeof n!="symbol"?n+"":n,s),s),v=(h,n,s)=>{if(!n.has(h))throw TypeError("Cannot "+s)},d=(h,n,s)=>(v(h,n,"read from private field"),s?s.call(h):n.get(h)),o=(h,n,s)=>{if(n.has(h))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(h):n.set(h,s)},l,c;class u extends K.Token{constructor(n,s,a=b.default.getConfig(),g=[]){super(void 0,a,g),o(this,l),P(this,"type","heading"),this.setAttribute("name",String(n));const A=new K.Token(s[0],a,g);A.type="heading-title",A.setAttribute("stage",2);const m=new I.SyntaxToken(s[1],/^[^\S\n]*$/u,"heading-trail",a,g,{});this.append(A,m)}get level(){return Number(this.name)}toString(n){const s=d(this,l,c);return`${s}${this.firstChild.toString()}${s}${this.lastChild.toString()}`}text(){const n=d(this,l,c);return`${n}${this.firstChild.text()}${n}`}getPadding(){return super.getPadding()+this.level}getGaps(n){return n===0?this.level:0}lint(n=this.getAbsoluteIndex()){const s=super.lint(n),a=String(this.firstChild);let g;return this.name==="1"&&(g=(0,w.Y)(this,{start:n},"<h1>"),s.push(g)),(a.startsWith("=")||a.endsWith("="))&&(g!=null||(g=(0,w.Y)(this,{start:n},"")),s.push({...g,message:b.default.msg('unbalanced "=" in a section header')})),this.closest("html-attrs, table-attrs")&&(g!=null||(g=(0,w.Y)(this,{start:n},"")),s.push({...g,message:b.default.msg("section header in a HTML tag")})),s}print(){const n=d(this,l,c);return super.print({pre:n,sep:n})}}l=new WeakSet,c=function(){return"=".repeat(this.level)}},465:(Q,D,t)=>{t.d(D,{R:()=>$});var w=t(959),b=t(541),K=Object.defineProperty,I=(P,v,d)=>v in P?K(P,v,{enumerable:!0,configurable:!0,writable:!0,value:d}):P[v]=d,N=(P,v,d)=>(I(P,typeof v!="symbol"?v+"":v,d),d);class $ extends(0,w.a)(b.Token){constructor(){super(...arguments),N(this,"type","hidden")}}},842:(Q,D,t)=>{t.r(D),t.d(D,{ImagemapToken:()=>n});var w=t(169),b=t(891),K=t(541),I=t(826),N=t(39),$=t(524),P=t(876),v=Object.defineProperty,d=(s,a,g)=>a in s?v(s,a,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[a]=g,o=(s,a,g)=>(d(s,typeof a!="symbol"?a+"":a,g),g);class l extends K.Token{constructor(a,g,A,m=b.default.getConfig(),y=[]){super(void 0,m,y),o(this,"type","imagemap-link"),this.append(a,g.length===2?new $.h(...g,m,y):new P.a(...g,m,y),new I.O(A,m,y))}}var c=Object.defineProperty,u=(s,a,g)=>a in s?c(s,a,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[a]=g,h=(s,a,g)=>(u(s,typeof a!="symbol"?a+"":a,g),g);class n extends K.Token{constructor(a,g=b.default.getConfig(),A=[]){if(super(void 0,g,A,{}),h(this,"type","ext-inner"),!a)return;const m=a.split(`
`),y=new Set(g.protocol.split("|")),U=I.O;let R=!0,Y=!1;for(const z of m){const E=z.trim();if(!(Y||!E||E.startsWith("#"))){if(R){const[x,...S]=z.split("|"),G=this.normalizeTitle(x,0,!0);if(G.valid&&G.ns===6){const L=new N._("imagemap",x,S.length>0?S.join("|"):void 0,g,A);super.insertAt(L),R=!1;continue}else Y=!0}else if(z.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(z);continue}else if(z.includes("[")){const x=z.indexOf("["),S=z.slice(x),G=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(S);if(G){if(this.normalizeTitle(G[1],0,!0,!1,!0).valid){super.insertAt(new l(z.slice(0,x),G.slice(1),S.slice(S.indexOf("]]")+2),g,A));continue}}else if(y.has(S.slice(1,S.indexOf(":")+1))||y.has(S.slice(1,S.indexOf("//")+2))){const L=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(S);if(L){super.insertAt(new l(z.slice(0,x),L.slice(1),S.slice(S.indexOf("]")+1),g,A));continue}}}}super.insertAt(new U(z,g,A))}}get image(){return this.childNodes.find(({type:a})=>a==="imagemap-image")}toString(a){return super.toString(a,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(a){return a<this.length-1?1:0}lint(a=this.getAbsoluteIndex()){const g=super.lint(a),A={start:a,...this.getRootNode().posFromIndex(a)};return this.image?g.push(...this.childNodes.filter(m=>{const y=String(m).trim();return m.type==="noinclude"&&y&&!y.startsWith("#")}).map(m=>(0,w.D)(m,A,"invalid link in <imagemap>"))):g.push((0,w.Y)(this,A,"<imagemap> without an image")),g}print(){return super.print({sep:`
`})}}},541:(Q,D,t)=>{t.r(D),t.d(D,{Token:()=>wt});var w=t(467),b=t(891),K=Object.defineProperty,I=(B,f,C)=>f in B?K(B,f,{enumerable:!0,configurable:!0,writable:!0,value:C}):B[f]=C,N=(B,f,C)=>(I(B,typeof f!="symbol"?f+"":f,C),C),$=(B,f,C)=>{if(!f.has(B))throw TypeError("Cannot "+C)},P=(B,f,C)=>($(B,f,"read from private field"),C?C.call(B):f.get(B)),v=(B,f,C)=>{if(f.has(B))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(B):f.set(B,C)},d=(B,f,C,H)=>($(B,f,"write to private field"),H?H.call(B,C):f.set(B,C),C),o=(B,f,C)=>($(B,f,"access private method"),C),l,c,u;class h{constructor(){v(this,c),N(this,"childNodes",[]),v(this,l,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return P(this,l)}get nextSibling(){var f;const C=(f=P(this,l))==null?void 0:f.childNodes;return C&&C[C.indexOf(this)+1]}get previousSibling(){var f;const C=(f=P(this,l))==null?void 0:f.childNodes;return C&&C[C.indexOf(this)-1]}get offsetHeight(){return o(this,c,u).call(this).height}get offsetWidth(){return o(this,c,u).call(this).width}getAttribute(f){return f in this?String(this[f]):void 0}setAttribute(f,C){f==="parentNode"?d(this,l,C):this[f]=C}getRootNode(){let{parentNode:f}=this;for(;f!=null&&f.parentNode;)({parentNode:f}=f);return f!=null?f:this}posFromIndex(f){const C=String(this);if(f>=-C.length&&f<=C.length){const H=C.slice(0,f).split(`
`);return{top:H.length-1,left:H[H.length-1].length}}}getPadding(){return 0}getGaps(f){return 0}getRelativeIndex(f){let C;const H=(k,rt)=>C.slice(0,k).reduce((mt,bt,It)=>mt+String(bt).length+rt.getGaps(It),0)+rt.getPadding();if(f===void 0){const{parentNode:k}=this;return k?({childNodes:C}=k,H(C.indexOf(this),k)):0}return{childNodes:C}=this,H(f,this)}getAbsoluteIndex(){const{parentNode:f}=this;return f?f.getAbsoluteIndex()+this.getRelativeIndex():0}}l=new WeakMap,c=new WeakSet,u=function(){const B=String(this).split(`
`);return{height:B.length,width:B[B.length-1].length}};const n=new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"]);class s extends h{get length(){return this.childNodes.length}text(f){return(0,w.fL)(this.childNodes,f)}normalize(){const{childNodes:f}=this;for(let C=f.length-1;C>=0;C--){const{type:H,data:k}=f[C],rt=f[C-1];H!=="text"||this.getGaps(C-1)||(k===""?f.splice(C,1):(rt==null?void 0:rt.type)==="text"&&(rt.setAttribute("data",rt.data+k),f.splice(C,1)))}}removeAt(f){const{childNodes:C}=this,[H]=C.splice(f,1);return H}insertAt(f,C=this.length){const{childNodes:H}=this;return f.setAttribute("parentNode",this),H.splice(C,0,f),f}closest(f){let{parentNode:C}=this,H;const k=new Set(f.split(",").map(rt=>rt.trim()));for(H=({type:rt})=>k.has(rt);C;){if(H(C))return C;({parentNode:C}=C)}}append(...f){for(const C of f)this.insertAt(C)}replaceChildren(...f){this.childNodes.length=0,this.append(...f)}setText(f,C=0){const H=this.childNodes[C],{data:k}=H;return H.replaceData(f),k}toString(f,C=""){return this.childNodes.map(H=>H.toString()).join(C)}lint(f=this.getAbsoluteIndex()){const{SyntaxToken:C}=t(669);if(this instanceof C||this.constructor.hidden||this.type==="ext-inner"&&n.has(this.name))return[];const H=[];for(let k=0,rt=f+this.getPadding();k<this.length;k++){const mt=this.childNodes[k];H.push(...mt.lint(rt)),rt+=String(mt).length+this.getGaps(k)}return H}print(f={}){var C;return String(this)?`<span class="wpb-${(C=f.class)!=null?C:this.type}">${(0,w.S0)(this.childNodes,f)}</span>`:""}}var a=Object.defineProperty,g=(B,f,C)=>f in B?a(B,f,{enumerable:!0,configurable:!0,writable:!0,value:C}):B[f]=C,A=(B,f,C)=>(g(B,typeof f!="symbol"?f+"":f,C),C),m=(B,f,C)=>{if(!f.has(B))throw TypeError("Cannot "+C)},y=(B,f,C)=>{if(f.has(B))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(B):f.set(B,C)},U=(B,f,C)=>(m(B,f,"access private method"),C),R,Y;const z=/https?:\/\/|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,E=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,x=["html","head","style","title","body","a","audio","img","video","embed","iframe","object","canvas","script","col","colgroup","tbody","tfoot","thead","button","input","label","option","select","textarea"];class S extends h{constructor(f){super(),y(this,R),A(this,"type","text"),A(this,"data",""),this.data=f}toString(){return this.data}text(){return this.data}lint(f=this.getAbsoluteIndex()){const{data:C,parentNode:H,nextSibling:k,previousSibling:rt}=this,mt=H==null?void 0:H.type,bt=H==null?void 0:H.name,It=k==null?void 0:k.type,Vt=rt==null?void 0:rt.type,_t=mt==="free-ext-link"||mt==="ext-link-url"||mt==="image-parameter"&&bt==="link"?E:z,Bt=[],{ext:Jt,html:Zt}=this.getRootNode().getAttribute("config");if(C.search(_t)!==-1){_t.lastIndex=0;const Ut=this.getRootNode(),{top:kt,left:jt}=Ut.posFromIndex(f),qt=new Set([Jt,Zt,x].flat(2));for(let Ot=_t.exec(C);Ot;Ot=_t.exec(C)){const[,Ft,te]=Ot;let{0:Dt,index:Et}=Ot;Ft&&Ft!=="]"&&(Et+=Ft.length,Dt=Dt.slice(Ft.length));const Nt=f+Et,Mt=C.slice(0,Et).split(`
`),Kt=Mt.length+kt-1,Gt=Mt[Mt.length-1],zt=Mt.length===1?jt+Gt.length:Gt.length,{0:ct,length:Lt}=Dt,Ht=Nt+Lt,Yt=String(Ut),yt=Yt[Ht],Wt=Yt[Nt-1],ee=Lt>1&&(ct!=="<"||/[\s/>]/u.test(yt!=null?yt:""))||ct==="{"&&(yt===ct||Wt==="-")||ct==="}"&&(Wt===ct||yt==="-")||ct==="["&&(yt===ct||mt==="ext-link-text"||!C.slice(Et+1).trim()&&It==="free-ext-link")||ct==="]"&&(Wt===ct||!C.slice(0,Et).trim()&&Vt==="free-ext-link")?"error":"warning";(ct!=="h"||Et>0)&&(ct!=="<"||qt.has(te.toLowerCase()))&&Bt.push({message:b.default.msg('lonely "$1"',ct==="h"?Dt:ct),severity:ee,startIndex:Nt,endIndex:Ht,startLine:Kt,endLine:Kt,startCol:zt,endCol:zt+Lt})}return Bt}return[]}replaceData(f){U(this,R,Y).call(this,f)}}R=new WeakSet,Y=function(B){this.setAttribute("data",B)};var G=Object.defineProperty,L=(B,f,C)=>f in B?G(B,f,{enumerable:!0,configurable:!0,writable:!0,value:C}):B[f]=C,O=(B,f,C)=>(L(B,typeof f!="symbol"?f+"":f,C),C),T=(B,f,C)=>{if(!f.has(B))throw TypeError("Cannot "+C)},r=(B,f,C)=>(T(B,f,"read from private field"),C?C.call(B):f.get(B)),i=(B,f,C)=>{if(f.has(B))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(B):f.set(B,C)},e=(B,f,C,H)=>(T(B,f,"write to private field"),H?H.call(B,C):f.set(B,C),C),p=(B,f,C,H)=>({set _(k){e(B,f,k,C)},get _(){return r(B,f,H)}}),M=(B,f,C)=>(T(B,f,"access private method"),C),W,F,_,V,X,J,q,j,tt,et,at,nt,dt,Z,st,it,lt,ut,ot,ft,At,Ct,$t,vt,pt,gt,xt,St;const{MAX_STAGE:Tt}=b.default,ht=class Xt extends s{constructor(f,C=b.default.getConfig(),H=[],k){super(),i(this,X),i(this,q),i(this,tt),i(this,at),i(this,dt),i(this,st),i(this,lt),i(this,ot),i(this,At),i(this,$t),i(this,pt),i(this,xt),O(this,"type","root"),i(this,W,0),i(this,F,void 0),i(this,_,void 0),i(this,V,void 0),typeof f=="string"&&this.insertAt(f),e(this,F,C),e(this,_,H),H.push(this)}parseOnce(f=r(this,W),C=!1){if(f<r(this,W)||!this.isPlain()||this.length===0)return this;switch(f){case 0:this.type==="root"&&r(this,_).shift(),e(this,V,C),M(this,q,j).call(this,C);break;case 1:M(this,tt,et).call(this);break;case 2:M(this,at,nt).call(this);break;case 3:M(this,dt,Z).call(this);break;case 4:M(this,st,it).call(this);break;case 5:M(this,lt,ut).call(this);break;case 6:M(this,ot,ft).call(this);break;case 7:M(this,At,Ct).call(this);break;case 8:M(this,$t,vt).call(this);break;case 9:M(this,pt,gt).call(this);break;case 10:M(this,xt,St).call(this)}if(this.type==="root")for(const H of r(this,_))H.parseOnce(f,C);return p(this,W)._++,this}buildFromStr(f,C){const H=f.split(/[\0\x7F]/u).map((k,rt)=>{if(rt%2===0)return new S(k);if(isNaN(k[k.lengtht-1]))return r(this,_)[Number(k.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${k}`)});return C==="string"?H.map(String).join(""):C==="text"?(0,w.fL)(H):H}afterBuild(){if(this.type==="root")for(const f of r(this,_))f.afterBuild()}parse(f=Tt,C=!1){for(;r(this,W)<f;)this.parseOnce(r(this,W),C);return f&&(M(this,X,J).call(this),this.afterBuild()),this}getAttribute(f){switch(f){case"config":return JSON.parse(JSON.stringify(r(this,F)));case"accum":return r(this,_);case"include":{if(r(this,V)!==void 0)return r(this,V);const C=this.getRootNode();return C!==this?C.getAttribute("include"):!1}default:return super.getAttribute(f)}}setAttribute(f,C){switch(f){case"stage":r(this,W)===0&&this.type==="root"&&r(this,_).shift(),e(this,W,C);break;default:super.setAttribute(f,C)}}isPlain(){return this.constructor===Xt}insertAt(f,C=this.length){const H=typeof f=="string"?new S(f):f;return super.insertAt(H,C),H.type==="root"&&(H.type="plain"),H}normalizeTitle(f,C=0,H=!1,k=!1,rt=!1){return b.default.normalizeTitle(f,C,r(this,V),r(this,F),H,k,rt)}};W=new WeakMap,F=new WeakMap,_=new WeakMap,V=new WeakMap,X=new WeakSet,J=function(){var B;e(this,W,Tt);const{length:f,firstChild:C}=this,H=String(C);if(f===1&&C.type==="text"&&H.includes("\0")&&(this.replaceChildren(...this.buildFromStr(H)),this.normalize(),this.type==="root"))for(const k of r(this,_))M(B=k,X,J).call(B)},q=new WeakSet,j=function(B){const{parseCommentAndExt:f}=t(551);this.setText(f(String(this.firstChild),r(this,F),r(this,_),B))},tt=new WeakSet,et=function(){const{parseBraces:B}=t(313),f=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,C=B(f,r(this,F),r(this,_));this.setText(this.type==="root"?C:C.slice(1))},at=new WeakSet,nt=function(){var B;if((B=r(this,F).excludes)!=null&&B.includes("html"))return;const{parseHtml:f}=t(980);this.setText(f(String(this.firstChild),r(this,F),r(this,_)))},dt=new WeakSet,Z=function(){var B;if((B=r(this,F).excludes)!=null&&B.includes("table"))return;const{parseTable:f}=t(508);this.setText(f(this,r(this,F),r(this,_)))},st=new WeakSet,it=function(){var B;if((B=r(this,F).excludes)!=null&&B.includes("hr"))return;const{parseHrAndDoubleUnderscore:f}=t(362);this.setText(f(this,r(this,F),r(this,_)))},lt=new WeakSet,ut=function(){const{parseLinks:B}=t(106);this.setText(B(String(this.firstChild),r(this,F),r(this,_)))},ot=new WeakSet,ft=function(){var B;if((B=r(this,F).excludes)!=null&&B.includes("quote"))return;const{parseQuotes:f}=t(704),C=String(this.firstChild).split(`
`);for(let H=0;H<C.length;H++)C[H]=f(C[H],r(this,F),r(this,_));this.setText(C.join(`
`))},At=new WeakSet,Ct=function(){var B;if((B=r(this,F).excludes)!=null&&B.includes("extLink"))return;const{parseExternalLinks:f}=t(418);this.setText(f(String(this.firstChild),r(this,F),r(this,_)))},$t=new WeakSet,vt=function(){var B;if((B=r(this,F).excludes)!=null&&B.includes("magicLink"))return;const{parseMagicLinks:f}=t(311);this.setText(f(String(this.firstChild),r(this,F),r(this,_)))},pt=new WeakSet,gt=function(){var B;if((B=r(this,F).excludes)!=null&&B.includes("list"))return;const{parseList:f}=t(904),C=String(this.firstChild).split(`
`);let H=this.type==="root"||this.type==="ext-inner"&&this.name==="poem"?0:1;for(;H<C.length;H++)C[H]=f(C[H],r(this,F),r(this,_));this.setText(C.join(`
`))},xt=new WeakSet,St=function(){if(r(this,F).variants.length>0){const{parseConverter:B}=t(370);this.setText(B(String(this.firstChild),r(this,F),r(this,_)))}};let wt=ht},299:(Q,D,t)=>{t.d(D,{o:()=>h});var w=t(169),b=t(891),K=t(541),I=t(34),N=(n,s,a)=>{if(!s.has(n))throw TypeError("Cannot "+a)},$=(n,s,a)=>(N(n,s,"read from private field"),a?a.call(n):s.get(n)),P=(n,s,a)=>{if(s.has(n))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(n):s.set(n,a)},v=(n,s,a,g)=>(N(n,s,"write to private field"),g?g.call(n,a):s.set(n,a),a),d=(n,s,a)=>(N(n,s,"access private method"),a),o,l,c,u;class h extends K.Token{constructor(s,a,g=b.default.getConfig(),A=[],m="|"){if(super(void 0,g,A,{}),P(this,c),P(this,o,!0),P(this,l,void 0),this.insertAt(new I.D(s,"link-target",g,A,{})),a!==void 0){const y=new K.Token(a,g,A,{});y.type="link-text",y.setAttribute("stage",b.default.MAX_STAGE-1),this.insertAt(y)}v(this,l,m)}afterBuild(){$(this,l).includes("\0")&&v(this,l,this.buildFromStr($(this,l),"string"))}setAttribute(s,a){s==="bracket"?v(this,o,!!a):super.setAttribute(s,a)}toString(s){const a=super.toString(s,$(this,l));return $(this,o)?`[[${a}]]`:a}text(){const s=super.text("|");return $(this,o)?`[[${s}]]`:s}getPadding(){return 2}getGaps(s){return s>=this.length-1?0:s===0?$(this,l).length:1}lint(s=this.getAbsoluteIndex()){const a=super.lint(s),{childNodes:[g,A],type:m}=this,{encoded:y,fragment:U}=d(this,c,u).call(this);let R;return m==="link"&&g.childNodes.some(({type:Y})=>Y==="template")&&(R={start:s,...this.getRootNode().posFromIndex(s)},a.push((0,w.D)(g,R,"template in an internal link target","warning"))),y&&(R!=null||(R={start:s,...this.getRootNode().posFromIndex(s)}),a.push((0,w.D)(g,R,"unnecessary URL encoding in an internal link"))),m==="link"&&(A!=null&&A.childNodes.some(({type:Y,data:z})=>Y==="text"&&z.includes("|")))?(R!=null||(R={start:s,...this.getRootNode().posFromIndex(s)}),a.push((0,w.D)(A,R,'additional "|" in the link text',"warning"))):m!=="link"&&U!==void 0&&(R!=null||(R={start:s,...this.getRootNode().posFromIndex(s)}),a.push((0,w.D)(g,R,"useless fragment"))),a}print(){return super.print($(this,o)?{pre:"[[",post:"]]",sep:$(this,l)}:{sep:$(this,l)})}}o=new WeakMap,l=new WeakMap,c=new WeakSet,u=function(){return this.normalizeTitle(this.firstChild.text(),0,!1,!0,!0)}},533:(Q,D,t)=>{t.d(D,{q:()=>G});var w=t(467),b=t(169),K=t(891),I=t(299),N=t(541),$=Object.defineProperty,P=(L,O,T)=>O in L?$(L,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):L[O]=T,v=(L,O,T)=>(P(L,typeof O!="symbol"?O+"":O,T),T),d=(L,O,T)=>{if(!O.has(L))throw TypeError("Cannot "+T)},o=(L,O,T)=>(d(L,O,"read from private field"),T?T.call(L):O.get(L)),l=(L,O,T)=>{if(O.has(L))throw TypeError("Cannot add the same private member more than once");O instanceof WeakSet?O.add(L):O.set(L,T)},c=(L,O,T,r)=>(d(L,O,"write to private field"),r?r.call(L,T):O.set(L,T),T),u;const h=new Set(["alt","link","lang","page","caption"]);function n(L,O,T=K.default.getConfig(),r=!1){O=O.trim();let i=O.replace(/\0\d+t\x7F/gu,"").trim();switch(L){case"width":return!i||/^(?:\d+x?|\d*x\d+)$/u.test(i);case"link":{if(!i||new RegExp(`^(?:(?:${T.protocol}|//)${w._X}|\0\\d+m\x7F)${w.Qk}$`,"iu").test(i))return O;i.startsWith("[[")&&i.endsWith("]]")&&(i=i.slice(2,-2));const p=K.default.normalizeTitle(i,0,!1,T,r,!0,!0);return p.valid&&p}case"lang":return!i||T.variants.includes(i);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(i)}}class s extends N.Token{constructor(O,T=K.default.getConfig(),r=[]){var i=(...F)=>{super(...F),v(this,"type","image-parameter"),l(this,u,"")},e;let p;const M=Object.entries(T.img).map(([F,_])=>[F,_,new RegExp(`^(\\s*)${F.replace("$1","(.*)")}(\\s*)$`,"u")]),W=M.find(([,F,_])=>(p=_.exec(O),p&&(p.length!==4||n(F,p[2],T,!0)!==!1)));if(W&&p){p.length===3?(i(void 0,T,r),c(this,u,O)):(i(p[2],T,r,{}),c(this,u,`${p[1]}${W[0]}${p[3]}`)),this.setAttribute("name",W[1]);return}i(O,{...T,excludes:[...(e=T.excludes)!=null?e:[],"list"]},r),this.setAttribute("name","caption"),this.setAttribute("stage",7)}get link(){return this.name==="link"?n("link",super.text(),this.getAttribute("config")):void 0}afterBuild(){var O;((O=this.parentNode)==null?void 0:O.type)==="gallery-image"&&!h.has(this.name)&&this.setAttribute("name","invalid")}isPlain(){return this.name==="caption"}toString(O){return o(this,u)?o(this,u).replace("$1",super.toString(O)):super.toString(O)}text(){return o(this,u)?o(this,u).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,o(this,u).indexOf("$1"))}lint(O=this.getAbsoluteIndex()){const T=super.lint(O),{link:r,name:i}=this;return i==="invalid"?T.push((0,b.Y)(this,{start:O},"invalid gallery image parameter")):typeof r=="object"&&r.encoded&&T.push((0,b.Y)(this,{start:O},"unnecessary URL encoding in an internal link")),T}print(){return o(this,u)?`<span class="wpb-image-parameter">${o(this,u).replace("$1",`<span class="wpb-image-caption">${(0,w.S0)(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}}u=new WeakMap;var a=Object.defineProperty,g=(L,O,T)=>O in L?a(L,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):L[O]=T,A=(L,O,T)=>(g(L,typeof O!="symbol"?O+"":O,T),T),m=(L,O,T)=>{if(!O.has(L))throw TypeError("Cannot "+T)},y=(L,O,T)=>{if(O.has(L))throw TypeError("Cannot add the same private member more than once");O instanceof WeakSet?O.add(L):O.set(L,T)},U=(L,O,T)=>(m(L,O,"access private method"),T),R,Y;const z=new Set(["manualthumb","frameless","framed","thumbnail"]),E=new Set(["left","right","center","none"]),x=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]),S=(L,O,T,r)=>{if(r===void 0)return[];const i=new RegExp(`${[L,O,T].map(w.hr).join("|")}`,"gu"),e=[];let p=i.exec(r),M=0,W=0;for(;p;){const{0:F,index:_}=p;F!==T?M+=F===L?1:-1:M===0&&(e.push(r.slice(W,_)),{lastIndex:W}=i),p=i.exec(r)}return e.push(r.slice(W)),e};class G extends I.o{constructor(O,T,r=K.default.getConfig(),i=[],e="|"){super(O,void 0,r,i,e),y(this,R),A(this,"type","file"),this.append(...S("-{","}-","|",T).map(p=>new s(p,r,i)))}lint(O=this.getAbsoluteIndex()){const T=super.lint(O),r=this.getAllArgs().filter(({childNodes:_})=>{const V=_.filter(X=>X.text().trim());return V.length!==1||V[0].type!=="arg"}),i=[...new Set(r.map(({name:_})=>_))].filter(_=>_!=="invalid"),e=i.filter(_=>z.has(_)),p=i.filter(_=>E.has(_)),M=i.filter(_=>x.has(_));if(r.length===i.length&&e.length<2&&p.length<2&&M.length<2)return T;const W={start:O,...this.getRootNode().posFromIndex(O)},F=(_,V)=>X=>(0,b.D)(X,W,K.default.msg(`${_} image $1 parameter`,V));for(const _ of i){let V=r.filter(({name:X})=>X===_);_==="caption"&&(V=[...V.slice(0,-1).filter(X=>X.text()),...V.slice(-1)]),V.length>1&&T.push(...V.map(F("duplicated",_)))}return e.length>1&&T.push(...r.filter(({name:_})=>z.has(_)).map(F("conflicting","frame"))),p.length>1&&T.push(...r.filter(({name:_})=>E.has(_)).map(F("conflicting","horizontal-alignment"))),M.length>1&&T.push(...r.filter(({name:_})=>x.has(_)).map(F("conflicting","vertical-alignment"))),T}getAllArgs(){return this.childNodes.slice(1)}getArgs(O){return this.getAllArgs().filter(({name:T})=>O===T)}getFrameArgs(){return U(this,R,Y).call(this,z,"\u6846\u67B6")}getHorizAlignArgs(){return U(this,R,Y).call(this,E,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return U(this,R,Y).call(this,x,"\u5782\u76F4\u5BF9\u9F50")}}R=new WeakSet,Y=function(L,O){return this.getAllArgs().filter(({name:r})=>L.has(r))}},39:(Q,D,t)=>{t.d(D,{_:()=>o});var w=t(169),b=t(891),K=t(541),I=t(533),N=(l,c,u)=>{if(!c.has(l))throw TypeError("Cannot "+u)},$=(l,c,u)=>{if(c.has(l))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(l):c.set(l,u)},P=(l,c,u)=>(N(l,c,"access private method"),u),v,d;class o extends I.q{constructor(c,u,h,n=b.default.getConfig(),s=[]){let a;if(h!==void 0){a=new K.Token(h,n,s),a.type="plain";for(let g=1;g<b.default.MAX_STAGE;g++)a.parseOnce();s.splice(s.indexOf(a),1)}super(u,a==null?void 0:a.toString(),n,s),$(this,v),this.setAttribute("bracket",!1),this.type=`${c}-image`}getPadding(){return 0}lint(c=this.getAbsoluteIndex()){const u=super.lint(c),{ns:h}=P(this,v,d).call(this);return h!==6&&u.push((0,w.Y)(this,{start:c},"invalid gallery image")),u}}v=new WeakSet,d=function(){const l=this.type==="imagemap-image";return this.normalizeTitle(String(this.firstChild),l?0:6,!0,!l)}},524:(Q,D,t)=>{t.d(D,{h:()=>N});var w=t(299),b=Object.defineProperty,K=($,P,v)=>P in $?b($,P,{enumerable:!0,configurable:!0,writable:!0,value:v}):$[P]=v,I=($,P,v)=>(K($,typeof P!="symbol"?P+"":P,v),v);class N extends w.o{constructor(){super(...arguments),I(this,"type","link")}}},686:(Q,D,t)=>{t.d(D,{k:()=>I});var w=t(169),b=t(891),K=t(541);class I extends K.Token{constructor($,P=!1,v=b.default.getConfig(),d=[]){super($,v,d,{}),this.type=P?"ext-link-url":"free-ext-link"}lint($=this.getAbsoluteIndex()){const P=super.lint($),v=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`,d=new RegExp(v,"u"),o=new RegExp(v,"gu");let l;for(const c of this.childNodes){const{type:u,data:h}=c;if(u!=="text"||!d.test(h))continue;l!=null||(l={start:$,...this.getRootNode().posFromIndex($)});const n=(0,w.D)(c,l,"","warning");o.lastIndex=0;for(let s=o.exec(h);s;s=o.exec(h)){const{index:a,0:g}=s,A=h.slice(0,a).split(`
`),{length:m}=A,{length:y}=A[A.length-1],U=$+a,R=n.startLine+m-1,Y=m===1?n.startCol+y:y;P.push({...n,message:b.default.msg("$1 in URL",g.startsWith("|")?'"|"':b.default.msg("full-width punctuation")),startIndex:U,endIndex:U+g.length,startLine:R,endLine:R,startCol:Y,endCol:Y+g.length})}}return P}}},57:(Q,D,t)=>{t.r(D),t.d(D,{NestedToken:()=>o});var w=t(169),b=t(891),K=t(541),I=t(895),N=t(826),$=t(976),P=Object.defineProperty,v=(l,c,u)=>c in l?P(l,c,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[c]=u,d=(l,c,u)=>(v(l,typeof c!="symbol"?c+"":c,u),u);class o extends K.Token{constructor(c,u,h,n=b.default.getConfig(),s=[]){var a;c=(a=c==null?void 0:c.replace(u,(g,A,m,y,U)=>{const R=`\0${s.length+1}${A?"e":"c"}\x7F`;if(A)new I.$(A,m,y,U,n,s);else{const Y=g.endsWith("-->");new $.T(g.slice(4,Y?-3:void 0),Y,n,s)}return R}))==null?void 0:a.replace(/(^|\0\d+[ce]\x7F)([^\0]+)(?=$|\0\d+[ce]\x7F)/gu,(g,A,m)=>(new N.O(m,n,s),`${A}\0${s.length}c\x7F`)),super(c,n,s,{}),d(this,"type","ext-inner")}lint(c=this.getAbsoluteIndex()){let u;return[...super.lint(c),...this.childNodes.filter(h=>{if(h.type==="ext"||h.type==="comment")return!1;const n=String(h).trim();return n&&!/^<!--.*-->$/su.test(n)}).map(h=>(u!=null||(u={start:c,...this.getRootNode().posFromIndex(c)}),(0,w.D)(h,u,b.default.msg("invalid content in <$1>",this.name))))]}}},439:(Q,D,t)=>{t.d(D,{h:()=>K});var w=t(891),b=t(541);class K extends b.Token{get innerText(){return this.firstChild.data}constructor(N="",$=w.default.getConfig(),P=[]){super(N,$,P)}}},976:(Q,D,t)=>{t.d(D,{T:()=>v});var w=t(169),b=t(959),K=t(891),I=t(439),N=Object.defineProperty,$=(d,o,l)=>o in d?N(d,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[o]=l,P=(d,o,l)=>($(d,typeof o!="symbol"?o+"":o,l),l);class v extends(0,b.a)(I.h){constructor(o,l=!0,c=K.default.getConfig(),u=[]){super(o,c,u),P(this,"type","comment"),P(this,"closed"),this.closed=l}getPadding(){return 4}lint(o=this.getAbsoluteIndex()){return this.closed?[]:[(0,w.Y)(this,{start:o},"unclosed HTML comment")]}toString(o){return`<!--${this.innerText}${this.closed?"-->":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}}},461:(Q,D,t)=>{t.d(D,{k:()=>N});var w=t(933),b=Object.defineProperty,K=($,P,v)=>P in $?b($,P,{enumerable:!0,configurable:!0,writable:!0,value:v}):$[P]=v,I=($,P,v)=>(K($,typeof P!="symbol"?P+"":P,v),v);class N extends w.T{constructor(){super(...arguments),I(this,"type","dd")}}},491:(Q,D,t)=>{t.r(D),t.d(D,{NowikiToken:()=>P});var w=t(169),b=t(891),K=t(439),I=Object.defineProperty,N=(v,d,o)=>d in v?I(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,$=(v,d,o)=>(N(v,typeof d!="symbol"?d+"":d,o),o);class P extends K.h{constructor(){super(...arguments),$(this,"type","ext-inner")}lint(d=this.getAbsoluteIndex()){const{name:o,firstChild:{data:l}}=this;return(o==="templatestyles"||o==="section")&&l?[(0,w.Y)(this,{start:d},b.default.msg("nothing should be in <$1>",o))]:super.lint(d)}}},933:(Q,D,t)=>{t.d(D,{T:()=>b});var w=t(439);class b extends w.h{}},826:(Q,D,t)=>{t.d(D,{O:()=>$});var w=t(959),b=t(439),K=Object.defineProperty,I=(P,v,d)=>v in P?K(P,v,{enumerable:!0,configurable:!0,writable:!0,value:d}):P[v]=d,N=(P,v,d)=>(I(P,typeof v!="symbol"?v+"":v,d),d);class $ extends(0,w.a)(b.h){constructor(){super(...arguments),N(this,"type","noinclude")}}},160:(Q,D,t)=>{t.r(D),t.d(D,{ParamTagToken:()=>v});var w=t(169),b=t(891),K=t(541),I=t(34),N=Object.defineProperty,$=(d,o,l)=>o in d?N(d,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[o]=l,P=(d,o,l)=>($(d,typeof o!="symbol"?o+"":o,l),l);class v extends K.Token{constructor(o,l=b.default.getConfig(),c=[],u={}){if(super(void 0,l,c,{}),P(this,"type","ext-inner"),o){const h=I.D;this.append(...o.split(`
`).map(n=>new h(n,"param-line",l,c,{})))}}toString(o){return super.toString(o,`
`)}text(){return super.text(`
`)}getGaps(o){return o<this.length-1?1:0}lint(o=this.getAbsoluteIndex()){let l;return this.childNodes.filter(c=>{const{childNodes:u}=c,h=u.findIndex(({type:s})=>s!=="text"),n=(h>=0?u.slice(0,h).map(String).join(""):String(c)).trim();return n&&!(h>=0?/^[a-z]+(?:\[\])?\s*(?:=|$)/iu:/^[a-z]+(?:\[\])?\s*=/iu).test(n)}).map(c=>(l!=null||(l={start:o,...this.getRootNode().posFromIndex(o)}),(0,w.D)(c,l,b.default.msg("invalid parameter of $1",this.name))))}print(){return super.print({sep:`
`})}}},504:(Q,D,t)=>{t.r(D),t.d(D,{InputboxToken:()=>I});var w=t(313),b=t(891),K=t(160);class I extends K.ParamTagToken{constructor($,P=b.default.getConfig(),v=[]){const d=Symbol("InputboxToken");v.push(d),$&&($=(0,w.parseBraces)($,P,v)),v.splice(v.indexOf(d),1),super($,P,v,{})}}},435:(Q,D,t)=>{t.r(D),t.d(D,{PreToken:()=>P});var w=t(891),b=t(541),K=t(826),I=Object.defineProperty,N=(v,d,o)=>d in v?I(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,$=(v,d,o)=>(N(v,typeof d!="symbol"?d+"":d,o),o);class P extends b.Token{constructor(d,o=w.default.getConfig(),l=[]){if(d){const c="<nowiki>",u="</nowiki>",{length:h}=c;let n=d.indexOf(c),s=d.indexOf(u,n+h),a="";for(;n!==-1&&s!==-1;)new K.O(c,o,l),new K.O(u,o,l),a+=`${d.slice(0,n)}\0${l.length-1}c\x7F${d.slice(n+h,s)}\0${l.length}c\x7F`,d=d.slice(s+h+1),n=d.indexOf(c),s=d.indexOf(u,n+h);d=`${a}${d}`}super(d,o,l,{}),$(this,"type","ext-inner"),this.setAttribute("stage",w.default.MAX_STAGE-1)}isPlain(){return!0}}},669:(Q,D,t)=>{t.r(D),t.d(D,{SyntaxToken:()=>K});var w=t(891),b=t(541);class K extends b.Token{constructor(N,$,P="plain",v=w.default.getConfig(),d=[],o){super(N,v,d,o),this.type=P}}},895:(Q,D,t)=>{t.d(D,{$:()=>o});var w=t(169),b=t(891),K=t(541),I=t(415),N=t(83),$=Object.defineProperty,P=(l,c,u)=>c in l?$(l,c,{enumerable:!0,configurable:!0,writable:!0,value:u}):l[c]=u,v=(l,c,u)=>(P(l,typeof c!="symbol"?c+"":c,u),u);const d=(l,c)=>{const u=new Set(l);return u.delete(c),[...u]};class o extends I.m{constructor(c,u,h,n,s=b.default.getConfig(),a=[]){var g;const A=c.toLowerCase(),m=new N.x(!u||/^\s/u.test(u)?u:` ${u}`,"ext-attrs",A,s,a),y={...s,ext:d(s.ext,A),excludes:[...(g=s.excludes)!=null?g:[]]};let U;switch(y.inExt=!0,A){case"tab":y.ext=d(y.ext,"tabs");case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":A==="poem"&&y.excludes.push("heading"),U=new K.Token(h,y,a);break;case"pre":{const{PreToken:R}=t(435);U=new R(h,y,a);break}case"dynamicpagelist":{const{ParamTagToken:R}=t(160);U=new R(h,y,a);break}case"inputbox":{y.excludes.push("heading");const{InputboxToken:R}=t(504);U=new R(h,y,a);break}case"references":{const{NestedToken:R}=t(57);U=new R(h,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],y,a);break}case"choose":{const{NestedToken:R}=t(57);U=new R(h,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],y,a);break}case"combobox":{const{NestedToken:R}=t(57);U=new R(h,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],y,a);break}case"gallery":{const{GalleryToken:R}=t(420);U=new R(h,y,a);break}case"imagemap":{const{ImagemapToken:R}=t(842);U=new R(h,y,a);break}default:{const{NowikiToken:R}=t(491);U=new R(h,y)}}U.setAttribute("name",A),U.type="ext-inner",super(c,m,U,n,s,a),v(this,"type","ext")}lint(c=this.getAbsoluteIndex()){const u=super.lint(c);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const h=this.getRootNode(),n={start:c,...h.posFromIndex(c)};u.push((0,w.Y)(this,n,"extension tag in HTML tag attributes"))}return u}}},415:(Q,D,t)=>{t.d(D,{m:()=>o});var w=t(891),b=t(541),K=(l,c,u)=>{if(!c.has(l))throw TypeError("Cannot "+u)},I=(l,c,u)=>(K(l,c,"read from private field"),u?u.call(l):c.get(l)),N=(l,c,u)=>{if(c.has(l))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(l):c.set(l,u)},$=(l,c,u,h)=>(K(l,c,"write to private field"),h?h.call(l,u):c.set(l,u),u),P,v,d;class o extends b.Token{constructor(c,u,h,n,s=w.default.getConfig(),a=[]){super(void 0,s),N(this,P,void 0),N(this,v,void 0),N(this,d,void 0),this.setAttribute("name",c.toLowerCase()),$(this,d,[c,n||c]),$(this,P,n===void 0),$(this,v,n!==""),this.append(u,h);const g=typeof u=="string"?-1:a.indexOf(u);a.splice(g===-1?1/0:g,0,this)}get closed(){return I(this,v)}toString(c){const{firstChild:u,lastChild:h}=this,[n,s]=I(this,d);return I(this,P)?`<${n}${u.toString(c)}/>`:`<${n}${u.toString(c)}>${h.toString(c)}${this.closed?`</${s}>`:""}`}text(){const[c,u]=I(this,d);return I(this,P)?`<${c}${this.firstChild.text()}/>`:`<${c}${super.text(">")}${this.closed?`</${u}>`:""}`}getPadding(){return I(this,d)[0].length+1}getGaps(c){return 1}print(){const[c,u]=I(this,d);return super.print(I(this,P)?{pre:`&lt;${c}`,post:"/&gt;"}:{pre:`&lt;${c}`,sep:"&gt;",post:this.closed?`&lt;/${u}&gt;`:""})}}P=new WeakMap,v=new WeakMap,d=new WeakMap},169:(Q,D,t)=>{t.d(D,{D:()=>b,Y:()=>K});var w=t(891);const b=(I,N,$,P="error")=>{const v=I.getRelativeIndex(),{offsetHeight:d,offsetWidth:o,parentNode:l}=I,{top:c,left:u}=l.posFromIndex(v),{start:h}=N,{top:n,left:s}="top"in N?N:I.getRootNode().posFromIndex(h),a=String(I),g=h+v,A=n+c,m=c?u:s+u;return{message:w.default.msg($),severity:P,startIndex:g,endIndex:g+a.length,startLine:A,endLine:A+d-1,startCol:m,endCol:d===1?m+o:o}},K=(I,N,$,P="error")=>{const{start:v}=N,{offsetHeight:d,offsetWidth:o}=I,l=String(I),{top:c,left:u}="top"in N?N:I.getRootNode().posFromIndex(v);return{message:w.default.msg($),severity:P,startIndex:v,endIndex:v+l.length,startLine:c,endLine:c+d-1,startCol:u,endCol:d===1?u+o:o}}},467:(Q,D,t)=>{t.d(D,{PN:()=>K,Qk:()=>b,S0:()=>v,_X:()=>w,fL:()=>N,hr:()=>I,jq:()=>P,m9:()=>$});const w='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])',b='(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',K=d=>d.replace(/\0\d+c\x7F/gu,""),I=d=>d.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),N=(d,o="")=>d.map(l=>typeof l=="string"?l:l.text()).join(o),$=d=>d.replace(/&#(\d+|x[\da-f]+);/giu,(o,l)=>String.fromCodePoint(+`${l[0].toLowerCase()==="x"?"0":""}${l}`)),P=d=>d.replace(/\n/gu,"\\n"),v=(d,o={})=>{const{pre:l="",post:c="",sep:u=""}=o,h={"&":"amp","<":"lt",">":"gt"};return`${l}${d.map(n=>n.type==="text"?n.data.replace(/[&<>]/gu,s=>`&${h[s]};`):n.print()).join(u)}${c}`}},166:Q=>{Q.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"6":"File","10":"Template"},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#regex":"regex","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":[]}')}},Rt={};function Pt(Q){var D=Rt[Q];if(D!==void 0)return D.exports;var t=Rt[Q]={exports:{}};return Qt[Q](t,t.exports,Pt),t.exports}Pt.d=(Q,D)=>{for(var t in D)Pt.o(D,t)&&!Pt.o(Q,t)&&Object.defineProperty(Q,t,{enumerable:!0,get:D[t]})},Pt.o=(Q,D)=>Object.prototype.hasOwnProperty.call(Q,D),Pt.r=Q=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var ne=Pt(891)})();})();
