(()=>{var Tt=Object.defineProperty;var $t=(R,L,O)=>L in R?Tt(R,L,{enumerable:!0,configurable:!0,writable:!0,value:O}):R[L]=O;var S=(R,L,O)=>($t(R,typeof L!="symbol"?L+"":L,O),O),tt=(R,L,O)=>{if(!L.has(R))throw TypeError("Cannot "+O)};var T=(R,L,O)=>(tt(R,L,"read from private field"),O?O.call(R):L.get(R)),w=(R,L,O)=>{if(L.has(R))throw TypeError("Cannot add the same private member more than once");L instanceof WeakSet?L.add(R):L.set(R,O)},H=(R,L,O,J)=>(tt(R,L,"write to private field"),J?J.call(R,O):L.set(R,O),O),et=(R,L,O,J)=>({set _(m){H(R,L,m,O)},get _(){return T(R,L,J)}}),D=(R,L,O)=>(tt(R,L,"access private method"),O);(()=>{var R={6010:(m,C,e)=>{"use strict";const g={config:void 0,minConfig:e(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(d,u=0,a=!1,p=g.getConfig(),h=!1){let t;if(!h){const i=e(8138);t=this.run(()=>{const o=new i(String(d),p),n=o.getAttribute("parseOnce");return n(0,a),n()}),d=t.firstChild}const s=e(6986);return new s(String(d),u,p)},parse(d,u,a=g.MAX_STAGE,p=g.getConfig()){const h=e(8138);let t;return this.run(()=>{typeof d=="string"?t=new h(d,p):d instanceof h&&(t=d,d=String(t)),t.parse(a,u)}),t},run(d){return d()},print(d,u=!1,a=g.getConfig()){return`<div class="wikiparser">${this.parse(d,u,this.MAX_STAGE,a).print()} </div>`},lint(d,u=!1,a=g.getConfig()){return this.parse(d,u,this.MAX_STAGE,a).lint()}},f={};for(const d in g)["MAX_STAGE","minConfig"].includes(d)?f[d]={enumerable:!1,writable:!1}:["config","normalizeTitle","parse","print","lint"].includes(d)||(f[d]={enumerable:!1});Object.defineProperties(g,f),typeof window=="object"&&(window.Parser=g),m.exports=g},9205:(m,C,e)=>{"use strict";const{print:g}=e(231),f=e(3853),d=e(7507),a=class extends f{constructor(){super(...arguments);S(this,"name")}get length(){return this.childNodes.length}get children(){return this.childNodes.filter(({type:s})=>s!=="text")}get firstElementChild(){return this.childNodes.find(({type:t})=>t!=="text")}get lastElementChild(){return this.children.at(-1)}append(...t){for(const s of t)this.insertAt(s)}replaceChildren(...t){for(let s=this.childNodes.length-1;s>=0;s--)this.removeAt(s);this.append(...t)}setText(t,s=0){const r=this.childNodes.at(s),{type:i,data:o}=r;if(i==="text")return r.replaceData(t),o}toString(t,s=""){return this.childNodes.map(r=>r.toString()).join(s)}lint(t=0){const s=e(8058);if(this instanceof s||this.constructor.hidden||this.type==="ext-inner"&&a.lintIgnoredExt.has(this.name))return[];const r=[];for(let i=0,o=t+this.getPadding();i<this.childNodes.length;i++){const n=this.childNodes[i];r.push(...n.lint(o)),o+=String(n).length+this.getGaps(i)}return r}print(t={}){var s;return String(this)?`<span class="wpb-${(s=t.class)!=null?s:this.type}">${g(this.childNodes,t)}</span>`:""}};let u=a;S(u,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),m.exports=u},3853:(m,C,e)=>{var f,d,q,a,st;"use strict";class g{constructor(){w(this,d);w(this,a);S(this,"type");S(this,"childNodes",[]);w(this,f,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes.at(-1)}get parentNode(){return T(this,f)}get nextSibling(){var s;const t=(s=T(this,f))==null?void 0:s.childNodes;return t&&t[t.indexOf(this)+1]}get previousSibling(){var s;const t=(s=T(this,f))==null?void 0:s.childNodes;return t&&t[t.indexOf(this)-1]}hasAttribute(t){return t in this}getAttribute(t){return this.hasAttribute(t)?String(this[t]):void 0}setAttribute(t,s){return t==="parentNode"?H(this,f,s):this[t]=s,this}removeAt(t){const s=[...this.childNodes],[r]=s.splice(t,1);return r.setAttribute("parentNode"),this.setAttribute("childNodes",s),r}insertAt(t,s=this.childNodes.length){const r=[...this.childNodes];return-1===-1&&t.setAttribute("parentNode",this),r.splice(s,0,t),this.setAttribute("childNodes",r),t}normalize(){var r;const t=e(7507),s=[...this.childNodes];for(let i=s.length-1;i>=0;i--){const{type:o,data:n}=s[i];this.getGaps(i-1)||(n===""?s.splice(i,1):o==="text"&&((r=s[i-1])==null?void 0:r.type)==="text"&&(s[i-1].setAttribute("data",s[i-1].data+n),s.splice(i,1)))}this.setAttribute("childNodes",s)}getRootNode(){let{parentNode:t}=this;for(;t!=null&&t.parentNode;)({parentNode:t}=t);return t!=null?t:this}posFromIndex(t){const s=String(this);if(t>=-s.length&&t<=s.length){const r=s.slice(0,t).split(`
`);return{top:r.length-1,left:r.at(-1).length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(t){let s;const r=(i,o)=>s.slice(0,i).reduce((n,l,c)=>n+String(l).length+o.getGaps(c),0)+o.getPadding();if(t===void 0){const{parentNode:i}=this;return i?({childNodes:s}=i,r(s.indexOf(this),i)):0}return{childNodes:s}=this,r(t,this)}getAbsoluteIndex(){const{parentNode:t}=this;return t?t.getAbsoluteIndex()+this.getRelativeIndex():0}getBoundingClientRect(){return{...D(this,d,q).call(this),...this.getRootNode().posFromIndex(this.getAbsoluteIndex())}}get offsetHeight(){return D(this,d,q).call(this).height}get offsetWidth(){return D(this,d,q).call(this).width}get style(){return{...D(this,a,st).call(this),...D(this,d,q).call(this),padding:this.getPadding()}}}f=new WeakMap,d=new WeakSet,q=function(){const t=String(this).split(`
`);return{height:t.length,width:t.at(-1).length}},a=new WeakSet,st=function(t){var s,r;return t===void 0?(r=(s=this.parentNode)==null?void 0:s.posFromIndex(this.getRelativeIndex()))!=null?r:{top:0,left:0}:this.posFromIndex(this.getRelativeIndex(t))},m.exports=g},7507:(m,C,e)=>{var d,nt;"use strict";const g=e(3853),a=class extends g{constructor(t=""){super();w(this,d);S(this,"type","text");S(this,"data");this.data=t}toString(){return this.data}replaceData(t=""){D(this,d,nt).call(this,t)}lint(t=0){const{data:s}=this,r=[...s.matchAll(a.errorSyntax)];if(r.length>0){const{top:i,left:o}=this.getRootNode().posFromIndex(t);return r.map(({0:n,1:l,index:c})=>{l&&(c+=l.length,n=n.slice(l.length));const x=s.slice(0,c).split(`
`),A=x.length+i-1,{length:$}=x.at(-1),k=x.length>1?$:o+$;return{message:`\u5B64\u7ACB\u7684"${n[0]}"`,severity:n[0]==="{"||n[0]==="}"?"error":"warning",startLine:A,endLine:A,startCol:k,endCol:k+n.length}})}return[]}};let f=a;d=new WeakSet,nt=function(t){return t=String(t),this.setAttribute("data",t),this},S(f,"errorSyntax",/[{}]+|\[{2,}|\[(?!(?:(?!https?\b)[^[])*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?\w+[\s/>])/giu),m.exports=f},6986:(m,C,e)=>{"use strict";const g=e(6010);class f{constructor(u,a=0,p=g.getConfig()){S(this,"valid",!0);S(this,"ns",0);const{namespaces:h,nsid:t}=p;let s=h[a];u=u.replaceAll("_"," ").trim(),u[0]===":"&&(s="",u=u.slice(1).trim());const r=u.split(":");if(r.length>1){const n=h[t[r[0].trim().toLowerCase()]];n!==void 0&&(s=n,u=r.slice(1).join(":").trim())}this.ns=t[s.toLowerCase()];const i=u.indexOf("#");let o="";i!==-1&&(o=u.slice(i+1).trimEnd(),u=u.slice(0,i).trim()),this.valid=Boolean(u||o)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(u)}}m.exports=f},2308:m=>{"use strict";const C=e=>{var g;return g=class extends e{},S(g,"hidden",!0),g};m.exports=C},8275:(m,C,e)=>{"use strict";const{removeComment:g}=e(231),f=e(6010),d=(u,a=f.getConfig(),p=[])=>{var c,x,A,$,k;const h="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",t=[],s={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},r={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let i=new RegExp(h,"gmu"),o=i.exec(u),n=u.includes("}}"),l;for(;o||l<=u.length&&((x=(c=t.at(-1))==null?void 0:c[0])==null?void 0:x[0])==="=";){if(o!=null&&o[1]){const[,{length:M}]=o;o[0]=o[0].slice(M),o.index+=M}const{0:F,index:v}=o!=null?o:{0:`
`,index:u.length},b=(A=t.pop())!=null?A:{},{0:E,index:N,parts:G,findEqual:j,pos:B}=b,z=F==="="&&j;if(F==="]]"||F==="}-")l=v+2;else if(F===`
`){l=v+1;const{pos:M,findEqual:X}=($=t.at(-1))!=null?$:{};if(!M||X||g(u.slice(M,N))!==""){const U=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(u.slice(N,v));if(U){u=`${u.slice(0,N)}\0${p.length}h\x7F${u.slice(v)}`,l=N+4+String(p.length).length;const K=e(9450);new K(U[1].length,U.slice(2),a,p)}}}else if(F==="|"||z)l=v+1,G.at(-1).push(u.slice(B,v)),F==="|"&&G.push([]),b.pos=l,b.findEqual=F==="|",t.push(b);else if(F.startsWith("}}")){const M=F.slice(0,Math.min(E.length,3)),X=E.length-M.length,{length:U}=p;l=v+M.length,G.at(-1).push(u.slice(B,v));let K=!1,W="t";if(M.length===3){const Y=e(9544);new Y(G.map(Q=>Q.join("=")),a,p)}else{const Y=g(G[0][0]);Y in r?W=r[Y]:/^(?:fullurl|canonicalurl|filepath):./iu.test(Y)&&(W="m");try{const Q=e(1782);new Q(G[0][0],G.slice(1),a,p)}catch(Q){if(Q instanceof Error&&Q.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))l=N+E.length,K=!0;else throw Q}}K||(u=`${u.slice(0,N+X)}\0${U}${W}\x7F${u.slice(l)}`,l=N+X+3+String(U).length,X>1?t.push({0:E.slice(0,X),index:N,pos:N+X,parts:[[]]}):X===1&&u[N-1]==="-"&&t.push({0:"-{",index:N-1,pos:N+1,parts:[[]]}))}else l=v+F.length,F[0]==="{"&&(o.pos=l,o.parts=[[]]),t.push(..."0"in b?[b]:[],o);n&&(n=u.slice(l).includes("}}"));let V=t.at(-1);!n&&((k=V==null?void 0:V[0])==null?void 0:k[0])==="{"&&(t.pop(),V=t.at(-1)),i=new RegExp(h+(V?`|${s[V[0][0]]}${V.findEqual?"|=":""}`:""),"gmu"),i.lastIndex=l,o=i.exec(u)}return u};m.exports=d},4907:(m,C,e)=>{"use strict";const g=e(6010),f=(d,u=g.getConfig(),a=[],p=!1)=>{const h=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(p&&d.search(h)!==-1)return d.replaceAll(h,(o,n)=>{const l=`\0${a.length}e\x7F`,c=e(851);return new c(n,u,a),l}).replaceAll(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(o,n,l)=>{if(l==="")return n;const c=e(3423);return new c(l,u,a),`${n}\0${a.length-1}c\x7F`});const t=u.ext.join("|"),s=p?"includeonly":"(?:no|only)include",r=p?"noinclude":"includeonly",i=new RegExp(`<!--.*?(?:-->|$)|<${s}(?:\\s[^>]*?)?>|</${s}\\s*>|<(${t})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${r})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return d.replaceAll(i,(o,n,l,c,x,A,$,k,F)=>{const v=`\0${a.length}${n?"e":"c"}\x7F`;if(n){const b=e(7267);new b(n,l,c,x,u,a)}else if(o.startsWith("<!--")){const b=e(5749),E=o.endsWith("-->");new b(o.slice(4,E?-3:void 0),E,u,a)}else if(A){const b=e(8655);new b(A,$,k,F,u,a)}else{const b=e(3423);new b(o,u,a)}return v})};m.exports=f},3765:(m,C,e)=>{"use strict";const g=e(6010),f=(d,u=g.getConfig(),a=[])=>{const p=e(9910),h=/-\{/gu,t=/-\{|\}-/gu,s=[];let r=h,i=r.exec(d);for(;i;){const{0:o,index:n}=i;if(o==="}-"){const l=s.pop(),{length:c}=a,x=d.slice(l.index+2,n),A=x.indexOf("|"),[$,k]=A===-1?[[],x]:[x.slice(0,A).split(";"),x.slice(A+1)],F=k.replaceAll(/(&[#a-z\d]+);/giu,"$1"),v=`(?:${u.variants.join("|")})`,b=F.split(new RegExp(`;(?=\\s*(?:${v}|[^;]*?=>\\s*${v})\\s*:)`,"u")).map(E=>E.replaceAll("",";"));new p($,b,u,a),d=`${d.slice(0,l.index)}\0${c}v\x7F${d.slice(n+2)}`,s.length===0&&(r=h),r.lastIndex=l.index+3+String(c).length}else s.push(i),r=t;i=r.exec(d)}return d};m.exports=f},7513:(m,C,e)=>{"use strict";const{extUrlChar:g}=e(231),f=e(6010),d=(u,a=f.getConfig(),p=[])=>{const h=e(741),t=new RegExp(`\\[((?:${a.protocol}|//)${g}|\0\\d+m\x7F)(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return u.replaceAll(t,(s,r,i,o)=>{const{length:n}=p,l=/&[lg]t;/u.exec(r);return l&&(r=r.slice(0,l.index),i="",o=`${r.slice(l.index)}${i}${o}`),new h(r,i,o,a,p),`\0${n}w\x7F`})};m.exports=d},2937:(m,C,e)=>{"use strict";const g=e(6010),f=({firstChild:{data:d},type:u,name:a},p=g.getConfig(),h=[])=>{const t=e(7507),s=e(8138),r=e(2582),i=e(7815),{doubleUnderscore:o}=p;return u!=="root"&&(u!=="ext-inner"||a!=="poem")&&(d=`\0${d}`),d=d.replaceAll(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(n,l,c)=>(new r(c.length,p,h),`${l}\0${h.length-1}r\x7F`)).replaceAll(new RegExp(`__(${o.flat().join("|")})__`,"giu"),(n,l)=>o[0].includes(l.toLowerCase())||o[1].includes(l)?(new i(l,p,h),`\0${h.length-1}u\x7F`):n),u==="root"||u==="ext-inner"&&a==="poem"?d:d.slice(1)};m.exports=f},5130:(m,C,e)=>{"use strict";const g=e(6010),f=(d,u=g.getConfig(),a=[])=>{const p=/^(\/?)([a-z][^\s/>]*)(\s[^>]*?)?(\/?>)([^<]*)$/iu,h=u.html.flat(),t=d.split("<");let s=t.shift();for(const r of t){const i=p.exec(r),o=i==null?void 0:i[2],n=o==null?void 0:o.toLowerCase();if(!i||!h.includes(n)){s+=`<${r}`;continue}const l=e(5037),[,c,,x="",A,$]=i,k=new l(x,"html-attr",n,u,a),F=k.getAttr("itemprop");if(n==="meta"&&(F===void 0||k.getAttr("content")===void 0)||n==="link"&&(F===void 0||k.getAttr("href")===void 0)){s+=`<${r}`,a.pop();continue}s+=`\0${a.length}x\x7F${$}`;const v=e(2350);new v(o,k,c==="/",A==="/>",u,a)}return s};m.exports=f},1452:(m,C,e)=>{"use strict";const g=e(6010),f=(d,u=g.getConfig(),a=[])=>{const p=e(3360),h=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,t=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,s=new RegExp(`^\\s*(?:${u.protocol})`,"iu"),r=d.split("[[");let i=r.shift();for(let o=0;o<r.length;o++){let n,l,c,x,A;const $=r[o],k=h.exec($);if(k)[,l,c,x,A]=k,A[0]==="]"&&(x==null?void 0:x.includes("["))&&(x+="]",A=A.slice(1));else{const j=t.exec($);j&&(n=!0,[,l,c,x]=j)}if(l===void 0||s.test(l)||/\0\d+[exhbru]\x7F/u.test(l)){i+=`[[${$}`;continue}let F=l;if(l.includes("%"))try{F=decodeURIComponent(l)}catch(j){}const v=l.trim()[0]===":";if(v&&n){i+=`[[${$}`;continue}const b=g.normalizeTitle(F,0,!1,u,!0),{ns:E,valid:N}=b;if(N){if(n){if(E!==6){i+=`[[${$}`;continue}let j;for(o++;o<r.length;o++){const B=r[o],z=B.split("]]");if(z.length>2){j=!0,x+=`[[${z[0]}]]${z[1]}`,A=z.slice(2).join("]]");break}else if(z.length===2)x+=`[[${z[0]}]]${z[1]}`;else{x+=`[[${B}`;break}}if(x=f(x,u,a),!j){i+=`[[${l}${c}${x}`;continue}}}else{i+=`[[${$}`;continue}x&&(x=p(x,u,a)),i+=`\0${a.length}l\x7F${A}`;let G=e(3905);v||(E===6?G=e(7625):E===14&&(G=e(337))),new G(l,x,b,u,a,c)}return i};m.exports=f},6622:(m,C,e)=>{"use strict";const g=e(6010),f=(d,u=g.getConfig(),a=[])=>{const p=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(d);if(!p)return d;const h=e(962),[t,s,r]=p;d=`${s}\0${a.length}d\x7F${d.slice(t.length)}`,new h(r,u,a);let i=r.split(";").length-1;if(!i)return d;const o=e(3434);let n=/:+|-\{/gu,l=n.exec(d),c=0;for(;l&&i;){const{0:x,index:A}=l;if(x[0]===":"){if(x.length>=i)return new o(":".repeat(i),u,a),`${d.slice(0,A)}\0${a.length-1}d\x7F${d.slice(A+i)}`;d=`${d.slice(0,A)}\0${a.length}d\x7F${d.slice(n.lastIndex)}`,i-=x.length,n.lastIndex=A+4+String(a.length).length,new o(x,u,a)}else if(x==="-{"){if(!c){const{lastIndex:$}=n;n=/-\{|\}-/gu,n.lastIndex=$}c++}else if(c--,!c){const{lastIndex:$}=n;n=/:+|-\{/gu,n.lastIndex=$}l=n.exec(d)}return d};m.exports=f},4737:(m,C,e)=>{"use strict";const{extUrlChar:g}=e(231),f=e(6010),d=(u,a=f.getConfig(),p=[])=>{const h=e(8962),t=new RegExp(`\\b(?:${a.protocol})(${g})`,"giu");return u.replaceAll(t,(s,r)=>{let i="",o=s;const n=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(o);n&&(i=o.slice(n.index),o=o.slice(0,n.index));const l=new RegExp(`[,;.:!?${o.includes("(")?"":")"}]+$`,"u"),c=l.exec(o);if(c){let x=0;c[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(o.slice(0,c.index))&&(x=1),i=`${o.slice(c.index+x)}${i}`,o=o.slice(0,c.index+x)}return i.length>=r.length?s:(new h(o,!1,a,p),`\0${p.length-1}w\x7F${i}`)})};m.exports=d},3360:(m,C,e)=>{"use strict";const g=e(6010),f=(d,u=g.getConfig(),a=[])=>{var l;const p=d.split(/('{2,})/u),{length:h}=p;if(h===1)return d;let t=0,s=0,r,i,o;for(let c=1;c<h;c+=2){const{length:x}=p[c];switch(x){case 2:s++;break;case 4:p[c-1]+="'",p[c]="'''";case 3:if(t++,r)break;p[c-1].at(-1)===" "?!i&&!o&&(o=c):p[c-1].at(-2)===" "?r=c:i||(i=c);break;default:p[c-1]+="'".repeat(x-5),p[c]="'''''",s++,t++}}if(s%2===1&&t%2===1){const c=(l=r!=null?r:i)!=null?l:o;p[c]="''",p[c-1]+="'"}const n=e(6714);for(let c=1;c<h;c+=2)new n(p[c].length,u,a),p[c]=`\0${a.length-1}q\x7F`;return p.join("")};m.exports=f},4624:(m,C,e)=>{"use strict";const g=e(6010),f=e(7507),d=e(8138),u=e(2840),a=e(3125),p=e(5567),h=({firstChild:{data:t},type:s,name:r},i=g.getConfig(),o=[])=>{const n=[],l=t.split(`
`);let c=s==="root"||s==="parameter-value"||s==="ext-inner"&&r==="poem"?"":`
${l.shift()}`;const x=(A,$)=>{if(!$){c+=A;return}const{lastChild:k}=$;if(k.constructor===d)k.setText(String(k)+A);else{const F=new d(A,i,!0,o);F.type="table-inter",$.insertAt(F.setAttribute("stage",3))}};for(const A of l){let $=n.pop();const[k]=/^(?:\s|\0\d+c\x7F)*/u.exec(A),F=A.slice(k.length),v=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(F);if(v){for(;$&&$.type!=="td";)$=n.pop();const[,B,z,V,M]=v;if(B){const U=e(3434);new U(B,i,o)}x(`
${k}${B&&`\0${o.length-1}d\x7F`}${z}\0${o.length}b\x7F`,$);const X=new u(V,M,i,o);n.push(...$?[$]:[],X);continue}else if(!$){c+=`
${A}`;continue}const b=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(F);if(!b){x(`
${A}`,$),n.push(...$?[$]:[]);continue}const[,E,N,G,j]=b;if(E){for(;!($ instanceof u);)$=n.pop();$.close(`
${k}${E}`,!0),x(j,n.at(-1))}else if(N){$.type==="td"&&($=n.pop()),$.type==="tr"&&($=n.pop());const B=new a(`
${k}${N}`,j,i,o);n.push($,B),$.insertAt(B)}else{$.type==="td"&&($=n.pop());const B=G==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let z=B.exec(j),V=0,M=`
${k}${G}`;for(;z;){const U=new p(M,j.slice(V,z.index),i,o);$.insertAt(U),{lastIndex:V}=B,[M]=z,z=B.exec(j)}const X=new p(M,j.slice(V),i,o);n.push($,X),$.insertAt(X)}}return c.slice(1)};m.exports=h},9544:(m,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),d=e(8138);class u extends d{constructor(h,t=f.getConfig(),s=[]){super(void 0,t,!0,s,{AtomToken:0,Token:1,HiddenToken:"2:"});S(this,"type","arg");for(let r=0;r<h.length;r++)if(r===0||r>1){const i=e(r===0?9237:9263),o=new i(h[r],r===0?"arg-name":void 0,t,s,{"Stage-2":":","!HeadingToken":""});super.insertAt(o)}else{const i=new d(h[r],t,!0,s);i.type="arg-default",super.insertAt(i.setAttribute("stage",2))}}toString(h){return`{{{${super.toString(h,"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}lint(h=0){const{childNodes:[t,s,...r]}=this,i=t.lint(h+3);if(s&&i.push(...s.lint(h+4+String(t).length)),r.length>0){const o=this.getRootNode().posFromIndex(h);i.push(...r.map(n=>g(n,o,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return i}}m.exports=u},9263:(m,C,e)=>{"use strict";const g=e(2308),f=e(9237);class d extends g(f){constructor(){super(...arguments);S(this,"type","hidden")}}m.exports=d},9237:(m,C,e)=>{"use strict";const g=e(6010),f=e(8138);class d extends f{constructor(p,h,t=g.getConfig(),s=[],r=null){super(p,t,!0,s,r);S(this,"type","plain");h&&(this.type=h)}}m.exports=d},5037:(m,C,e)=>{var p,h,t,s,rt;"use strict";const{generateForSelf:g}=e(8277),{removeComment:f}=e(231),d=e(6010),u=e(8138);class a extends u{constructor(n,l,c,x=d.getConfig(),A=[]){super(n,x,!0,A);w(this,s);w(this,p,new Map);w(this,h,!0);w(this,t,!0);this.type=l,D(this,s,rt).call(this)}getAttr(n){return T(this,p).get(n.toLowerCase().trim())}setAttr(n,l,c){n=n.toLowerCase().trim();const x=n;if(/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(x))l===!1?T(this,p).delete(n):T(this,p).set(n,l===!0?!0:l.replaceAll(/\s/gu," ").trim());else return c,!1;return!0}lint(n=0){const l=e(2350),c=super.lint(n);let x;return this.type==="html-attr"&&this.parentNode.closing&&String(this).trim()&&(x=this.getRootNode().posFromIndex(n),c.push(g(this,x,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"))),T(this,h)?T(this,t)||(x||(x=this.getRootNode().posFromIndex(n)),c.push(g(this,x,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning"))):(x||(x=this.getRootNode().posFromIndex(n)),c.push(g(this,x,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"))),c}}p=new WeakMap,h=new WeakMap,t=new WeakMap,s=new WeakSet,rt=function(){var l;let n=this.toString();n=f(n).replaceAll(/\0\d+~\x7F/gu,"=");for(const[,c,x,A,$,k]of n.matchAll(/([^\s/][^\s/=]*)(?:\s*=\s*(?:(["'])(.*?)(\2|$)|(\S*)))?/gsu))this.setAttr(c,(l=A!=null?A:k)!=null?l:!0,!0)?x!==$&&H(this,t,!1):H(this,h,!1)},m.exports=a},8103:(m,C,e)=>{"use strict";const g=e(6010),f=e(8138),d=e(2158);class u extends f{constructor(h,t=g.getConfig(),s=[]){super(void 0,t,!0,s,{HasNowikiToken:":"});S(this,"type","ext-inner");S(this,"name","charinsert");this.append(...h.split(`
`).map(r=>new d(r,"charinsert-line",t,s)))}toString(h){return super.toString(h,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}m.exports=u},9910:(m,C,e)=>{"use strict";const{print:g}=e(231),f=e(6010),d=e(8138),u=e(6719),a=e(8683);class p extends d{constructor(s,r,i=f.getConfig(),o=[]){super(void 0,i,!0,o);S(this,"type","converter");this.append(new u(s,i,o));const[n]=r,l=n.includes(":"),c=new a(n,l,i,o);l&&c.childNodes.length===1?this.insertAt(new a(r.join(";"),!1,i,o)):this.append(c,...r.slice(1).map(x=>new a(x,!0,i,o)))}toString(s){const{childNodes:[r,...i]}=this;return`-{${r.toString()}${r.childNodes.length>0?"|":""}${i.map(String).join(";")}}-`}getPadding(){return 2}getGaps(s=0){return s=s<0?s+this.childNodes.length:s,s||this.firstChild.childNodes.length>0?1:0}print(){const{children:[s,...r]}=this;return`<span class="wpb-converter">-{${s.print()}${s.childNodes.length>0?"|":""}${g(r,{sep:";"})}}-</span>`}}m.exports=p},6719:(m,C,e)=>{var p;"use strict";const{generateForChild:g}=e(8277),f=e(6010),d=e(8138),u=e(9237);class a extends d{constructor(s,r=f.getConfig(),i=[]){super(void 0,r,!0,i,{AtomToken:":"});S(this,"type","converter-flags");w(this,p,void 0);this.append(...s.map(o=>new u(o,"converter-flag",r,i)))}afterBuild(){return H(this,p,this.childNodes.map(s=>String(s).trim())),this}toString(s){return super.toString(s,";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(s=0){const r=this.getVariantFlags(),i=this.getUnknownFlags(),o=T(this,p).filter(A=>!A),n=T(this,p).filter(A=>["A","T","R","D","-","H","N"].includes(A)),l=T(this,p).length-i.length-o,c=super.lint(s);if(r.length===l||n.length===l)return c;const x=this.getRootNode().posFromIndex(s);for(const A of this.childNodes){const $=String(A).trim();$&&!r.includes($)&&!i.includes($)&&(r.length>0||!n.includes($))&&c.push(g(A,x,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0"))}return c}getUnknownFlags(){return T(this,p).filter(s=>/\{\{[^{}]+\}\}/u.test(s))}getVariantFlags(){const{variants:s}=this.getAttribute("config");return T(this,p).filter(r=>s.includes(r))}}p=new WeakMap,m.exports=a},8683:(m,C,e)=>{"use strict";const g=e(6010),f=e(8138),d=e(9237);class u extends f{constructor(h,t=!0,s=g.getConfig(),r=[]){super(void 0,s,!0,r);S(this,"type","converter-rule");if(t){const i=h.indexOf(":"),o=h.slice(0,i).indexOf("=>"),n=o===-1?h.slice(0,i):h.slice(o+2,i),{variants:l}=s;l.includes(n.trim())?(super.insertAt(new d(n,"converter-rule-variant",s,r)),super.insertAt(new d(h.slice(i+1),"converter-rule-to",s,r)),o!==-1&&super.insertAt(new d(h.slice(0,o),"converter-rule-from",s,r),0)):super.insertAt(new d(h,"converter-rule-noconvert",s,r))}else super.insertAt(new d(h,"converter-rule-noconvert",s,r))}toString(h){if(this.childNodes.length===3){const{childNodes:[t,s,r]}=this;return`${t.toString(h)}=>${s.toString(h)}:${r.toString(h)}`}return super.toString(h,":")}getGaps(h=0){const{length:t}=this;return h=h<0?h+t:h,h===0&&t===3?2:1}print(){if(this.childNodes.length===3){const{childNodes:[h,t,s]}=this;return`<span class="wpb-converter-rule">${h.print()}=>${t.print()}:${s.print()}</span>`}return super.print({sep:":"})}}m.exports=u},741:(m,C,e)=>{var a;"use strict";const g=e(6010),f=e(8138),d=e(8962);class u extends f{constructor(t,s,r,i=g.getConfig(),o=[]){super(void 0,i,!0,o,{MagicLinkToken:0,Token:1});S(this,"type","ext-link");w(this,a,void 0);if(this.insertAt(new d(t,!0,i,o)),H(this,a,s),r){const n=new f(r,i,!0,o,{"Stage-7":":",ConverterToken:":"});n.type="ext-link-text",this.insertAt(n.setAttribute("stage",g.MAX_STAGE-1))}}toString(t){return this.childNodes.length===1?`[${super.toString(t)}${T(this,a)}]`:`[${super.toString(t,T(this,a))}]`}getPadding(){return 1}getGaps(){return T(this,a).length}print(){const{length:t}=this;return super.print(t>1?{pre:"[",sep:T(this,a),post:"]"}:{pre:"[",post:`${T(this,a)}]`})}}a=new WeakMap,m.exports=u},1891:(m,C,e)=>{"use strict";const g=e(6010),f=e(8138),d=e(1031),u=e(9263);class a extends f{constructor(t,s=g.getConfig(),r=[]){var o;super(void 0,s,!0,r,{AstText:":",GalleryImageToken:":",HiddenToken:":"});S(this,"type","ext-inner");S(this,"name","gallery");const i=structuredClone(s);for(const[n,l]of Object.entries(s.img))l==="width"&&delete i.img[n];for(const n of(o=t==null?void 0:t.split(`
`))!=null?o:[]){const l=/^([^|]+)(?:\|(.*))?/u.exec(n);if(!l){super.insertAt(n.trim()?new u(n,void 0,s,[],{AstText:":"}):n);continue}const[,c,x]=l;let A;try{A=this.normalizeTitle(decodeURIComponent(c),6,!0)}catch($){A=this.normalizeTitle(c,6,!0)}A.valid?super.insertAt(new d(c,x,A,i,r)):super.insertAt(new u(n,void 0,s,[],{AstText:":"}))}}toString(t){return super.toString(t,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(t=0){const{top:s,left:r}=this.getRootNode().posFromIndex(t),i=[];for(let o=0,n=t;o<this.childNodes.length;o++){const l=this.childNodes[o],c=String(l),x=c.trim();l.type==="hidden"&&x&&!/^<!--.*-->$/u.test(x)?i.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",startLine:s+o,endLine:s+o,startCol:o?0:r,endCol:o?c.length:r+c.length}):l.type!=="hidden"&&l.type!=="text"&&i.push(...l.lint(n)),n+=c.length+1}return i}}m.exports=a},2158:(m,C,e)=>{"use strict";const g=e(6010),f=e(8138);class d extends f{constructor(a,p,h=g.getConfig(),t=[]){const s=e(3423);a=a.replaceAll(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(r,i,o,n)=>(new s(i,h,t),new s(n,h,t),`\0${t.length-1}c\x7F${o}\0${t.length}c\x7F`)),super(a,h,!0,t,{AstText:":",NoincludeToken:":"}),this.type=p}}m.exports=d},428:(m,C,e)=>{"use strict";const g=e(6010),f=e(2158);class d extends f{constructor(p,h=g.getConfig(),t=[]){super(p,"ext-inner",h,t);S(this,"name","pre");this.setAttribute("stage",g.MAX_STAGE-1)}isPlain(){return!0}}m.exports=d},9450:(m,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(6010),d=e(8138);class u extends d{constructor(h,t,s=f.getConfig(),r=[]){super(void 0,s,!0,r);S(this,"type","heading");this.setAttribute("name",String(h));const i=new d(t[0],s,!0,r);i.type="heading-title",i.setAttribute("stage",2);const o=e(8058),n=new o(t[1],/^[^\S\n]*$/u,"heading-trail",s,r,{"Stage-1":":","!ExtToken":""});this.append(i,n)}toString(h){const t="=".repeat(Number(this.name));return`${t}${this.firstChild.toString()}${t}${this.lastChild.toString()}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const h="=".repeat(Number(this.name));return super.print({pre:h,sep:h})}lint(h=0){const t=super.lint(h);return this.name==="1"&&t.push(g(this,this.getRootNode().posFromIndex(h),"<h1>")),t}}m.exports=u},2350:(m,C,e)=>{var a,p,h;"use strict";const{generateForSelf:g}=e(8277),f=e(6010),d=e(8138);class u extends d{constructor(r,i,o,n,l=f.getConfig(),c=[]){super(void 0,l,!0,c);S(this,"type","html");w(this,a,void 0);w(this,p,void 0);w(this,h,void 0);this.insertAt(i),this.setAttribute("name",r.toLowerCase()),H(this,a,o),H(this,p,n),H(this,h,r)}get closing(){return T(this,a)}toString(r){return`<${T(this,a)?"/":""}${T(this,h)}${super.toString()}${T(this,p)?"/":""}>`}getPadding(){return T(this,h).length+(T(this,a)?2:1)}print(){return super.print({pre:`&lt;${T(this,a)?"/":""}${T(this,h)}`,post:`${T(this,p)?"/":""}&gt;`})}lint(r=0){const i=super.lint(r);let o;this.name==="h1"&&!T(this,a)&&(o=g(this,this.getRootNode().posFromIndex(r),"<h1>"),i.push(o));try{this.findMatchingTag()}catch({message:n}){const[l]=n.split("\uFF1A");o||(o=g(this,this.getRootNode().posFromIndex(r),"")),i.push({...o,message:l,severity:l==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"})}return i}findMatchingTag(){const{html:r}=this.getAttribute("config"),{name:i,parentNode:o}=this,n=String(this);if(T(this,a)&&T(this,p))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${n}`);if(r[2].includes(i)||T(this,p)&&r[1].includes(i))return this;if(T(this,p)&&r[0].includes(i))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${n}`);if(!o)return;const{childNodes:l}=o,c=l.indexOf(this),x=T(this,a)?l.slice(0,c).reverse().filter(({type:$,name:k})=>$==="html"&&k===i):l.slice(c+1).filter(({type:$,name:k})=>$==="html"&&k===i);let A=T(this,a)?-1:1;for(const $ of x)if($.closing?A--:A++,A===0)return $;throw new SyntaxError(`\u672A${T(this,a)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${n}`)}}a=new WeakMap,p=new WeakMap,h=new WeakMap,m.exports=u},1874:(m,C,e)=>{var p,it,t;"use strict";const{print:g,extUrlChar:f}=e(231),d=e(6010),u=e(8138),r=class extends u{constructor(n,l=d.getConfig(),c=[]){var o=(...s)=>{super(...s);S(this,"type","image-parameter");w(this,t,"")};var $;const x=Object.entries(l.img).map(([k,F])=>[k,F,new RegExp(`^(\\s*)${k.replace("$1","(.*)")}(\\s*)$`,"u")]),A=x.find(([,,k])=>k.test(n));if(A){const k=A[2].exec(n);if(k.length!==4||D($=r,p,it).call($,A[1],k[2],l,!0)){k.length===3?(o(void 0,l,!0,c),H(this,t,n)):(o(k[2],l,!0,c,{"Stage-2":":","!HeadingToken":":"}),H(this,t,`${k[1]}${A[0]}${k[3]}`)),this.setAttribute("name",A[1]).setAttribute("stage",d.MAX_STAGE);return}}o(n,l,!0,c),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return!0}toString(n){return T(this,t)?T(this,t).replace("$1",super.toString(n)):super.toString(n)}getPadding(){return Math.max(0,T(this,t).indexOf("$1"))}print(){return T(this,t)?`<span class="wpb-image-parameter">${T(this,t).replace("$1",g(this.childNodes))}</span>`:super.print({class:"image-caption"})}};let a=r;p=new WeakSet,it=function(n,l,c=d.getConfig(),x=!1){switch(l=l.replaceAll(/\0\d+t\x7F/gu,"").trim(),n){case"width":return/^\d*(?:x\d*)?$/u.test(l);case"link":{if(!l||new RegExp(`(?:${c.protocol}|//)${f}(?=\0\\d+t\x7F|$)`,"iu").test(l))return!0;if(l.startsWith("[[")&&l.endsWith("]]")&&(l=l.slice(2,-2)),l.includes("%"))try{l=decodeURIComponent(l)}catch(k){}return d.normalizeTitle(l,0,!1,c,x).valid}case"lang":return c.variants.includes(l);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(l)}},t=new WeakMap,w(a,p),m.exports=a},2641:(m,C,e)=>{"use strict";const{generateForSelf:g,generateForChild:f}=e(8277),d=e(6010),u=e(7507),a=e(8138),p=e(3423),h=e(1031),t=e(2571);class s extends a{constructor(o,n=d.getConfig(),l=[]){super(void 0,n,!0,l,{GalleryImageToken:":",ImagemapLinkToken:":",NoincludeToken:":",AstText:":"});S(this,"type","ext-inner");S(this,"name","imagemap");if(!o)return;const c=o.split(`
`),x=k=>{super.insertAt(new p(k,n,l))};let A=!0,$=!1;for(const k of c){const F=k.trim();if(!($||!F||F[0]==="#")){if(A){const[v,...b]=k.split("|");let E;try{E=this.normalizeTitle(decodeURIComponent(v),0,!0)}catch(N){E=this.normalizeTitle(v,0,!0)}if(E.valid&&!E.interwiki&&E.ns===6){const N=new h(v,b.length>0?b.join("|"):void 0,E,n,l);N.type="imagemap-image",super.insertAt(N),A=!1;continue}else $=!0}else if(k.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(k);continue}else if(k.includes("[")){const v=k.indexOf("["),b=k.slice(v),E=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(b);if(E){const N=this.normalizeTitle(E[1],0,!0);if(N.valid){super.insertAt(new t(k.slice(0,v),[...E.slice(1),N],b.slice(b.indexOf("]]")+2),n,l));continue}}else{const N=n.protocol.split("|");if(N.includes(b.slice(1,b.indexOf(":")+1))||N.includes(b.slice(1,b.indexOf("//")+2))){const G=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(b);if(G){super.insertAt(new t(k.slice(0,v),G.slice(1),b.slice(b.indexOf("]")+1),n,l));continue}}}}}x(k)}}toString(o){return super.toString(o,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(o=0){const n=super.lint(o),l=this.getRootNode().posFromIndex(o);return this.image?n.push(...this.childNodes.filter(c=>{const x=String(c).trim();return c.type==="noinclude"&&x&&x[0]!=="#"}).map(c=>f(c,l,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):n.push(g(this,l,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),n}}m.exports=s},2571:(m,C,e)=>{"use strict";const g=e(8138),f=e(3905),d=e(741);class u extends g{constructor(h,t,s,r,i){const o=e(6986),n=e(7507),l=e(3423),c=t[2]instanceof o?f:d;super(void 0,r,!0,i);S(this,"type","imagemap-link");this.append(h,new c(...t,r,i),new l(s,r,i))}}m.exports=u},8138:(m,C,e)=>{var p,h,t,s,r,i,o,ot,l,lt,x,at,$,ht,F,dt,b,ut,N,pt,j,ct,z,gt,M,ft,U,xt;"use strict";const g=e(6010),f=e(9205),d=e(7507),{MAX_STAGE:u}=g,W=class extends f{constructor(y,P=g.getConfig(),I=!1,Z=[],_=null){super();w(this,o);w(this,l);w(this,x);w(this,$);w(this,F);w(this,b);w(this,N);w(this,j);w(this,z);w(this,M);w(this,U);S(this,"type","root");w(this,p,0);w(this,h,void 0);w(this,t,void 0);w(this,s,(y=T(this,p),P=!1)=>{if(y<T(this,p)||!this.isPlain()||this.childNodes.length===0)return this;switch(y){case 0:this.type==="root"&&T(this,t).shift(),D(this,o,ot).call(this,P);break;case 1:D(this,l,lt).call(this);break;case 2:D(this,x,at).call(this);break;case 3:D(this,$,ht).call(this);break;case 4:D(this,F,dt).call(this);break;case 5:D(this,b,ut).call(this);break;case 6:D(this,N,pt).call(this);break;case 7:D(this,j,ct).call(this);break;case 8:D(this,z,gt).call(this);break;case 9:D(this,M,ft).call(this);break;case 10:D(this,U,xt).call(this)}if(this.type==="root")for(const I of T(this,t))I.getAttribute("parseOnce")(y,P);return et(this,p)._++,this});w(this,r,y=>y.split(/[\0\x7F]/u).map((P,I)=>{if(I%2===0)return new d(P);if(isNaN(P.at(-1)))return T(this,t)[Number(P.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${P}`)}));w(this,i,()=>{H(this,p,u);const{length:y,firstChild:P}=this,I=String(P);if(y===1&&P.type==="text"&&I.includes("\0")&&(this.replaceChildren(...T(this,r).call(this,I)),this.normalize(),this.type==="root"))for(const Z of T(this,t))Z.getAttribute("build")()});typeof y=="string"&&this.insertAt(I?y:y.replaceAll(/[\0\x7F]/gu,"")),H(this,h,P),H(this,t,Z),Z.push(this)}getAttribute(y){switch(y){case"config":return structuredClone(T(this,h));case"accum":return T(this,t);case"parseOnce":return T(this,s);case"buildFromStr":return T(this,r);case"build":return T(this,i);default:return super.getAttribute(y)}}setAttribute(y,P){switch(y){case"stage":return T(this,p)===0&&this.type==="root"&&T(this,t).shift(),H(this,p,P),this;default:return super.setAttribute(y,P)}}isPlain(){return this.constructor===W}insertAt(y,P=this.childNodes.length){return typeof y=="string"&&(y=new d(y)),super.insertAt(y,P),y.type==="root"&&(y.type="plain"),y}normalizeTitle(y,P=0,I=!1){return g.normalizeTitle(y,P,!1,T(this,h),I)}afterBuild(){if(this.type==="root")for(const y of T(this,t))y.afterBuild();return this}parse(y=u,P=!1){for(;T(this,p)<y;)T(this,s).call(this,T(this,p),P);return y&&(T(this,i).call(this),this.afterBuild()),this}};let a=W;p=new WeakMap,h=new WeakMap,t=new WeakMap,s=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakSet,ot=function(y){const P=e(4907);this.setText(P(String(this),T(this,h),T(this,t),y))},l=new WeakSet,lt=function(){const y=e(8275),P=this.type==="root"?String(this):`\0${String(this)}`,I=y(P,T(this,h),T(this,t));this.setText(this.type==="root"?I:I.slice(1))},x=new WeakSet,at=function(){const y=e(5130);this.setText(y(String(this),T(this,h),T(this,t)))},$=new WeakSet,ht=function(){const y=e(4624),P=e(2840);this.setText(y(this,T(this,h),T(this,t)));for(const I of T(this,t))if(I instanceof P&&I.type!=="td"){I.normalize();const{childNodes:[,Z]}=I;if(typeof Z=="string"&&Z.includes("\0")){I.removeAt(1);const _=new W(Z,T(this,h),!0,T(this,t));I.insertAt(_,1),_.setAttribute("stage",4)}}},F=new WeakSet,dt=function(){const y=e(2937);this.setText(y(this,T(this,h),T(this,t)))},b=new WeakSet,ut=function(){const y=e(1452);this.setText(y(String(this),T(this,h),T(this,t)))},N=new WeakSet,pt=function(){const y=e(3360),P=String(this).split(`
`);for(let I=0;I<P.length;I++)P[I]=y(P[I],T(this,h),T(this,t));this.setText(P.join(`
`))},j=new WeakSet,ct=function(){const y=e(7513);this.setText(y(String(this),T(this,h),T(this,t)))},z=new WeakSet,gt=function(){const y=e(4737);this.setText(y(String(this),T(this,h),T(this,t)))},M=new WeakSet,ft=function(){if(this.type==="image-parameter")return;const y=e(6622),P=String(this).split(`
`);let I=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;I<P.length;I++)P[I]=y(P[I],T(this,h),T(this,t));this.setText(P.join(`
`))},U=new WeakSet,xt=function(){const y=e(3765);this.setText(y(String(this),T(this,h),T(this,t)))},m.exports=a},337:(m,C,e)=>{"use strict";const g=e(3905);class f extends g{constructor(){super(...arguments);S(this,"type","category")}}m.exports=f},7625:(m,C,e)=>{"use strict";const{explode:g}=e(231),{generateForChild:f}=e(8277),d=e(6010),u=e(3905),a=e(1874);class p extends u{constructor(s,r,i,o=d.getConfig(),n=[],l="|"){super(s,void 0,i,o,n,l);S(this,"type","file");this.append(...g("-{","}-","|",r).map(c=>new a(c,o,n)))}lint(s=0){const r=super.lint(s),i=this.getFrameArgs(),o=this.getHorizAlignArgs(),n=this.getVertAlignArgs(),l=this.getArgs("caption");if(i.length>1||o.length>1||n.length>1||l.size>1){const c=this.getRootNode().posFromIndex(s);i.length>1&&r.push(...i.map(x=>f(x,c,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),o.length>1&&r.push(...o.map(x=>f(x,c,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),n.length>1&&r.push(...n.map(x=>f(x,c,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),l.size>1&&r.push(...[...l].map(x=>f(x,c,"\u91CD\u590D\u7684\u56FE\u7247\u8BF4\u660E")))}return r}getAllArgs(){return this.childNodes.slice(1)}getArgs(s,r=!0){const i=this.getAllArgs().filter(({name:o})=>s===o);return r?new Set(i):i}getFrameArgs(){return this.getAllArgs().filter(({name:r})=>["manualthumb","frameless","framed","thumbnail"].includes(r))}getHorizAlignArgs(){return this.getAllArgs().filter(({name:r})=>["left","right","center","none"].includes(r))}getVertAlignArgs(){return this.getAllArgs().filter(({name:r})=>["baseline","sub","super","top","text-top","middle","bottom","text-bottom"].includes(r))}}m.exports=p},1031:(m,C,e)=>{var a;"use strict";const{generateForSelf:g}=e(8277),f=e(6010),d=e(7625);class u extends d{constructor(t,s,r,i=f.getConfig(),o=[]){let n;if(s!==void 0){const l=e(8138);n=new l(s,i,!0,o),n.type="temp";for(let c=1;c<f.MAX_STAGE;c++)n.getAttribute("parseOnce")();o.splice(o.indexOf(n),1)}super(t,n==null?void 0:n.toString(),r,i,o);S(this,"type","gallery-image");w(this,a,!1);this.setAttribute("bracket",!1)}afterBuild(){const{interwiki:t,ns:s}=this.normalizeTitle(String(this.firstChild),this.type==="imagemap-image"?0:6,!0);return H(this,a,t||s!==6),this}getPadding(){return 0}lint(t=0){const s=super.lint(t);return T(this,a)&&s.push(g(this,this.getRootNode().posFromIndex(t),"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),s}}a=new WeakMap,m.exports=u},3905:(m,C,e)=>{var u,a;"use strict";const g=e(6010),f=e(8138);class d extends f{constructor(t,s,r,i=g.getConfig(),o=[],n="|"){super(void 0,i,!0,o,{AtomToken:0,Token:1});S(this,"type","link");w(this,u,!0);w(this,a,void 0);const l=e(9237);if(this.insertAt(new l(t,"link-target",i,o,{"Stage-2":":","!ExtToken":"","!HeadingToken":""})),s!==void 0){const c=new f(s,i,!0,o,{"Stage-5":":",ConverterToken:":"});c.type="link-text",this.insertAt(c.setAttribute("stage",g.MAX_STAGE-1))}H(this,a,n)}afterBuild(){var t;return(t=T(this,a))!=null&&t.includes("\0")&&H(this,a,this.getAttribute("buildFromStr")(T(this,a)).map(String).join("")),this}setAttribute(t,s){return t==="bracket"?(H(this,u,Boolean(s)),this):super.setAttribute(t,s)}toString(t){const s=super.toString(t,T(this,a));return T(this,u)?`[[${s}]]`:s}getPadding(){return 2}getGaps(){return T(this,a).length}print(){return super.print(T(this,u)?{pre:"[[",post:"]]",sep:T(this,a)}:{sep:T(this,a)})}}u=new WeakMap,a=new WeakMap,m.exports=d},8962:(m,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),d=e(8138);class u extends d{constructor(h,t,s=f.getConfig(),r=[]){super(h,s,!0,r,{"Stage-1":":","!ExtToken":""});S(this,"type","free-ext-link");t&&(this.type="ext-link-url")}lint(h=0){const t=super.lint(h);let s;for(const r of this.childNodes){const i=String(r);if(r.type!=="text"||!/[，；。：！？（）【】]/u.test(i))continue;s||(s=this.getRootNode().posFromIndex(h));const o=g(r,s,"URL\u4E2D\u7684\u5168\u89D2\u6807\u70B9","warning");t.push(...[...i.matchAll(/[，；。：！？（）【】]/gu)].map(({index:n})=>{const l=i.slice(0,n).split(`
`),{length:c}=l,{length:x}=l.at(-1),A=o.startLine+c-1,$=c>1?x:o.startCol+x;return{...o,startLine:A,endLine:A,startCol:$,endCol:$+1}}))}return t}}m.exports=u},9389:(m,C,e)=>{"use strict";const g=e(6010),f=e(8889);class d extends f{constructor(p,h=g.getConfig(),t=[]){super(p,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],h,t);S(this,"name","choose")}}m.exports=d},9269:(m,C,e)=>{"use strict";const g=e(6010),f=e(8889);class d extends f{constructor(p,h=g.getConfig(),t=[]){super(p,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],h,t);S(this,"name","combobox")}}m.exports=d},8889:(m,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),d=e(8138);class u extends d{constructor(h,t,s,r=f.getConfig(),i=[]){var c;const o=e(7267),n=e(3423),l=(c=h==null?void 0:h.replaceAll(t,(x,A,$,k,F)=>{const v=`\0${i.length+1}e\x7F`;return new o(A,$,k,F,r,i),v}))==null?void 0:c.replaceAll(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(x,A,$)=>$===""?A:(new n($,r,i),`${A}\0${i.length}c\x7F`));super(l,r,!0,i,{NoincludeToken:":",ExtToken:":"});S(this,"type","ext-inner")}lint(h=0){let t;return[...super.lint(h),...this.childNodes.filter(s=>{if(s.type==="ext")return!1;const r=String(s).trim();return r&&!/^<!--.*-->$/u.test(r)}).map(s=>(t||(t=this.getRootNode().posFromIndex(h)),g(s,t,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}m.exports=u},5937:(m,C,e)=>{"use strict";const g=e(6010),f=e(8889);class d extends f{constructor(p,h=g.getConfig(),t=[]){super(p,/<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],h,t);S(this,"name","references")}}m.exports=d},7033:(m,C,e)=>{var g={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function f(u){var a=d(u);return e(a)}function d(u){if(!e.o(g,u)){var a=new Error("Cannot find module '"+u+"'");throw a.code="MODULE_NOT_FOUND",a}return g[u]}f.keys=function(){return Object.keys(g)},f.resolve=d,m.exports=f,f.id=7033},5749:(m,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(2308),d=e(6010),u=e(6935);class a extends f(u){constructor(t,s=!0,r=d.getConfig(),i=[]){super(t,r,i);S(this,"type","comment");S(this,"closed");this.closed=s}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}lint(t=0){return this.closed?[]:[g(this,this.getRootNode().posFromIndex(t),"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(t){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}m.exports=a},3434:(m,C,e)=>{"use strict";const g=e(6935);class f extends g{constructor(){super(...arguments);S(this,"type","dd")}}m.exports=f},7815:(m,C,e)=>{"use strict";const g=e(2308),f=e(6935);class d extends g(f){constructor(){super(...arguments);S(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(p){return`__${String(this.firstChild)}__`}}m.exports=d},2582:(m,C,e)=>{"use strict";const g=e(6010),f=e(6935);class d extends f{constructor(p,h=g.getConfig(),t=[]){super("-".repeat(p),h,t);S(this,"type","hr")}}m.exports=d},6935:(m,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(6010),d=e(8138);class u extends d{constructor(h,t=f.getConfig(),s=[]){super(h,t,!0,s);S(this,"type","ext-inner")}lint(h=0){const{type:t,name:s}=this;return t==="ext-inner"&&(s==="templatestyles"||s==="section")&&String(this)?[g(this,this.getRootNode().posFromIndex(h),`<${s}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(h)}}m.exports=u},962:(m,C,e)=>{"use strict";const g=e(3434);class f extends g{constructor(){super(...arguments);S(this,"type","list")}}m.exports=f},3423:(m,C,e)=>{"use strict";const g=e(2308),f=e(6935);class d extends g(f){constructor(){super(...arguments);S(this,"type","noinclude")}}m.exports=d},6714:(m,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(6010),d=e(7507),u=e(6935);class a extends u{constructor(t,s=f.getConfig(),r=[]){super("'".repeat(t),s,r);S(this,"type","quote")}lint(t=0){const{previousSibling:s,nextSibling:r}=this,i=`\u5B64\u7ACB\u7684"'"`,o=[];let n;if((s==null?void 0:s.type)==="text"&&s.data.at(-1)==="'"){n=g(this,this.getRootNode().posFromIndex(t),"");const{startLine:l,startCol:c}=n,[,{length:x}]=s.data.match(/(?:^|[^'])('+)$/u);o.push({message:i,startLine:l,startCol:c-x,endLine:l,endCol:c})}if((r==null?void 0:r.type)==="text"&&r.data[0]==="'"){n||(n=g(this,this.getRootNode().posFromIndex(t),""));const{endLine:l,endCol:c}=n,[{length:x}]=r.data.match(/^'+/u);o.push({message:i,startLine:l,startCol:c,endLine:l,endCol:c+x})}return o}}m.exports=a},851:(m,C,e)=>{"use strict";const g=e(6010),f=e(8138);class d extends f{constructor(p,h=g.getConfig(),t=[]){super(p,h,!0,t);S(this,"type","onlyinclude")}toString(p){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:"&lt;onlyinclude&gt;",post:"&lt;/onlyinclude&gt;"})}isPlain(){return!0}}m.exports=d},9380:(m,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),d=e(8138),u=e(9237);class a extends d{constructor(t,s=f.getConfig(),r=[]){super(void 0,s,!0,r,{AtomToken:":"});S(this,"type","ext-inner");t&&this.append(...t.split(`
`).map(i=>new u(i,"param-line",s,r,{AstText:":"})))}toString(t){return super.toString(t,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(t=0){let s;return this.childNodes.filter(r=>{const{childNodes:i}=r,o=i.findIndex(({type:l})=>l!=="text"),n=(o>=0?i.slice(0,o).map(String).join(""):String(r)).trim();return n&&!(o>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(n)}).map(r=>(s||(s=this.getRootNode().posFromIndex(t)),g(r,s,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}m.exports=a},9799:(m,C,e)=>{"use strict";const g=e(6010),f=e(8138);class d extends f{constructor(p,h,t=g.getConfig(),s=[]){super(void 0,t,!0,s);S(this,"type","parameter");const r=e(9237),i=new r(typeof p=="number"?void 0:p,"parameter-key",t,s,{"Stage-2":":","!HeadingToken":""}),o=new f(h,t,!0,s);o.type="parameter-value",this.append(i,o.setAttribute("stage",2))}get anon(){return this.firstChild.childNodes.length===0}afterBuild(){if(!this.anon){const p=e(1782),h=String(this.firstChild).trim(),{parentNode:t}=this;this.setAttribute("name",h),t&&t instanceof p&&t.getArgs(h,!1,!1).add(this)}return this}toString(p){return this.anon?this.lastChild.toString(p):super.toString(p,"=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}getValue(){var t;const p=e(1782),h=String(this.lastChild);return this.anon&&((t=this.parentNode)==null?void 0:t.isTemplate())?h:h.trim()}}m.exports=d},8058:(m,C,e)=>{"use strict";const g=e(6010),f=e(8138);class d extends f{constructor(a,p,h="plain",t=g.getConfig(),s=[],r=null){super(a,t,!0,s,r),this.type=h}}m.exports=d},2840:(m,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(3125),d=e(8058);class u extends f{constructor(){super(...arguments);S(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(h=0){const t=super.lint(h);return this.closed||t.push(g(this.firstChild,this.getRootNode().posFromIndex(h),"\u672A\u95ED\u5408\u7684\u8868\u683C")),t}close(h=`
|}`,t=!1){const s=this.getAttribute("config"),r=this.getAttribute("accum");super.insertAt(new d(h,null,"table-syntax",s,r))}}m.exports=u},5567:(m,C,e)=>{var a;"use strict";const g=e(6010),f=e(8138),d=e(3125);class u extends d{constructor(t,s,r=g.getConfig(),i=[]){let o=s==null?void 0:s.match(/\||\0\d+!\x7F/u),n=o?s.slice(0,o.index):"";/\[\[|-\{/u.test(n)&&(o=null,n="");super(t,n,r,i);S(this,"type","td");w(this,a,"");o&&([et(this,a)._]=o);const l=new f(s==null?void 0:s.slice((o==null?void 0:o.index)+T(this,a).length),r,!0,i);l.type="td-inner",this.insertAt(l.setAttribute("stage",4))}afterBuild(){return T(this,a).includes("\0")&&H(this,a,this.getAttribute("buildFromStr")(T(this,a)).map(String).join("")),this}toString(t){const{childNodes:[s,r,i]}=this;return`${s.toString()}${r.toString()}${T(this,a)}${i.toString()}`}getGaps(t=0){return t=t<0?t+this.childNodes.length:t,t===1?T(this,a).length:0}print(){const{childNodes:[t,s,r]}=this;return`<span class="wpb-td">${t.print()}${s.print()}${T(this,a)}${r.print()}</span>`}}a=new WeakMap,m.exports=u},3125:(m,C,e)=>{"use strict";const{generateForChild:g}=e(8277),f=e(6010),d=e(8138),u=e(8058);class a extends d{constructor(t,s="",r=f.getConfig(),i=[],o=null){super(void 0,r,!0,i,{Token:2,SyntaxToken:0,AttributeToken:1,TdToken:"2:"});S(this,"type","tr");const n=e(5037);this.append(new u(t,o,"table-syntax",r,i,{"Stage-1":":","!ExtToken":"",TranscludeToken:":"}),new n(s,"table-attr","tr",r,i))}lint(t=0){const s=e(1782),r=super.lint(t),i=this.childNodes.find(({type:n})=>n==="table-inter");if(!i)return r;const o=i.childNodes.map(n=>{var l;try{return(l=n.getPossibleValues().find(Boolean))!=null?l:""}catch(c){return String(n)}}).join().replaceAll(/<!--.*?-->/gu,"").trim();if(o&&!/^(?:[|!]|\{\{\s*![!-]?\s*\}\})/u.test(o)){const n=g(i,this.getRootNode().posFromIndex(t),"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");n.startLine++,n.startCol=0,r.push(n)}return r}}m.exports=a},7267:(m,C,e)=>{"use strict";const g=e(6010),f=e(1074);class d extends f{constructor(p,h="",t="",s=void 0,r=g.getConfig(),i=[]){h=!h||h.trimStart()!==h?h:` ${h}`;const o=e(8138),n=e(5037),l=p.toLowerCase(),c=new n(h,"ext-attr",l,r,i),x=structuredClone(r),A=new Set(x.ext);let $;switch(A.delete(l),x.ext=[...A],l){case"tab":A.delete("tabs"),x.ext=[...A];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":$=new o(t,x,!0,i);break;case"gallery":{const k=e(1891);$=new k(t,x,i);break}case"pre":{const k=e(428);$=new k(t,x,i);break}case"charinsert":{const k=e(8103);$=new k(t,x,i);break}case"references":case"choose":case"combobox":{const k=e(8889),F=e(7033)(`./${l}`);$=new F(t,x,i);break}case"imagemap":{const k=e(2641);$=new k(t,r,i);break}case"dynamicpagelist":{const k=e(9380);$=new k(t,x,i);break}default:{const k=e(6935);$=new k(t,r)}}$.setAttribute("name",l).type="ext-inner";super(p,c,$,s,r,i);S(this,"type","ext");S(this,"closed",!0)}}m.exports=d},8655:(m,C,e)=>{"use strict";const{generateForSelf:g}=e(8277),f=e(2308),d=e(6010),u=e(1074);class a extends f(u){constructor(t,s="",r=void 0,i=void 0,o=d.getConfig(),n=[]){super(t,s,r!=null?r:"",r===void 0||i!=null?i:"",o,n);S(this,"type","include")}lint(t=0){return this.closed?[]:[g(this,this.getRootNode().posFromIndex(t),"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}}m.exports=a},1074:(m,C,e)=>{var u,a,p;"use strict";const g=e(6010),f=e(8138);class d extends f{constructor(s,r,i,o,n=g.getConfig(),l=[]){super(void 0,n,!0);w(this,u,void 0);w(this,a,void 0);w(this,p,void 0);H(this,p,[s,o||s]),H(this,u,o===void 0),H(this,a,o!==""),this.append(r,i);let c=l.indexOf(r);c===-1&&(c=l.indexOf(i)),c===-1&&(c=1/0),l.splice(c,0,this)}get closed(){return T(this,a)}toString(s){const{firstChild:r,lastChild:i}=this,[o,n]=T(this,p);return T(this,u)?`<${o}${String(r)}/>`:`<${o}${String(r)}>${String(i)}${T(this,a)?`</${n}>`:""}`}getPadding(){return T(this,p)[0].length+1}getGaps(){return 1}print(){const[s,r]=T(this,p);return super.print(T(this,u)?{pre:`&lt;${s}`,post:"/&gt;"}:{pre:`&lt;${s}`,sep:"&gt;",post:T(this,a)?`&lt;/${r}&gt;`:""})}}u=new WeakMap,a=new WeakMap,p=new WeakMap,m.exports=d},1782:(m,C,e)=>{var t,s,mt;"use strict";const{removeComment:g,print:f}=e(231),{generateForChild:d}=e(8277),u=e(6010),a=e(8138),p=e(9799);class h extends a{constructor(n,l,c=u.getConfig(),x=[]){super(void 0,c,!0,x,{AtomToken:0,SyntaxToken:0,ParameterToken:"1:"});w(this,s);S(this,"type","template");S(this,"modifier","");w(this,t,{});const A=e(9237),$=e(8058),{parserFunction:[k,F,v]}=c;if(n.includes(":")){const[N,...G]=n.split(":");this.setModifier(N)&&(n=G.join(":"))}if(n.includes(":")||l.length===0&&!v.includes(this.modifier.toLowerCase())){const[N,...G]=n.split(":"),j=g(N),B=F.includes(j),z=k[j.toLowerCase()];if(B||z){this.setAttribute("name",z||j.toLowerCase()).type="magic-word";const V=new RegExp(`^\\s*${j}\\s*$`,B?"u":"iu"),M=new $(N,V,"magic-word-name",c,x,{"Stage-1":":","!ExtToken":""});if(this.insertAt(M),G.length>0&&l.unshift([G.join(":")]),this.name==="invoke")for(let X=0;X<2;X++){const U=l.shift();if(!U)break;const K=new A(U.join("="),`invoke-${X?"function":"module"}`,c,x,{"Stage-1":":","!ExtToken":""});this.insertAt(K)}}}if(this.type==="template"){const[N]=g(n).split("#");if(/\0\d+[eh!+-]\x7F|[<>[\]{}]/u.test(N))throw x.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${N}`);const G=new A(n,"template-name",c,x,{"Stage-2":":","!HeadingToken":""});this.insertAt(G)}const b=this.isTemplate();let E=1;for(const N of l)b||(N[0]=N.join("="),N.length=1),N.length===1&&(N.unshift(E),E++),this.insertAt(new p(...N,c,x))}setModifier(n=""){const{parserFunction:[,,l,c]}=this.getAttribute("config"),x=n.trim().toLowerCase(),A=l.includes(x),$=c.includes(x);return A||$||n===""?(this.setAttribute("modifier",n),Boolean(n)):!1}toString(n){const{childNodes:l,firstChild:c,modifier:x}=this;return`{{${x}${x&&":"}${this.type==="magic-word"?`${String(c)}${l.length>1?":":""}${l.slice(1).map(String).join("|")}`:super.toString(n,"|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:n,firstChild:l,modifier:c}=this;return`<span class="wpb-${this.type}">{{${c}${c&&":"}${this.type==="magic-word"?`${l.print()}${n.length>1?":":""}${f(n.slice(1),{sep:"|"})}`:f(n,{sep:"|"})}}}</span>`}lint(n=0){const l=super.lint(n);if(!this.isTemplate())return l;const c=this.getDuplicatedArgs();if(c.length>0){const x=this.getRootNode().posFromIndex(n);l.push(...c.flatMap(([,A])=>[...A]).map(A=>d(A,x,"\u91CD\u590D\u53C2\u6570")))}return l}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(n,l=this.childNodes.length){return super.insertAt(n,l),n.anon?D(this,s,mt).call(this,n):n.name&&this.getArgs(n.name,!1,!1).add(n),n}getAllArgs(){return this.childNodes.filter(n=>n instanceof p)}getAnonArgs(){return this.getAllArgs().filter(({anon:n})=>n)}getArgs(n,l,c=!0){const x=String(n).trim();let A;return Object.prototype.hasOwnProperty.call(T(this,t),x)?A=T(this,t)[x]:(A=new Set(this.getAllArgs().filter(({name:$})=>x===$)),T(this,t)[x]=A),A}getDuplicatedArgs(){return this.isTemplate()?Object.entries(T(this,t)).filter(([,{size:n}])=>n>1).map(([n,l])=>[n,new Set(l)]):[]}getPossibleValues(){const{type:n,name:l,childNodes:c,constructor:{name:x}}=this;if(n==="template")throw new Error(`${x}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let A;switch(l){case"if":case"ifexist":case"ifexpr":case"iferror":A=2;break;case"ifeq":A=3;break;default:throw new Error(`${x}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}return c.slice(A,A+2).map($=>$.getValue())}}t=new WeakMap,s=new WeakSet,mt=function(n){const l=this.getAnonArgs(),c=l.indexOf(n);for(let x=c;x<l.length;x++){const A=l[x],{name:$}=A,k=String(x+1);$!==k&&this.getArgs(k,!1,!1).add(A.setAttribute("name",k))}},m.exports=h},8277:(m,C,e)=>{"use strict";const g=e(8138),f=(u,a,p,h="error")=>{const{style:{top:t,left:s,height:r,width:i}}=u,{top:o,left:n}=a,l=o+t,c=l+r-1,x=t?s:n+s,A=r>1?i:x+i;return{message:p,severity:h,startLine:l,endLine:c,startCol:x,endCol:A}},d=(u,a,p,h="error")=>({message:p,severity:h,startLine:a.top,endLine:a.top+u.offsetHeight-1,startCol:a.left,endCol:u.offsetHeight>1?u.offsetWidth:a.left+u.offsetWidth});m.exports={generateForChild:f,generateForSelf:d}},231:(m,C,e)=>{"use strict";const g='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',f=p=>p.replaceAll(/\0\d+c\x7F/gu,""),d=(p,h={})=>{const t=e(7507),s=e(9205),{pre:r="",post:i="",sep:o=""}=h,n={"&":"amp","<":"lt",">":"gt"};return`${r}${p.map(l=>l instanceof s?l.print():String(l).replaceAll(/[&<>]/gu,c=>`&${n[c]};`)).join(o)}${i}`},u=p=>p.replaceAll(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),a=(p,h,t,s)=>{if(s===void 0)return[];const r=new RegExp(`${[p,h,t].map(u).join("|")}`,"gu"),i=[];let o=r.exec(s),n=0,l=0;for(;o;){const{0:c,index:x}=o;c!==t?n+=c===p?1:-1:n===0&&(i.push(s.slice(l,x)),{lastIndex:l}=r),o=r.exec(s)}return i.push(s.slice(l)),i};m.exports={extUrlChar:g,removeComment:f,print:d,escapeRegExp:u,explode:a}},8166:m=>{"use strict";m.exports=JSON.parse('{"ext":["nowiki","pre","gallery","indicator"],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"0":"","6":"File","14":"Category"},"nsid":{"":0,"file":6,"image":6,"\u56FE\u50CF":6,"\u5716\u50CF":6,"\u6587\u4EF6":6,"\u6863\u6848":6,"\u6A94\u6848":6,"category":14,"\u5206\u7C7B":14,"\u5206\u985E":14},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{"thumbnail":"thumbnail","thumb":"thumbnail","\u7F29\u7565\u56FE":"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","\u7F29\u7565\u56FE=$1":"manualthumb","left":"left","\u5DE6":"left","right":"right","\u53F3":"right","none":"none","\u65E0":"none","$1px":"width","$1\u50CF\u7D20":"width","center":"center","centre":"center","\u5C45\u4E2D":"center","framed":"framed","enframed":"framed","frame":"framed","\u6709\u6846":"framed","frameless":"frameless","\u65E0\u6846":"frameless","upright":"upright","\u53F3\u4E0A":"upright","upright=$1":"manual-upright","upright $1":"manual-upright","\u53F3\u4E0A=$1":"manual-upright","\u53F3\u4E0A$1":"manual-upright","border":"border","\u8FB9\u6846":"border","alt=$1":"alt","\u66FF\u4EE3=$1":"alt","\u66FF\u4EE3\u6587\u672C=$1":"alt","class=$1":"class","\u7C7B=$1":"class","link=$1":"link","\u94FE\u63A5=$1":"link","baseline":"baseline","\u57FA\u7EBF":"baseline","sub":"sub","\u5B50":"sub","super":"super","sup":"super","\u8D85":"super","top":"top","\u9876\u90E8":"top","text-top":"text-top","\u6587\u5B57\u9876\u90E8":"text-top","middle":"middle","\u4E2D\u95F4":"middle","bottom":"bottom","\u5E95\u90E8":"bottom","text-bottom":"text-bottom","\u6587\u5B57\u5E95\u90E8":"text-bottom","lang=$1":"lang","\u8BED\u8A00=$1":"lang","page=$1":"page","page $1":"page","\u9875\u6570=$1":"page","$1\u9875":"page"},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},L={};function O(m){var C=L[m];if(C!==void 0)return C.exports;var e=L[m]={exports:{}};return R[m](e,e.exports,O),e.exports}O.o=(m,C)=>Object.prototype.hasOwnProperty.call(m,C);var J=O(6010)})();})();
