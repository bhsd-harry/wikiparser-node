(()=>{var Tt=Object.defineProperty;var yt=(U,M,B)=>M in U?Tt(U,M,{enumerable:!0,configurable:!0,writable:!0,value:B}):U[M]=B;var I=(U,M,B)=>(yt(U,typeof M!="symbol"?M+"":M,B),B),st=(U,M,B)=>{if(!M.has(U))throw TypeError("Cannot "+B)};var m=(U,M,B)=>(st(U,M,"read from private field"),B?B.call(U):M.get(U)),L=(U,M,B)=>{if(M.has(U))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(U):M.set(U,B)},G=(U,M,B,tt)=>(st(U,M,"write to private field"),tt?tt.call(U,B):M.set(U,B),B),nt=(U,M,B,tt)=>({set _(T){G(U,M,T,B)},get _(){return m(U,M,tt)}}),J=(U,M,B)=>(st(U,M,"access private method"),B);(()=>{var U={6010:(T,F,e)=>{"use strict";const f={config:void 0,minConfig:e(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(p,g=0,r=!1,i=f.getConfig(),s=!1,t=!1,n=!1){let l;if(!s){const a=e(8138);l=this.run(()=>{const A=new a(String(p),i),x=A.getAttribute("parseOnce");return x(0,r),x()}),p=l.firstChild}const o=e(6986);return new o(String(p),g,i,t,n)},parse(p,g,r=f.MAX_STAGE,i=f.getConfig()){if(typeof p!="string")throw new TypeError("\u5F85\u89E3\u6790\u7684\u5185\u5BB9\u5E94\u4E3A String\uFF01");const s=e(8138);let t;return this.run(()=>{t=new s(p,i);try{t.parse(r,g)}catch(n){}}),t},run(p){return p()}},$={},y=new Set(["MAX_STAGE","minConfig"]),u=new Set(["config","normalizeTitle","parse"]);for(const p in f)y.has(p)?$[p]={enumerable:!1,writable:!1}:u.has(p)||($[p]={enumerable:!1});Object.defineProperties(f,$),typeof self=="object"&&(self.Parser=f),T.exports=f},9205:(T,F,e)=>{"use strict";const{print:f}=e(231),$=e(3853),y=e(7507),p=class extends ${constructor(){super(...arguments);I(this,"name")}get length(){return this.childNodes.length}closest(i){const s=new Set(i.split(",").map(n=>n.trim()));let{parentNode:t}=this;for(;t;){if(s.has(t.type))return t;({parentNode:t}=t)}}append(...i){for(const s of i)this.insertAt(s)}replaceChildren(...i){this.childNodes.length=0,this.append(...i)}setText(i,s=0){const t=this.childNodes[s],{type:n,data:l}=t;if(n==="text")return t.replaceData(i),l}toString(i,s=""){return this.childNodes.map(t=>t.toString()).join(s)}lint(i=0){const s=e(8058);if(this instanceof s||this.constructor.hidden||this.type==="ext-inner"&&p.lintIgnoredExt.has(this.name))return[];const t=[];for(let n=0,l=i+this.getPadding();n<this.length;n++){const o=this.childNodes[n];t.push(...o.lint(l)),l+=String(o).length+this.getGaps(n)}return t}print(i={}){return String(this)?`<span class="wpb-${i.class||this.type}">${f(this.childNodes,i)}</span>`:""}json(i){const{childNodes:s,...t}=this;return{...t,childNodes:s.map(l=>l.type==="text"?String(l):l.json())}}};let u=p;I(u,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),T.exports=u},3853:(T,F,e)=>{var y,u,rt;"use strict";const{text:f}=e(231);class ${constructor(){L(this,u);I(this,"type");I(this,"childNodes",[]);L(this,y,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return m(this,y)}get nextSibling(){var i;const r=(i=m(this,y))==null?void 0:i.childNodes;return r&&r[r.indexOf(this)+1]}get previousSibling(){var i;const r=(i=m(this,y))==null?void 0:i.childNodes;return r&&r[r.indexOf(this)-1]}hasAttribute(r){const i=typeof r;return i==="string"||i==="number"||i==="symbol"?r in this:!1}getAttribute(r){return this.hasAttribute(r)?String(this[r]):void 0}setAttribute(r,i){return r==="parentNode"?G(this,y,i):this[r]=i,this}text(r=""){return f(this.childNodes,r)}removeAt(r){const{childNodes:i}=this,[s]=i.splice(r,1);return s}insertAt(r,i=this.childNodes.length){const{childNodes:s}=this;return-1===-1&&r.setAttribute("parentNode",this),s.splice(i,0,r),r}normalize(){var s;const r=e(7507),{childNodes:i}=this;for(let t=i.length-1;t>=0;t--){const{type:n,data:l}=i[t];this.getGaps(t-1)||(l===""?i.splice(t,1):n==="text"&&((s=i[t-1])==null?void 0:s.type)==="text"&&(i[t-1].setAttribute("data",i[t-1].data+l),i.splice(t,1)))}}getRootNode(){let{parentNode:r}=this;for(;r!=null&&r.parentNode;)({parentNode:r}=r);return r!=null?r:this}posFromIndex(r){const i=String(this);if(r>=-i.length&&r<=i.length){const s=i.slice(0,r).split(`
`);return{top:s.length-1,left:s[s.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(r){let i;const s=(t,n)=>i.slice(0,t).reduce((l,o,h)=>l+String(o).length+n.getGaps(h),0)+n.getPadding();if(r===void 0){const{parentNode:t}=this;return t?({childNodes:i}=t,s(i.indexOf(this),t)):0}return{childNodes:i}=this,s(r,this)}get offsetHeight(){return J(this,u,rt).call(this).height}get offsetWidth(){return J(this,u,rt).call(this).width}}y=new WeakMap,u=new WeakSet,rt=function(){const r=String(this).split(`
`);return{height:r.length,width:r[r.length-1].length}},T.exports=$},7507:(T,F,e)=>{var r,i,it;"use strict";const f=e(6010),$=e(3853),y=e(9205),u=/https?:|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)(?=[\s/>])/giu,p=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)(?=[\s/>])/giu;class g extends ${constructor(l="",o=f.getConfig()){super();L(this,i);L(this,r,void 0);I(this,"type","text");I(this,"data");G(this,r,o),this.data=l}toString(){return this.data}text(){return this.data}lint(l=0){var c,S;const{data:o,parentNode:h}=this,a=h==null?void 0:h.type,A=h==null?void 0:h.name,x=a==="free-ext-link"||a==="ext-link-url"||a==="image-parameter"&&A==="link"?p:u,d=[];if(o.search(x)!==-1){x.lastIndex=0;const k=this.getRootNode(),{top:C,left:w}=k.posFromIndex(l),b=new Set([m(this,r).ext,m(this,r).html].flat(2));for(let E=x.exec(o);E;E=x.exec(o)){const[,O,P]=E;let{0:v,index:D}=E;O&&(D+=O.length,v=v.slice(O.length));const j=l+D,V=o.slice(0,D).split(`
`),H=V.length+C-1,Q=V[V.length-1],X=V.length>1?Q.length:w+Q.length,{0:W,length:K}=v,Y=j+K;let q=W==="{"||W==="}"||K>1?"error":"warning";if(W==="h")switch(h==null?void 0:h.type){case"ext-link-text":q="warning";break;case"attr-value":{const{parentNode:N}=h;if(((N==null?void 0:N.name)==="src"||(N==null?void 0:N.name)==="srcset")&&((c=N.parentNode)==null?void 0:c.name)==="img")continue;break}case"ext-inner":if(A==="sm2"||A==="flashmp3")continue}else{if(W==="<"&&!b.has(P.toLowerCase()))continue;if((W==="["||W==="]")&&(h==null?void 0:h.type)==="attr-value"){const{parentNode:N}=h;if((N==null?void 0:N.name)==="caption"&&((S=N.parentNode)==null?void 0:S.name)==="gallery")continue}}d.push({message:`\u5B64\u7ACB\u7684"${W==="h"?v:W}"`,severity:q,startIndex:j,endIndex:Y,startLine:H,endLine:H,startCol:X,endCol:X+K})}}return d}replaceData(l=""){J(this,i,it).call(this,l)}}r=new WeakMap,i=new WeakSet,it=function(l){l=String(l),this.setAttribute("data",l)},T.exports=g},6986:(T,F,e)=>{"use strict";const f=e(6010);class ${constructor(u,p=0,g=f.getConfig(),r=!1,i=!1){I(this,"valid",!0);I(this,"ns",0);I(this,"fragment","");I(this,"encoded",!1);const{namespaces:s,nsid:t}=g;let n=s[p];if(r&&u.includes("%"))try{const a=/%(?!5[bd]|7[b-d])[\da-f]{2}/iu.test(u);u=decodeURIComponent(u),this.encoded=a}catch(a){}u=u.replace(/_/gu," ").trim(),u[0]===":"&&(n="",u=u.slice(1).trim());const l=u.split(":");if(l.length>1){const a=s[t[l[0].trim().toLowerCase()]];a!==void 0&&(n=a,u=l.slice(1).join(":").trim())}this.ns=t[n.toLowerCase()];const o=u.indexOf("#");let h="";o!==-1&&(h=u.slice(o+1).trim(),u=u.slice(0,o).trim()),this.valid=Boolean(u||i&&h)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]|%[\da-f]{2}/iu.test(u),this.fragment=h}}T.exports=$},2308:T=>{"use strict";const F=e=>{var f;return f=class extends e{text(){return""}},I(f,"hidden",!0),f};T.exports=F},8275:(T,F,e)=>{"use strict";const{removeComment:f}=e(231),$=e(6010),y=e(9450),u=e(1782),p=e(9544),g=(r,i=$.getConfig(),s=[])=>{var d,c,S,k,C;const t=`${i.noHeading?"":"^(\0\\d+c\x7F)*={1,6}|"}\\[\\[|\\{{2,}|-\\{(?!\\{)`,n=[],l={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},o={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let h=new RegExp(t,"gmu"),a=h.exec(r),A=r.includes("}}"),x;for(;a||x<=r.length&&((c=(d=n[n.length-1])==null?void 0:d[0])==null?void 0:c[0])==="=";){if(a!=null&&a[1]){const[,{length:Q}]=a;a[0]=a[0].slice(Q),a.index+=Q}const{0:w,index:b}=a!=null?a:{0:`
`,index:r.length},E=(S=n.pop())!=null?S:{},{0:O,index:P,parts:v,findEqual:D,pos:j}=E,V=w==="="&&D;if(w==="]]"||w==="}-")x=b+2;else if(w===`
`){x=b+1;const{pos:Q,findEqual:X}=(k=n[n.length-1])!=null?k:{};if(!Q||X||f(r.slice(Q,P))!==""){const W=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(r.slice(P,b));W&&(r=`${r.slice(0,P)}\0${s.length}h\x7F${r.slice(b)}`,x=P+4+String(s.length).length,new y(W[1].length,W.slice(2),i,s))}}else if(w==="|"||V)x=b+1,v[v.length-1].push(r.slice(j,b)),w==="|"&&v.push([]),E.pos=x,E.findEqual=w==="|",n.push(E);else if(w.startsWith("}}")){const Q=w.slice(0,Math.min(O.length,3)),X=O.length-Q.length,{length:W}=s;x=b+Q.length,v[v.length-1].push(r.slice(j,b));let K=!1,Y="t";if(Q.length===3)new p(v.map(q=>q.join("=")),i,s);else{const q=f(v[0][0]).trim();q in o?Y=o[q]:/^(?:fullurl|canonicalurl|filepath):.|^server$/iu.test(q)?Y="m":/^#vardefine:./iu.test(q)&&(Y="c");try{new u(v[0][0],v.slice(1),i,s)}catch(N){if(N instanceof Error&&N.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))x=P+O.length,K=!0;else throw N}}K||(r=`${r.slice(0,P+X)}\0${W}${Y}\x7F${r.slice(x)}`,x=P+X+3+String(W).length,X>1?n.push({0:O.slice(0,X),index:P,pos:P+X,parts:[[]]}):X===1&&r[P-1]==="-"&&n.push({0:"-{",index:P-1,pos:P+1,parts:[[]]}))}else x=b+w.length,w[0]==="{"&&(a.pos=x,a.parts=[[]]),n.push(..."0"in E?[E]:[],a);A&&(A=r.slice(x).includes("}}"));let H=n[n.length-1];!A&&((C=H==null?void 0:H[0])==null?void 0:C[0])==="{"&&(n.pop(),H=n[n.length-1]),h=new RegExp(t+(H?`|${l[H[0][0]]}${H.findEqual?"|=":""}`:""),"gmu"),h.lastIndex=x,a=h.exec(r)}return r};T.exports=g},4907:(T,F,e)=>{"use strict";const f=e(6010),$=e(851),y=e(3423),u=e(8655),p=e(7267),g=e(5749),r=(i,s=f.getConfig(),t=[],n=!1)=>{const l=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(n&&i.search(l)!==-1)return i.replace(l,(x,d)=>{const c=`\0${t.length}e\x7F`;return new $(d,s,t),c}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(x,d,c)=>c===""?d:(new y(c,s,t),`${d}\0${t.length-1}c\x7F`));const o=s.ext.join("|"),h=n?"includeonly":"(?:no|only)include",a=n?"noinclude":"includeonly",A=new RegExp(`<!--.*?(?:-->|$)|<${h}(?:\\s[^>]*?)?>|</${h}\\s*>|<(${o})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${a})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return i.replace(A,(x,d,c,S,k,C,w,b,E)=>{const O=`\0${t.length}${d?"e":"c"}\x7F`;if(d)new p(d,c,S,k,s,t);else if(x.startsWith("<!--")){const P=x.endsWith("-->");new g(x.slice(4,P?-3:void 0),P,s,t)}else C?new u(C,w,b,E,s,t):new y(x,s,t);return O})};T.exports=r},3765:(T,F,e)=>{"use strict";const f=e(6010),$=e(9910),y=(u,p=f.getConfig(),g=[])=>{const r=/-\{/gu,i=/-\{|\}-/gu,s=[];let t=r,n=t.exec(u);for(;n;){const{0:l,index:o}=n;if(l==="}-"){const h=s.pop(),{length:a}=g,A=u.slice(h.index+2,o),x=A.indexOf("|"),[d,c]=x===-1?[[],A]:[A.slice(0,x).split(";"),A.slice(x+1)],S=c.replace(/(&[#a-z\d]+);/giu,"$1"),k=`(?:${p.variants.join("|")})`,C=S.split(new RegExp(`;(?=\\s*(?:${k}|[^;]*?=>\\s*${k})\\s*:)`,"u")).map(w=>w.replace(/\x01/gu,";"));new $(d,C,p,g),u=`${u.slice(0,h.index)}\0${a}v\x7F${u.slice(o+2)}`,s.length===0&&(t=r),t.lastIndex=h.index+3+String(a).length}else s.push(n),t=i,t.lastIndex=o+2;n=t.exec(u)}return u};T.exports=y},7513:(T,F,e)=>{"use strict";const{extUrlChar:f,extUrlCharFirst:$}=e(231),y=e(6010),u=e(741),p=(g,r=y.getConfig(),i=[])=>{const s=new RegExp(`\\[((?:(?:${r.protocol}|//)${$}|\0\\d+m\x7F)${f})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return g.replace(s,(t,n,l,o)=>{const{length:h}=i,a=/&[lg]t;/u.exec(n);return a&&(n=n.slice(0,a.index),l="",o=`${n.slice(a.index)}${l}${o}`),new u(n,l,o,r,i),`\0${h}w\x7F`})};T.exports=p},2937:(T,F,e)=>{"use strict";const f=e(6010),$=e(7507),y=e(8138),u=e(2582),p=e(7815),g=({firstChild:{data:r},type:i,name:s},t=f.getConfig(),n=[])=>{const{doubleUnderscore:l}=t,o=new Set(l[0]),h=new Set(l[1]);return i!=="root"&&(i!=="ext-inner"||s!=="poem")&&(r=`\0${r}`),r=r.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(a,A,x)=>(new u(x.length,t,n),`${A}\0${n.length-1}r\x7F`)).replace(new RegExp(`__(${l.flat().join("|")})__`,"giu"),(a,A)=>o.has(A.toLowerCase())||h.has(A)?(new p(A,t,n),`\0${n.length-1}u\x7F`):a),i==="root"||i==="ext-inner"&&s==="poem"?r:r.slice(1)};T.exports=g},5130:(T,F,e)=>{"use strict";const f=e(6010),$=e(5649),y=e(2350),u=(p,g=f.getConfig(),r=[])=>{const i=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,s=new Set(g.html.flat()),t=p.split("<");let n=t.shift();for(const l of t){const o=i.exec(l),h=o==null?void 0:o[2],a=h==null?void 0:h.toLowerCase();if(!o||!s.has(a)){n+=`<${l}`;continue}const[,A,,x="",d,c]=o,S=new $(x,"html-attrs",a,g,r),k=S.getAttr("itemprop");if(a==="meta"&&(k===void 0||S.getAttr("content")===void 0)||a==="link"&&(k===void 0||S.getAttr("href")===void 0)){n+=`<${l}`,r.pop();continue}n+=`\0${r.length}x\x7F${c}`,new y(h,S,A==="/",d==="/>",g,r)}return n};T.exports=u},1452:(T,F,e)=>{"use strict";const f=e(6010),$=e(3905),y=e(7625),u=e(337),p=(g,r=f.getConfig(),i=[])=>{const s=e(3360),t=r.inExt?/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su:/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]])?)?\]\](.*)$/su,n=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,l=new RegExp(`^\\s*(?:${r.protocol})`,"iu"),o=g.split("[[");let h=o.shift();for(let a=0;a<o.length;a++){let A,x,d,c,S;const k=o[a],C=t.exec(k);if(C)[,x,d,c,S]=C,S[0]==="]"&&(c==null?void 0:c.includes("["))&&(c+="]",S=S.slice(1));else{const v=n.exec(k);v&&(A=!0,[,x,d,c]=v)}if(x===void 0||l.test(x)||/\0\d+[exhbru]\x7F/u.test(x)){h+=`[[${k}`;continue}const w=x.trim()[0]===":";if(w&&A){h+=`[[${k}`;continue}const b=f.normalizeTitle(x,0,!1,r,!0,!0,!0),{ns:E,valid:O}=b;if(O){if(A){if(E!==6){h+=`[[${k}`;continue}let v;for(a++;a<o.length;a++){const D=o[a],j=D.split("]]");if(j.length>2){v=!0,c+=`[[${j[0]}]]${j[1]}`,S=j.slice(2).join("]]");break}else if(j.length===2)c+=`[[${j[0]}]]${j[1]}`;else{c+=`[[${D}`;break}}if(c=p(c,r,i),!v){h+=`[[${x}${d}${c}`;continue}}}else{h+=`[[${k}`;continue}c&&(c=s(c,r,i)),h+=`\0${i.length}l\x7F${S}`;let P=$;w||(E===6?P=y:E===14&&(P=u)),c===void 0&&d&&(c=""),new P(x,c,b,r,i,d)}return h};T.exports=p},6622:(T,F,e)=>{"use strict";const f=e(6010),$=e(962),y=e(3434),u=(p,g=f.getConfig(),r=[])=>{const i=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(p);if(!i)return p;const[s,t,n]=i;p=`${t}\0${r.length}d\x7F${p.slice(s.length)}`,new $(n,g,r);let l=n.split(";").length-1;if(!l)return p;let o=/:+|-\{/gu,h=o.exec(p),a=0;for(;h&&l;){const{0:A,index:x}=h;if(A[0]===":"){if(A.length>=l)return new y(":".repeat(l),g,r),`${p.slice(0,x)}\0${r.length-1}d\x7F${p.slice(x+l)}`;p=`${p.slice(0,x)}\0${r.length}d\x7F${p.slice(o.lastIndex)}`,l-=A.length,o.lastIndex=x+4+String(r.length).length,new y(A,g,r)}else if(A==="-{"){if(!a){const{lastIndex:d}=o;o=/-\{|\}-/gu,o.lastIndex=d}a++}else if(a--,!a){const{lastIndex:d}=o;o=/:+|-\{/gu,o.lastIndex=d}h=o.exec(p)}return p};T.exports=u},4737:(T,F,e)=>{"use strict";const{extUrlChar:f,extUrlCharFirst:$}=e(231),y=e(6010),u=e(8962),p=(g,r=y.getConfig(),i=[])=>{const s=new RegExp(`(^|[^\\p{L}\\d_])(?:${r.protocol})(${$}${f})`,"giu");return g.replace(s,(t,n,l)=>{let o="",h=n?t.slice(1):t;const a=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(h);a&&(o=h.slice(a.index),h=h.slice(0,a.index));const A=new RegExp(`[,;.:!?${h.includes("(")?"":")"}]+$`,"u"),x=A.exec(h);if(x){let d=0;x[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(h.slice(0,x.index))&&(d=1),o=`${h.slice(x.index+d)}${o}`,h=h.slice(0,x.index+d)}return o.length>=l.length?t:(new u(h,!1,r,i),`${n}\0${i.length-1}w\x7F${o}`)})};T.exports=p},3360:(T,F,e)=>{"use strict";const f=e(6010),$=e(6714),y=(u,p=f.getConfig(),g=[])=>{var h;const r=u.split(/('{2,})/u),{length:i}=r;if(i===1)return u;let s=0,t=0,n,l,o;for(let a=1;a<i;a+=2){const{length:A}=r[a];switch(A){case 2:t++;break;case 4:r[a-1]+="'",r[a]="'''";case 3:if(s++,n)break;r[a-1].endsWith(" ")?!l&&!o&&(o=a):r[a-1].slice(-2,-1)===" "?n=a:l||(l=a);break;default:r[a-1]+="'".repeat(A-5),r[a]="'''''",t++,s++}}if(t%2===1&&s%2===1){const a=(h=n!=null?n:l)!=null?h:o;r[a]="''",r[a-1]+="'"}for(let a=1;a<i;a+=2)new $(r[a].length,p,g),r[a]=`\0${g.length-1}q\x7F`;return r.join("")};T.exports=y},4624:(T,F,e)=>{"use strict";const f=e(6010),$=e(7507),y=e(8138),u=e(2840),p=e(3125),g=e(5567),r=e(3434),i=({firstChild:{data:s},type:t,name:n},l=f.getConfig(),o=[])=>{const h=[],a=s.split(`
`);let A=t==="root"||t==="parameter-value"||t==="ext-inner"&&n==="poem"?"":`
${a.shift()}`;const x=(d,c)=>{if(!c){A+=d;return}const{lastChild:S}=c;if(S.constructor===y)S.setText(String(S)+d);else{const k=new y(d,l,!0,o);k.type="table-inter",c.insertAt(k.setAttribute("stage",3))}};for(const d of a){let c=h.pop();const[S]=/^(?:\s|\0\d+c\x7F)*/u.exec(d),k=d.slice(S.length),C=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{(?:\0\d+c\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(k);if(C){for(;c&&c.type!=="td";)c=h.pop();const[,v,D,j,V]=C;v&&new r(v,l,o),x(`
${S}${v&&`\0${o.length-1}d\x7F`}${D}\0${o.length}b\x7F`,c);const H=new u(j,V,l,o);h.push(...c?[c]:[],H);continue}else if(!c){A+=`
${d}`;continue}const w=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(k);if(!w){x(`
${d}`,c),h.push(...c?[c]:[]);continue}const[,b,E,O,P]=w;if(b){for(;!(c instanceof u);)c=h.pop();c.close(`
${S}${b}`,!0),x(P,h[h.length-1])}else if(E){c.type==="td"&&(c=h.pop()),c.type==="tr"&&(c=h.pop());const v=new p(`
${S}${E}`,P,l,o);h.push(c,v),c.insertAt(v)}else{c.type==="td"&&(c=h.pop());const v=O==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let D=v.exec(P),j=0,V=`
${S}${O}`;for(;D;){const Q=new g(V,P.slice(j,D.index),l,o);c.insertAt(Q),{lastIndex:j}=v,[V]=D,D=v.exec(P)}const H=new g(V,P.slice(j),l,o);h.push(c,H),c.insertAt(H)}}return A.slice(1)};T.exports=i},9544:(T,F,e)=>{"use strict";const{text:f}=e(231),{generateForSelf:$,generateForChild:y}=e(8277),u=e(6010),p=e(8138);class g extends p{constructor(s,t=u.getConfig(),n=[]){super(void 0,t,!0,n,{});I(this,"type","arg");for(let l=0;l<s.length;l++)if(l===0||l>1){const o=e(l===0?9237:9263),h=new o(s[l],l===0?"arg-name":void 0,t,n,{});super.insertAt(h)}else{const o=new p(s[l],t,!0,n);o.type="arg-default",super.insertAt(o.setAttribute("stage",2))}}get default(){var s,t;return(t=(s=this.childNodes[1])==null?void 0:s.text())!=null?t:!1}toString(s){return`{{{${super.toString(s,"|")}}}}`}text(){return`{{{${f(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}lint(s=0){if(!this.getAttribute("include"))return[$(this,{start:s},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[t,n,...l]}=this,o=t.lint(s+3);if(n&&o.push(...n.lint(s+4+String(t).length)),l.length>0){const h={start:s,...this.getRootNode().posFromIndex(s)};o.push(...l.map(a=>y(a,h,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return o}}T.exports=g},9263:(T,F,e)=>{"use strict";const f=e(2308),$=e(9237);class y extends f($){constructor(){super(...arguments);I(this,"type","hidden")}}T.exports=y},9237:(T,F,e)=>{"use strict";const f=e(6010),$=e(8138);class y extends ${constructor(g,r,i=f.getConfig(),s=[],t=void 0){super(g,i,!0,s,t);I(this,"type","plain");r&&(this.type=r)}}T.exports=y},5037:(T,F,e)=>{var d,c;"use strict";const{generateForChild:f}=e(8277),{removeComment:$}=e(231),y=e(6010),u=e(8138),p=e(9237),g=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),r=new Set(["align"]),i=new Set(["cite"]),s=new Set(["cite","datetime"]),t=new Set(["width"]),n=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),l=new Set(["type"]),o={div:r,h1:r,h2:r,h3:r,h4:r,h5:r,h6:r,blockquote:i,q:i,p:r,br:new Set(["clear"]),pre:t,ins:s,del:s,ul:l,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:r,tr:new Set(["bgcolor","align","valign"]),td:n,th:n,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:t,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix"]),combooption:new Set(["name","for","inline","align"])},h=new Set,a={nowiki:h,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:h,inputbox:h,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:h,poll:new Set(["id","show-results-before-voting"]),sm2:l,flashmp3:l,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},A=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class x extends u{constructor(C,w,b="",E="",O=[],P=y.getConfig(),v=[]){const D=new p(w,"attr-key",P,v,{}),j=w==="title"?new u(E,P,!0,v,{}).setAttribute("type","attr-value").setAttribute("stage",y.MAX_STAGE-1):new p(E,"attr-value",P,v,{});super(void 0,P,!0,v);L(this,d,void 0);L(this,c,void 0);this.type=C,this.append(D,j),G(this,d,b),G(this,c,O),this.setAttribute("name",$(w).trim().toLowerCase())}get balanced(){return!m(this,d)||m(this,c)[0]===m(this,c)[1]}get value(){return this.getValue()}afterBuild(){m(this,d).includes("\0")&&G(this,d,this.getAttribute("buildFromStr")(m(this,d),"string")),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(C){const[w="",b=""]=m(this,c);return m(this,d)?`${super.toString(C,`${m(this,d)}${w}`)}${b}`:this.firstChild.toString(C)}text(){return m(this,d)?`${super.text(`${m(this,d).trim()}"`)}"`:this.firstChild.text()}getGaps(){var C,w;return m(this,d)?m(this,d).length+((w=(C=m(this,c)[0])==null?void 0:C.length)!=null?w:0):0}print(){const[C="",w=""]=m(this,c);return m(this,d)?super.print({sep:`${m(this,d)}${C}`,post:w}):super.print()}lint(C=0){var Q;const w=super.lint(C),{balanced:b,firstChild:E,lastChild:O,type:P,name:v,parentNode:D,value:j}=this,V=D==null?void 0:D.name;let H;if(!b){const X=this.getRootNode();H={start:C,...X.posFromIndex(C)};const W=f(O,H,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning"),K=W.startIndex-1,Y=W.startCol-1;w.push({...W,startIndex:K,startCol:Y})}return!/\{\{[^{]+\}\}/u.test(v)&&(P==="ext-attr"&&!(V in o)&&a[V]&&!a[V].has(v)||(P==="html-attr"||P==="table-attr"||V in o)&&!((Q=o[V])!=null&&Q.has(v))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(v)&&(V==="meta"||V==="link"||!g.has(v)))?(H||(H={start:C,...this.getRootNode().posFromIndex(C)}),w.push(f(E,H,"\u975E\u6CD5\u7684\u5C5E\u6027\u540D"))):v==="style"&&typeof j=="string"&&A.test(j)&&(H||(H={start:C,...this.getRootNode().posFromIndex(C)}),w.push(f(O,H,"\u4E0D\u5B89\u5168\u7684\u6837\u5F0F"))),w}getValue(){return m(this,d)?this.lastChild.text():!0}}d=new WeakMap,c=new WeakMap,T.exports=x},5649:(T,F,e)=>{"use strict";const{generateForSelf:f,generateForChild:$}=e(8277),{removeComment:y}=e(231),u=e(6010),p=e(8138),g=e(9237),r=e(5037);class i extends p{constructor(t,n,l,o=u.getConfig(),h=[]){if(super(void 0,o,!0,h,{}),this.type=n,this.setAttribute("name",l),t){const a=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let A="",x=a.exec(t),d=0;const c=()=>{A&&(super.insertAt(new g(A,`${n.slice(0,-1)}-dirty`,o,h,{})),A="")};for(;x;){const{index:S,0:k,1:C,2:w,3:b,4:E,5:O,6:P}=x;if(A+=t.slice(d,S),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(y(C).trim())){const v=E!=null?E:P,D=[b,O],j=new r(n.slice(0,-1),C,w,v,D,o,h);c(),super.insertAt(j)}else A+=k;({lastIndex:d}=a),x=a.exec(t)}A+=t.slice(d),c()}}afterBuild(){var n,l;const t=e(5567);this.type==="table-attrs"&&this.setAttribute("name",((n=this.parentNode)==null?void 0:n.subtype)==="caption"?"caption":(l=this.parentNode)==null?void 0:l.type)}getAttrTokens(t){return this.childNodes.filter(n=>n instanceof r&&n.name===t.toLowerCase().trim())}getAttrToken(t){const n=this.getAttrTokens(t);return n[n.length-1]}getAttr(t){var n;return(n=this.getAttrToken(t))==null?void 0:n.getValue()}lint(t=0){const n=e(2350),l=super.lint(t),{parentNode:{closing:o},length:h,childNodes:a}=this,A={},x=new Set;let d;o&&this.text().trim()&&(d={start:t,...this.getRootNode().posFromIndex(t)},l.push(f(this,d,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027")));for(let c=0;c<h;c++){const S=a[c];if(S instanceof g&&S.text().trim())d||(d={start:t,...this.getRootNode().posFromIndex(t)}),l.push($(S,d,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"));else if(S instanceof r){const{name:k}=S;k in A?(x.add(k),A[k].push(S)):k!=="class"&&(A[k]=[S])}}if(x.size>0){d||(d={start:t,...this.getRootNode().posFromIndex(t)});for(const c of x)l.push(...A[c].map(S=>$(S,d,`\u91CD\u590D\u7684${c}\u5C5E\u6027`)))}return l}print(){const t=e(2350);return String(this)?`<span class="wpb-${this.type}">${this.childNodes.map(n=>n.print({class:n instanceof g&&n.text().trim()&&"hidden"})).join("")}</span>`:""}}T.exports=i},9910:(T,F,e)=>{"use strict";const{text:f,print:$}=e(231),y=e(6010),u=e(8138),p=e(6719),g=e(8683);class r extends u{constructor(t,n,l=y.getConfig(),o=[]){super(void 0,l,!0,o);I(this,"type","converter");this.append(new p(t,l,o));const[h]=n,a=h.includes(":"),A=new g(h,a,l,o);a&&A.length===1?this.insertAt(new g(n.join(";"),!1,l,o)):this.append(A,...n.slice(1).map(x=>new g(x,!0,l,o)))}toString(t){const{childNodes:[n,...l]}=this;return`-{${n.toString()}${n.length>0?"|":""}${l.map(String).join(";")}}-`}text(){const{childNodes:[t,...n]}=this;return`-{${t.text()}|${f(n,";")}}-`}getPadding(){return 2}getGaps(t=0){return t=t<0?t+this.length:t,t||this.firstChild.length>0?1:0}print(){const{childNodes:[t,...n]}=this;return`<span class="wpb-converter">-{${t.print()}${t.length>0?"|":""}${$(n,{sep:";"})}}-</span>`}}T.exports=r},6719:(T,F,e)=>{var r;"use strict";const{generateForChild:f}=e(8277),$=e(6010),y=e(8138),u=e(9237),p=new Set(["A","T","R","D","-","H","N"]);class g extends y{constructor(t,n=$.getConfig(),l=[]){super(void 0,n,!0,l,{});I(this,"type","converter-flags");L(this,r,void 0);this.append(...t.map(o=>new u(o,"converter-flag",n,l)))}afterBuild(){G(this,r,this.childNodes.map(t=>t.text().trim()))}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t=0){const n=this.getVariantFlags(),l=this.getUnknownFlags(),o=new Set(m(this,r).filter(S=>p.has(S))),{length:h}=m(this,r).filter(S=>!S),a=m(this,r).length-l.size-h,A=super.lint(t);if(n.size===a||o.size===a)return A;const x={start:t,...this.getRootNode().posFromIndex(t)},{childNodes:d,length:c}=this;for(let S=0;S<c;S++){const k=d[S],C=k.text().trim();if(C&&!n.has(C)&&!l.has(C)&&(n.size>0||!o.has(C))){const w=f(k,x,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");A.push(w)}}return A}getUnknownFlags(){return new Set(m(this,r).filter(t=>/\{\{[^{}]+\}\}/u.test(t)))}getVariantFlags(){const t=new Set(this.getAttribute("config").variants);return new Set(m(this,r).filter(n=>t.has(n)))}}r=new WeakMap,T.exports=g},8683:(T,F,e)=>{"use strict";const f=e(6010),$=e(8138),y=e(9237);class u extends ${constructor(r,i=!0,s=f.getConfig(),t=[]){super(void 0,s,!0,t);I(this,"type","converter-rule");if(i){const n=r.indexOf(":"),l=r.slice(0,n).indexOf("=>"),o=l===-1?r.slice(0,n):r.slice(l+2,n),{variants:h}=s;h.includes(o.trim())?(super.insertAt(new y(o,"converter-rule-variant",s,t)),super.insertAt(new y(r.slice(n+1),"converter-rule-to",s,t)),l!==-1&&super.insertAt(new y(r.slice(0,l),"converter-rule-from",s,t),0)):super.insertAt(new y(r,"converter-rule-noconvert",s,t))}else super.insertAt(new y(r,"converter-rule-noconvert",s,t))}toString(r){if(this.length===3){const{childNodes:[i,s,t]}=this;return`${i.toString(r)}=>${s.toString(r)}:${t.toString(r)}`}return super.toString(r,":")}text(){if(this.length===3){const{childNodes:[r,i,s]}=this;return`${r.text()}=>${i.text()}:${s.text()}`}return super.text(":")}getGaps(r=0){const{length:i}=this;return r=r<0?r+i:r,r===0&&i===3?2:1}print(){if(this.length===3){const{childNodes:[r,i,s]}=this;return`<span class="wpb-converter-rule">${r.print()}=>${i.print()}:${s.print()}</span>`}return super.print({sep:":"})}}T.exports=u},741:(T,F,e)=>{var p;"use strict";const f=e(6010),$=e(8138),y=e(8962);class u extends ${constructor(i,s,t,n=f.getConfig(),l=[]){super(void 0,n,!0,l,{});I(this,"type","ext-link");L(this,p,void 0);if(this.insertAt(new y(i,!0,n,l)),G(this,p,s),t){const o=new $(t,n,!0,l,{});o.type="ext-link-text",this.insertAt(o.setAttribute("stage",f.MAX_STAGE-1))}}toString(i){return this.length===1?`[${super.toString(i)}${m(this,p)}]`:`[${super.toString(i,m(this,p))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return m(this,p).length}print(){const{length:i}=this;return super.print(i>1?{pre:"[",sep:m(this,p),post:"]"}:{pre:"[",post:`${m(this,p)}]`})}}p=new WeakMap,T.exports=u},1891:(T,F,e)=>{"use strict";const f=e(6010),$=e(8138),y=e(1031),u=e(9263);class p extends ${constructor(i,s=f.getConfig(),t=[]){var l;super(void 0,s,!0,t,{});I(this,"type","ext-inner");I(this,"name","gallery");const n=JSON.parse(JSON.stringify(s));for(const[o,h]of Object.entries(s.img))h==="width"&&delete n.img[o];for(const o of(l=i==null?void 0:i.split(`
`))!=null?l:[]){const h=/^([^|]+)(?:\|(.*))?/u.exec(o);if(!h){super.insertAt(o.trim()?new u(o,void 0,s,[],{}):o);continue}const[,a,A]=h,x=this.normalizeTitle(a,6,!0,!0);x.valid?super.insertAt(new y(a,A,x,n,t)):super.insertAt(new u(o,void 0,s,[],{}))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i=0){const{top:s,left:t}=this.getRootNode().posFromIndex(i),n=[];for(let l=0,o=i;l<this.length;l++){const h=this.childNodes[l],a=String(h),{length:A}=a,x=a.trim(),d=s+l,c=l?0:t;h.type==="hidden"&&x&&!/^<!--.*-->$/u.test(x)?n.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startIndex:o,endIndex:o+A,startLine:d,endLine:d,startCol:c,endCol:c+A}):h.type!=="hidden"&&h.type!=="text"&&n.push(...h.lint(o)),o+=A+1}return n}}T.exports=p},2158:(T,F,e)=>{"use strict";const f=e(6010),$=e(8138),y=e(3423);class u extends ${constructor(g,r,i=f.getConfig(),s=[]){g=g.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(t,n,l,o)=>(new y(n,i,s),new y(o,i,s),`\0${s.length-1}c\x7F${l}\0${s.length}c\x7F`)),super(g,i,!0,s,{}),this.type=r}}T.exports=u},428:(T,F,e)=>{"use strict";const f=e(6010),$=e(2158);class y extends ${constructor(g,r=f.getConfig(),i=[]){super(g,"ext-inner",r,i);I(this,"name","pre");this.setAttribute("stage",f.MAX_STAGE-1)}isPlain(){return!0}}T.exports=y},9450:(T,F,e)=>{"use strict";const{generateForSelf:f}=e(8277),$=e(6010),y=e(8138),u=e(8058);class p extends y{constructor(i,s,t=$.getConfig(),n=[]){super(void 0,t,!0,n);I(this,"type","heading");this.setAttribute("name",String(i));const l=new y(s[0],t,!0,n);l.type="heading-title",l.setAttribute("stage",2);const o=new u(s[1],/^[^\S\n]*$/u,"heading-trail",t,n,{});this.append(l,o)}toString(i){const s="=".repeat(Number(this.name));return`${s}${this.firstChild.toString()}${s}${this.lastChild.toString()}`}text(){const i="=".repeat(Number(this.name));return`${i}${this.firstChild.text()}${i}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const i="=".repeat(Number(this.name));return super.print({pre:i,sep:i})}lint(i=0){const s=super.lint(i),t=String(this.firstChild);let n;return this.name==="1"&&(n=f(this,{start:i},"<h1>"),s.push(n)),(t[0]==="="||t.endsWith("="))&&(n||(n=f(this,{start:i},"")),s.push({...n,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(n||(n=f(this,{start:i},"")),s.push({...n,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),s}}T.exports=p},2350:(T,F,e)=>{var p,g,r;"use strict";const{generateForSelf:f}=e(8277),$=e(6010),y=e(8138);class u extends y{constructor(t,n,l,o,h=$.getConfig(),a=[]){super(void 0,h,!0,a);I(this,"type","html");L(this,p,void 0);L(this,g,void 0);L(this,r,void 0);this.insertAt(n),this.setAttribute("name",t.toLowerCase()),G(this,p,l),G(this,g,o),G(this,r,t)}get closing(){return m(this,p)}toString(t){return`<${m(this,p)?"/":""}${m(this,r)}${super.toString()}${m(this,g)?"/":""}>`}text(){return`<${m(this,p)?"/":""}${m(this,r)}${m(this,p)?"":super.text()}${m(this,g)?"/":""}>`}getPadding(){return m(this,r).length+(m(this,p)?2:1)}print(){return super.print({pre:`&lt;${m(this,p)?"/":""}${m(this,r)}`,post:`${m(this,g)?"/":""}&gt;`})}lint(t=0){const n=super.lint(t);let l;this.name==="h1"&&!m(this,p)&&(l=f(this,{start:t},"<h1>"),n.push(l)),this.closest("table-attrs")&&(l||(l=f(this,{start:t},"")),n.push({...l,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:o}){l||(l=f(this,{start:t},""));const[h]=o.split("\uFF1A"),a={...l,message:h,severity:h==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};n.push(a)}return n}findMatchingTag(){const{html:t}=this.getAttribute("config"),{name:n,parentNode:l}=this,o=String(this);if(m(this,p)&&(m(this,g)||t[2].includes(n)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${o}`);if(t[2].includes(n)||m(this,g)&&t[1].includes(n))return this;if(m(this,g)&&t[0].includes(n))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${o}`);if(!l)return;const{childNodes:h}=l,a=h.indexOf(this),A=m(this,p)?h.slice(0,a).reverse().filter(({type:d,name:c})=>d==="html"&&c===n):h.slice(a+1).filter(({type:d,name:c})=>d==="html"&&c===n);let x=m(this,p)?-1:1;for(const d of A)if(d.closing?x--:x++,x===0)return d;throw new SyntaxError(`\u672A${m(this,p)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${o}`)}}p=new WeakMap,g=new WeakMap,r=new WeakMap,T.exports=u},1874:(T,F,e)=>{var r,ot,s;"use strict";const{print:f,extUrlChar:$,extUrlCharFirst:y}=e(231),u=e(6010),p=e(8138),n=class extends p{constructor(h,a=u.getConfig(),A=[]){var o=(...t)=>{super(...t);I(this,"type","image-parameter");L(this,s,"")};var c;const x=Object.entries(a.img).map(([S,k])=>[S,k,new RegExp(`^(\\s*)${S.replace("$1","(.*)")}(\\s*)$`,"u")]),d=x.find(([,,S])=>S.test(h));if(d){const S=d[2].exec(h);if(S.length!==4||J(c=n,r,ot).call(c,d[1],S[2],a,!0)){S.length===3?(o(void 0,a,!0,A),G(this,s,h)):(o(S[2],a,!0,A,{}),G(this,s,`${S[1]}${d[0]}${S[3]}`)),this.setAttribute("name",d[1]);return}}o(h,a,!0,A),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(h){return m(this,s)?m(this,s).replace("$1",super.toString(h)):super.toString(h)}text(){return m(this,s)?m(this,s).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,m(this,s).indexOf("$1"))}print(){return m(this,s)?`<span class="wpb-image-parameter">${m(this,s).replace("$1",`<span class="wpb-image-caption">${f(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let g=n;r=new WeakSet,ot=function(h,a,A=u.getConfig(),x=!1){switch(a=a.replace(/\0\d+t\x7F/gu,"").trim(),h){case"width":return/^\d*(?:x\d*)?$/u.test(a);case"link":return!a||new RegExp(`(?:(?:${A.protocol}|//)${y}|\0\\d+m\x7F)${$}(?=\0\\d+t\x7F|$)`,"iu").test(a)?!0:(a.startsWith("[[")&&a.endsWith("]]")&&(a=a.slice(2,-2)),u.normalizeTitle(a,0,!1,A,x,!0,!0).valid);case"lang":return A.variants.includes(a);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(a)}},s=new WeakMap,L(g,r),T.exports=g},2641:(T,F,e)=>{"use strict";const{generateForSelf:f,generateForChild:$}=e(8277),y=e(6010),u=e(8138),p=e(3423),g=e(1031),r=e(2571);class i extends u{constructor(n,l=y.getConfig(),o=[]){super(void 0,l,!0,o,{});I(this,"type","ext-inner");I(this,"name","imagemap");if(!n)return;const h=n.split(`
`),a=new Set(l.protocol.split("|")),A=p,x=S=>{super.insertAt(new A(S,l,o))};let d=!0,c=!1;for(const S of h){const k=S.trim();if(!(c||!k||k[0]==="#")){if(d){const[C,...w]=S.split("|"),b=this.normalizeTitle(C,0,!0);if(b.valid&&!b.interwiki&&b.ns===6){const E=new g(C,w.length>0?w.join("|"):void 0,b,l,o);E.type="imagemap-image",super.insertAt(E),d=!1;continue}else c=!0}else if(S.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(S);continue}else if(S.includes("[")){const C=S.indexOf("["),w=S.slice(C),b=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(w);if(b){const E=this.normalizeTitle(b[1],0,!0,!1,!0);if(E.valid){super.insertAt(new r(S.slice(0,C),[...b.slice(1),E],w.slice(w.indexOf("]]")+2),l,o));continue}}else if(a.has(w.slice(1,w.indexOf(":")+1))||a.has(w.slice(1,w.indexOf("//")+2))){const E=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(w);if(E){super.insertAt(new r(S.slice(0,C),E.slice(1),w.slice(w.indexOf("]")+1),l,o));continue}}}}x(S)}}get image(){return this.childNodes.find(({type:n})=>n==="imagemap-image")}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(n=0){const l=super.lint(n),o={start:n,...this.getRootNode().posFromIndex(n)};return this.image?l.push(...this.childNodes.filter(h=>{const a=String(h).trim();return h.type==="noinclude"&&a&&a[0]!=="#"}).map(h=>$(h,o,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):l.push(f(this,o,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),l}}T.exports=i},2571:(T,F,e)=>{"use strict";const f=e(6986),$=e(8138),y=e(3423),u=e(3905),p=e(741);class g extends ${constructor(s,t,n,l,o){const h=t[2]instanceof f?u:p;super(void 0,l,!0,o);I(this,"type","imagemap-link");this.append(s,new h(...t,l,o),new y(n,l,o))}}T.exports=g},8138:(T,F,e)=>{var r,i,s,t,n,l,o,h,lt,A,ht,d,at,S,dt,C,pt,b,ut,O,ct,v,gt,j,ft,H,xt,X,mt;"use strict";const{text:f}=e(231),$=e(6010),y=e(9205),u=e(7507),{MAX_STAGE:p}=$,K=class extends y{constructor(N,R=$.getConfig(),z=!1,Z=[],_=void 0){super();L(this,h);L(this,A);L(this,d);L(this,S);L(this,C);L(this,b);L(this,O);L(this,v);L(this,j);L(this,H);L(this,X);I(this,"type","root");L(this,r,0);L(this,i,void 0);L(this,s,void 0);L(this,t,void 0);L(this,n,(N=m(this,r),R=!1)=>{if(N<m(this,r)||!this.isPlain()||this.length===0)return this;switch(N){case 0:this.type==="root"&&m(this,s).shift(),G(this,t,Boolean(R)),J(this,h,lt).call(this,R);break;case 1:J(this,A,ht).call(this);break;case 2:J(this,d,at).call(this);break;case 3:J(this,S,dt).call(this);break;case 4:J(this,C,pt).call(this);break;case 5:J(this,b,ut).call(this);break;case 6:J(this,O,ct).call(this);break;case 7:J(this,v,gt).call(this);break;case 8:J(this,j,ft).call(this);break;case 9:J(this,H,xt).call(this);break;case 10:J(this,X,mt).call(this)}if(this.type==="root")for(const z of m(this,s))z.getAttribute("parseOnce")(N,R);return nt(this,r)._++,this});L(this,l,(N,R)=>{const z=N.split(/[\0\x7F]/u).map((Z,_)=>{if(_%2===0)return new u(Z,m(this,i));if(isNaN(Z[Z.length-1]))return m(this,s)[Number(Z.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${Z}`)});return R==="string"?z.map(String).join(""):R==="text"?f(z):z});L(this,o,()=>{G(this,r,p);const{length:N,firstChild:R}=this,z=String(R);if(N===1&&R.type==="text"&&z.includes("\0")&&(this.replaceChildren(...m(this,l).call(this,z)),this.normalize(),this.type==="root"))for(const Z of m(this,s))Z.getAttribute("build")()});typeof N=="string"&&this.insertAt(z?N:N.replace(/[\0\x7F]/gu,"")),G(this,i,R),G(this,s,Z),Z.push(this)}getAttribute(N){switch(N){case"config":return JSON.parse(JSON.stringify(m(this,i)));case"accum":return m(this,s);case"parseOnce":return m(this,n);case"buildFromStr":return m(this,l);case"build":return m(this,o);case"include":{if(m(this,t)!==void 0)return m(this,t);const R=this.getRootNode();return R.type==="root"&&R!==this?R.getAttribute("include"):!1}default:return super.getAttribute(N)}}setAttribute(N,R){switch(N){case"stage":return m(this,r)===0&&this.type==="root"&&m(this,s).shift(),G(this,r,R),this;default:return super.setAttribute(N,R)}}isPlain(){return this.constructor===K}insertAt(N,R=this.length){return typeof N=="string"&&(N=new u(N,m(this,i))),super.insertAt(N,R),N.type==="root"&&(N.type="plain"),N}normalizeTitle(N,R=0,z=!1,Z=!1,_=!1){return $.normalizeTitle(N,R,m(this,t),m(this,i),z,Z,_)}afterBuild(){if(this.type==="root")for(const N of m(this,s))N.afterBuild()}parse(N=p,R=!1){for(;m(this,r)<N;)m(this,n).call(this,m(this,r),R);return N&&(m(this,o).call(this),this.afterBuild()),this}};let g=K;r=new WeakMap,i=new WeakMap,s=new WeakMap,t=new WeakMap,n=new WeakMap,l=new WeakMap,o=new WeakMap,h=new WeakSet,lt=function(N){const R=e(4907);this.setText(R(String(this.firstChild),m(this,i),m(this,s),N))},A=new WeakSet,ht=function(){const N=e(8275),R=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,z=N(R,m(this,i),m(this,s));this.setText(this.type==="root"?z:z.slice(1))},d=new WeakSet,at=function(){const N=e(5130);this.setText(N(String(this.firstChild),m(this,i),m(this,s)))},S=new WeakSet,dt=function(){const N=e(4624),R=e(2840);this.setText(N(this,m(this,i),m(this,s)));for(const z of m(this,s))if(z instanceof R&&z.type!=="td"){z.normalize();const{childNodes:[,Z]}=z;if(typeof Z=="string"&&Z.includes("\0")){z.removeAt(1);const _=new K(Z,m(this,i),!0,m(this,s));z.insertAt(_,1),_.setAttribute("stage",4)}}},C=new WeakSet,pt=function(){const N=e(2937);this.setText(N(this,m(this,i),m(this,s)))},b=new WeakSet,ut=function(){const N=e(1452);this.setText(N(String(this.firstChild),m(this,i),m(this,s)))},O=new WeakSet,ct=function(){const N=e(3360),R=String(this.firstChild).split(`
`);for(let z=0;z<R.length;z++)R[z]=N(R[z],m(this,i),m(this,s));this.setText(R.join(`
`))},v=new WeakSet,gt=function(){const N=e(7513);this.setText(N(String(this.firstChild),m(this,i),m(this,s)))},j=new WeakSet,ft=function(){const N=e(4737);this.setText(N(String(this.firstChild),m(this,i),m(this,s)))},H=new WeakSet,xt=function(){if(this.type==="image-parameter")return;const N=e(6622),R=String(this.firstChild).split(`
`);let z=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;z<R.length;z++)R[z]=N(R[z],m(this,i),m(this,s));this.setText(R.join(`
`))},X=new WeakSet,mt=function(){const N=e(3765);this.setText(N(String(this.firstChild),m(this,i),m(this,s)))},T.exports=g},337:(T,F,e)=>{"use strict";const f=e(3905);class $ extends f{constructor(){super(...arguments);I(this,"type","category")}}T.exports=$},7625:(T,F,e)=>{var t,et;"use strict";const{explode:f}=e(231),{generateForChild:$}=e(8277),y=e(6010),u=e(3905),p=e(1874),g=new Set(["manualthumb","frameless","framed","thumbnail"]),r=new Set(["left","right","center","none"]),i=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class s extends u{constructor(h,a,A,x=y.getConfig(),d=[],c="|"){super(h,void 0,A,x,d,c);L(this,t);I(this,"type","file");this.append(...f("-{","}-","|",a).map(S=>new p(S,x,d)))}lint(h=0){const a=super.lint(h),A=this.getAllArgs(),x=[...new Set(A.map(({name:C})=>C))],d=x.filter(C=>g.has(C)),c=x.filter(C=>r.has(C)),S=x.filter(C=>i.has(C));if(A.length===x.length&&d.length<2&&c.length<2&&S.length<2)return a;const k={start:h,...this.getRootNode().posFromIndex(h)};for(const C of x){let w=A.filter(({name:b})=>b===C);C==="caption"&&(w=[...w.slice(0,-1).filter(b=>b.text()),w[w.length-1]]),w.length>1&&a.push(...w.map(b=>$(b,k,`\u91CD\u590D\u7684\u56FE\u7247${C}\u53C2\u6570`)))}return d.size>1&&a.push(...A.filter(({name:C})=>g.has(C)).map(C=>$(C,k,"\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),c.size>1&&a.push(...A.filter(({name:C})=>r.has(C)).map(C=>$(C,k,"\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),S.size>1&&a.push(...A.filter(({name:C})=>i.has(C)).map(C=>$(C,k,"\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),a}getAllArgs(){return this.childNodes.slice(1)}getArgs(h){return this.getAllArgs().filter(({name:a})=>h===a)}getFrameArgs(){return J(this,t,et).call(this,g,"\u6846\u67B6")}getHorizAlignArgs(){return J(this,t,et).call(this,r,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return J(this,t,et).call(this,i,"\u5782\u76F4\u5BF9\u9F50")}}t=new WeakSet,et=function(h,a){return this.getAllArgs().filter(({name:x})=>h.has(x))},T.exports=s},1031:(T,F,e)=>{var g;"use strict";const{generateForSelf:f}=e(8277),$=e(6010),y=e(8138),u=e(7625);class p extends u{constructor(s,t,n,l=$.getConfig(),o=[]){let h;if(t!==void 0){h=new y(t,l,!0,o),h.type="temp";for(let a=1;a<$.MAX_STAGE;a++)h.getAttribute("parseOnce")();o.splice(o.indexOf(h),1)}super(s,h==null?void 0:h.toString(),n,l,o);I(this,"type","gallery-image");L(this,g,!1);this.setAttribute("bracket",!1)}afterBuild(){const s=this.type==="imagemap-image",t=this.normalizeTitle(String(this.firstChild),s?0:6,!0,!s);G(this,g,t.interwiki||t.ns!==6)}getPadding(){return 0}lint(s=0){const t=super.lint(s);return m(this,g)&&t.push(f(this,{start:s},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),t}}g=new WeakMap,T.exports=p},3905:(T,F,e)=>{var r,i,s,t;"use strict";const{generateForChild:f}=e(8277),$=e(6010),y=e(7507),u=e(8138),p=e(9237);class g extends u{constructor(o,h,a,A=$.getConfig(),x=[],d="|"){super(void 0,A,!0,x,{});I(this,"type","link");L(this,r,!0);L(this,i,void 0);L(this,s,"");L(this,t,!1);if(this.insertAt(new p(o,"link-target",A,x,{})),h!==void 0){const c=new u(h,A,!0,x,{});c.type="link-text",this.insertAt(c.setAttribute("stage",$.MAX_STAGE-1))}G(this,i,d)}afterBuild(){var h;const o=this.normalizeTitle(this.firstChild.text(),0,!1,!0,!0);G(this,s,o.fragment),G(this,t,o.encoded),(h=m(this,i))!=null&&h.includes("\0")&&G(this,i,this.getAttribute("buildFromStr")(m(this,i),"string"))}setAttribute(o,h){return o==="bracket"?(G(this,r,Boolean(h)),this):super.setAttribute(o,h)}toString(o){const h=super.toString(o,m(this,i));return m(this,r)?`[[${h}]]`:h}text(){const o=super.text("|");return m(this,r)?`[[${o}]]`:o}getPadding(){return 2}getGaps(){return m(this,i).length}print(){return super.print(m(this,r)?{pre:"[[",post:"]]",sep:m(this,i)}:{sep:m(this,i)})}lint(o=0){var c;const h=super.lint(o),{childNodes:[a,A],type:x}=this;let d;return m(this,t)&&!this.interwiki&&(d={start:o,...this.getRootNode().posFromIndex(o)},h.push(f(a,d,"\u5185\u94FE\u4E2D\u4E0D\u5FC5\u8981\u7684URL\u7F16\u7801"))),x==="link"&&((c=A==null?void 0:A.childNodes)==null?void 0:c.some(({type:S,data:k})=>S==="text"&&k.includes("|")))?(d||(d={start:o,...this.getRootNode().posFromIndex(o)}),h.push(f(A,d,'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"',"warning"))):x!=="link"&&m(this,s)&&(d||(d={start:o,...this.getRootNode().posFromIndex(o)}),h.push(f(a,d,"\u591A\u4F59\u7684fragment"))),h}}r=new WeakMap,i=new WeakMap,s=new WeakMap,t=new WeakMap,T.exports=g},8962:(T,F,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(6010),y=e(8138);class u extends y{constructor(r,i,s=$.getConfig(),t=[]){super(r,s,!0,t,{});I(this,"type","free-ext-link");i&&(this.type="ext-link-url")}lint(r=0){const i=super.lint(r),s=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`;let t;for(const n of this.childNodes){const l=String(n);if(n.type!=="text"||!new RegExp(s,"u").test(l))continue;t||(t={start:r,...this.getRootNode().posFromIndex(r)});const o=f(n,t,"","warning"),h=new RegExp(s,"gu");for(let a=h.exec(l);a;a=h.exec(l)){const{index:A,0:{0:x,length:d}}=a,c=l.slice(0,A).split(`
`),{length:S}=c,{length:k}=c[S-1],C=r+A,w=o.startLine+S-1,b=(S>1?0:o.startCol)+k;i.push({...o,message:`URL\u4E2D\u7684${x==="|"?'"|"':"\u5168\u89D2\u6807\u70B9"}`,startIndex:C,endIndex:C+d,startLine:w,endLine:w,startCol:b,endCol:b+d})}}return i}}T.exports=u},9389:(T,F,e)=>{"use strict";const f=e(6010),$=e(8889);class y extends ${constructor(g,r=f.getConfig(),i=[]){super(g,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],r,i);I(this,"name","choose")}}T.exports=y},9269:(T,F,e)=>{"use strict";const f=e(6010),$=e(8889);class y extends ${constructor(g,r=f.getConfig(),i=[]){super(g,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],r,i);I(this,"name","combobox")}}T.exports=y},8889:(T,F,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(6010),y=e(8138),u=e(7267),p=e(3423),g=e(5749);class r extends y{constructor(t,n,l,o=$.getConfig(),h=[]){var A;const a=(A=t==null?void 0:t.replace(n,(x,d,c,S,k)=>{const C=`\0${h.length+1}${d?"e":"c"}\x7F`;if(d)new u(d,c,S,k,o,h);else{const w=x.endsWith("-->");new g(x.slice(4,w?-3:void 0),w,o,h)}return C}))==null?void 0:A.replace(/(^|\0\d+[ce]\x7F)(.*?)(?=$|\0\d+[ce]\x7F)/gsu,(x,d,c)=>c===""?d:(new p(c,o,h),`${d}\0${h.length}c\x7F`));super(a,o,!0,h,{});I(this,"type","ext-inner")}lint(t=0){let n;return[...super.lint(t),...this.childNodes.filter(l=>{if(l.type==="ext"||l.type==="comment")return!1;const o=String(l).trim();return o&&!/^<!--.*-->$/u.test(o)}).map(l=>(n||(n={start:t,...this.getRootNode().posFromIndex(t)}),f(l,n,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}T.exports=r},5937:(T,F,e)=>{"use strict";const f=e(6010),$=e(8889);class y extends ${constructor(g,r=f.getConfig(),i=[]){super(g,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],r,i);I(this,"name","references")}}T.exports=y},7033:(T,F,e)=>{var f={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function $(u){var p=y(u);return e(p)}function y(u){if(!e.o(f,u)){var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}return f[u]}$.keys=function(){return Object.keys(f)},$.resolve=y,T.exports=$,$.id=7033},5749:(T,F,e)=>{"use strict";const f=e(2308),{generateForSelf:$}=e(8277),y=e(6010),u=e(6935);class p extends f(u){constructor(i,s=!0,t=y.getConfig(),n=[]){super(i,t,n);I(this,"type","comment");I(this,"closed");this.closed=s}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}lint(i=0){return this.closed?[]:[$(this,{start:i},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(i){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}T.exports=p},3434:(T,F,e)=>{"use strict";const f=e(6935);class $ extends f{constructor(){super(...arguments);I(this,"type","dd")}}T.exports=$},7815:(T,F,e)=>{"use strict";const f=e(2308),$=e(6935);class y extends f($){constructor(){super(...arguments);I(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(g){return`__${String(this.firstChild)}__`}}T.exports=y},2582:(T,F,e)=>{"use strict";const f=e(6010),$=e(6935);class y extends ${constructor(g,r=f.getConfig(),i=[]){super("-".repeat(g),r,i);I(this,"type","hr")}}T.exports=y},6935:(T,F,e)=>{"use strict";const{generateForSelf:f}=e(8277),$=e(6010),y=e(8138);class u extends y{constructor(r,i=$.getConfig(),s=[]){super(r,i,!0,s);I(this,"type","ext-inner")}lint(r=0){const{type:i,name:s}=this;return i==="ext-inner"&&(s==="templatestyles"||s==="section")&&String(this)?[f(this,{start:r},`<${s}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(r)}}T.exports=u},962:(T,F,e)=>{"use strict";const f=e(3434);class $ extends f{constructor(){super(...arguments);I(this,"type","list")}}T.exports=$},3423:(T,F,e)=>{"use strict";const f=e(2308),$=e(6935);class y extends f($){constructor(){super(...arguments);I(this,"type","noinclude")}}T.exports=y},6714:(T,F,e)=>{"use strict";const{generateForSelf:f}=e(8277),$=e(6010),y=e(7507),u=e(6935);class p extends u{constructor(i,s=$.getConfig(),t=[]){super("'".repeat(i),s,t);I(this,"type","quote")}lint(i=0){const{previousSibling:s,nextSibling:t}=this,n=`\u5B64\u7ACB\u7684"'"`,l=[];let o;if((s==null?void 0:s.type)==="text"&&s.data.endsWith("'")){o=f(this,{start:i},n);const{startIndex:h,startLine:a,startCol:A}=o,[,{length:x}]=s.data.match(/(?:^|[^'])('+)$/u),d=i-x;l.push({...o,startIndex:d,endIndex:h,startCol:A-x,endLine:a,endCol:A})}if((t==null?void 0:t.type)==="text"&&t.data[0]==="'"){o||(o=f(this,{start:i},n));const{endIndex:h,endLine:a,endCol:A}=o,[{length:x}]=t.data.match(/^'+/u),d=h+x;l.push({...o,startIndex:h,endIndex:d,startLine:a,startCol:A,endCol:A+x})}return l}}T.exports=p},851:(T,F,e)=>{"use strict";const f=e(6010),$=e(8138);class y extends ${constructor(g,r=f.getConfig(),i=[]){super(g,r,!0,i);I(this,"type","onlyinclude")}toString(g){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}T.exports=y},9380:(T,F,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(6010),y=e(8138),u=e(9237);class p extends y{constructor(i,s=$.getConfig(),t=[]){super(void 0,s,!0,t,{});I(this,"type","ext-inner");if(i){const n=u;this.append(...i.split(`
`).map(l=>new n(l,"param-line",s,t,{})))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i=0){let s;return this.childNodes.filter(t=>{const{childNodes:n}=t,l=n.findIndex(({type:h})=>h!=="text"),o=(l>=0?n.slice(0,l).map(String).join(""):String(t)).trim();return o&&!(l>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(o)}).map(t=>(s||(s={start:i,...this.getRootNode().posFromIndex(i)}),f(t,s,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}T.exports=p},6934:(T,F,e)=>{"use strict";const f=e(8275),$=e(6010),y=e(9380),u=e(9237);class p extends y{constructor(i,s=$.getConfig(),t=[]){super(void 0,s,t);I(this,"name","inputbox");if(i=f(i,s,t),t.splice(t.indexOf(this),1),t.push(this),i){const n=u;this.append(...i.split(`
`).map(l=>new n(l,"param-line",s,t,{})))}}}T.exports=p},9799:(T,F,e)=>{"use strict";const{extUrlChar:f,extUrlCharFirst:$}=e(231),{generateForChild:y}=e(8277),u=e(6010),p=e(8138);class g extends p{constructor(s,t,n=u.getConfig(),l=[]){super(void 0,n,!0,l);I(this,"type","parameter");const o=new p(typeof s=="number"?void 0:s,n,!0,l,{}),h=new p(t,n,!0,l);o.type="parameter-key",h.type="parameter-value",this.append(o,h.setAttribute("stage",2))}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const s=e(1782),t=String(this.firstChild).replace(/<!--.*?-->/gu,"").replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1"),{parentNode:n}=this;this.setAttribute("name",t),n instanceof s&&n.getArgs(t,!1,!1).add(this)}}toString(s){return this.anon?this.lastChild.toString(s):super.toString(s,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(s=0){var o;const t=super.lint(s),{firstChild:n}=this,l=(o=new RegExp(`https?://${$}${f}$`,"iu").exec(String(n).replace(/<!--.*?-->/gu,"")))==null?void 0:o[0];if(l&&new URL(l).search){const h=y(n,{start:s},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");t.push({...h,startIndex:h.endIndex,endIndex:h.endIndex+1,startLine:h.endLine,startCol:h.endCol,endCol:h.endCol+1})}return t}}T.exports=g},8058:(T,F,e)=>{"use strict";const f=e(6010),$=e(8138);class y extends ${constructor(p,g,r="plain",i=f.getConfig(),s=[],t=void 0){super(p,i,!0,s,t),this.type=r}}T.exports=y},2840:(T,F,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(3125),y=e(8058);class u extends ${constructor(){super(...arguments);I(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(r=0){const i=super.lint(r);if(!this.closed){const{firstChild:s}=this,t=f(s,{start:r},"\u672A\u95ED\u5408\u7684\u8868\u683C");i.push(t)}return i}close(r=`
|}`,i=!1){const s=this.getAttribute("config"),t=this.getAttribute("accum");super.insertAt(new y(r,void 0,"table-syntax",s,t))}}T.exports=u},5567:(T,F,e)=>{var g;"use strict";const{generateForChild:f}=e(8277),$=e(6010),y=e(8138),u=e(3125);class p extends u{constructor(s,t,n=$.getConfig(),l=[]){let o=t==null?void 0:t.match(/\||\0\d+!\x7F/u),h=o?t.slice(0,o.index):"";/\[\[|-\{/u.test(h)&&(o=void 0,h="");super(s,h,n,l);I(this,"type","td");L(this,g,"");o&&([nt(this,g)._]=o);const a=new y(t==null?void 0:t.slice((o==null?void 0:o.index)+m(this,g).length),n,!0,l);a.type="td-inner",this.insertAt(a.setAttribute("stage",4))}get subtype(){return this.getSyntax().subtype}getSyntax(){const s=this.firstChild.text(),t=s[s.length-1];let n="td";return t==="!"?n="th":t==="+"&&(n="caption"),{subtype:n}}afterBuild(){m(this,g).includes("\0")&&G(this,g,this.getAttribute("buildFromStr")(m(this,g),"string"))}toString(s){const{childNodes:[t,n,l]}=this;return`${t.toString()}${n.toString()}${m(this,g)}${l.toString()}`}text(){const{childNodes:[s,t,n]}=this;return`${s.text()}${t.text()}${m(this,g)}${n.text()}`}getGaps(s=0){return s=s<0?s+this.length:s,s===1?m(this,g).length:0}lint(s=0){const t=super.lint(s),{lastChild:n}=this;s+=this.getRelativeIndex(-1);for(const l of n.childNodes)l.type==="text"&&l.data.includes("|")&&t.push(f(l,{start:s},'\u8868\u683C\u5355\u5143\u683C\u4E2D\u591A\u4F59\u7684"|"',"warning"));return t}print(){const{childNodes:[s,t,n]}=this;return`<span class="wpb-td">${s.print()}${t.print()}${m(this,g)}${n.print()}</span>`}}g=new WeakMap,T.exports=p},3125:(T,F,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(6010),y=e(8138),u=e(8058),p=e(5649);class g extends y{constructor(s,t="",n=$.getConfig(),l=[],o=void 0){super(void 0,n,!0,l,{});I(this,"type","tr");this.append(new u(s,o,"table-syntax",n,l,{}),new p(t,"table-attrs",this.type,n,l))}lint(s=0){const t=e(1782),n=e(9544),l=super.lint(s),o=this.childNodes.find(({type:x})=>x==="table-inter");if(!o)return l;const h=o.childNodes.find(x=>x.text().trim()),a=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!h||a.test(String(h))||h.type==="arg"&&a.test(h.default||""))return l;if(h.type==="magic-word")try{if(h.getPossibleValues().every(d=>a.test(d.text())))return l}catch(x){}const A=f(o,{start:s},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return l.push({...A,startIndex:A.startIndex+1,startLine:A.startLine+1,startCol:0}),l}text(){const s=super.text();return this.type==="tr"&&!s.trim().includes(`
`)?"":s}}T.exports=g},7267:(T,F,e)=>{"use strict";const{generateForSelf:f}=e(8277),$=e(6010),y=e(8138),u=e(1074),p=e(5649);class g extends u{constructor(s,t="",n="",l=void 0,o=$.getConfig(),h=[]){t=!t||/^\s/u.test(t)?t:` ${t}`;const a=s.toLowerCase(),A=new p(t,"ext-attrs",a,o,h),x=JSON.parse(JSON.stringify(o)),d=new Set(x.ext);let c;switch(d.delete(a),x.ext=[...d],x.inExt=!0,a){case"tab":d.delete("tabs"),x.ext=[...d];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":x.noHeading=a==="poem",c=new y(n,x,!0,h);break;case"gallery":{const S=e(1891);c=new S(n,x,h);break}case"pre":{const S=e(428);c=new S(n,x,h);break}case"references":case"choose":case"combobox":{const S=e(8889),k=e(7033)(`./${a}`);c=new k(n,x,h);break}case"imagemap":{const S=e(2641);c=new S(n,o,h);break}case"dynamicpagelist":{const S=e(9380);c=new S(n,x,h);break}case"inputbox":{x.noHeading=!0;const S=e(6934);c=new S(n,x,h);break}default:{const S=e(6935);c=new S(n,o)}}c.setAttribute("name",a).type="ext-inner";super(s,A,c,l,o,h);I(this,"type","ext");I(this,"closed",!0)}lint(s=0){const t=super.lint(s);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const n=this.getRootNode(),l={start:s,...n.posFromIndex(s)};t.push(f(this,l,"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6269\u5C55\u6807\u7B7E"))}return t}}T.exports=g},8655:(T,F,e)=>{"use strict";const f=e(2308),$=e(6010),y=e(1074);class u extends f(y){constructor(r,i="",s=void 0,t=void 0,n=$.getConfig(),l=[]){super(r,i,s!=null?s:"",s===void 0||t!=null?t:"",n,l);I(this,"type","include")}}T.exports=u},1074:(T,F,e)=>{var u,p,g;"use strict";const f=e(6010),$=e(8138);class y extends ${constructor(s,t,n,l,o=f.getConfig(),h=[]){super(void 0,o,!0);L(this,u,void 0);L(this,p,void 0);L(this,g,void 0);this.setAttribute("name",s.toLowerCase()),G(this,g,[s,l||s]),G(this,u,l===void 0),G(this,p,l!==""),this.append(t,n);let a=h.indexOf(t);a===-1&&(a=h.indexOf(n)),a===-1&&(a=1/0),h.splice(a,0,this)}get closed(){return m(this,p)}toString(s){const{firstChild:t,lastChild:n}=this,[l,o]=m(this,g);return m(this,u)?`<${l}${String(t)}/>`:`<${l}${String(t)}>${String(n)}${m(this,p)?`</${o}>`:""}`}text(){const[s,t]=m(this,g);return m(this,u)?`<${s}${this.firstChild.text()}/>`:`<${s}${super.text(">")}${m(this,p)?`</${t}>`:""}`}getPadding(){return m(this,g)[0].length+1}getGaps(){return 1}print(){const[s,t]=m(this,g);return super.print(m(this,u)?{pre:`&lt;${s}`,post:"/&gt;"}:{pre:`&lt;${s}`,sep:"&gt;",post:m(this,p)?`&lt;/${t}&gt;`:""})}}u=new WeakMap,p=new WeakMap,g=new WeakMap,T.exports=y},1782:(T,F,e)=>{var n,l,o,h,$t;"use strict";const{removeComment:f,print:$,text:y}=e(231),{generateForChild:u}=e(8277),p=e(6010),g=e(8138),r=e(9799),i=e(9237),s=e(8058);class t extends g{constructor(d,c,S=p.getConfig(),k=[]){super(void 0,S,!0,k,{});L(this,h);I(this,"type","template");I(this,"modifier","");L(this,n,{});L(this,l,"");L(this,o,!0);const{parserFunction:[C,w,b]}=S;if(d.includes(":")){const[P,...v]=d.split(":");this.setModifier(P)&&(d=v.join(":"))}if(d.includes(":")||c.length===0&&!b.includes(this.modifier.toLowerCase())){const[P,...v]=d.split(":"),D=f(P),j=D.trim(),V=w.includes(j),H=C[j.toLowerCase()];if(!(v.length>0&&/\s$/u.test(D))&&(V||H)){this.setAttribute("name",H||j.toLowerCase()).type="magic-word";const Q=new RegExp(`^\\s*${j}\\s*$`,V?"u":"iu"),X=new s(P,Q,"magic-word-name",S,k,{});if(this.insertAt(X),v.length>0&&c.unshift([v.join(":")]),this.name==="invoke")for(let W=0;W<2;W++){const K=c.shift();if(!K)break;const Y=new i(K.join("="),`invoke-${W?"function":"module"}`,S,k,{});this.insertAt(Y)}}}if(this.type==="template"){const P=f(d).split("#")[0].trim();if(!P||/\0\d+[eh!+-]\x7F|[<>[\]{}\n]|%[\da-f]{2}/u.test(P))throw k.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${P}`);const v=new i(d,"template-name",S,k,{});this.insertAt(v)}const E=this.isTemplate();let O=1;for(let P=0;P<c.length;P++){const v=c[P];!E&&!(this.name==="switch"&&P>0)&&(v[0]=v.join("="),v.length=1),v.length===1&&(v.unshift(O),O++),this.insertAt(new r(...v,S,k))}}setModifier(d=""){if(/\s$/u.test(d))return!1;const{parserFunction:[,,c,S]}=this.getAttribute("config"),k=d.trim().toLowerCase(),C=c.includes(k),w=S.includes(k);return C||w||d===""?(this.setAttribute("modifier",d),Boolean(d)):!1}afterBuild(){if(this.isTemplate()){const d=this.type==="template",c=this.normalizeTitle(this.childNodes[d?0:1].text(),d?10:828);G(this,l,c.fragment),G(this,o,c.valid)}}toString(d){const{childNodes:c,firstChild:S,modifier:k}=this;return`{{${k}${k&&":"}${this.type==="magic-word"?`${String(S)}${c.length>1?":":""}${c.slice(1).map(String).join("|")}`:super.toString(d,"|")}}}`}text(){const{childNodes:d,firstChild:c,modifier:S}=this;return`{{${S}${S&&":"}${this.type==="magic-word"?`${c.text()}${d.length>1?":":""}${y(d.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:d,firstChild:c,modifier:S}=this;return`<span class="wpb-${this.type}">{{${S}${S&&":"}${this.type==="magic-word"?`${c.print()}${d.length>1?":":""}${$(d.slice(1),{sep:"|"})}`:$(d,{sep:"|"})}}}</span>`}lint(d=0){const c=super.lint(d),{type:S,childNodes:k}=this;let C;if(this.isTemplate())m(this,l)&&(C={start:d,...this.getRootNode().posFromIndex(d)},c.push(u(k[S==="template"?0:1],C,"\u591A\u4F59\u7684fragment")));else return c;m(this,o)||(C={start:d,...this.getRootNode().posFromIndex(d)},c.push(u(k[1],C,"\u975E\u6CD5\u7684\u6A21\u5757\u540D\u79F0")));const w=this.getDuplicatedArgs();return w.length>0&&(C||(C={start:d,...this.getRootNode().posFromIndex(d)}),c.push(...w.flatMap(([,b])=>b).map(b=>u(b,C,"\u91CD\u590D\u53C2\u6570")))),c}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(d,c=this.length){return super.insertAt(d,c),d.anon?J(this,h,$t).call(this,d):d.name&&this.getArgs(d.name,!1,!1).add(d),d}getAllArgs(){return this.childNodes.filter(d=>d instanceof r)}getAnonArgs(){return this.getAllArgs().filter(({anon:d})=>d)}getArgs(d,c,S=!0){const k=String(d).trim();let C;return Object.prototype.hasOwnProperty.call(m(this,n),k)?C=m(this,n)[k]:(C=new Set(this.getAllArgs().filter(({name:w})=>k===w)),m(this,n)[k]=C),C}getDuplicatedArgs(){return this.isTemplate()?Object.entries(m(this,n)).filter(([,{size:d}])=>d>1).map(([d,c])=>[d,[...c]]):[]}getPossibleValues(){const{type:d,name:c,childNodes:S,constructor:{name:k}}=this;if(d==="template")throw new Error(`${k}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let C;switch(c){case"if":case"ifexist":case"ifexpr":case"iferror":C=2;break;case"ifeq":C=3;break;default:throw new Error(`${k}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const w=S.slice(C,C+2).map(({childNodes:[,b]})=>b);for(let b=0;b<w.length;){const{length:E,0:O}=w[b].childNodes.filter(P=>P.text().trim());if(E===0)w.splice(b,1);else if(E>1||O.type!=="magic-word")b++;else try{const P=O.getPossibleValues();w.splice(b,1,...P),b+=P.length}catch(P){b++}}return w}}n=new WeakMap,l=new WeakMap,o=new WeakMap,h=new WeakSet,$t=function(d){const c=this.getAnonArgs(),S=c.indexOf(d);for(let k=S;k<c.length;k++){const C=c[k],{name:w}=C,b=String(k+1);w!==b&&this.getArgs(b,!1,!1).add(C.setAttribute("name",b))}},T.exports=t},8277:(T,F,e)=>{"use strict";const f=e(8138),$=(u,p,g,r="error")=>{const i=u.getRelativeIndex(),{offsetHeight:s,offsetWidth:t,parentNode:n,length:l}=u,{top:o,left:h}=n.posFromIndex(i),{start:a}=p,{top:A,left:x}="top"in p?p:u.getRootNode().posFromIndex(a),d=a+i,c=d+l,S=A+o,k=S+s-1,C=o?h:x+h,w=s>1?t:C+t;return{message:g,severity:r,startIndex:d,endIndex:c,startLine:S,endLine:k,startCol:C,endCol:w}},y=(u,p,g,r="error")=>{const{start:i}=p,{offsetHeight:s,offsetWidth:t,length:n}=u,{top:l,left:o}="top"in p?p:u.getRootNode().posFromIndex(i);return{message:g,severity:r,startIndex:i,endIndex:i+n,startLine:l,endLine:l+s-1,startCol:o,endCol:s>1?t:o+t}};T.exports={generateForChild:$,generateForSelf:y}},231:(T,F,e)=>{"use strict";const f='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])',$='(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',y=i=>i.replace(/\0\d+c\x7F/gu,""),u=(i,s={})=>{const t=e(7507),n=e(9205),{pre:l="",post:o="",sep:h=""}=s,a={"&":"amp","<":"lt",">":"gt"};return`${l}${i.map(A=>A instanceof n?A.print():String(A).replace(/[&<>]/gu,x=>`&${a[x]};`)).join(h)}${o}`},p=i=>i.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),g=(i,s,t,n)=>{if(n===void 0)return[];const l=new RegExp(`${[i,s,t].map(p).join("|")}`,"gu"),o=[];let h=l.exec(n),a=0,A=0;for(;h;){const{0:x,index:d}=h;x!==t?a+=x===i?1:-1:a===0&&(o.push(n.slice(A,d)),{lastIndex:A}=l),h=l.exec(n)}return o.push(n.slice(A)),o},r=(i,s="")=>{const t=e(3853);return i.map(n=>typeof n=="string"?n:n.text()).join(s)};T.exports={extUrlCharFirst:f,extUrlChar:$,removeComment:y,print:u,escapeRegExp:p,explode:g,text:r}},8166:T=>{"use strict";T.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},M={};function B(T){var F=M[T];if(F!==void 0)return F.exports;var e=M[T]={exports:{}};return U[T](e,e.exports,B),e.exports}B.o=(T,F)=>Object.prototype.hasOwnProperty.call(T,F);var tt=B(6010)})();})();
