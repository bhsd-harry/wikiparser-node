(()=>{var t={9823:t=>{t.exports={ext:["nowiki","pre","gallery","indicator","poem","ref","references","categorytree","charinsert","choose","imagemap","inputbox","templatestyles","dynamicpagelist","poll","modernsoundmanager","flashmp3","sm2","score","tab","tabs","combobox","combooption"],html:[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],namespaces:{"-2":"Media","-1":"Special",0:"",1:"Talk",2:"User",3:"User talk",4:"Project",5:"Project talk",6:"File",7:"File talk",8:"MediaWiki",9:"MediaWiki talk",10:"Template",11:"Template talk",12:"Help",13:"Help talk",14:"Category",15:"Category talk",274:"Widget",275:"Widget talk",828:"Module",829:"Module talk"},nsid:{"":0,media:-2,媒体:-2,媒体文件:-2,媒體:-2,special:-1,特殊:-1,talk:1,对话:1,對話:1,讨论:1,討論:1,user:2,u:2,使用者:2,用戶:2,用户:2,user_talk:3,使用者討論:3,用戶對話:3,用戶討論:3,用户对话:3,用户讨论:3,llwiki:4,萌娘百科:4,project:4,llwiki_talk:5,llwiki讨论:5,llwiki討論:5,萌娘百科_talk:5,萌娘百科讨论:5,萌娘百科討論:5,project_talk:5,file:6,image:6,图像:6,圖像:6,文件:6,档案:6,檔案:6,file_talk:7,image_talk:7,图像对话:7,图像讨论:7,圖像對話:7,圖像討論:7,文件对话:7,文件讨论:7,文件對話:7,文件討論:7,档案对话:7,档案讨论:7,檔案對話:7,檔案討論:7,mediawiki:8,mediawiki_talk:9,mediawiki讨论:9,mediawiki討論:9,template:10,t:10,样板:10,模板:10,樣板:10,template_talk:11,样板对话:11,样板讨论:11,模板对话:11,模板讨论:11,模板對話:11,模板討論:11,樣板對話:11,樣板討論:11,help:12,使用說明:12,帮助:12,幫助:12,help_talk:13,使用說明討論:13,帮助对话:13,帮助讨论:13,幫助對話:13,幫助討論:13,category:14,cat:14,分类:14,分類:14,category_talk:15,分类对话:15,分类讨论:15,分類對話:15,分類討論:15,widget:274,widget_talk:275,module:828,模块:828,模組:828,module_talk:829,模块讨论:829,模組討論:829},parserFunction:[["名称空间","ns","名称空间e","nse","url编码","urlencode","小写首字","lcfirst","大写首字","ucfirst","小写","lc","大写","uc","本地url","localurl","本地urle","localurle","完整url","fullurl","完整url等同","fullurle","规范url","canonicalurl","规范url等同","canonicalurle","格式化数字","formatnum","语法","grammar","性别","gender","复数","plural","bidi","#语言","#language","左填充","padleft","右填充","padright","锚编码","anchorencode","文件路径","filepath","页面id","pageid","界面","int","#特殊","#special","#特殊等同","#speciale","#标记","#tag","#格式化日期","#日期格式化","#formatdate","#dateformat","#invoke","#while","#dowhile","#loop","#forargs","#fornumargs","#非空式","#若","#如果","#if","#相同式","#匹配式","#若相等","#如果相等","#ifeq","#多选式","#多条件式","#双射式","#开关","#转换","#switch","#存在式","#若有","#如有","#ifexist","#若表达式","#ifexpr","#错误式","#如果错误","#iferror","#时间","#time","#时间l","#timel","#计算式","#表达式","#expr","#rel2abs","#标题组成部分","#titleparts","#categorytree","#url解码","#urldecode","#choose","#调用","#var","#varexists","#var_final","#vardefine","#vardefineecho","#小工具","#widget","条目路径","articlepath","服务器","server","服务器名","servername","脚本路径","scriptpath","样式路径","stylepath","msgnw","#related","#cscore","#regex","#regex_var","#regexquote","#regexall","#长度","#len","#位置","#终端","#pos","#最近位置","#反终端","#rpos","#截取","#pf子","#sub","#计数","#count","#替换","#取代","#replace","#爆炸","#炸开","#粉碎","#explode","#tab"],["页面数","NUMBEROFPAGES","用户数","NUMBEROFUSERS","活跃用户数","NUMBEROFACTIVEUSERS","条目数","NUMBEROFARTICLES","文件数","NUMBEROFFILES","管理员数","NUMBEROFADMINS","组中用户数","NUMBERINGROUP","NUMINGROUP","编辑数","NUMBEROFEDITS","默认排序","默认排序关键字","默认分类排序","DEFAULTSORT","DEFAULTSORTKEY","DEFAULTCATEGORYSORT","分类中页面数","PAGESINCATEGORY","PAGESINCAT","页面大小","PAGESIZE","保护级别","PROTECTIONLEVEL","PROTECTIONEXPIRY","名字空间等同","NAMESPACEE","名字空间编号","NAMESPACENUMBER","讨论空间","讨论名字空间","TALKSPACE","讨论空间等同","讨论名字空间等同","TALKSPACEE","主名字空间","条目名字空间","SUBJECTSPACE","ARTICLESPACE","主名字空间等同","条目名字空间等同","SUBJECTSPACEE","ARTICLESPACEE","页名","页面名","页面名称","PAGENAME","页面名等同","页面名称等同","PAGENAMEE","页面全称","完整页面名称","FULLPAGENAME","完整页面名称等同","FULLPAGENAMEE","根页面名称","ROOTPAGENAME","根页面名称等同","ROOTPAGENAMEE","基础页面名称","BASEPAGENAME","基础页面名称等同","BASEPAGENAMEE","子页面名称","SUBPAGENAME","子页面名称等同","SUBPAGENAMEE","讨论页面名称","对话页面名称","TALKPAGENAME","讨论页面名称等同","对话页面名称等同","TALKPAGENAMEE","主名字空间页面名称","条目页面名称","SUBJECTPAGENAME","ARTICLEPAGENAME","主名字空间页面名称等同","条目页面名称等同","SUBJECTPAGENAMEE","ARTICLEPAGENAMEE","修订ID","REVISIONID","修订日","REVISIONDAY","修订日2","REVISIONDAY2","修订月","REVISIONMONTH","修订月1","REVISIONMONTH1","修订年","REVISIONYEAR","修订时间戳","REVISIONTIMESTAMP","修订用户","REVISIONUSER","级联来源","CASCADINGSOURCES","名字空间","NAMESPACE","显示标题","DISPLAYTITLE","!","本月","本月2","CURRENTMONTH","CURRENTMONTH2","本月1","CURRENTMONTH1","本月名","本月名称","CURRENTMONTHNAME","本月名属格","本月名称属格","CURRENTMONTHNAMEGEN","本月简称","CURRENTMONTHABBREV","今天","CURRENTDAY","今天2","CURRENTDAY2","星期","今天名","今天名称","CURRENTDAYNAME","今年","CURRENTYEAR","当前时间","此时","CURRENTTIME","当前小时","CURRENTHOUR","本地月","本地月2","LOCALMONTH","LOCALMONTH2","本地月1","LOCALMONTH1","本地月份名","LOCALMONTHNAME","本地月历","LOCALMONTHNAMEGEN","本地月缩写","LOCALMONTHABBREV","本地日","LOCALDAY","本地日2","LOCALDAY2","本地日名","LOCALDAYNAME","本地年","LOCALYEAR","本地时间","LOCALTIME","本地小时","LOCALHOUR","站点名称","SITENAME","本周","CURRENTWEEK","当前DOW","CURRENTDOW","本地周","LOCALWEEK","本地DOW","LOCALDOW","修订大小","REVISIONSIZE","当前版本","CURRENTVERSION","当前时间戳","CURRENTTIMESTAMP","本地时间戳","LOCALTIMESTAMP","方向标记","DIRECTIONMARK","DIRMARK","内容语言","CONTENTLANGUAGE","CONTENTLANG","PAGELANGUAGE"],["msg","原始","raw"],["替代","subst","安全替代","safesubst"]],doubleUnderscore:[["forcetoc","强显目录","nocc","nocontentconvert","不转换内容","noeditsection","无段落编辑","无编辑段落","nogallery","无图库","notc","notitleconvert","不转换标题","notoc","无目录","toc","目录"],["EXPECTUNUSEDCATEGORY","DISAMBIG","消除歧义","HIDDENCAT","隐藏分类","INDEX","索引","NEWSECTIONLINK","新段落链接","NOINDEX","无索引","NONEWSECTIONLINK","无新段落链接","STATICREDIRECT","静态重定向"]],protocol:"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:",interwiki:["arxiv","aswiki","cache","cmoegirl","commons","doi","google","googlegroups","gsnews","imdb","jawiki","komica","mediawikiwiki","metawikimedia","moegirl","mw","sifaswiki","sifwiki","wikia","wikibooks","wikidata","wikimedia","wikinews","wikiinfo","wikipedia","wikiquote","wikisource","wikispecies","wikiversity","wikivoyage","wikt","wiktionary","zhwiki","acronym","c2find","cm","dictionary","drumcorpswiki","dwjwiki","elibre","emacswiki","enmoe","enwiki","foldoc","foxwiki","freebsdman","gentoo-wiki","hammondwiki","hrwiki","jamoe","kmwiki","library","linuxwiki","lojban","lqwiki","mcwiki","meatball","memoryalpha","meta","metawiki","mozillawiki","oeis","openwiki","phab","pmid","pythoninfo","rfc","s23wiki","seattlewireless","senseislibrary","shoutwiki","sourceforge","squeak","theopedia","tmbw","tmnet","translatewiki","twiki","uncyclopedia","unreal","usemod","wiki","wikif1","wikihow","zhmoe","zhmoegirl","zhtest","文库","维基中文","维基日文","维基英文","萌娘共享","萌百"],img:{thumbnail:"thumbnail",thumb:"thumbnail",缩略图:"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","缩略图=$1":"manualthumb",left:"left",左:"left",right:"right",右:"right",none:"none",无:"none",$1px:"width",$1像素:"width",center:"center",centre:"center",居中:"center",framed:"framed",enframed:"framed",frame:"framed",有框:"framed",frameless:"frameless",无框:"frameless",upright:"upright",右上:"upright","upright=$1":"manual-upright","upright $1":"manual-upright","右上=$1":"manual-upright",右上$1:"manual-upright",border:"border",边框:"border","alt=$1":"alt","替代=$1":"alt","替代文本=$1":"alt","class=$1":"class","类=$1":"class","link=$1":"link","链接=$1":"link",baseline:"baseline",基线:"baseline",sub:"sub",子:"sub",super:"super",sup:"super",超:"super",top:"top",顶部:"top","text-top":"text-top",文字顶部:"text-top",middle:"middle",中间:"middle",bottom:"bottom",底部:"bottom","text-bottom":"text-bottom",文字底部:"text-bottom"},variants:["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}},6010:(t,e,s)=>{"use strict";const{text:i}=s(231),n={running:!1,run(t){const{running:e}=this;this.running=!0;try{const s=t();return this.running=e,s}catch(t){throw this.running=e,t}},config:s(9823),getConfig(){return this.config},isInterwiki:(t,{interwiki:e}=n.getConfig())=>(t=String(t)).replaceAll("_"," ").replace(/^\s*:?\s*/,"").match(new RegExp(`^(${e.join("|")})\\s*:`,"i")),normalizeTitle(t,e=0,r=!1,o=n.getConfig(),c=!1){let l;if(t=String(t),!c){const e=s(8138);l=this.run((()=>new e(t,o).parseOnce(0,r).parseOnce())),t=l.firstChild}const a=new(s(6986))(t,e,o);if(l){const t=t=>{for(const e of t)a[e].includes("\0")&&(a[e]=i(l.buildFromStr(a[e])))};this.run((()=>{t(["title","fragment"])}))}return a},MAX_STAGE:11,parse(t,e=!1,i=n.MAX_STAGE,r=n.getConfig()){const o=s(8138);let c;return this.run((()=>{if("string"==typeof t)c=new o(t,r);else{if(!(t instanceof o))throw new TypeError("待解析的内容应为 String 或 Token！");c=t,t=c.toString()}c.parse(i,e)})),c}},r={};for(const t in n)["MAX_STAGE"].includes(t)?r[t]={enumerable:!1,writable:!1}:["config","isInterwiki","normalizeTitle","parse"].includes(t)||(r[t]={enumerable:!1});Object.defineProperties(n,r),globalThis.Parser=n,t.exports=n},9205:(t,e,s)=>{"use strict";const i=s(3853),n=s(6010);class r extends i{type;name;get children(){return this.childNodes.filter((t=>t instanceof r))}get firstElementChild(){return this.childNodes.find((t=>t instanceof r))}get lastElementChild(){return this.children.at(-1)}get parentElement(){return this.parentNode}append(...t){for(const e of t)this.appendChild(e)}replaceChildren(...t){for(let t=this.childNodes.length-1;t>=0;t--)this.removeAt(t);this.append(...t)}#t(t,e){const{parentNode:s}=this,i=s.childNodes.indexOf(this)+e;for(const[e,n]of t.entries())s.insertAt(n,i+e)}after(...t){this.#t(t,1)}remove(){this.parentNode.removeChild(this)}replaceWith(...t){this.after(...t),this.remove()}matches(t="",e=!1){if(!t.trim())return!0;if(!e&&t.includes(","))return n.run((()=>t.split(",").some((t=>this.matches(t,!0)))));const[s,...i]=t.trim().split("#"),r=i.join("#");return!(s&&this.type!==s||r&&this.name!==r)}closest(t=""){let{parentElement:e}=this;for(;e;){if(e.matches(t))return e;({parentElement:e}=e)}}}t.exports=r},3853:(t,e,s)=>{"use strict";const{text:i,print:n}=s(231);class r{childNodes=[];#e;#s=[];get firstChild(){return this.childNodes[0]}get parentNode(){return this.#e}constructor(){Object.defineProperty(this,"childNodes",{writable:!1}),Object.freeze(this.childNodes)}hasAttribute(t){return t in this}getAttribute(t){return this.hasAttribute(t)?String(this[t]):void 0}setAttribute(t,e){if("parentNode"===t)this.#e=e;else if(this.hasAttribute(t)){const s=Object.getOwnPropertyDescriptor(this,t);this.#s.includes(t)&&(s.enumerable=Boolean(e));const i=this[t],n=null!==i&&"object"==typeof i&&Object.isFrozen(i);Object.defineProperty(this,t,{...s,value:e}),n&&null!==e&&"object"==typeof e&&Object.freeze(e)}else this[t]=e;return this}toString(t=""){return this.childNodes.map(String).join(t)}print(t={}){return`<span class="wpb-${t.class??this.type}">${n(this.childNodes,t)}</span>`}text(t=""){return i(this.childNodes,t)}removeAt(t){const e=[...this.childNodes],[s]=e.splice(t,1);return s instanceof r&&s.setAttribute("parentNode"),this.setAttribute("childNodes",e),s}#i(t){const{childNodes:e}=this;return e.indexOf(t)}removeChild(t){return this.removeAt(this.#i(t)),t}insertAt(t,e=this.childNodes.length){const s=[...this.childNodes];return t instanceof r&&t.setAttribute("parentNode",this),s.splice(e,0,t),this.setAttribute("childNodes",s),t}appendChild(t){return this.insertAt(t)}setText(t,e=0){const s=this.childNodes.at(e),i=[...this.childNodes];return i.splice(e,1,t),this.setAttribute("childNodes",i),s}normalize(){const t=[...this.childNodes];for(let e=t.length-1;e>=0;e--){const s=t[e];""===s?t.splice(e,1):"string"==typeof s&&"string"==typeof t[e-1]&&(t[e-1]+=s,t.splice(e,1))}this.setAttribute("childNodes",t)}}t.exports=r},6986:(t,e,s)=>{"use strict";const{ucfirst:i}=s(231),n=s(6010);t.exports=class{title="";ns=0;interwiki="";fragment="";valid=!0;constructor(t,e=0,s=n.getConfig()){const{namespaces:r,nsid:o}=s;let c=r[e];":"===(t=t.replaceAll("_"," ").trim())[0]&&(c="",t=t.slice(1).trim());const l=n.isInterwiki(t,s);l&&(this.interwiki=l[1].toLowerCase(),t=t.slice(l[0].length));const a=t.split(":");if(a.length>1){const e=r[o[a[0].trim().toLowerCase()]];void 0!==e&&(c=e,t=a.slice(1).join(":").trim())}this.ns=o[c.toLowerCase()];const p=t.indexOf("#");if(-1!==p){const e=t.slice(p+1).trimEnd();if(e.includes("%"))try{this.fragment=decodeURIComponent(e)}catch{}else if(e.includes("."))try{this.fragment=decodeURIComponent(e.replaceAll(".","%"))}catch{}this.fragment||=e,t=t.slice(0,p).trim()}this.title=`${l?`${this.interwiki}:`:""}${c}${c&&":"}${i(t)}`,this.valid=!/\x00\d+[eh!+-]\x7f|[<>[\]{}|]/.test(this.title)}}},2308:t=>{"use strict";t.exports=t=>class extends t{text(){return""}}},8275:(t,e,s)=>{"use strict";const{removeComment:i}=s(231),n=s(6010);t.exports=(t,e=n.getConfig(),r=[])=>{const o="(?<=^(?:\0\\d+c)*)={1,6}|\\[\\[|{{2,}|-{(?!{)",c=[],l={"=":"\n","{":"}{2,}|\\|","-":"}-","[":"]]"},a={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let p,h=new RegExp(o,"gm"),u=h.exec(t),d=t.includes("}}");for(;u||p<=t.length&&"="===c.at(-1)?.[0]?.[0];){const{0:n,index:g}=u??{0:"\n",index:t.length},f=c.pop()??{},{0:x,index:m,parts:$}=f,E="="===n&&f.findEqual;if(["]]","}-"].includes(n))p=g+2;else if("\n"===n){p=g+1;const{pos:n,findEqual:o}=c.at(-1)??{};if(!n||o||""!==i(t.slice(n,m))){const i=t.slice(m,g).match(/^(={1,6})(.+)\1((?:\s|\x00\d+c\x7f)*)$/);i&&(t=`${t.slice(0,m)}\0${r.length}h${t.slice(g)}`,p=m+4+String(r.length).length,new(s(9450))(i[1].length,i.slice(2),e,r))}}else if("|"===n||E)p=g+1,$.at(-1).push(t.slice(f.pos,g)),"|"===n&&$.push([]),f.pos=p,f.findEqual="|"===n,c.push(f);else if(n.startsWith("}}")){const o=n.slice(0,Math.min(x.length,3)),l=x.length-o.length,{length:h}=r;p=g+o.length,$.at(-1).push(t.slice(f.pos,g));const u=2===o.length?a[i($[0][0])]??"t":"t";let d=!1;if(3===o.length)new(s(9544))($.map((t=>t.join("="))),e,r);else try{new(s(1782))($[0][0],$.slice(1),e,r)}catch(t){t instanceof Error&&t.message.startsWith("非法的模板名称：")&&(p=m+x.length,d=!0)}d||(t=`${t.slice(0,m+l)}\0${h}${u}${t.slice(p)}`,p=m+l+3+String(h).length,l>1?c.push({0:x.slice(0,l),index:m,pos:m+l,parts:[[]]}):1===l&&"-"===t[m-1]&&c.push({0:"-{",index:m-1,pos:m+1,parts:[[]]}))}else p=g+n.length,"{"===n[0]&&(u.pos=p,u.parts=[[]]),c.push(..."0"in f?[f]:[],u);d&&=t.slice(p).includes("}}");let C=c.at(-1);d||"{"!==C?.[0]?.[0]||(c.pop(),C=c.at(-1)),h=new RegExp(o+(C?`|${l[C[0][0]]}${C.findEqual?"|=":""}`:""),"gm"),h.lastIndex=p,u=h.exec(t)}return t}},4907:(t,e,s)=>{"use strict";const i=s(6010);t.exports=(t,e=i.getConfig(),n=[],r=!1)=>{const o=/<onlyinclude>(.*?)<\/onlyinclude>/gs;if(r&&o.test(t))return t.replace(o,((t,i)=>{const r=`\0${n.length}e`;return new(s(851))(i,e,n),r})).replace(/(?<=^|\x00\d+e\x7f).*?(?=$|\x00\d+e\x7f)/gs,(t=>""===t?"":(new(s(3423))(t,e,n),`\0${n.length-1}c`)));const c=e.ext.join("|"),l=r?"includeonly":"(?:no|only)include",a=new RegExp(`\x3c!--.*?(?:--\x3e|$)|<${l}(?:\\s.*?)?>|</${l}\\s*>|<(${c})(\\s.*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${r?"noinclude":"includeonly"})(\\s.*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gis");return t.replace(a,((t,i,r,o,c,l,a,p,h)=>{const u=`\0${n.length}${i?"e":"c"}`;if(i)new(s(7267))(i,r,o,c,e,n);else if(t.startsWith("\x3c!--")){const i=s(5749),r=t.endsWith("--\x3e");new i(t.slice(4,r?-3:void 0),r,e,n)}else l?new(s(8655))(l,a,p,h,e,n):new(s(3423))(t,e,n);return u}))}},3765:(t,e,s)=>{"use strict";const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=s(9910),o=/-{/g,c=/-{|}-/g,l=[];let a=o,p=a.exec(t);for(;p;){const{0:s,index:i}=p;if("}-"===s){const s=l.pop(),{length:c}=n,p=t.slice(s.index+2,i),h=p.indexOf("|"),[u,d]=-1===h?[[],p]:[p.slice(0,h).split(";"),p.slice(h+1)],g=d.replace(/(?<=&[#a-z0-9]+);/i,""),f=`(?:${e.variants.join("|")})`;new r(u,g.split(new RegExp(`;(?=\\s*(?:${f}|[^;]*?=>\\s*${f})\\s*:)`)).map((t=>t.replaceAll("",";"))),e,n),t=`${t.slice(0,s.index)}\0${c}v${t.slice(i+2)}`,0===l.length&&(a=o),a.lastIndex=s.index+3+String(c).length}else l.push(p),a=c;p=a.exec(t)}return t}},7513:(t,e,s)=>{"use strict";const{extUrlChar:i}=s(231),n=s(6010);t.exports=(t,e=n.getConfig(),r=[])=>{const o=s(741),c=new RegExp(`\\[((?:${e.protocol}|//)${i})(\\p{Zs}*)([^\\]-\b\n-�]*)\\]`,"gui");return t.replace(c,((t,s,i,n)=>{const{length:c}=r,l=s.match(/&[lg]t;/);return l&&(i="",n=`${(s=s.slice(0,l.index)).slice(l.index)}${i}${n}`),new o(s,i,n,e,r),`\0${c}w`}))}},2937:(t,e,s)=>{"use strict";const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=s(2582),o=s(7815),{doubleUnderscore:c}=e;return t.replace(/^-{4,}/gm,(t=>(new r(t.length,e,n),`\0${n.length-1}r`))).replace(new RegExp(`__(${c.flat().join("|")})__`,"ig"),((t,s)=>c[0].includes(s.toLowerCase())||c[1].includes(s)?(new o(s,e,n),`\0${n.length-1}u`):t))}},5130:(t,e,s)=>{"use strict";const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=/^(\/?)([a-z][^\s/>]*)([^>]*?)(\/?>)([^<]*)$/i,o=e.html.flat(),c=t.split("<");let l=c.shift();for(const t of c){const i=t.match(r),c=i?.[2],a=c?.toLowerCase();if(!i||!o.includes(a)){l+=`<${t}`;continue}const[,p,,h,u,d]=i,g=new(s(5037))(h,"html-attr",a,e,n),f=g.getAttr("itemprop");("meta"!==a||void 0!==f&&void 0!==g.getAttr("content"))&&("link"!==a||void 0!==f&&void 0!==g.getAttr("href"))?(l+=`\0${n.length}x${d}`,new(s(2350))(c,g,"/"===p,"/>"===u,e,n)):(l+=`<${t}`,n.pop())}return l}},1452:(t,e,s)=>{"use strict";const i=s(6010),n=(s(8138),(t,e=i.getConfig(),r=[])=>{const o=s(3360),c=/^([^\n<>[\]{}|]+)(?:\|(.+?))?]](.*)/s,l=/^([^\n<>[\]{}|]+)\|(.*)/s,a=new RegExp(`^\\s*(?:${e.protocol})`,"i"),p=t.split("[[");let h=p.shift();for(let t=0;t<p.length;t++){let u,d,g,f;const x=p[t],m=x.match(c);if(m)[,d,g,f]=m,f.startsWith("]")&&g?.includes("[")&&(g+="]",f=f.slice(1));else{const t=x.match(l);t&&(u=!0,[,d,g]=t)}if(void 0===d||a.test(d)||/\x00\d+[exhbru]\x7f/.test(d)){h+=`[[${x}`;continue}let $=d;if(d.includes("%"))try{$=decodeURIComponent(d)}catch{}const E=d.trim().startsWith(":");if(E&&u){h+=`[[${x}`;continue}const C=i.normalizeTitle($,0,!1,e,!0),{ns:w,interwiki:A,valid:b}=C;if(!b){h+=`[[${x}`;continue}if(u){if(A||6!==w){h+=`[[${x}`;continue}let s;for(t++;t<p.length;t++){const e=p[t],i=e.split("]]");if(i.length>2){s=!0,g+=`[[${i[0]}]]${i[1]}`,f=i.slice(2).join("]]");break}if(2!==i.length){g+=`[[${e}`;break}g+=`[[${i[0]}]]${i[1]}`}if(g=n(g,e,r),!s){h+=`[[${d}|${g}`;continue}}g=g&&o(g,e,r),h+=`\0${r.length}l${f}`;let N=s(3905);E||(A||6!==w?A||14!==w||(N=s(337)):N=s(7625)),new N(d,g,C,e,r)}return h});t.exports=n},6622:(t,e,s)=>{"use strict";const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=t.match(/^(?:[;:*#]|\x00\d+c\x7f)*[;:*#]/);if(!r)return t;const o=s(962),[c]=r;t=`\0${n.length}d${t.slice(c.length)}`,new o(c,e,n);let l=c.split(";").length-1;if(!l)return t;const a=s(3434);let p=/:+|-{/g,h=p.exec(t),u=0;for(;h&&l;){const{0:s,index:i}=h;if(":"===s[0]){if(s.length>=l)return new a(":".repeat(l),e,n),`${t.slice(0,i)}\0${n.length-1}d${t.slice(i+l)}`;t=`${t.slice(0,i)}\0${n.length}d${t.slice(p.lastIndex)}`,l-=s.length,p.lastIndex=i+4+String(n.length).length,new a(s,e,n)}else if("-{"===s){if(!u){const{lastIndex:t}=p;p=/-{|}-/g,p.lastIndex=t}u++}else if(u--,!u){const{lastIndex:t}=p;p=/:+|-{/g,p.lastIndex=t}h=p.exec(t)}return t}},4737:(t,e,s)=>{"use strict";const{extUrlChar:i}=s(231),n=s(6010);t.exports=(t,e=n.getConfig(),r=[])=>{const o=s(8962),c=new RegExp(`\\b(?:${e.protocol})(${i})`,"gui");return t.replace(c,((t,s)=>{let i="",n=t;const c=n.match(/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/i);c&&(i=n.slice(c.index),n=n.slice(0,c.index));const l=new RegExp(`[,;.:!?${n.includes("(")?"":")"}]+$`),a=n.match(l);if(a){let t=0;a[0].startsWith(";")&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/i.test(n.slice(0,a.index))&&(t=1),i=`${n.slice(a.index+t)}${i}`,n=n.slice(0,a.index+t)}return i.length>=s.length?t:(new o(n,!1,e,r),`\0${r.length-1}w${i}`)}))}},3360:(t,e,s)=>{"use strict";const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=t.split(/('{2,})/),{length:o}=r;if(1===o)return t;let c,l,a,p=0,h=0;for(let t=1;t<o;t+=2){const e=r[t].length;switch(e){case 2:h++;break;case 4:r[t-1]+="'",r[t]="'''";case 3:if(p++,c)break;" "===r[t-1].at(-1)?l||a||(a=t):" "===r[t-1].at(-2)?c=t:l||(l=t);break;default:r[t-1]+="'".repeat(e-5),r[t]="'''''",h++,p++}}if(h%2==1&&p%2==1){const t=c??l??a;r[t]="''",r[t-1]+="'"}const u=s(6714);for(let t=1;t<o;t+=2)new u(r[t].length,e,n),r[t]=`\0${n.length-1}q`;return r.join("")}},4624:(t,e,s)=>{"use strict";const i=s(6010);t.exports=({firstChild:t,type:e},n=i.getConfig(),r=[])=>{const o=s(8138),c=s(2840),l=s(3125),a=s(5567),p=s(3434),h=[],u=t.split("\n");let d="root"===e?"":`\n${u.shift()}`;const g=(t,e)=>{if(!e)return void(d+=t);const{lastElementChild:s}=e;if(s.isPlain())s.setText(s.firstChild+t,0);else{const s=new o(t,n,!0,r);s.type="table-inter",e.appendChild(s.setAttribute("stage",3))}};for(const t of u){let e=h.pop();const[s]=t.match(/^(?:\s|\x00\d+c\x7f)*/),i=t.slice(s.length),o=i.match(/^(:*)((?:\s|\x00\d+c\x7f)*)({\||{\x00\d+!\x7f|\x00\d+{\x7f)(.*)/);if(o){const[,t,i,l,a]=o;t&&new p(t,n,r),g(`\n${s}${t&&`\0${r.length-1}d`}${i}\0${r.length}b`,e);const u=new c(l,a,n,r);h.push(...e?[e]:[],u);continue}if(!e){d+=`\n${t}`;continue}const u=i.match(/^(?:(\|}|\x00\d+!\x7f}|\x00\d+}\x7f)|(\|-+|\x00\d+!\x7f-+|\x00\d+-\x7f-*)|(!|(?:\||\x00\d+!\x7f)\+?))(.*)/);if(!u){g(`\n${t}`,e),h.push(...e?[e]:[]);continue}const[,f,x,m,$]=u;if(f){for(;!(e instanceof c);)e=h.pop();e.close(`\n${s}${f}`,!0),g($,h.at(-1))}else if(x){"td"===e.type&&(e=h.pop()),"tr"===e.type&&(e=h.pop());const t=new l(`\n${s}${x}`,$,n,r);h.push(e,t),e.appendChild(t)}else{"td"===e.type&&(e=h.pop());const t="!"===m?/!!|(?:\||\x00\d+!\x7f){2}|\x00\d+\+\x7f/g:/(?:\||\x00\d+!\x7f){2}|\x00\d+\+\x7f/g;let i=t.exec($),o=0,c=`\n${s}${m}`;for(;i;){const s=new a(c,$.slice(o,i.index),n,r);e.appendChild(s),({lastIndex:o}=t),[c]=i,i=t.exec($)}const l=new a(c,$.slice(o),n,r);h.push(e,l),e.appendChild(l)}}return d.slice(1)}},9544:(t,e,s)=>{"use strict";const{text:i}=s(231),n=s(6010),r=s(8138);t.exports=class extends r{type="arg";constructor(t,e=n.getConfig(),i=[]){super(void 0,e,!0,i);for(const[n,o]of t.entries())if(0===n||n>1){const t=new(s(0===n?9237:9263))(o,"arg-"+(0===n?"name":"redundant"),e,i);this.appendChild(t)}else{const t=new r(o,e,!0,i);t.type="arg-default",this.appendChild(t.setAttribute("stage",2))}}toString(){return`{{{${super.toString("|")}}}}`}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}text(){return`{{{${i(this.children.slice(0,2),"|")}}}}`}}},9263:(t,e,s)=>{"use strict";const i=s(2308),n=s(9237);class r extends(i(n)){}t.exports=r},9237:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{constructor(t,e="plain",s=i.getConfig(),n=[],r=null){super(t,s,!0,n,r),this.type=e}}},5037:(t,e,s)=>{"use strict";const{removeComment:i}=s(231),n=s(6010),r=s(8138);t.exports=class extends r{#n=new Map;#r(){let t=this.toString();t=i(t).replace(/\x00\d+~\x7f/g,"=");for(const[,e,,s,i]of t.matchAll(/([^\s/][^\s/=]*)(?:\s*=\s*(?:(["'])(.*?)(?:\2|$)|(\S*)))?/gs))this.setAttr(e,s??i??!0,!0)}constructor(t,e,s,i=n.getConfig(),r=[]){super(t,i,"ext-attr"!==e,r),this.type=e,this.#r()}getAttr(t){return this.#n.get(t.toLowerCase().trim())}setAttr(t,e){t=t.toLowerCase().trim(),/^(?:[\w:]|\x00\d+[t!~{}+-]\x7f)(?:[\w:.-]|\x00\d+[t!~{}+-]\x7f)*$/.test(t)&&this.#n.set(t,!0===e||e.replace(/\s/g," ").trim())}}},9910:(t,e,s)=>{"use strict";const{text:i,print:n}=s(231),r=s(6010),o=s(8138),c=s(6719),l=s(8683);t.exports=class extends o{type="converter";constructor(t,e,s=r.getConfig(),i=[]){if(super(void 0,s,!1,i),this.append(new c(t,s,i)),e.length){const[t]=e,n=t.includes(":"),r=new l(t,n,s,i);n&&1===r.childNodes.length?this.appendChild(new l(e.join(";"),!1,s,i)):this.append(r,...e.slice(1).map((t=>new l(t,!0,s,i))))}}toString(){const[t,...e]=this.children;return`-{${t.toString()}${t.childNodes.length?"|":""}${e.map(String).join(";")}}-`}print(){const[t,...e]=this.children;return`<span class="wpb-converter">-{${t.print()}${t.childNodes.length?"|":""}${n(e,{sep:";"})}}-</span>`}text(){const[t,...e]=this.children;return`-{${t.text()}|${i(e,";")}}-`}}},6719:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138),r=s(9237);t.exports=class extends n{type="converter-flags";constructor(t,e=i.getConfig(),s=[]){super(void 0,e,!1,s),this.append(...t.map((t=>new r(t,"converter-flag",e,s))))}toString(){return super.toString(";")}print(){return super.print({sep:";"})}text(){return super.text(";")}}},8683:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138),r=s(9237);t.exports=class extends n{type="converter-rule";constructor(t,e=!0,s=i.getConfig(),n=[]){if(super(void 0,s,!0,n),e){const e=t.indexOf(":"),i=t.slice(0,e).indexOf("=>"),o=(-1===i?t.slice(0,e):t.slice(i+2,e)).trim(),{variants:c}=s;c.includes(o)?(super.insertAt(new r(o,"converter-rule-variant",s,n)),super.insertAt(new r(t.slice(e+1),"converter-rule-to",s,n)),-1!==i&&super.insertAt(new r(t.slice(0,i),"converter-rule-from",s,n),0)):super.insertAt(new r(t,"converter-rule-noconvert",s,n))}else super.insertAt(new r(t,"converter-rule-noconvert",s,n))}toString(){if(3===this.childNodes.length){const[t,e,s]=this.children;return`${t.toString()}=>${e.toString()}:${s.toString()}`}return super.toString(":")}print(){if(3===this.childNodes.length){const[t,e,s]=this.children;return`<span class="wpb-converter-rule">${t.print()}=>${e.print()}:${s.print()}</span>`}return super.print({sep:":"})}text(){if(3===this.childNodes.length){const[t,e,s]=this.children;return`${t.text()}=>${e.text()}:${s.text()}`}return super.text(":")}}},741:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138),r=s(8962);t.exports=class extends n{type="ext-link";#o;constructor(t,e,s,o=i.getConfig(),c=[]){if(super(void 0,o,!0,c),this.appendChild(new r(t,!0,o,c)),this.#o=e,s){const t=new n(s,o,!0,c);t.type="ext-link-text",this.appendChild(t.setAttribute("stage",i.MAX_STAGE-1))}}toString(){return`[${this.firstElementChild.toString()}${this.#o}${this.children[1]?.toString()??""}]`}print(){const{childNodes:{length:t}}=this;return super.print({pre:"[",sep:t>1?this.#o:"",post:t>1?"]":`${this.#o}]`})}text(){return`[${super.text(" ").replaceAll("\n"," ")}]`}}},9450:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{type="heading";constructor(t,e,r=i.getConfig(),o=[]){super(void 0,r,!0,o),this.setAttribute("name",String(t));const c=new n(e[0],r,!0,o);c.type="heading-title",c.setAttribute("stage",2);const l=new(s(8058))(e[1],/^[^\S\n]*$/,"heading-trail",r,o);this.append(c,l)}toString(){const t="=".repeat(Number(this.name));return`${t}${this.firstElementChild.toString()}${t}${this.lastElementChild.toString()}`}print(){const t=Number(this.name),e="=".repeat(t);return super.print({pre:e,sep:e,class:`heading-${Math.min(t,3)}`})}text(){const t="=".repeat(Number(this.name));return`${t}${this.firstElementChild.text()}${t}`}}},2350:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{type="html";closing;selfClosing;#c;constructor(t,e,s,n,r=i.getConfig(),o=[]){super(void 0,r,!0,o),this.appendChild(e),this.closing=s,this.selfClosing=n,this.#c=t}toString(){return`<${this.closing?"/":""}${this.#c}${super.toString()}${this.selfClosing?"/":""}>`}print(){return super.print({pre:`&lt;${this.closing?"/":""}${this.#c}`,post:(this.selfClosing?"/":"")+"&gt;"})}text(){return`<${this.closing?"/":""}${this.#c}${super.text()}${this.selfClosing?"/":""}>`}}},1874:(t,e,s)=>{"use strict";const{print:i,extUrlChar:n}=s(231),r=s(6986),o=s(6010),c=s(8138);class l extends c{type="image-parameter";#l="";static#a=Symbol("no-link");static#p(t,e,s=o.getConfig()){if(e=e.replace(/\x00\d+t\x7f/g,"").trim(),"width"===t)return/^\d*(?:x\d*)?$/.test(e);if(["alt","class","manualthumb","frameless","framed","thumbnail"].includes(t))return!0;if("link"===t){if(!e)return!0;if(new RegExp(`(?:${s.protocol}|//)${n}(?=\0\\d+t|$)`,"ui").test(e))return!0;if(/^\[\[.+]]$/.test(e)&&(e=e.slice(2,-2)),e.includes("%"))try{e=decodeURIComponent(e)}catch{}const{valid:t}=new r(e,0,s);return t}return!isNaN(e)}constructor(t,e=o.getConfig(),s=[]){const i=Object.entries(e.img).map((([t,e])=>[t,e,new RegExp(`^(\\s*)${t.replace("$1","(.*)")}(\\s*)$`)])),n=i.find((([,,e])=>e.test(t)));if(n){const i=t.match(n[2]);if(4!==i.length||l.#p(n[1],i[2],e))return 3===i.length?(super(void 0,e,!0,s),this.#l=t):(super(i[2],e,!0,s),this.#l=`${i[1]}${n[0]}${i[3]}`),void this.setAttribute("stage",o.MAX_STAGE)}super(t,e,!0,s),this.setAttribute("stage",7)}isPlain(){return!0}toString(){return this.#l?this.#l.replace("$1",super.toString()):super.toString()}print(){return this.#l?`<span class="wpb-image-parameter">${this.#l.replace("$1",i(this.childNodes))}</span>`:super.print()}text(){return this.#l?this.#l.replace("$1",super.text()).trim():super.text().trim()}}t.exports=l},8138:(t,e,s)=>{"use strict";const i=s(9205),n=s(6010),{MAX_STAGE:r}=n;class o extends i{type="root";#h=0;#u;#d;#g;constructor(t,e=n.getConfig(),s=!1,i=[]){super(),"string"==typeof t&&this.appendChild(s?t:t.replace(/[\x00\x7f]/g,"")),this.#u=e,this.#d=i,i.push(this)}getAttribute(t){switch(t){case"stage":return this.#h;case"config":return JSON.parse(JSON.stringify(this.#u));case"accum":return this.#d;default:return super.getAttribute(t)}}setAttribute(t,e){return"stage"===t?(0===this.#h&&"root"===this.type&&this.#d.shift(),this.#h=e,this):super.setAttribute(t,e)}isPlain(){return this.constructor===o}insertAt(t,e=this.childNodes.length){return super.insertAt(t,e),t instanceof o&&"root"===t.type&&(t.type="plain"),t}normalizeTitle(t,e=0,s=!1){return n.normalizeTitle(t,e,this.#g,this.#u,s)}parseOnce(t=this.#h,e=!1){if(t<this.#h||!this.isPlain()||0===this.childNodes.length)return this;switch(t){case 0:"root"===this.type&&this.#d.shift(),this.#f(e);break;case 1:this.#x();break;case 2:this.#m();break;case 3:this.#$();break;case 4:this.#E();break;case 5:this.#C();break;case 6:this.#w();break;case 7:this.#A();break;case 8:this.#b();break;case 9:this.#N();break;case 10:this.#S()}if("root"===this.type)for(const s of this.#d)s.parseOnce(t,e);return this.#h++,this}buildFromStr(t){return t.split(/[\x00\x7f]/).map(((t,e)=>e%2==0?t:this.#d[Number(t.slice(0,-1))]))}build(){this.#h=r;const{childNodes:{length:t},firstChild:e}=this;if(1!==t||"string"!=typeof e||!e.includes("\0"))return this;if(this.replaceChildren(...this.buildFromStr(e)),this.normalize(),"root"===this.type)for(const t of this.#d)t.build();return this}afterBuild(){if("root"===this.type)for(const t of this.#d)t.afterBuild();return this}parse(t=r,e=!1){for(this.#g=Boolean(e);this.#h<t;)this.parseOnce(this.#h,e);return t?this.build().afterBuild():this}#f(t=!1){const e=s(4907);this.setText(e(this.firstChild,this.#u,this.#d,t))}#x(){const t=s(8275);this.setText(t(this.firstChild,this.#u,this.#d))}#m(){const t=s(5130);this.setText(t(this.firstChild,this.#u,this.#d))}#$(){const t=s(4624),e=s(2840);this.setText(t(this,this.#u,this.#d));for(const t of this.#d)if(t instanceof e&&"td"!==t.type){t.normalize();const[,e]=t.childNodes;if("string"==typeof e&&e.includes("\0")){t.removeAt(1);const s=new o(e,this.#u,!0,this.#d);t.insertAt(s,1),s.setAttribute("stage",4)}}}#E(){const t=s(2937);this.setText(t(this.firstChild,this.#u,this.#d))}#C(){const t=s(1452);this.setText(t(this.firstChild,this.#u,this.#d))}#w(){const t=s(3360),e=this.firstChild.split("\n");for(let s=0;s<e.length;s++)e[s]=t(e[s],this.#u,this.#d);this.setText(e.join("\n"))}#A(){const t=s(7513);this.setText(t(this.firstChild,this.#u,this.#d))}#b(){const t=s(4737);this.setText(t(this.firstChild,this.#u,this.#d))}#N(){const t=s(6622),e=this.firstChild.split("\n");for(let s="root"===this.type?0:1;s<e.length;s++)e[s]=t(e[s],this.#u,this.#d);this.setText(e.join("\n"))}#S(){const t=s(3765);this.setText(t(this.firstChild,this.#u,this.#d))}}t.exports=o},337:(t,e,s)=>{"use strict";const i=s(6010),n=s(3905);t.exports=class extends n{type="category";constructor(t,e,s,n=i.getConfig(),r=[]){super(t,e,s,n,r)}text(){return`[[${this.firstElementChild.text()}]]`}}},7625:(t,e,s)=>{"use strict";const{explode:i}=s(231),n=s(6010),r=s(3905),o=s(1874);t.exports=class extends r{type="file";constructor(t,e,s,r=n.getConfig(),c=[]){super(t,void 0,s,r,c),this.append(...i("-{","}-","|",e).map((t=>new o(t,r,c))))}}},3905:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{type="link";constructor(t,e,r,o=i.getConfig(),c=[]){super(void 0,o,!0,c);const l=s(9237);if(this.appendChild(new l(t,"link-target",o,c)),void 0!==e){const t=new n(e,o,!0,c);t.type="link-text",this.appendChild(t.setAttribute("stage",i.MAX_STAGE-1))}}toString(){return`[[${super.toString("|")}]]`}print(){return super.print({pre:"[[",post:"]]",sep:"|"})}text(){return`[[${super.text("|")}]]`}}},8962:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{type="free-ext-link";constructor(t,e=!1,s=i.getConfig(),n=[]){super(t,s,!0,n),e&&(this.type="ext-link-url")}afterBuild(){return s(9799),this.closest("parameter")?.getValue()===this.text()&&this.replaceWith(this.toString()),this}}},5749:(t,e,s)=>{"use strict";const i=s(2308),n=s(6010),r=s(6935);class o extends(i(r)){type="comment";closed;constructor(t,e=!0,s=n.getConfig(),i=[]){super(t,s,i),this.closed=e}toString(){return`\x3c!--${this.firstChild}${this.closed?"--\x3e":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}}t.exports=o},3434:(t,e,s)=>{"use strict";const i=s(6935);t.exports=class extends i{type="dd"}},7815:(t,e,s)=>{"use strict";const i=s(2308),n=s(6010),r=s(6935);class o extends(i(r)){type="double-underscore";constructor(t,e=n.getConfig(),s=[]){super(t,e,s)}toString(){return`__${this.firstChild}__`}print(){return super.print({pre:"__",post:"__"})}}t.exports=o},2582:(t,e,s)=>{"use strict";const i=s(6010),n=s(6935);t.exports=class extends n{type="hr";constructor(t,e=i.getConfig(),s=[]){super("-".repeat(t),e,s)}}},6935:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{type="ext-inner";constructor(t,e=i.getConfig(),s=[]){super(t,e,!1,s)}}},962:(t,e,s)=>{"use strict";const i=s(3434);t.exports=class extends i{type="list"}},3423:(t,e,s)=>{"use strict";const i=s(2308),n=s(6935);class r extends(i(n)){type="noinclude"}t.exports=r},6714:(t,e,s)=>{"use strict";const i=s(6010),n=s(6935);t.exports=class extends n{type="quote";constructor(t,e=i.getConfig(),s=[]){super("'".repeat(t),e,s)}}},851:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);class r extends n{type="onlyinclude";constructor(t,e=i.getConfig(),s=[]){super(t,e,!1,s)}toString(){return`<onlyinclude>${super.toString()}</onlyinclude>`}print(){return super.print({pre:"&lt;onlyinclude&gt;",post:"&lt;/onlyinclude&gt;"})}isPlain(){return this.constructor===r}}t.exports=r},9799:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{type="parameter";anon;constructor(t,e,r=i.getConfig(),o=[]){super(void 0,r,!0,o),this.anon="number"==typeof t;const c=new(s(9237))(this.anon?void 0:t,"parameter-key",r,o),l=new n(e,r,!0,o);l.type="parameter-value",this.append(c,l.setAttribute("stage",2))}toString(){return this.anon?this.lastElementChild.toString():super.toString("=")}print(){return this.anon?`<span class="wpb-parameter">${this.lastElementChild.print()}</span>`:super.print({sep:"="})}text(){return this.anon?this.lastElementChild.text():super.text("=")}getValue(){const t=this.lastElementChild.text();return this.anon&&this.parentNode?.matches("template, magic-word#invoke")?t:t.trim()}}},8058:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{constructor(t,e,s="plain",n=i.getConfig(),r=[],o=null){super(t,n,!0,r,o),this.type=s}}},2840:(t,e,s)=>{"use strict";const i=s(6010),n=s(3125),r=s(8058);class o extends n{type="table";static openingPattern=/^(?:{\||{{{\s*!\s*}}|{{\s*\(!\s*}})$/;static closingPattern=/^\n[^\S\n]*(?:\|}|{{\s*!\s*}}}|{{\s*!\)\s*}})$/;constructor(t,e="",s=i.getConfig(),n=[]){super(t,e,s,n,o.openingPattern)}close(t="\n|}"){const e=this.getAttribute("config"),s=this.getAttribute("accum"),{closingPattern:n}=o;this.appendChild(i.run((()=>new r(t,n,"table-syntax",e,s))))}}t.exports=o},5567:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138),r=s(3125);class o extends r{type="td";#y="";static openingPattern=/^(?:\n[\S\n]*(?:[|!]|\|\+|{{\s*!\s*}}\+?)|(?:\||{{\s*!\s*}}){2}|!!|{{\s*!!\s*}})$/;constructor(t,e,s=i.getConfig(),r=[]){let c=e?.match(/\||\x00\d+!\x7f/),l=c?e.slice(0,c.index):"";/\[\[|-{/.test(l)&&(c=null,l=""),super(t,l,s,r,o.openingPattern),c&&([this.#y]=c);const a=new n(e?.slice(c?.index+this.#y.length),s,!0,r);a.type="td-inner",this.appendChild(a.setAttribute("stage",4))}afterBuild(){return this.#y.includes("\0")&&(this.#y=this.buildFromStr(this.#y).map(String).join("")),this}toString(){const[t,e,s]=this.children;return`${t.toString()}${e.toString()}${this.#y}${s.toString()}`}print(){const[t,e,s]=this.children;return`<span class="wpb-td">${t.print()}${e.print()}${this.#y}${s.print()}</span>`}text(){const[t,e,s]=this.children;return`${t.text()}${e.text()}${this.#y}${s.text()}`}}t.exports=o},3125:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138),r=s(8058),o=s(5037);class c extends n{type="tr";static openingPattern=/^\n[^\S\n]*(?:\|-+|{{\s*!\s*}}-+|{{\s*!-\s*}}-*)$/;constructor(t,e="",s=i.getConfig(),n=[],l=c.openingPattern){super(void 0,s,!0,n),this.append(new r(t,l,"table-syntax",s,n),new o(e,"table-attr","tr",s,n))}text(){const t=super.text();return"tr"!==this.type||t.trim().includes("\n")?t:""}}t.exports=c},7267:(t,e,s)=>{"use strict";const i=s(6010),n=s(1074);t.exports=class extends n{type="ext";constructor(t,e="",n="",r,o=i.getConfig(),c=[]){e=!e||/^\s/.test(e)?e:` ${e}`;const l=t.toLowerCase(),a=new(s(5037))(e,"ext-attr",l,o,c),p=JSON.parse(JSON.stringify(o)),h=new Set(p.ext);let u;switch(l){case"choose":h.add("option");case"ref":case"option":case"poem":case"indicator":case"tab":case"tabs":case"pre":h.delete(l),p.ext=[...h],u=new(s(8138))(n,p,!1,c);break;default:u=new(s(6935))(n,o)}u.type="ext-inner","pre"===l&&u.setAttribute("stage",i.MAX_STAGE-1),super(t,a,u,r,o,c),Object.defineProperty(this,"closed",{value:!0,enumerable:!1,writable:!1,configurable:!1})}}},8655:(t,e,s)=>{"use strict";const i=s(2308),n=s(6010),r=s(1074);class o extends(i(r)){type="include";constructor(t,e="",s,i,r=n.getConfig(),o=[]){super(t,e,s??"",void 0!==s?i??"":i,r,o)}}t.exports=o},1074:(t,e,s)=>{"use strict";const i=s(6010),n=s(8138);t.exports=class extends n{selfClosing;closed;#k;constructor(t,e,s,n,r=i.getConfig(),o=[]){super(void 0,r),this.#k=[t,n||t],this.selfClosing=void 0===n,this.closed=""!==n,this.append(e,s);let c=o.indexOf(e);-1===c&&(c=o.indexOf(s)),-1===c&&(c=1/0),o.splice(c,0,this)}toString(){const{closed:t,selfClosing:e}=this,[s,i]=this.#k;return e?`<${s}${super.toString()}/>`:`<${s}${super.toString(">")}${t?`</${i}>`:""}`}print(){const{closed:t,selfClosing:e}=this,[s,i]=this.#k;return e?super.print({pre:`&lt;${s}`,post:"/&gt;"}):super.print({pre:`&lt;${s}`,sep:"&gt;",post:t?`&lt;/${i}&gt;`:""})}text(){const{closed:t,firstChild:e,selfClosing:s}=this,[i,n]=this.#k;return s?`<${i}${"string"==typeof e?e:e.text()}/>`:`<${i}${super.text(">")}${t?`</${n}>`:""}`}}},1782:(t,e,s)=>{"use strict";const{removeComment:i,text:n,print:r}=s(231),o=s(6010),c=s(8138),l=s(9799);t.exports=class extends c{type="template";modifier="";setModifier(t=""){const[,,e,s]=this.getAttribute("config").parserFunction,i=t.trim().toLowerCase(),n=e.includes(i),r=s.includes(i);return!(!n&&!r&&""!==t)&&(this.setAttribute("modifier",t),Boolean(t))}constructor(t,e,n=o.getConfig(),r=[]){super(void 0,n,!0,r);const c=s(9237),a=s(8058),{parserFunction:[p,h,u]}=n;if(t.includes(":")){const[e,...s]=t.split(":");this.setModifier(e)&&(t=s.join(":"))}if(t.includes(":")||0===e.length&&!u.includes(this.modifier.toLowerCase())){const[s,...o]=t.split(":"),l=i(s),u=h.includes(l);if(u||p.includes(l.toLowerCase())){this.setAttribute("name",l.toLowerCase().replace(/^#/,"")).type="magic-word";const t=new a(s,new RegExp(`^\\s*${l}\\s*$`,u?"":"i"),"magic-word-name",n,r);if(this.appendChild(t),o.length&&e.unshift([o.join(":")]),"invoke"===this.name)for(let t=0;t<2;t++){const s=e.shift();if(!s)break;const i=new c(s.join("="),"invoke-"+(t?"function":"module"),n,r);this.appendChild(i)}}}if("template"===this.type){const[e]=i(t).split("#");if(/\x00\d+[eh!+-]\x7f|[<>[\]{}]/.test(e))throw r.pop(),new SyntaxError(`非法的模板名称：${e}`);const s=new c(t,"template-name",n,r);this.appendChild(s)}const d=this.matches("template, magic-word#invoke");let g=1;for(const t of e)d||(t[0]=t.join("="),t.length=1),1===t.length&&(t.unshift(g),g++),this.appendChild(new l(...t,n,r))}toString(){const{children:t,childNodes:{length:e},firstChild:s}=this;return`{{${this.modifier}${this.modifier&&":"}${"magic-word"===this.type?`${String(s)}${e>1?":":""}${t.slice(1).map(String).join("|")}`:super.toString("|")}}}`}print(){const{children:t,childNodes:{length:e},firstElementChild:s}=this;return`<span class="wpb-${this.type}">{{${this.modifier}${this.modifier&&":"}${"magic-word"===this.type?`${s.print()}${e>1?":":""}${r(t.slice(1),{sep:"|"})}`:r(t,{sep:"|"})}}}</span>`}text(){const{children:t,childNodes:{length:e},firstElementChild:s}=this;return`{{${this.modifier}${this.modifier&&":"}${"magic-word"===this.type?`${s.text()}${e>1?":":""}${n(t.slice(1),"|")}`:super.text("|")}}}`}}},231:(t,e,s)=>{"use strict";t.exports={removeComment:t=>t.replace(/\x00\d+c\x7f/g,""),ucfirst:t=>t&&`${t[0].toUpperCase()}${t.slice(1)}`,text:(t,e="")=>(s(3853),t.map((t=>"string"==typeof t?t:t.text())).join(e)),print:(t,e={})=>{s(3853);const{pre:i="",post:n="",sep:r=""}=e;return`${i}${t.map((t=>"string"==typeof t?t.replaceAll("<","&lt;").replaceAll(">","&gt;"):`</span>${t.print()}<span class="${e.parent}">`)).join(r)}${n}`},explode:(t,e,s,i)=>{if(void 0===i)return[];const n=new RegExp(`${[t,e,s].map((t=>t.replace(/[\\{}()|.?*+\-^$[\]]/g,"\\$&"))).join("|")}`,"g"),r=[];let o=n.exec(i),c=0,l=0;for(;o;){const{0:e,index:a}=o;e!==s?c+=e===t?1:-1:0===c&&(r.push(i.slice(l,a)),({lastIndex:l}=n)),o=n.exec(i)}return r.push(i.slice(l)),r},extUrlChar:'(?:[\\d.]+|\\[[\\da-f:.]+\\]|[^[\\]<>"\\x00-\\x20\\x7f\\p{Zs}\\ufffd])[^[\\]<>"\\x00-\\x20\\x7f\\p{Zs}\\ufffd]*'}}},e={};!function s(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}(6010)})();