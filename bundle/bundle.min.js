"use strict";var ne=Object.defineProperty,oe=Object.defineProperties;var ae=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable;var X=e=>{throw TypeError(e)};var H=(e,t,s)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,q=(e,t)=>{for(var s in t||(t={}))le.call(t,s)&&H(e,s,t[s]);if(J)for(var s of J(t))ue.call(t,s)&&H(e,s,t[s]);return e},W=(e,t)=>oe(e,ae(t));var I=(e,t,s)=>H(e,typeof t!="symbol"?t+"":t,s),D=(e,t,s)=>t.has(e)||X("Cannot "+s);var f=(e,t,s)=>(D(e,t,"read from private field"),s?s.call(e):t.get(e)),x=(e,t,s)=>t.has(e)?X("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),_=(e,t,s,i)=>(D(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),P=(e,t,s)=>(D(e,t,"access private method"),s);var Q=(e,t,s,i)=>({set _(r){_(e,t,r,s)},get _(){return f(e,t,i)}});var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__knownSymbol=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),__typeError=e=>{throw TypeError(e)},__defNormalProp=(e,t,s)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,__name=(e,t)=>__defProp(e,"name",{value:t,configurable:!0}),__esm=(e,t)=>function(){return e&&(t=(0,e[__getOwnPropNames(e)[0]])(e=0)),t},__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__export=(e,t)=>{for(var s in t)__defProp(e,s,{get:t[s],enumerable:!0})},__copyProps=(e,t,s,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of __getOwnPropNames(t))!__hasOwnProp.call(e,r)&&r!==s&&__defProp(e,r,{get:()=>t[r],enumerable:!(i=__getOwnPropDesc(t,r))||i.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__decoratorStart=e=>{var t;return[,,,__create((t=e==null?void 0:e[__knownSymbol("metadata")])!=null?t:null)]},__decoratorStrings=["class","method","getter","setter","accessor","field","value","get","set"],__expectFn=e=>e!==void 0&&typeof e!="function"?__typeError("Function expected"):e,__decoratorContext=(e,t,s,i,r)=>({kind:__decoratorStrings[e],name:t,metadata:i,addInitializer:n=>s._?__typeError("Already initialized"):r.push(__expectFn(n||null))}),__decoratorMetadata=(e,t)=>__defNormalProp(t,__knownSymbol("metadata"),e[3]),__runInitializers=(e,t,s,i)=>{for(var r=0,n=e[t>>1],o=n&&n.length;r<o;r++)t&1?n[r].call(s):i=n[r].call(s,i);return i},__decorateElement=(e,t,s,i,r,n)=>{var o,l,d,p,u,h=t&7,a=!!(t&8),c=!!(t&16),g=h>3?e.length+1:h?a?1:2:0,m=__decoratorStrings[h+5],k=h>3&&(e[g-1]=[]),E=e[g]||(e[g]=[]),b=h&&(!c&&!a&&(r=r.prototype),h<5&&(h>3||!c)&&__getOwnPropDesc(h<4?r:{get[s](){return __privateGet(this,n)},set[s](v){return __privateSet(this,n,v)}},s));h?c&&h<4&&__name(n,(h>2?"set ":h>1?"get ":"")+s):__name(r,s);for(var A=i.length-1;A>=0;A--)p=__decoratorContext(h,s,d={},e[3],E),h&&(p.static=a,p.private=c,u=p.access={has:c?v=>__privateIn(r,v):v=>s in v},h^3&&(u.get=c?v=>(h^1?__privateGet:__privateMethod)(v,r,h^4?n:b.get):v=>v[s]),h>2&&(u.set=c?(v,T)=>__privateSet(v,r,T,h^4?n:b.set):(v,T)=>v[s]=T)),l=(0,i[A])(h?h<4?c?n:b[m]:h>4?void 0:{get:b.get,set:b.set}:r,p),d._=1,h^4||l===void 0?__expectFn(l)&&(h>4?k.unshift(l):h?c?n=l:b[m]=l:r=l):typeof l!="object"||l===null?__typeError("Object expected"):(__expectFn(o=l.get)&&(b.get=o),__expectFn(o=l.set)&&(b.set=o),__expectFn(o=l.init)&&k.unshift(o));return h||__decoratorMetadata(e,r),b&&__defProp(r,s,b),c?h^4?n:b:r},__accessCheck=(e,t,s)=>t.has(e)||__typeError("Cannot "+s),__privateIn=(e,t)=>Object(t)!==t?__typeError('Cannot use the "in" operator on this value'):e.has(t),__privateGet=(e,t,s)=>(__accessCheck(e,t,"read from private field"),s?s.call(e):t.get(e)),__privateSet=(e,t,s,i)=>(__accessCheck(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s),__privateMethod=(e,t,s)=>(__accessCheck(e,t,"access private method"),s),require_minimum=__commonJS({"config/minimum.json"(e,t){t.exports={ext:[],namespaces:{0:"",6:"File",10:"Template"},nsid:{"":0,file:6,template:10},functionHook:[],variable:["!","="],parserFunction:[{},{"!":"!","=":"="},["msg","raw"],["subst","safesubst"]]}}}),MAX_STAGE,minConfig,init_constants=__esm({"util/constants.ts"(){"use strict";MAX_STAGE=2,minConfig=require_minimum()}});function getRegex(e){const t=new Map,s=new WeakMap;return i=>{const r=typeof i=="string"?t:s;if(r.has(i)){const o=r.get(i);return o.lastIndex=0,o}const n=e(i);return r.set(i,n),n}}var rawurldecode,getObjRegex,init_dist=__esm({"../common/dist/index.mjs"(){"use strict";rawurldecode=e=>decodeURIComponent(e.replace(/%(?![\da-f]{2})/giu,"%25")),getObjRegex=getRegex}}),trimLc,restore,factory,tidy,removeComment,text,names,decodeHtmlBasic,decodeHtml,init_string=__esm({"util/string.ts"(){"use strict";init_dist(),trimLc=e=>e.trim().toLowerCase(),restore=(e,t)=>e.replace(/\0(\d+)\x7F/gu,(s,i)=>t[i]),factory=(e,t)=>s=>s.replace(e,t),tidy=factory(/[\0\x7F]|\r$/gmu,""),removeComment=factory(/\0\d+[cn]\x7F/gu,""),text=(e,t="")=>e.map(s=>typeof s=="string"?s:s.text()).join(t),names={lt:"<",gt:">",lbrack:"[",rbrack:"]",lbrace:"{",rbrace:"}",nbsp:" ",amp:"&",quot:'"'},decodeHtmlBasic=factory(/&(?:#(\d+|[Xx][\da-fA-F]+)|([lg]t|[LG]T|[lr]brac[ke]|nbsp|amp|AMP|quot|QUOT));/gu,(e,t,s)=>t?String.fromCodePoint(+((/^x/iu.test(t)?"0":"")+t)):names[s.toLowerCase()]),decodeHtml=e=>decodeHtmlBasic(e)}}),title_exports={};__export(title_exports,{Title:()=>Title});var Title,init_title=__esm({"lib/title.ts"(){"use strict";var e,t,s,i;init_string(),Title=(i=class{constructor(r,n,o,{temporary:l,decode:d,selfLink:p}={}){x(this,e);x(this,t);x(this,s);I(this,"valid");const u=r.trim().startsWith("../");if(d&&r.includes("%"))try{r=rawurldecode(r)}catch(a){}if(r=decodeHtml(r).replace(/[_ ]+/gu," ").trim(),u)_(this,s,0);else{let a=n;r.startsWith(":")&&(a=0,r=r.slice(1).trim());const c=r.split(":");if(c.length>1){const g=trimLc(c[0]),m=Object.prototype.hasOwnProperty.call(o.nsid,g)&&o.nsid[g];m&&(a=m,r=c.slice(1).join(":").trim())}_(this,s,a)}const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h).trim()),this.valid=!!r&&decodeHtml(r)===r&&!/^:|\0\d+[eh!+-]\x7F|[<>[\]{}|\n]|%[\da-f]{2}|(?:^|\/)\.{1,2}(?:$|\/)/iu.test(u?/^(?:\.\.\/)+(.*)/u.exec(r)[1]:r),this.main=r,_(this,t,o.namespaces)}get ns(){return f(this,s)}get main(){return f(this,e)}set main(r){r=r.replace(/_/gu," ").trim(),_(this,e,r&&r[0].toUpperCase()+r.slice(1))}get prefix(){const r=f(this,t)[this.ns];return r+(r&&":")}get title(){return this.getRedirection()[1]}getRedirection(){return[!1,(this.prefix+this.main).replace(/ /gu,"_")]}},e=new WeakMap,t=new WeakMap,s=new WeakMap,i)}}),setChildNodes,init_debug=__esm({"util/debug.ts"(){"use strict";setChildNodes=(e,t,s,i=[])=>{var o,l;let r=e.getChildNodes(),n;r.length===s?(n=r,r=i):n=r.splice(t,s,...i);for(let d=0;d<i.length;d++){const p=i[d];p.setAttribute("parentNode",e),p.setAttribute("nextSibling",r[t+d+1]),p.setAttribute("previousSibling",r[t+d-1])}return(o=r[t-1])==null||o.setAttribute("nextSibling",r[t]),(l=r[t+i.length])==null||l.setAttribute("previousSibling",r[t+i.length-1]),r===i&&e.setAttribute("childNodes",r),n}}}),nodeLike,init_nodeLike=__esm({"mixin/nodeLike.ts"(){"use strict";nodeLike=e=>{class t extends e{get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}}return t}}}),_AstNode_decorators,_init,AstNode,init_node=__esm({"lib/node.ts"(){"use strict";var e,t,s,i;init_nodeLike(),_AstNode_decorators=[nodeLike],AstNode=(i=class{constructor(){I(this,"childNodes",[]);x(this,e);x(this,t);x(this,s)}get parentNode(){return f(this,e)}get nextSibling(){return f(this,t)}get previousSibling(){return f(this,s)}getChildNodes(){const{childNodes:r}=this;return r}getAttribute(r){return this[r]}setAttribute(r,n){switch(r){case"parentNode":_(this,e,n),n||(_(this,t,void 0),_(this,s,void 0));break;case"nextSibling":_(this,t,n);break;case"previousSibling":_(this,s,n);break;default:this[r]=n}}insertAdjacent(r,n){const{parentNode:o}=this;if(!o)throw new Error("There is no parent node!");const l=o.childNodes.indexOf(this)+n;for(let d=0;d<r.length;d++)o.insertAt(r[d],l+d)}after(...r){this.insertAdjacent(r,1)}before(...r){this.insertAdjacent(r,0)}remove(){var r;(r=this.parentNode)==null||r.removeChild(this)}},e=new WeakMap,t=new WeakMap,s=new WeakMap,i),_init=__decoratorStart(null),AstNode=__decorateElement(_init,0,"AstNode",_AstNode_decorators,AstNode),__runInitializers(_init,1,AstNode)}}),basic,getCondition,init_selector=__esm({"parser/selector.ts"(){"use strict";basic=(e,t,s)=>{if(e.includes("#")){const i=e.indexOf("#");return(i===0||e.slice(0,i)===t)&&e.slice(i+1)===s}return!e||e===t},getCondition=(e,t,s)=>{const i=e.split(",");return({type:r,name:n})=>i.some(o=>basic(o.trim(),r,n))}}}),elementLike,init_elementLike=__esm({"mixin/elementLike.ts"(){"use strict";init_selector(),elementLike=e=>{var s,V;class t extends e{constructor(){super(...arguments);x(this,s)}getElementBy(o){for(const l of this.childNodes){if(l.type==="text")continue;if(o(l))return l;const d=l.getElementBy(o);if(d)return d}}querySelector(o){return this.getElementBy(P(this,s,V).call(this,o))}getElementsBy(o,l=[]){for(const d of this.childNodes)d.type!=="text"&&(o(d)&&l.push(d),d.getElementsBy(o,l));return l}querySelectorAll(o){return this.getElementsBy(P(this,s,V).call(this,o))}}return s=new WeakSet,V=function(o){return getCondition(o,this)},t}}}),_AstElement_decorators,_init2,_a,AstElement,init_element=__esm({"lib/element.ts"(){"use strict";var e,K,s;init_string(),init_debug(),init_node(),init_elementLike(),_AstElement_decorators=[elementLike],AstElement=(s=class extends(_a=AstNode){constructor(){super(...arguments);x(this,e)}get length(){return this.childNodes.length}text(r){return text(this.childNodes,r)}removeAt(r){return setChildNodes(this,r,1)[0]}insertAt(r,n=this.length){return setChildNodes(this,n,0,[r]),r}append(...r){this.safeAppend(r)}safeAppend(r){for(const n of r)this.insertAt(n)}replaceChildren(...r){this.safeReplaceChildren(r)}safeReplaceChildren(r){for(let n=this.length-1;n>=0;n--)this.removeAt(n);this.safeAppend(r)}setText(r,n=0){n+=n<0?this.length:0;const o=this.childNodes[n],{data:l}=o;return o.replaceData(r),l}toString(r,n=""){return this.childNodes.map(o=>o.toString(r)).join(n)}removeChild(r){return this.removeAt(P(this,e,K).call(this,r))}},e=new WeakSet,K=function(r){return this.childNodes.indexOf(r)},s),_init2=__decoratorStart(_a),AstElement=__decorateElement(_init2,0,"AstElement",_AstElement_decorators,AstElement),__runInitializers(_init2,1,AstElement)}}),AstText,init_text=__esm({"lib/text.ts"(){"use strict";var e,Y,s;init_string(),init_node(),AstText=(s=class extends AstNode{constructor(r){super();x(this,e);I(this,"data","");this.data=r}get type(){return"text"}toString(r){var n;return r&&!((n=this.parentNode)!=null&&n.getAttribute("built"))?removeComment(this.data):this.data}text(){return this.data}replaceData(r){P(this,e,Y).call(this,r)}},e=new WeakSet,Y=function(r){this.setAttribute("data",r)},s)}}),OnlyincludeToken,init_onlyinclude=__esm({"src/onlyinclude.ts"(){"use strict";init_src(),OnlyincludeToken=class extends Token{get type(){return"onlyinclude"}toString(e){return`<onlyinclude>${super.toString(e)}</onlyinclude>`}isPlain(){return!0}}}}),hiddenToken,init_hidden=__esm({"mixin/hidden.ts"(){"use strict";hiddenToken=(e=!0,t=!0)=>s=>{class i extends s{text(){return""}}return i}}}),NowikiBaseToken,init_base=__esm({"src/nowiki/base.ts"(){"use strict";init_src(),NowikiBaseToken=class extends Token{get innerText(){return this.firstChild.data}constructor(e="",t,s){super(e,t,s)}}}}),_NoincludeToken_decorators,_init3,_a2,NoincludeToken,init_noinclude=__esm({"src/nowiki/noinclude.ts"(){"use strict";init_hidden(),init_base(),_NoincludeToken_decorators=[hiddenToken()],NoincludeToken=class extends(_a2=NowikiBaseToken){get type(){return"noinclude"}toString(e){return e?"":super.toString()}},_init3=__decoratorStart(_a2),NoincludeToken=__decorateElement(_init3,0,"NoincludeToken",_NoincludeToken_decorators,NoincludeToken),__runInitializers(_init3,1,NoincludeToken)}}),TagPairToken,init_tagPair=__esm({"src/tagPair/index.ts"(){"use strict";var e,t;init_src(),TagPairToken=(t=class extends Token{constructor(i,r,n,o,l,d=[]){super(void 0,l);x(this,e);I(this,"closed");I(this,"selfClosing");_(this,e,[i,o||i]),this.closed=o!=="",this.selfClosing=o===void 0,this.append(r,n);const p=typeof r=="string"?-1:d.indexOf(r);d.splice(p===-1?1/0:p,0,this)}toString(i){const{selfClosing:r,firstChild:n,lastChild:o}=this,[l,d]=f(this,e);return r?`<${l}${n.toString(i)}/>`:`<${l}${n.toString(i)}>${o.toString(i)}${this.closed?`</${d}>`:""}`}text(){const[i,r]=f(this,e);return this.selfClosing?`<${i}${this.firstChild.text()}/>`:`<${i}${super.text(">")}${this.closed?`</${r}>`:""}`}},e=new WeakMap,t)}}),_IncludeToken_decorators,_init4,_a3,IncludeToken,init_include=__esm({"src/tagPair/include.ts"(){"use strict";init_hidden(),init_tagPair(),_IncludeToken_decorators=[hiddenToken(!1)],IncludeToken=class extends(_a3=TagPairToken){get type(){return"include"}constructor(e,t="",s,i,r,n){super(e,t,s!=null?s:"",s===void 0||i!=null?i:"",r,n)}toString(e){return e?"":super.toString()}},_init4=__decoratorStart(_a3),IncludeToken=__decorateElement(_init4,0,"IncludeToken",_IncludeToken_decorators,IncludeToken),__runInitializers(_init4,1,IncludeToken)}}),AtomToken,init_atom=__esm({"src/atom.ts"(){"use strict";var e,t;init_src(),AtomToken=(t=class extends Token{constructor(i,r,n,o,l){super(i,n,o,l);x(this,e);_(this,e,r)}get type(){return f(this,e)}},e=new WeakMap,t)}}),AttributeToken,init_attribute=__esm({"src/attribute.ts"(){"use strict";var e,t,s,i;init_index(),init_src(),init_atom(),AttributeToken=(i=class extends Token{constructor(n,o,l,d="",p,u=[],h=index_default.getConfig(),a=[]){const c=new AtomToken(l,"attr-key",h,a);let g;if(o==="gallery"&&l==="caption"){const m=W(q({},h),{excludes:[...h.excludes,"heading"]});g=new Token(p,m,a,{}),g.type="attr-value",g.setAttribute("stage",1)}else g=new AtomToken(p,"attr-value",h,a,{});super(void 0,h,a);x(this,e);x(this,t);x(this,s);_(this,e,n),this.append(c,g),_(this,t,d),_(this,s,[...u])}get type(){return f(this,e)}toString(n){const[o="",l=""]=f(this,s);return f(this,t)?super.toString(n,f(this,t)+o)+l:this.firstChild.toString(n)}text(){return f(this,t)?`${super.text(`${f(this,t).trim()}"`)}"`:this.firstChild.text()}},e=new WeakMap,t=new WeakMap,s=new WeakMap,i)}}),toAttributeType,toDirty,AttributesToken,init_attributes=__esm({"src/attributes.ts"(){"use strict";var e,t;init_string(),init_src(),init_atom(),init_attribute(),toAttributeType=s=>s.slice(0,-1),toDirty=s=>`${toAttributeType(s)}-dirty`,AttributesToken=(t=class extends Token{constructor(i,r,n,o,l=[]){super(void 0,o,l,{});x(this,e);if(_(this,e,r),i){const d=/([^\s/][^\s/=]*)(?:(\s*=\s*)(?:(["'])([\s\S]*?)(\3|$)|(\S*)))?/gu;let p="",u=d.exec(i),h=0;const a=()=>{p&&(super.insertAt(new AtomToken(p,toDirty(r),o,l,{})),p="")};for(;u;){const{index:c,0:g,1:m,2:k,3:E,4:b,5:A,6:v}=u;if(p+=i.slice(h,c),/^[\w:][\w:.-]*$/u.test(removeComment(m).trim())){const T=b!=null?b:v,$=[E,A],S=new AttributeToken(toAttributeType(r),n,m,k,T,$,o,l);a(),super.insertAt(S)}else p+=g;({lastIndex:h}=d),u=d.exec(i)}p+=i.slice(h),a()}}get type(){return f(this,e)}},e=new WeakMap,t)}}),HeadingToken,init_heading=__esm({"src/heading.ts"(){"use strict";var e,t,U,i;init_src(),init_atom(),HeadingToken=(i=class extends Token{constructor(n,o,l,d=[]){super(void 0,l,d);x(this,t);x(this,e);_(this,e,n);const p=new Token(o[0],l,d);p.type="heading-title",p.setAttribute("stage",2);const u=new AtomToken(o[1],"heading-trail",l,d);this.append(p,u)}get type(){return"heading"}get level(){return f(this,e)}toString(n){const o=P(this,t,U).call(this);return o+this.firstChild.toString(n)+o+this.lastChild.toString(n)}text(){const n=P(this,t,U).call(this);return n+this.firstChild.text()+n}},e=new WeakMap,t=new WeakSet,U=function(){return"=".repeat(this.level)},i)}}),ParameterToken,init_parameter=__esm({"src/parameter.ts"(){"use strict";init_string(),init_src(),ParameterToken=class extends Token{get type(){return"parameter"}get anon(){return this.firstChild.length===0}constructor(e,t,s,i=[]){super(void 0,s,i);const r=new Token(typeof e=="number"?void 0:e,s,i,{}),n=new Token(t,s,i);r.type="parameter-key",r.setAttribute("stage",2),n.type="parameter-value",n.setAttribute("stage",2),this.append(r,n)}trimName(e,t=!0){const s=e.toString(!0).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");return this.setAttribute("name",s),s}afterBuild(){if(!this.anon){const{parentNode:e,firstChild:t}=this,s=this.trimName(t);e&&e.getArgs(s,!1,!1).add(this)}super.afterBuild()}toString(e){return this.anon?this.lastChild.toString(e):super.toString(e,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getValue(){var t;const e=removeComment(this.lastChild.text());return this.anon&&((t=this.parentNode)==null?void 0:t.isTemplate())!==!1?e:e.trim()}setValue(e){this.lastChild.replaceChildren(e)}}}}),TranscludeToken,init_transclude=__esm({"src/transclude.ts"(){"use strict";var e,t,s,i,r,n,Z,ee,d;init_string(),init_src(),init_parameter(),init_atom(),TranscludeToken=(d=class extends Token{constructor(u,h,a,c=[]){var j,z;let g;const m=/^(?:\s|\0\d+[cn]\x7F)*\0(\d+)h\x7F(?:\s|\0\d+[cn]\x7F)*/u.exec(u);m&&(g=Number(m[1]),u=u.replace(`\0${g}h`,c[g].toString().replace(/^\n/u,"")));super(void 0,a,c,{});x(this,n);I(this,"modifier","");x(this,e,"template");x(this,t,":");x(this,s,!1);x(this,i,new Map);x(this,r);const{parserFunction:[k,E],variable:b,functionHook:A}=a,v=(j=/^(?:\s|\0\d+[cn]\x7F)*\0\d+s\x7F/u.exec(u))==null?void 0:j[0];if(v)this.setAttribute("modifier",v),u=u.slice(v.length);else if(u.includes(":")){const[w,...y]=u.split(":"),[C]=/^(?:\s|\0\d+[cn]\x7F)*/u.exec((z=y[0])!=null?z:"");this.setModifier(`${w}:${C}`)&&(u=y.join(":").slice(C.length))}const T=u.search(/[:：]/u),$=u[T]==="：",S=T!==-1;if(S||h.length===0&&!f(this,s)){const w=S?u.slice(0,T):u,y=S&&u.slice(T+1),C=removeComment(w),O=S?C.slice(C.search(/\S/u))+($?"：":""):C.trim(),L=O.toLowerCase(),R=Object.prototype.hasOwnProperty.call(E,O),F=R?E[O]:Object.prototype.hasOwnProperty.call(k,L)&&k[L],M=!("functionHook"in a)||A.includes(F),G=b.includes(F);if(S?F&&M:G){this.setAttribute("name",F||L.replace(/^#|：$/u,"")),_(this,e,"magic-word"),$&&_(this,t,"：");const ie=new AtomToken(w,"magic-word-name",a,c);super.insertAt(ie),y!==!1&&h.unshift([y])}}if(this.type==="template"){const w=removeComment(u).trim();if(!this.normalizeTitle(w,10,{halfParsed:!0,temporary:!0}).valid)throw c.pop(),new SyntaxError("Invalid template name");const y=new AtomToken(u,"template-name",a,c,{});super.insertAt(y)}typeof g=="number"&&(c[g]=void 0);const N=this.isTemplate();let B=1;for(let w=0;w<h.length;w++){const y=h[w];N||(y[0]=y.join("="),y.length=1),y.length===1&&(y.unshift(B),B++),this.insertAt(new ParameterToken(...y,a,c))}}get type(){return f(this,e)}setModifier(u){const{parserFunction:[,,h,a]}=this.getAttribute("config"),c=removeComment(u).trim();if(u&&!c.endsWith(":"))return!1;const g=c.slice(0,-1).toLowerCase(),m=h.includes(g),k=a.includes(g);return m||k||!u?(this.setAttribute("modifier",u),_(this,s,m),!!u):!1}isTemplate(){return this.type==="template"}afterBuild(){this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,0)),super.afterBuild(),this.isTemplate()&&(_(this,r,P(this,n,Z).call(this)),this.setAttribute("name",f(this,r).title))}toString(u){return`{{${this.modifier}${this.type==="magic-word"?this.firstChild.toString(u)+(this.length===1?"":f(this,t))+this.childNodes.slice(1).map(h=>h.toString(u)).join("|"):super.toString(u,"|")}}}`}text(){const{childNodes:u,length:h,firstChild:a,modifier:c,type:g}=this;return`{{${c}${g==="magic-word"?a.text()+(h===1?"":f(this,t))+text(u.slice(1),"|"):super.text("|")}}}`}insertAt(u,h=this.length){return super.insertAt(u,h),u.anon?P(this,n,ee).call(this,u):u.name&&this.getArgs(u.name,!1,!1).add(u),u}getAllArgs(){return this.childNodes.slice(1)}getAnonArgs(){return this.getAllArgs().filter(({anon:u})=>u)}getArgs(u,h,a=!0){const c=String(u).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let g;return f(this,i).has(c)?g=f(this,i).get(c):(g=new Set(this.getAllArgs().filter(({name:m})=>c===m)),f(this,i).set(c,g)),g}getArg(u){const{childNodes:h}=this;return[...this.getArgs(u)].sort((a,c)=>h.indexOf(c)-h.indexOf(a))[0]}getValue(u){var h;return(h=this.getArg(u))==null?void 0:h.getValue()}setValue(u,h){const a=this.getArg(u);a?a.setValue(h):this.insertAt(new ParameterToken(String(u),h,this.getAttribute("config")))}},e=new WeakMap,t=new WeakMap,s=new WeakMap,i=new WeakMap,r=new WeakMap,n=new WeakSet,Z=function(){return this.normalizeTitle(this.childNodes[0].text(),10,{temporary:!0})},ee=function(u){const h=this.getAnonArgs(),a=u,c=String(h.length);a.setAttribute("name",c),this.getArgs(c,!1,!1).add(a)},d)}}),_HiddenToken_decorators,_init5,_a4,HiddenToken,init_hidden2=__esm({"src/hidden.ts"(){"use strict";init_hidden(),init_src(),_HiddenToken_decorators=[hiddenToken()],HiddenToken=class extends(_a4=Token){get type(){return"hidden"}},_init5=__decoratorStart(_a4),HiddenToken=__decorateElement(_init5,0,"HiddenToken",_HiddenToken_decorators,HiddenToken),__runInitializers(_init5,1,HiddenToken)}}),ArgToken,init_arg=__esm({"src/arg.ts"(){"use strict";init_string(),init_src(),init_atom(),init_hidden2(),ArgToken=class extends Token{get type(){return"arg"}constructor(e,t,s=[]){super(void 0,t,s,{});for(let i=0;i<e.length;i++){const r=e[i];if(i===0){const n=new AtomToken(r,"arg-name",t,s,{});super.insertAt(n)}else if(i>1){const n=new HiddenToken(r,t,s);super.insertAt(n)}else{const n=new Token(r,t,s);n.type="arg-default",n.setAttribute("stage",2),super.insertAt(n)}}}toString(e){return`{{{${super.toString(e,"|")}}}}`}text(){return`{{{${text(this.childNodes.slice(0,2),"|")}}}}`}}}}),braces_exports={};__export(braces_exports,{parseBraces:()=>parseBraces});var closes,lbrack,newline,openBraces,marks,getExecRegex,reReplace,getSymbol,parseBraces,init_braces=__esm({"parser/braces.ts"(){"use strict";init_dist(),init_string(),init_heading(),init_transclude(),init_arg(),closes={"=":String.raw`\n(?!(?:[^\S\n]|\0\d+[cn]\x7F)*\n)`,"{":String.raw`\}{2,}|\|`,"-":String.raw`\}-`,"[":String.raw`\]\]`},lbrack=String.raw`\[(?!\[)`,newline=String.raw`\n(?![=\0])`,openBraces=String.raw`|\{{2,}`,marks=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"],["server","m"]]),getExecRegex=getRegex(e=>new RegExp(e,"gmu")),reReplace=new RegExp(String.raw`\{\{((?:[^\n{}[]|${lbrack}|${newline})*)\}\}(?!\})`+"|"+String.raw`\[\[(?:[^\n[\]{]|${newline})*\]\]`+"|"+String.raw`-\{(?:[^\n{}[]|${lbrack}|${newline})*\}-`,"gu"),getSymbol=e=>{const t=trimLc(removeComment(e));return marks.has(t)?marks.get(t):/^(?:filepath|(?:full|canonical)urle?):./u.test(t)?"m":"t"},parseBraces=(e,t,s)=>{var g,m,k,E,b;const i=String.raw`${t.excludes.includes("heading")?"":String.raw`^((?:\0\d+[cno]\x7F)*)={1,6}|`}\[\[|-\{(?!\{)`,{parserFunction:[,,,r]}=t,n=[],o=[],l=(A,v,T,$)=>{v[v.length-1].push(restore(A.slice(T,$),o))};let d;do d!==void 0&&(e=d),d=e.replace(reReplace,(A,v,T)=>{if(v!==void 0||typeof T=="string")try{const{length:$}=s,S=(v!=null?v:T).split("|");return new TranscludeToken(restore(S[0],o),S.slice(1).map(N=>{const B=N.indexOf("=");return(B===-1?[N]:[N.slice(0,B),N.slice(B+1)]).map(j=>restore(j,o))}),t,s),`\0${$}${getSymbol(S[0])}`}catch($){if(!($ instanceof SyntaxError)||$.message!=="Invalid template name")throw $}return o.push(restore(A,o)),`\0${o.length-1}`});while(d!==e);e=d;const p=e.lastIndexOf("}}")-e.length;let u=p+e.length!==-1,h=getExecRegex(i+(u?openBraces:"")),a=h.exec(e),c;for(;a||c!==void 0&&c<=e.length&&((m=(g=n[n.length-1])==null?void 0:g[0])!=null&&m.startsWith("="));){if(a!=null&&a[1]){const[,{length:y}]=a;a[0]=a[0].slice(y),a.index+=y}const{0:A,index:v}=a!=null?a:{0:`
`,index:e.length},T=(k=n.pop())!=null?k:{},{0:$,index:S,parts:N,findEqual:B,pos:j}=T,z=A==="="&&B;if(A==="]]"||A==="}-")c=v+2;else if(A===`
`){c=v+1;const{pos:y,findEqual:C}=(E=n[n.length-1])!=null?E:{};if(y===void 0||C||removeComment(e.slice(y,S))!==""){const O=/^(={1,6})(.+)\1((?:\s|\0\d+[cn]\x7F)*)$/u.exec(e.slice(S,v));O&&(O[2]=restore(O[2],o),O[2].includes(`
`)||(e=`${e.slice(0,S)}\0${s.length}h${e.slice(v)}`,c=S+4+String(s.length).length,new HeadingToken(O[1].length,O.slice(2),t,s)))}}else if(A==="|"||z)c=v+1,l(e,N,j,v),A==="|"&&N.push([]),T.pos=c,T.findEqual=A==="|",n.push(T);else if(A.startsWith("}}")){const y=A.slice(0,Math.min($.length,3)),C=$.length-y.length,{length:O}=s;c=v+y.length,l(e,N,j,v);let L=!1,R="t";if(y.length===3){const F=N.map(G=>G.join("=")),M=F.length>1&&removeComment(F[1]).trim();new ArgToken(F,t,s),M&&M.endsWith(":")&&r.includes(M.slice(0,-1).toLowerCase())&&(R="s")}else try{new TranscludeToken(N[0][0],N.slice(1),t,s),R=getSymbol(N[0][0])}catch(F){if(F instanceof SyntaxError&&F.message==="Invalid template name")L=!0;else throw F}L||(e=`${e.slice(0,S+C)}\0${O}${R}${e.slice(c)}`,c=S+C+3+String(O).length,C>1?n.push({0:$.slice(0,C),index:S,pos:S+C,parts:[[]]}):C===1&&e[S-1]==="-"&&n.push({0:"-{",index:S-1,pos:S+1,parts:[[]]}))}else c=v+A.length,A.startsWith("{")&&(a.pos=c,a.parts=[[]]),n.push(..."0"in T?[T]:[],a);let w=n[n.length-1];if(u&&p+e.length<c)for(u=!1;(b=w==null?void 0:w[0])!=null&&b.startsWith("{");)n.pop(),w=n[n.length-1];h=getExecRegex(i+(u?openBraces:"")+(w?`|${closes[w[0][0]]}${w.findEqual?"|=":""}`:"")),h.lastIndex=c,a=h.exec(e)}return restore(e,o)}}}),nested_exports={};__export(nested_exports,{NestedToken:()=>NestedToken});var NestedToken,init_nested=__esm({"src/nested.ts"(){"use strict";init_commentAndExt(),init_braces(),init_src(),init_noinclude(),NestedToken=class extends Token{get type(){return"ext-inner"}constructor(e,t,s,i,r=[]){const n=Symbol("NestedToken"),{length:o}=r;r.push(n),e&&(e=parseCommentAndExt(e,i,r,t)),e&&(e=parseBraces(e,i,r)),r.splice(o,1),e&&(e=e.replace(/(^|\0\d+.\x7F)([^\0]+)(?=$|\0\d+.\x7F)/gu,(l,d,p)=>(new NoincludeToken(p,i,r),`${d}\0${r.length}n`))),super(e,i,r)}}}}),multiLine,init_multiLine=__esm({"mixin/multiLine.ts"(){"use strict";multiLine=e=>{class t extends e{toString(i){return super.toString(i,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}}return t}}}),LinkBaseToken,init_base2=__esm({"src/link/base.ts"(){"use strict";var e,t;init_src(),init_atom(),LinkBaseToken=(t=class extends Token{constructor(i,r,n,o=[],l="|"){super(void 0,n,o,{});x(this,e);this.insertAt(new AtomToken(i,"link-target",n,o,{})),_(this,e,l)}toString(i){return super.toString(i,f(this,e))}text(){return super.text("|")}},e=new WeakMap,t)}}),ImageParameterToken,init_imageParameter=__esm({"src/imageParameter.ts"(){"use strict";init_src(),ImageParameterToken=class extends Token{get type(){return"image-parameter"}text(){return super.text().trim()}}}}),explode,FileToken,init_file=__esm({"src/link/file.ts"(){"use strict";init_base2(),init_imageParameter(),explode=e=>{if(e===void 0)return[];const t=/-\{|\}-|\|/gu,s=[];let i=t.exec(e),r=0,n=0;for(;i;){const{0:o,index:l}=i;o!=="|"?r+=o==="-{"?1:-1:r===0&&(s.push(e.slice(n,l)),{lastIndex:n}=t),i=t.exec(e)}return s.push(e.slice(n)),s},FileToken=class extends LinkBaseToken{constructor(e,t,s,i=[],r="|"){super(e,void 0,s,i,r),this.safeAppend(explode(t).map(n=>new ImageParameterToken(n,s,i)))}}}}),GalleryImageToken,init_galleryImage=__esm({"src/link/galleryImage.ts"(){"use strict";init_constants(),init_src(),init_file(),GalleryImageToken=class extends FileToken{constructor(t,s,i,r,n=[]){let o;if(i!==void 0){const{length:l}=n;o=new Token(i,r,n);for(let d=0;d<MAX_STAGE;d++)o.parseOnce();n.splice(l,1)}super(s,o==null?void 0:o.toString(),r,n);I(this,"privateType","imagemap-image");this.privateType=`${t}-image`}get type(){return this.privateType}}}}),gallery_exports={};__export(gallery_exports,{GalleryToken:()=>GalleryToken});var _GalleryToken_decorators,_init6,_a5,GalleryToken,init_gallery=__esm({"src/gallery.ts"(){"use strict";var e,te,s;init_multiLine(),init_src(),init_galleryImage(),init_noinclude(),_GalleryToken_decorators=[multiLine],GalleryToken=(s=class extends(_a5=Token){constructor(r,n,o=[]){var l;super(void 0,n,o,{});x(this,e);for(const d of(l=r==null?void 0:r.split(`
`))!=null?l:[]){const p=/^([^|]+)(?:\|(.*))?/u.exec(d);if(!p){super.insertAt(d.trim()?new NoincludeToken(d,n,o):d);continue}const[,u,h]=p;P(this,e,te).call(this,u)?super.insertAt(new GalleryImageToken("gallery",u,h,n,o)):super.insertAt(new NoincludeToken(d,n,o))}}get type(){return"ext-inner"}},e=new WeakSet,te=function(r){return this.normalizeTitle(r,6,{halfParsed:!0,temporary:!0,decode:!0}).valid},s),_init6=__decoratorStart(_a5),GalleryToken=__decorateElement(_init6,0,"GalleryToken",_GalleryToken_decorators,GalleryToken),__runInitializers(_init6,1,GalleryToken)}}),imagemap_exports={};__export(imagemap_exports,{ImagemapToken:()=>ImagemapToken});var _ImagemapToken_decorators,_init7,_a6,ImagemapToken,init_imagemap=__esm({"src/imagemap.ts"(){"use strict";init_multiLine(),init_index(),init_src(),init_noinclude(),init_galleryImage(),_ImagemapToken_decorators=[multiLine],ImagemapToken=class extends(_a6=Token){get type(){return"ext-inner"}constructor(e,t=index_default.getConfig(),s=[]){if(super(void 0,t,s,{}),!e)return;const i=e.split(`
`),r=NoincludeToken;let n=!0,o=!1;for(const l of i){const d=l.trim();if(!(o||!d||d.startsWith("#"))){if(n){const p=l.indexOf("|"),u=p===-1?l:l.slice(0,p),{valid:h,ns:a}=this.normalizeTitle(u,0,{halfParsed:!0,temporary:!0});if(h&&a===6){const c=new GalleryImageToken("imagemap",u,p===-1?void 0:l.slice(p+1),t,s);super.insertAt(c),n=!1;continue}else o=!0}else if(l.trim().split(/[\t ]/u,1)[0]==="desc"){super.insertAt(l);continue}}super.insertAt(new r(l,t,s))}}},_init7=__decoratorStart(_a6),ImagemapToken=__decorateElement(_init7,0,"ImagemapToken",_ImagemapToken_decorators,ImagemapToken),__runInitializers(_init7,1,ImagemapToken)}}),nowiki_exports={};__export(nowiki_exports,{NowikiToken:()=>NowikiToken});var NowikiToken,init_nowiki=__esm({"src/nowiki/index.ts"(){"use strict";init_base(),NowikiToken=class extends NowikiBaseToken{get type(){return"ext-inner"}}}}),ExtToken,init_ext=__esm({"src/tagPair/ext.ts"(){"use strict";init_index(),init_src(),init_tagPair(),init_attributes(),ExtToken=class extends TagPairToken{get type(){return"ext"}constructor(e,t,s,i,r=index_default.getConfig(),n=!1,o=[]){const l=e.toLowerCase(),d=new AttributesToken(!t||/^\s/u.test(t)?t:` ${t}`,"ext-attrs",l,r,o),p=W(q({},r),{ext:r.ext.filter(h=>h!==l),excludes:[...r.excludes]});let u;switch(l){case"indicator":case"poem":case"ref":case"seo":case"langconvert":case"phonos":l==="poem"&&p.excludes.push("heading"),u=new Token(s,p,o);break;case"references":{const{NestedToken:h}=(init_nested(),__toCommonJS(nested_exports));p.excludes.push("heading"),u=new h(s,n,["ref"],p,o);break}case"gallery":{const{GalleryToken:h}=(init_gallery(),__toCommonJS(gallery_exports));u=new h(s,p,o);break}case"imagemap":{const{ImagemapToken:h}=(init_imagemap(),__toCommonJS(imagemap_exports));u=new h(s,p,o);break}default:{const{NowikiToken:h}=(init_nowiki(),__toCommonJS(nowiki_exports));u=new h(s,p,o)}}u.setAttribute("name",l),u.type==="plain"&&(u.type="ext-inner"),super(e,d,u,i,r,o)}}}}),_CommentToken_decorators,_init8,_a7,CommentToken,init_comment=__esm({"src/nowiki/comment.ts"(){"use strict";init_hidden(),init_base(),_CommentToken_decorators=[hiddenToken(!1)],CommentToken=class extends(_a7=NowikiBaseToken){constructor(t,s,i,r){super(t,i,r);I(this,"closed");this.closed=s}get type(){return"comment"}toString(t){return t?"":`<!--${this.innerText}${this.closed?"-->":""}`}},_init8=__decoratorStart(_a7),CommentToken=__decorateElement(_init8,0,"CommentToken",_CommentToken_decorators,CommentToken),__runInitializers(_init8,1,CommentToken)}}),commentAndExt_exports={};__export(commentAndExt_exports,{parseCommentAndExt:()=>parseCommentAndExt});var onlyincludeLeft,onlyincludeRight,length,getRegex2,update,parseCommentAndExt,init_commentAndExt=__esm({"parser/commentAndExt.ts"(){"use strict";init_dist(),init_onlyinclude(),init_noinclude(),init_include(),init_ext(),init_comment(),onlyincludeLeft="<onlyinclude>",onlyincludeRight="</onlyinclude>",{length}=onlyincludeLeft,getRegex2=[!1,!0].map(e=>{const t=e?"includeonly":"(?:no|only)include",s=e?"noinclude":"includeonly";return getObjRegex(i=>new RegExp(String.raw`<!--[\s\S]*?(?:-->|$)|<${t}(?:\s[^>]*)?/?>|</${t}\s*>|<(${i.join("|")})(\s[^>]*?)?(?:/>|>([\s\S]*?)</(${"\\1"}\s*)>)|<(${s})(\s[^>]*?)?(?:/>|>([\s\S]*?)(?:</(${s}\s*)>|$))`,"giu"))}),update=e=>{const t=e.indexOf(onlyincludeLeft);return{i:t,j:e.indexOf(onlyincludeRight,t+length)}},parseCommentAndExt=(e,t,s,i)=>{if(i){let{i:l,j:d}=update(e);if(l!==-1&&d!==-1){let p="";const u=h=>{new NoincludeToken(h,t,s),p+=`\0${s.length-1}n`};for(;l!==-1&&d!==-1;){const h=`\0${s.length}e`;new OnlyincludeToken(e.slice(l+length,d),t,s),l>0&&u(e.slice(0,l)),p+=h,e=e.slice(d+length+1),{i:l,j:d}=update(e)}return e&&u(e),p}}const{ext:r}=t,n=r.filter(l=>l!=="translate"&&l!=="tvar"),o=W(q({},t),{ext:n});return e.replace(getRegex2[i?1:0](n),(l,d,p,u,h,a,c,g,m)=>{const k=s.length;let E="n";if(d)E="e",new ExtToken(d,p,u,h,o,a,s);else if(l.startsWith("<!--")){E="c";const b=l.endsWith("-->");new CommentToken(l.slice(4,b?-3:void 0),b,t,s)}else a?new IncludeToken(a,c,g,m,t,s):new NoincludeToken(l,t,s);return`\0${k}${E}`})}}}),src_exports={};__export(src_exports,{Token:()=>Token});var Token,init_src=__esm({"src/index.ts"(){"use strict";var e,t,s,i,r,n,o,se,re,p;init_string(),init_constants(),init_debug(),init_index(),init_element(),init_text(),Token=(p=class extends AstElement{constructor(a,c=index_default.getConfig(),g=[],m){super();x(this,o);x(this,e,"plain");x(this,t,0);x(this,s);x(this,i);x(this,r);x(this,n,!1);typeof a=="string"&&this.insertAt(a),_(this,s,c),_(this,i,g),g.push(this)}get type(){return f(this,e)}set type(a){_(this,e,a)}parseOnce(a=f(this,t),c=!1,g){if(a<f(this,t)||this.length===0||!this.isPlain())return this;if(f(this,t)>=MAX_STAGE)return this;switch(a){case 0:this.type==="root"&&f(this,i).pop(),_(this,r,c),P(this,o,se).call(this,c);break;case 1:P(this,o,re).call(this)}if(this.type==="root")for(const m of f(this,i))m==null||m.parseOnce(a,c,g);return Q(this,t)._++,this}buildFromStr(a,c){const g=a.split(/[\0\x7F]/u).map((m,k)=>{if(k%2===0)return new AstText(m);if(isNaN(m.slice(-1)))return f(this,i)[Number(m.slice(0,-1))];throw new Error(`Failed to build! Unrecognized token: ${m}`)});return c===0?g.map(String).join(""):c===1?text(g):g}build(){_(this,t,MAX_STAGE);const{length:a,firstChild:c}=this,g=c==null?void 0:c.toString();if(a===1&&c.type==="text"&&g.includes("\0")&&(setChildNodes(this,0,1,this.buildFromStr(g)),this.type==="root"))for(const m of f(this,i))m==null||m.build()}afterBuild(){if(this.type==="root")for(const a of f(this,i))a==null||a.afterBuild();_(this,n,!0)}parse(a=MAX_STAGE,c,g){for(a=Math.min(a,MAX_STAGE);f(this,t)<a;)this.parseOnce(f(this,t),c,g);return a&&(this.build(),this.afterBuild()),this}isPlain(){return this.constructor===p}getAttribute(a){switch(a){case"config":return f(this,s);case"built":return f(this,n);default:return super.getAttribute(a)}}setAttribute(a,c){switch(a){case"stage":f(this,t)===0&&this.type==="root"&&f(this,i).shift(),_(this,t,c);break;default:super.setAttribute(a,c)}}insertAt(a,c=this.length){const g=typeof a=="string"?new AstText(a):a;super.insertAt(g,c);const{type:m}=g;return m==="root"&&(g.type="plain"),g}normalizeTitle(a,c=0,g){return index_default.normalizeTitle(a,c,f(this,r),f(this,s),g)}},e=new WeakMap,t=new WeakMap,s=new WeakMap,i=new WeakMap,r=new WeakMap,n=new WeakMap,o=new WeakSet,se=function(a){const{parseCommentAndExt:c}=(init_commentAndExt(),__toCommonJS(commentAndExt_exports));this.setText(c(this.firstChild.toString(),f(this,s),f(this,i),a))},re=function(){const{parseBraces:a}=(init_braces(),__toCommonJS(braces_exports)),c=this.type==="root"?this.firstChild.toString():`\0${this.firstChild.toString()}`,g=a(c,f(this,s),f(this,i));this.setText(this.type==="root"?g:g.slice(1))},p)}}),index_exports={};__export(index_exports,{default:()=>index_default}),module.exports=__toCommonJS(index_exports);var Parser,index_default,init_index=__esm({"index.ts"(){init_constants(),init_string(),Parser={getConfig(e){const t=e!=null?e:this.config;return W(q(q({},minConfig),t),{excludes:[]})},normalizeTitle(e,t=0,s,i=Parser.getConfig(),r){const{Title:n}=(init_title(),__toCommonJS(title_exports));let o;if(r!=null&&r.halfParsed)o=new n(e,t,i,r);else{const{Token:l}=(init_src(),__toCommonJS(src_exports));o=(()=>{const d=new l(e,i);d.type="root",d.parseOnce(0,s).parseOnce();const p=new n(d.toString(),t,i,r);d.build();const u=p.main;if(u.includes("\0")){const h=d.buildFromStr(u,1);p.main=h}return p})()}return o},parse(e,t,s=MAX_STAGE,i=Parser.getConfig()){e=tidy(e);const{Token:r}=(init_src(),__toCommonJS(src_exports));return(()=>{const o=new r(e,i);return o.type="root",o.parse(s,t)})()}},index_default=Parser}});init_index();
//# sourceMappingURL=bundle.min.js.map
