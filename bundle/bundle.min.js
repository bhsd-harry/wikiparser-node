(()=>{(()=>{"use strict";var Qt={891:(X,F,t)=>{t.d(F,{default:()=>b});const S={minConfig:t(166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config,excludes:[]}},msg($,m=""){var v,d;return((d=(v=this.i18n)==null?void 0:v[$])!=null?d:$).replace("$1",m)},normalizeTitle($,m=0,v=!1,d=S.getConfig(),o=!1,i=!1,c=!1){const{Title:f}=t(599);if(o)return new f($,m,d,i,c);const{Token:a}=t(541),e=this.run(()=>new a($,d).parseOnce(0,v).parseOnce());return new f(String(e),m,d,i,c)},parse($,m,v=S.MAX_STAGE,d=S.getConfig()){const{Token:o}=t(541);let i;return this.run(()=>{i=new o($.replace(/[\0\x7F]/gu,""),d);try{i.parse(v,m)}catch(c){}}),i},run($){return $()}},D={},K=new Set(["MAX_STAGE","minConfig"]),M=new Set(["config","normalizeTitle","parse"]);for(const $ in S)K.has($)?D[$]={enumerable:!1,writable:!1}:M.has($)||(D[$]={enumerable:!1});Object.defineProperties(S,D),typeof self=="object"?Object.assign(self,{Parser:S}):typeof globalThis=="object"&&Object.assign(globalThis,{Parser:S});const b=S},599:(X,F,t)=>{t.r(F),t.d(F,{Title:()=>$});var S=t(467),D=t(891),K=Object.defineProperty,M=(m,v,d)=>v in m?K(m,v,{enumerable:!0,configurable:!0,writable:!0,value:d}):m[v]=d,b=(m,v,d)=>(M(m,typeof v!="symbol"?v+"":v,d),d);class ${constructor(v,d=0,o=D.default.getConfig(),i=!1,c=!1){b(this,"valid"),b(this,"ns"),b(this,"fragment"),b(this,"encoded",!1);var f;const{namespaces:a,nsid:e}=o;let r=(f=a[d])!=null?f:"";if(v=(0,S.m9)(v),i&&v.includes("%"))try{const T=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(v);v=decodeURIComponent(v),this.encoded=T}catch(T){}v=v.replace(/_/gu," ").trim(),v.startsWith(":")&&(r="",v=v.slice(1).trim());const h=v.split(":");if(h.length>1){const T=e[h[0].trim().toLowerCase()],y=T===void 0?void 0:a[T];y!==void 0&&(r=y,v=h.slice(1).join(":").trim())}this.ns=e[r.toLowerCase()];const x=v.indexOf("#");let A;x!==-1&&(A=v.slice(x+1).trim(),v=v.slice(0,x).trim()),this.valid=!!(v||c&&A!==void 0)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]|%[\da-f]{2}/iu.test(v),this.fragment=A}}},959:(X,F,t)=>{t.d(F,{a:()=>M});var S=Object.defineProperty,D=(b,$,m)=>$ in b?S(b,$,{enumerable:!0,configurable:!0,writable:!0,value:m}):b[$]=m,K=(b,$,m)=>(D(b,typeof $!="symbol"?$+"":$,m),m);const M=b=>{class $ extends b{text(){return""}}return K($,"hidden",!0),$}},313:(X,F,t)=>{t.r(F),t.d(F,{parseBraces:()=>l});var S=t(467),D=t(891),K=t(485),M=t(169),b=t(541),$=Object.defineProperty,m=(s,n,p)=>n in s?$(s,n,{enumerable:!0,configurable:!0,writable:!0,value:p}):s[n]=p,v=(s,n,p)=>(m(s,typeof n!="symbol"?n+"":n,p),p);const d=s=>s.toString(new Set(["comment","noinclude","include"])).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");class o extends b.Token{constructor(n,p,w=D.default.getConfig(),W=[]){super(void 0,w,W),v(this,"type","parameter");const _=new b.Token(typeof n=="number"?void 0:n,w,W,{}),I=new b.Token(p,w,W);_.type="parameter-key",I.type="parameter-value",I.setAttribute("stage",2),this.append(_,I)}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const{parentNode:n,firstChild:p}=this,w=d(p);this.setAttribute("name",w),n&&n.getArgs(w,!1,!1).add(this)}}toString(n){return this.anon?this.lastChild.toString(n):super.toString(n,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(n){return this.anon||n===1?0:1}lint(n=this.getAbsoluteIndex()){var p;const w=super.lint(n),{firstChild:W}=this,_=(p=new RegExp(`https?://${S._X}${S.Qk}$`,"iu").exec(W.toString(new Set(["comment","noinclude","include"]))))==null?void 0:p[0];if(_&&new URL(_).search){const I=(0,M.D)(W,{start:n},"unescaped query string in an anonymous parameter");w.push({...I,startIndex:I.endIndex,endIndex:I.endIndex+1,startLine:I.endLine,startCol:I.endCol,endCol:I.endCol+1})}return w}print(){return super.print({sep:this.anon?"":"="})}}var i=t(34),c=t(669),f=Object.defineProperty,a=(s,n,p)=>n in s?f(s,n,{enumerable:!0,configurable:!0,writable:!0,value:p}):s[n]=p,e=(s,n,p)=>(a(s,typeof n!="symbol"?n+"":n,p),p),r=(s,n,p)=>{if(!n.has(s))throw TypeError("Cannot "+p)},h=(s,n,p)=>(r(s,n,"read from private field"),p?p.call(s):n.get(s)),x=(s,n,p)=>{if(n.has(s))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(s):n.set(s,p)},A=(s,n,p,w)=>(r(s,n,"write to private field"),w?w.call(s,p):n.set(s,p),p),T=(s,n,p)=>(r(s,n,"access private method"),p),y,R,B,H,Q,U;class u extends b.Token{constructor(n,p,w=D.default.getConfig(),W=[]){var _,I;super(void 0,w,W,{}),x(this,B),x(this,Q),e(this,"type","template"),e(this,"modifier",""),x(this,y,!1),x(this,R,new Map);const{parserFunction:[V,Y]}=w,k=(_=/^(?:\s|\0\d+c\x7F)*\0\d+s\x7F/u.exec(n))==null?void 0:_[0];if(k)this.setAttribute("modifier",k),n=n.slice(k.length);else if(n.includes(":")){const[et,...tt]=n.split(":"),[at]=/^(?:\s|\0\d+c\x7F)*/u.exec((I=tt[0])!=null?I:"");this.setModifier(`${et}:${at}`)&&(n=tt.join(":").slice(at.length))}if(n.includes(":")||p.length===0&&!h(this,y)){const[et,...tt]=n.split(":"),at=(0,S.PN)(et),nt=at.trim(),dt=Y.includes(nt),J=V[nt.toLowerCase()];if(!(tt.length>0&&/\s$/u.test(at))&&(dt||J)){this.setAttribute("name",J!=null?J:nt.toLowerCase()),this.type="magic-word";const st=new RegExp(`^\\s*${nt}\\s*$`,dt?"u":"iu"),it=new c.SyntaxToken(et,st,"magic-word-name",w,W,{});if(super.insertAt(it),tt.length>0&&p.unshift([tt.join(":")]),this.name==="invoke")for(let lt=0;lt<2;lt++){const ut=p.shift();if(!ut)break;const ot=new i.D(ut.join("="),`invoke-${lt?"function":"module"}`,w,W);super.insertAt(ot)}}}if(this.type==="template"){const et=(0,S.PN)((0,S.m9)(n)).split("#")[0].trim();if(!et||/\0\d+[eh!+-]\x7F|[<>[\]{}\n]|%[\da-f]{2}/u.test(et))throw W.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${(0,S.jq)(et)}`);const tt=new i.D(n,"template-name",w,W,{});super.insertAt(tt)}const q=this.isTemplate();let j=1;for(let et=0;et<p.length;et++){const tt=p[et];!q&&!(this.name==="switch"&&et>0)&&(tt[0]=tt.join("="),tt.length=1),tt.length===1&&(tt.unshift(j),j++),this.insertAt(new o(...tt,w,W))}}setModifier(n){const{parserFunction:[,,p,w]}=this.getAttribute("config"),W=(0,S.PN)(n).trim();if(n&&!W.endsWith(":"))return!1;const _=W.slice(0,-1).toLowerCase(),I=p.includes(_),V=w.includes(_);return h(this,y)&&I||!h(this,y)&&(V||n==="")||this.length>1&&(I||V||n==="")?(this.setAttribute("modifier",n),A(this,y,I),!!n):!1}isTemplate(){return this.type==="template"||this.name==="invoke"}afterBuild(){this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,"string"))}toString(n){return`{{${this.modifier}${this.type==="magic-word"?`${this.firstChild.toString(n)}${this.length===1?"":":"}${this.childNodes.slice(1).map(p=>p.toString(n)).join("|")}`:super.toString(n,"|")}}}`}text(){const{childNodes:n,length:p,firstChild:w,modifier:W,type:_,name:I}=this;return _==="magic-word"&&I==="vardefine"?"":`{{${W}${_==="magic-word"?`${w.text()}${p===1?"":":"}${(0,S.fL)(n.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier.length+2}getGaps(n){return n<this.length-1?1:0}lint(n=this.getAbsoluteIndex()){const p=super.lint(n),{type:w,childNodes:W}=this;let _;if(!this.isTemplate())return p;const{fragment:I,valid:V}=T(this,B,H).call(this);I!==void 0&&(_={start:n,...this.getRootNode().posFromIndex(n)},p.push((0,M.D)(W[w==="template"?0:1],_,"useless fragment"))),V?w==="magic-word"&&(_!=null||(_={start:n,...this.getRootNode().posFromIndex(n)}),p.push((0,M.Y)(this,_,"missing module name"))):(_!=null||(_={start:n,...this.getRootNode().posFromIndex(n)}),p.push((0,M.D)(W[1],_,"illegal module name")));const Y=this.getDuplicatedArgs();return Y.length>0&&(_!=null||(_={start:n,...this.getRootNode().posFromIndex(n)}),p.push(...Y.flatMap(([,k])=>k).map(k=>(0,M.D)(k,_,"duplicated parameter")))),p}insertAt(n,p=this.length){return super.insertAt(n,p),n.anon?T(this,Q,U).call(this,n):n.name&&this.getArgs(n.name,!1,!1).add(n),n}getAllArgs(){return this.childNodes.filter(n=>n.type==="parameter")}getAnonArgs(){return this.getAllArgs().filter(({anon:n})=>n)}getArgs(n,p=!1,w=!0){const W=String(n).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let _;return h(this,R).has(W)?_=h(this,R).get(W):(_=new Set(this.getAllArgs().filter(({name:I})=>W===I)),h(this,R).set(W,_)),_}getDuplicatedArgs(){return this.isTemplate()?[...h(this,R)].filter(([,{size:n}])=>n>1).map(([n,p])=>[n,[...p]]):[]}getPossibleValues(){const{type:n,name:p,childNodes:w,constructor:{name:W}}=this;if(n==="template")throw new Error(`${W}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let _;switch(p){case"if":case"ifexist":case"ifexpr":case"iferror":_=2;break;case"ifeq":_=3;break;default:throw new Error(`${W}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const I=w.slice(_,_+2).map(({childNodes:[,V]})=>V);for(let V=0;V<I.length;){const{length:Y,0:k}=I[V].childNodes.filter(q=>q.text().trim());if(Y===0)I.splice(V,1);else if(Y>1||k.type!=="magic-word")V++;else try{const q=k.getPossibleValues();I.splice(V,1,...q),V+=q.length}catch(q){V++}}return I}print(){const{childNodes:n,length:p,firstChild:w,modifier:W,type:_}=this;return`<span class="wpb-${_}">{{${W}${_==="magic-word"?`${w.print()}${p===1?"":":"}${(0,S.S0)(n.slice(1),{sep:"|"})}`:(0,S.S0)(n,{sep:"|"})}}}</span>`}}y=new WeakMap,R=new WeakMap,B=new WeakSet,H=function(){const s=this.type==="template";return this.normalizeTitle(this.childNodes[s?0:1].text(),s?10:828)},Q=new WeakSet,U=function(s){const n=this.getAnonArgs(),p=typeof s!="number";for(let w=p?n.indexOf(s):s-1;w<n.length;w++){const W=n[w],{name:_}=W,I=String(w+1);_!==I&&(W.setAttribute("name",I),this.getArgs(I,!1,!1).add(W))}};var P=t(465),G=Object.defineProperty,N=(s,n,p)=>n in s?G(s,n,{enumerable:!0,configurable:!0,writable:!0,value:p}):s[n]=p,O=(s,n,p)=>(N(s,typeof n!="symbol"?n+"":n,p),p);class E extends b.Token{constructor(n,p=D.default.getConfig(),w=[]){super(void 0,p,w,{}),O(this,"type","arg");for(let W=0;W<n.length;W++)if(W===0){const _=new i.D(n[W],"arg-name",p,w,{});super.insertAt(_)}else if(W>1){const _=new P.R(n[W],p,w,{});super.insertAt(_)}else{const _=new b.Token(n[W],p,w);_.type="arg-default",_.setAttribute("stage",2),super.insertAt(_)}}get default(){var n,p;return(p=(n=this.childNodes[1])==null?void 0:n.text())!=null?p:!1}toString(n){return`{{{${super.toString(n,"|")}}}}`}text(){return`{{{${(0,S.fL)(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(n){return n<this.length-1?1:0}lint(n=this.getAbsoluteIndex()){if(!this.getAttribute("include"))return[(0,M.Y)(this,{start:n},"unexpected template argument")];const{childNodes:[p,w,...W]}=this,_=p.lint(n+3);if(w&&_.push(...w.lint(n+4+String(p).length)),W.length>0){const I={start:n,...this.getRootNode().posFromIndex(n)};_.push(...W.map(V=>{const Y=(0,M.D)(V,I,"invisible content inside triple braces"),{startIndex:k,startCol:q}=Y;return{...Y,startIndex:k-1,startCol:q-1}}))}return _}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}}const l=(s,n=D.default.getConfig(),p=[])=>{var w,W,_,I,V,Y;const k=`${(w=n.excludes)!=null&&w.includes("heading")?"":"^(\0\\d+c\x7F)*={1,6}|"}\\[\\[|\\{{2,}|-\\{(?!\\{)`,{parserFunction:[,,,q]}=n,j=[],et={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},tt=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"]]);let at=new RegExp(k,"gmu"),nt=at.exec(s),dt=s.includes("}}"),J;for(;nt||J!==void 0&&J<=s.length&&((_=(W=j[j.length-1])==null?void 0:W[0])!=null&&_.startsWith("="));){if(nt!=null&&nt[1]){const[,{length:pt}]=nt;nt[0]=nt[0].slice(pt),nt.index+=pt}const{0:st,index:it}=nt!=null?nt:{0:`
`,index:s.length},lt=(I=j.pop())!=null?I:{},{0:ut,index:ot,parts:ft,findEqual:At,pos:Ct}=lt,$t=st==="="&&At;if(st==="]]"||st==="}-")J=it+2;else if(st===`
`){J=it+1;const{pos:pt,findEqual:gt}=(V=j[j.length-1])!=null?V:{};if(pt===void 0||gt||(0,S.PN)(s.slice(pt,ot))!==""){const xt=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(s.slice(ot,it));xt&&(s=`${s.slice(0,ot)}\0${p.length}h\x7F${s.slice(it)}`,J=ot+4+String(p.length).length,new K.D(xt[1].length,xt.slice(2),n,p))}}else if(st==="|"||$t)J=it+1,ft[ft.length-1].push(s.slice(Ct,it)),st==="|"&&ft.push([]),lt.pos=J,lt.findEqual=st==="|",j.push(lt);else if(st.startsWith("}}")){const pt=st.slice(0,Math.min(ut.length,3)),gt=ut.length-pt.length,{length:xt}=p;J=it+pt.length,ft[ft.length-1].push(s.slice(Ct,it));let St=!1,Tt="t";if(pt.length===3){const ht=ft.map(L=>L.join("=")),wt=ht.length>1&&(0,S.PN)(ht[1]).trim();new E(ht,n,p),wt&&wt.endsWith(":")&&q.includes(wt.slice(0,-1).toLowerCase())&&(Tt="s")}else try{new u(ft[0][0],ft.slice(1),n,p);const ht=(0,S.PN)(ft[0][0]).trim();tt.has(ht)?Tt=tt.get(ht):/^(?:filepath|(?:full|canonical)urle?):.|^server$/iu.test(ht)?Tt="m":/^#vardefine:./iu.test(ht)&&(Tt="c")}catch(ht){if(ht instanceof SyntaxError&&ht.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))J=ot+ut.length,St=!0;else throw ht}St||(s=`${s.slice(0,ot+gt)}\0${xt}${Tt}\x7F${s.slice(J)}`,J=ot+gt+3+String(xt).length,gt>1?j.push({0:ut.slice(0,gt),index:ot,pos:ot+gt,parts:[[]]}):gt===1&&s[ot-1]==="-"&&j.push({0:"-{",index:ot-1,pos:ot+1,parts:[[]]}))}else J=it+st.length,st.startsWith("{")&&(nt.pos=J,nt.parts=[[]]),j.push(..."0"in lt?[lt]:[],nt);dt&&(dt=s.slice(J).includes("}}"));let vt=j[j.length-1];!dt&&((Y=vt==null?void 0:vt[0])!=null&&Y.startsWith("{"))&&(j.pop(),vt=j[j.length-1]),at=new RegExp(k+(vt?`|${et[vt[0][0]]}${vt.findEqual?"|=":""}`:""),"gmu"),at.lastIndex=J,nt=at.exec(s)}return s}},551:(X,F,t)=>{t.r(F),t.d(F,{parseCommentAndExt:()=>r});var S=t(891),D=t(541),K=Object.defineProperty,M=(h,x,A)=>x in h?K(h,x,{enumerable:!0,configurable:!0,writable:!0,value:A}):h[x]=A,b=(h,x,A)=>(M(h,typeof x!="symbol"?x+"":x,A),A);class $ extends D.Token{constructor(){super(...arguments),b(this,"type","onlyinclude")}toString(x){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}isPlain(){return!0}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}}var m=t(826),v=t(959),d=t(415),o=Object.defineProperty,i=(h,x,A)=>x in h?o(h,x,{enumerable:!0,configurable:!0,writable:!0,value:A}):h[x]=A,c=(h,x,A)=>(i(h,typeof x!="symbol"?x+"":x,A),A);class f extends(0,v.a)(d.m){constructor(x,A="",T,y,R=S.default.getConfig(),B=[]){super(x,A,T!=null?T:"",T===void 0||y!=null?y:"",R,B),c(this,"type","include")}}var a=t(895),e=t(976);const r=(h,x=S.default.getConfig(),A=[],T=!1)=>{const y="<onlyinclude>",R="</onlyinclude>",{length:B}=y;if(T){let P=h.indexOf(y),G=h.indexOf(R,P+B);if(P!==-1&&G!==-1){let N="";for(;P!==-1&&G!==-1;){const O=`\0${A.length}e\x7F`;new $(h.slice(P+B,G),x,A),P>0?(new m.O(h.slice(0,P),x,A),N+=`\0${A.length-1}c\x7F${O}`):N+=O,h=h.slice(G+B+1),P=h.indexOf(y),G=h.indexOf(R,P+B)}return`${N}${h}`}}const H=x.ext.join("|"),Q=T?"includeonly":"(?:no|only)include",U=T?"noinclude":"includeonly",u=new RegExp(`<!--.*?(?:-->|$)|<${Q}(?:\\s[^>]*?)?>|</${Q}\\s*>|<(${H})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${U})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return h.replace(u,(P,G,N,O,E,l,s,n,p)=>{const w=`\0${A.length}${G?"e":"c"}\x7F`;if(G)new a.$(G,N,O,E,x,A);else if(P.startsWith("<!--")){const W=P.endsWith("-->");new e.T(P.slice(4,W?-3:void 0),W,x,A)}else l?new f(l,s,n,p,x,A):new m.O(P,x,A);return w})}},370:(X,F,t)=>{t.r(F),t.d(F,{parseConverter:()=>Q});var S=t(891),D=t(467);const K=U=>{class u extends U{}return u};var M=t(541),b=t(169),$=t(34),m=Object.defineProperty,v=(U,u,P)=>u in U?m(U,u,{enumerable:!0,configurable:!0,writable:!0,value:P}):U[u]=P,d=(U,u,P)=>(v(U,typeof u!="symbol"?u+"":u,P),P),o=(U,u,P)=>{if(!u.has(U))throw TypeError("Cannot "+P)},i=(U,u,P)=>(o(U,u,"read from private field"),P?P.call(U):u.get(U)),c=(U,u,P)=>{if(u.has(U))throw TypeError("Cannot add the same private member more than once");u instanceof WeakSet?u.add(U):u.set(U,P)},f=(U,u,P,G)=>(o(U,u,"write to private field"),G?G.call(U,P):u.set(U,P),P),a;const e=new Set(["A","T","R","D","-","H","N"]);class r extends M.Token{constructor(u,P=S.default.getConfig(),G=[]){super(void 0,P,G,{}),d(this,"type","converter-flags"),c(this,a,void 0),this.append(...u.map(N=>new $.D(N,"converter-flag",P,G)))}afterBuild(){f(this,a,this.childNodes.map(u=>u.text().trim()))}toString(u){return super.toString(u,";")}text(){return super.text(";")}getGaps(u){return u<this.length-1?1:0}getUnknownFlags(){return new Set(i(this,a).filter(u=>/\{{3}[^{}]+\}{3}/u.test(u)))}getVariantFlags(){const u=new Set(this.getAttribute("config").variants);return new Set(i(this,a).filter(P=>u.has(P)))}lint(u=this.getAbsoluteIndex()){const P=this.getVariantFlags(),G=this.getUnknownFlags(),N=new Set(i(this,a).filter(w=>e.has(w))),{length:O}=i(this,a).filter(w=>!w),E=i(this,a).length-G.size-O,l=super.lint(u);if(P.size===E||N.size===E)return l;const s={start:u,...this.getRootNode().posFromIndex(u)},{childNodes:n,length:p}=this;for(let w=0;w<p;w++){const W=n[w],_=W.text().trim();if(_&&!P.has(_)&&!G.has(_)&&(P.size>0||!N.has(_))){const I=(0,b.D)(W,s,"invalid conversion flag");l.push(I)}}return l}print(){return super.print({sep:";"})}}a=new WeakMap;var h=Object.defineProperty,x=(U,u,P)=>u in U?h(U,u,{enumerable:!0,configurable:!0,writable:!0,value:P}):U[u]=P,A=(U,u,P)=>(x(U,typeof u!="symbol"?u+"":u,P),P);class T extends M.Token{constructor(u,P=!0,G=S.default.getConfig(),N=[]){if(super(void 0,G,N),A(this,"type","converter-rule"),P){const O=u.indexOf(":"),E=u.slice(0,O).indexOf("=>"),l=E===-1?u.slice(0,O):u.slice(E+2,O);G.variants.includes(l.trim())?(super.insertAt(new $.D(l,"converter-rule-variant",G,N)),super.insertAt(new $.D(u.slice(O+1),"converter-rule-to",G,N)),E!==-1&&super.insertAt(new $.D(u.slice(0,E),"converter-rule-from",G,N),0)):super.insertAt(new $.D(u,"converter-rule-noconvert",G,N))}else super.insertAt(new $.D(u,"converter-rule-noconvert",G,N))}toString(u){const{childNodes:P}=this;if(P.length===3){const[G,N,O]=P;return`${G.toString(u)}=>${N.toString(u)}:${O.toString(u)}`}return super.toString(u,":")}text(){const{childNodes:u}=this;if(u.length===3){const[P,G,N]=u;return`${P.text()}=>${G.text()}:${N.text()}`}return super.text(":")}getGaps(u){return u===0&&this.length===3?2:1}print(){const{childNodes:u}=this;if(u.length===3){const[P,G,N]=u;return`<span class="wpb-converter-rule">${P.print()}=>${G.print()}:${N.print()}</span>`}return super.print({sep:":"})}}var y=Object.defineProperty,R=(U,u,P)=>u in U?y(U,u,{enumerable:!0,configurable:!0,writable:!0,value:P}):U[u]=P,B=(U,u,P)=>(R(U,typeof u!="symbol"?u+"":u,P),P);class H extends K(M.Token){constructor(u,P,G=S.default.getConfig(),N=[]){super(void 0,G,N),B(this,"type","converter"),this.append(new r(u,G,N));const[O]=P,E=O.includes(":"),l=new T(O,E,G,N);E&&l.length===1?this.insertAt(new T(P.join(";"),!1,G,N)):this.append(l,...P.slice(1).map(s=>new T(s,!0,G,N)))}toString(u){const{childNodes:[P,...G]}=this;return`-{${P.toString()}${P.length>0?"|":""}${G.map(N=>N.toString()).join(";")}}-`}text(){const{childNodes:[u,...P]}=this;return`-{${u.text()}|${(0,D.fL)(P,";")}}-`}getPadding(){return 2}getGaps(u){return u||this.firstChild.length>0?1:0}print(){const{childNodes:[u,...P]}=this;return`<span class="wpb-converter">-{${u.print()}${u.length>0?"|":""}${(0,D.S0)(P,{sep:";"})}}-</span>`}}const Q=(U,u=S.default.getConfig(),P=[])=>{const G=/-\{/gu,N=/-\{|\}-/gu,O=[];let E=G,l=E.exec(U);for(;l;){const{0:s,index:n}=l;if(s==="}-"){const p=O.pop(),{length:w}=P,W=U.slice(p.index+2,n),_=W.indexOf("|"),[I,V]=_===-1?[[],W]:[W.slice(0,_).split(";"),W.slice(_+1)],Y=V.replace(/(&[#a-z\d]+);/giu,"$1"),k=`(?:${u.variants.join("|")})`,q=Y.split(new RegExp(`;(?=\\s*(?:${k}|[^;]*?=>\\s*${k})\\s*:)`,"u")).map(j=>j.replace(/\x01/gu,";"));new H(I,q,u,P),U=`${U.slice(0,p.index)}\0${w}v\x7F${U.slice(n+2)}`,O.length===0&&(E=G),E.lastIndex=p.index+3+String(w).length}else O.push(l),E=N,E.lastIndex=n+2;l=E.exec(U)}return U}},418:(X,F,t)=>{t.r(F),t.d(F,{parseExternalLinks:()=>M});var S=t(467),D=t(891),K=t(876);const M=(b,$=D.default.getConfig(),m=[])=>{const v=new RegExp(`\\[((?:(?:${$.protocol}|//)${S._X}|\0\\d+m\x7F)${S.Qk})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return b.replace(v,(d,o,i,c)=>{const{length:f}=m,a=/&[lg]t;/u.exec(o);return a&&(o=o.slice(0,a.index),i="",c=`${o.slice(a.index)}${i}${c}`),new K.a(o,i,c,$,m),`\0${f}w\x7F`})}},362:(X,F,t)=>{t.r(F),t.d(F,{parseHrAndDoubleUnderscore:()=>f});var S=t(891),D=t(439),K=Object.defineProperty,M=(a,e,r)=>e in a?K(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,b=(a,e,r)=>(M(a,typeof e!="symbol"?e+"":e,r),r);class $ extends D.h{constructor(){super(...arguments),b(this,"type","hr")}}var m=t(959),v=Object.defineProperty,d=(a,e,r)=>e in a?v(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,o=(a,e,r)=>(d(a,typeof e!="symbol"?e+"":e,r),r);class i extends(0,m.a)(D.h){constructor(e,r,h=S.default.getConfig(),x=[]){super(e,h,x),o(this,"type","double-underscore")}getPadding(){return 2}toString(e){return`__${this.innerText}__`}print(){return super.print({pre:"__",post:"__"})}}var c=t(485);const f=({firstChild:{data:a},type:e,name:r},h=S.default.getConfig(),x=[])=>{const{doubleUnderscore:A}=h,T=new Set(A[0]),y=new Set(A[1]);return e!=="root"&&(e!=="ext-inner"||r!=="poem")&&(a=`\0${a}`),a=a.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(R,B,H)=>(new $(H,h,x),`${B}\0${x.length-1}r\x7F`)).replace(new RegExp(`__(${A.flat().join("|")})__`,"giu"),(R,B)=>{const H=y.has(B);return H||T.has(B.toLowerCase())?(new i(B,H,h,x),`\0${x.length-1}u\x7F`):R}).replace(/^((?:\0\d+c\x7F)*)(={1,6})(.+)\2((?:[^\S\n]|\0\d+c\x7F)*)$/gmu,(R,B,H,Q,U)=>{const u=`${B}\0${x.length}h\x7F`;return new c.D(H.length,[Q,U],h,x),u}),e==="root"||e==="ext-inner"&&r==="poem"?a:a.slice(1)}},980:(X,F,t)=>{t.r(F),t.d(F,{parseHtml:()=>x});var S=t(891),D=t(83),K=t(169),M=t(467),b=t(541),$=Object.defineProperty,m=(A,T,y)=>T in A?$(A,T,{enumerable:!0,configurable:!0,writable:!0,value:y}):A[T]=y,v=(A,T,y)=>(m(A,typeof T!="symbol"?T+"":T,y),y),d=(A,T,y)=>{if(!T.has(A))throw TypeError("Cannot "+y)},o=(A,T,y)=>(d(A,T,"read from private field"),y?y.call(A):T.get(A)),i=(A,T,y)=>{if(T.has(A))throw TypeError("Cannot add the same private member more than once");T instanceof WeakSet?T.add(A):T.set(A,y)},c=(A,T,y,R)=>(d(A,T,"write to private field"),R?R.call(A,y):T.set(A,y),y),f,a,e;const r=new Set(["if","ifeq","ifexpr","ifexist","iferror","switch"]);class h extends b.Token{constructor(T,y,R,B,H=S.default.getConfig(),Q=[]){super(void 0,H,Q),v(this,"type","html"),i(this,f,void 0),i(this,a,void 0),i(this,e,void 0),this.insertAt(y),this.setAttribute("name",T.toLowerCase()),c(this,f,R),c(this,a,B),c(this,e,T)}get closing(){return o(this,f)}toString(T){return`<${o(this,f)?"/":""}${o(this,e)}${super.toString()}${o(this,a)?"/":""}>`}text(){return`<${o(this,f)?"/":""}${o(this,e)}${o(this,f)?"":super.text()}${o(this,a)?"/":""}>`}getPadding(){return o(this,e).length+(o(this,f)?2:1)}lint(T=this.getAbsoluteIndex()){const y=super.lint(T);let R;this.name==="h1"&&!o(this,f)&&(R=(0,K.Y)(this,{start:T},"<h1>"),y.push(R)),this.closest("table-attrs")&&(R!=null||(R=(0,K.Y)(this,{start:T},"")),y.push({...R,message:S.default.msg("HTML tag in table attributes")}));try{this.findMatchingTag()}catch(B){if(B instanceof SyntaxError){const{message:H}=B;R!=null||(R=(0,K.Y)(this,{start:T},""));const[Q]=H.split(":"),U={...R,message:S.default.msg(Q)};if(Q==="unclosed tag")U.severity="warning";else if(Q==="unmatched closing tag"){const u=this.closest("magic-word");u&&r.has(u.name)&&(U.severity="warning")}y.push(U)}}return y}findMatchingTag(){const{html:T}=this.getAttribute("config"),{name:y,parentNode:R}=this,B=(0,M.jq)(String(this));if(o(this,f)&&(o(this,a)||T[2].includes(y)))throw new SyntaxError(`tag that is both closing and self-closing: ${B}`);if(T[2].includes(y)||o(this,a)&&T[1].includes(y))return this;if(o(this,a)&&T[0].includes(y))throw new SyntaxError(`invalid self-closing tag: ${B}`);if(!R)return;const{childNodes:H}=R,Q=H.indexOf(this),U=o(this,f)?H.slice(0,Q).reverse().filter(({type:P,name:G})=>P==="html"&&G===y):H.slice(Q+1).filter(({type:P,name:G})=>P==="html"&&G===y);let u=o(this,f)?-1:1;for(const P of U)if(o(P,f)?u--:u++,u===0)return P;throw new SyntaxError(`${o(this,f)?"unmatched closing":"unclosed"} tag: ${B}`)}print(){return super.print({pre:`&lt;${o(this,f)?"/":""}${o(this,e)}`,post:`${o(this,a)?"/":""}&gt;`})}}f=new WeakMap,a=new WeakMap,e=new WeakMap;const x=(A,T=S.default.getConfig(),y=[])=>{const R=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,B=new Set(T.html.flat()),H=A.split("<");let Q=H.shift();for(const U of H){const u=R.exec(U),P=u==null?void 0:u[2],G=P==null?void 0:P.toLowerCase();if(!u||!B.has(G)){Q+=`<${U}`;continue}const[,N,,O="",E,l]=u,s=new D.x(O,"html-attrs",G,T,y),n=s.getAttr("itemprop");if(G==="meta"&&(n===void 0||s.getAttr("content")===void 0)||G==="link"&&(n===void 0||s.getAttr("href")===void 0)){Q+=`<${U}`,y.pop();continue}Q+=`\0${y.length}x\x7F${l}`,new h(P,s,N==="/",E==="/>",T,y)}return Q}},106:(X,F,t)=>{t.r(F),t.d(F,{parseLinks:()=>v});var S=t(891),D=t(524),K=t(533),M=Object.defineProperty,b=(d,o,i)=>o in d?M(d,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[o]=i,$=(d,o,i)=>(b(d,typeof o!="symbol"?o+"":o,i),i);class m extends D.h{constructor(){super(...arguments),$(this,"type","category")}}const v=(d,o=S.default.getConfig(),i=[])=>{const{parseQuotes:c}=t(704),f=o.inExt?/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su:/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]])?)?\]\](.*)$/su,a=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,e=new RegExp(`^\\s*(?:${o.protocol})`,"iu"),r=d.split("[[");let h=r.shift();for(let x=0;x<r.length;x++){let A=!1,T,y,R,B;const H=r[x],Q=f.exec(H);if(Q)[,T,y,R,B]=Q,B.startsWith("]")&&(R!=null&&R.includes("["))&&(R+="]",B=B.slice(1));else{const O=a.exec(H);O&&(A=!0,[,T,y,R]=O)}if(T===void 0||e.test(T)||/\0\d+[exhbru]\x7F/u.test(T)){h+=`[[${H}`;continue}const U=T.trim().startsWith(":");if(U&&A){h+=`[[${H}`;continue}const u=S.default.normalizeTitle(T,0,!1,o,!0,!0,!0),{ns:P,valid:G}=u;if(G){if(A){if(P!==6){h+=`[[${H}`;continue}let O=!1;for(x++;x<r.length;x++){const E=r[x],l=E.split("]]");if(l.length>2){O=!0,R+=`[[${l[0]}]]${l[1]}`,B=l.slice(2).join("]]");break}else if(l.length===2)R+=`[[${l[0]}]]${l[1]}`;else{R+=`[[${E}`;break}}if(R=v(R,o,i),!O){h+=`[[${T}${y}${R}`;continue}}}else{h+=`[[${H}`;continue}R&&(R=c(R,o,i)),h+=`\0${i.length}l\x7F${B}`;let N=D.h;U||(P===6?N=K.q:P===14&&(N=m)),R===void 0&&y&&(R=""),new N(T,R,o,i,y)}return h}},904:(X,F,t)=>{t.r(F),t.d(F,{parseList:()=>v});var S=t(891),D=t(933),K=Object.defineProperty,M=(d,o,i)=>o in d?K(d,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[o]=i,b=(d,o,i)=>(M(d,typeof o!="symbol"?o+"":o,i),i);class $ extends D.T{constructor(){super(...arguments),b(this,"type","list")}}var m=t(461);const v=(d,o=S.default.getConfig(),i=[])=>{const c=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(d);if(!c)return d;const[f,a,e]=c;let r=`${a}\0${i.length}d\x7F${d.slice(f.length)}`,h=e.split(";").length-1;if(new $(e,o,i),!h)return r;let x=/:+|-\{/gu,A=x.exec(r),T=0;for(;A&&h;){const{0:y,index:R}=A;if(y.startsWith(":")){if(y.length>=h)return new m.k(":".repeat(h),o,i),`${r.slice(0,R)}\0${i.length-1}d\x7F${r.slice(R+h)}`;r=`${r.slice(0,R)}\0${i.length}d\x7F${r.slice(x.lastIndex)}`,h-=y.length,x.lastIndex=R+4+String(i.length).length,new m.k(y,o,i)}else if(y==="-{"){if(!T){const{lastIndex:B}=x;x=/-\{|\}-/gu,x.lastIndex=B}T++}else if(T--,!T){const{lastIndex:B}=x;x=/:+|-\{/gu,x.lastIndex=B}A=x.exec(r)}return r}},311:(X,F,t)=>{t.r(F),t.d(F,{parseMagicLinks:()=>M});var S=t(467),D=t(891),K=t(686);const M=(b,$=D.default.getConfig(),m=[])=>{const v=new RegExp(`(^|[^\\p{L}\\d_])(?:${$.protocol})(${S._X}${S.Qk})`,"giu");return b.replace(v,(d,o,i)=>{let c="",f=o?d.slice(1):d;const a=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(f);a&&(c=f.slice(a.index),f=f.slice(0,a.index));const e=new RegExp(`[,;.:!?${f.includes("(")?"":")"}]+$`,"u"),r=e.exec(f);if(r){let h=0;r[0].startsWith(";")&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(f.slice(0,r.index))&&(h=1),c=`${f.slice(r.index+h)}${c}`,f=f.slice(0,r.index+h)}return c.length>=i.length?d:(new K.k(f,!1,$,m),`${o}\0${m.length-1}w\x7F${c}`)})}},704:(X,F,t)=>{t.r(F),t.d(F,{parseQuotes:()=>v});var S=t(891),D=t(169),K=t(439),M=Object.defineProperty,b=(d,o,i)=>o in d?M(d,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[o]=i,$=(d,o,i)=>(b(d,typeof o!="symbol"?o+"":o,i),i);class m extends K.h{constructor(){super(...arguments),$(this,"type","quote")}lint(o=this.getAbsoluteIndex()){const{previousSibling:i,nextSibling:c}=this,f=S.default.msg('lonely "$1"',"'"),a=[];let e;if((i==null?void 0:i.type)==="text"&&i.data.endsWith("'")){e=(0,D.Y)(this,{start:o},f);const{startIndex:r,startLine:h,startCol:x}=e,[,{length:A}]=i.data.match(/(?:^|[^'])('+)$/u),T=o-A;a.push({...e,startIndex:T,endIndex:r,startCol:x-A,endLine:h,endCol:x})}if((c==null?void 0:c.type)==="text"&&c.data.startsWith("'")){e!=null||(e=(0,D.Y)(this,{start:o},f));const{endIndex:r,endLine:h,endCol:x}=e,[{length:A}]=c.data.match(/^'+/u),T=r+A;a.push({...e,startIndex:r,endIndex:T,startLine:h,startCol:x,endCol:x+A})}return a}}const v=(d,o=S.default.getConfig(),i=[])=>{var c;const f=d.split(/('{2,})/u),{length:a}=f;if(a===1)return d;let e=0,r=0,h,x,A;for(let T=1;T<a;T+=2){const{length:y}=f[T];switch(y){case 2:r++;break;case 4:f[T-1]+="'",f[T]="'''";case 3:if(e++,h!==void 0)break;f[T-1].endsWith(" ")?x===void 0&&A===void 0&&(A=T):f[T-1].slice(-2,-1)===" "?h=T:x!=null||(x=T);break;default:f[T-1]+="'".repeat(y-5),f[T]="'''''",r++,e++}}if(r%2===1&&e%2===1){const T=(c=h!=null?h:x)!=null?c:A;T!==void 0&&(f[T]="''",f[T-1]+="'")}for(let T=1;T<a;T+=2)new m(f[T],o,i),f[T]=`\0${i.length-1}q\x7F`;return f.join("")}},508:(X,F,t)=>{t.r(F),t.d(F,{parseTable:()=>O});var S=t(891),D=t(541),K=t(169),M=t(669),b=t(83);class $ extends D.Token{constructor(l,s,n,p=S.default.getConfig(),w=[],W={}){super(void 0,p,w,W),this.append(new M.SyntaxToken(s,l,"table-syntax",p,w,{}),new b.x(n,"table-attrs",this.type,p,w))}}class m extends ${lint(l=this.getAbsoluteIndex()){const s=super.lint(l),n=this.childNodes.find(({type:_})=>_==="table-inter");if(!n)return s;const p=n.childNodes.find(_=>_.text().trim()),w=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!p||w.test(String(p))||p.type==="arg"&&w.test(p.default||""))return s;if(p.type==="magic-word")try{if(p.getPossibleValues().every(_=>w.test(_.text())))return s}catch(_){}const W=(0,K.D)(n,{start:l},"content to be moved out from the table");return s.push({...W,startIndex:W.startIndex+1,startLine:W.startLine+1,startCol:0}),s}text(){const l=super.text();return this.type==="tr"&&!l.trim().includes(`
`)?"":l}}var v=Object.defineProperty,d=(E,l,s)=>l in E?v(E,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):E[l]=s,o=(E,l,s)=>(d(E,typeof l!="symbol"?l+"":l,s),s);const i=/^\n[^\S\n]*(?:\|\}|\{\{\s*!\s*\}\}\}|\{\{\s*!\)\s*\}\})$/u;class c extends m{constructor(l,s,n=S.default.getConfig(),p=[]){super(/^(?:\{\||\{\{\{\s*!\s*\}\}|\{\{\s*\(!\s*\}\})$/u,l,s,n,p,{}),o(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(l=this.getAbsoluteIndex()){const s=super.lint(l);if(!this.closed){const{firstChild:n}=this,p=(0,K.D)(n,{start:l},"unclosed table");s.push(p)}return s}close(l=`
|}`,s=!1){const n=this.getAttribute("config"),p=this.getAttribute("accum"),w=[l],W=super.insertAt(S.default.run(()=>new M.SyntaxToken(void 0,i,"table-syntax",n,p,{})));this.lastChild.replaceChildren(...w)}}var f=Object.defineProperty,a=(E,l,s)=>l in E?f(E,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):E[l]=s,e=(E,l,s)=>(a(E,typeof l!="symbol"?l+"":l,s),s);class r extends m{constructor(l,s,n=S.default.getConfig(),p=[]){super(/^\n[^\S\n]*(?:\|-+|\{\{\s*!\s*\}\}-+|\{\{\s*!-\s*\}\}-*)$/u,l,s,n,p,{}),e(this,"type","tr")}}var h=Object.defineProperty,x=(E,l,s)=>l in E?h(E,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):E[l]=s,A=(E,l,s)=>(x(E,typeof l!="symbol"?l+"":l,s),s),T=(E,l,s)=>{if(!l.has(E))throw TypeError("Cannot "+s)},y=(E,l,s)=>(T(E,l,"read from private field"),s?s.call(E):l.get(E)),R=(E,l,s)=>{if(l.has(E))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(E):l.set(E,s)},B=(E,l,s,n)=>(T(E,l,"write to private field"),n?n.call(E,s):l.set(E,s),s),H=(E,l,s,n)=>({set _(p){B(E,l,p,s)},get _(){return y(E,l,n)}}),Q=(E,l,s)=>(T(E,l,"access private method"),s),U,u,P;class G extends ${constructor(l,s,n=S.default.getConfig(),p=[]){var w;let W=s==null?void 0:s.match(/\||\0\d+!\x7F/u),_=W?s.slice(0,W.index):"";/\[\[|-\{/u.test(_)&&(W=void 0,_=""),super(/^(?:\n[^\S\n]*(?:[|!]|\|\+|\{\{\s*!\s*\}\}\+?)|(?:\||\{\{\s*!\s*\}\}){2}|!!|\{\{\s*!!\s*\}\})$/u,l,_,n,p),R(this,u),A(this,"type","td"),R(this,U,""),W&&([H(this,U)._]=W);const I=new D.Token(s==null?void 0:s.slice(((w=W==null?void 0:W.index)!=null?w:NaN)+y(this,U).length),n,p);I.type="td-inner",I.setAttribute("stage",4),this.insertAt(I)}get subtype(){return Q(this,u,P).call(this).subtype}afterBuild(){y(this,U).includes("\0")&&B(this,U,this.buildFromStr(y(this,U),"string"))}toString(l){const{childNodes:[s,n,p]}=this;return`${s.toString()}${n.toString()}${y(this,U)}${p.toString()}`}text(){const{childNodes:[l,s,n]}=this;return`${l.text()}${s.text()}${y(this,U)}${n.text()}`}getGaps(l){return l===1?y(this,U).length:0}lint(l=this.getAbsoluteIndex()){const s=super.lint(l);l+=this.getRelativeIndex(this.length-1);for(const n of this.lastChild.childNodes)n.type==="text"&&n.data.includes("|")&&s.push((0,K.D)(n,{start:l},'additional "|" in a table cell',"warning"));return s}print(){const{childNodes:[l,s,n]}=this;return`<span class="wpb-td">${l.print()}${s.print()}${y(this,U)}${n.print()}</span>`}}U=new WeakMap,u=new WeakSet,P=function(){const E=this.firstChild.text(),l=E[E.length-1];let s="td";return l==="!"?s="th":l==="+"&&(s="caption"),{subtype:s}};var N=t(461);const O=({firstChild:{data:E},type:l,name:s},n=S.default.getConfig(),p=[])=>{const w=[],W=E.split(`
`);let _=l==="root"||l==="parameter-value"||l==="ext-inner"&&s==="poem"?"":`
${W.shift()}`;const I=(V,Y)=>{if(!Y){_+=V;return}const{lastChild:k}=Y;if(k.constructor===D.Token)k.setText(String(k)+V);else{const q=new D.Token(V,n,p);q.type="table-inter",q.setAttribute("stage",3),Y.insertAt(q)}};for(const V of W){let Y=w.pop();const[k]=/^(?:\s|\0\d+c\x7F)*/u.exec(V),q=V.slice(k.length),j=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{(?:\0\d+c\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(q);if(j){for(;Y&&Y.type!=="td";)Y=w.pop();const[,J,st,it,lt]=j;J&&new N.k(J,n,p),I(`
${k}${J&&`\0${p.length-1}d\x7F`}${st}\0${p.length}b\x7F`,Y),w.push(...Y?[Y]:[],new c(it,lt,n,p));continue}else if(!Y){_+=`
${V}`;continue}const et=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(q);if(!et){I(`
${V}`,Y),w.push(Y);continue}const[,tt,at,nt,dt]=et;if(tt){for(;Y.type!=="table";)Y=w.pop();Y.close(`
${k}${tt}`,!0),I(dt,w[w.length-1])}else if(at){Y.type==="td"&&(Y=w.pop()),Y.type==="tr"&&(Y=w.pop());const J=new r(`
${k}${at}`,dt,n,p);w.push(Y,J),Y.insertAt(J)}else{Y.type==="td"&&(Y=w.pop());const J=nt==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let st=J.exec(dt),it=0,lt=`
${k}${nt}`;for(;st;)Y.insertAt(new G(lt,dt.slice(it,st.index),n,p)),{lastIndex:it}=J,[lt]=st,st=J.exec(dt);const ut=new G(lt,dt.slice(it),n,p);w.push(Y,ut),Y.insertAt(ut)}}return _.slice(1)}},34:(X,F,t)=>{t.d(F,{D:()=>K});var S=t(891),D=t(541);class K extends D.Token{constructor(b,$,m=S.default.getConfig(),v=[],d){super(b,m,v,d),this.type=$}}},83:(X,F,t)=>{t.d(F,{x:()=>Q});var S=t(169),D=t(467),K=t(891),M=t(541),b=t(34),$=(U,u,P)=>{if(!u.has(U))throw TypeError("Cannot "+P)},m=(U,u,P)=>($(U,u,"read from private field"),P?P.call(U):u.get(U)),v=(U,u,P)=>{if(u.has(U))throw TypeError("Cannot add the same private member more than once");u instanceof WeakSet?u.add(U):u.set(U,P)},d=(U,u,P,G)=>($(U,u,"write to private field"),G?G.call(U,P):u.set(U,P),P),o,i,c;const f=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),a=new Set(["align"]),e=new Set(["cite"]),r=new Set(["cite","datetime"]),h=new Set(["width"]),x=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),A=new Set(["type"]),T={div:a,h1:a,h2:a,h3:a,h4:a,h5:a,h6:a,blockquote:e,q:e,p:a,br:new Set(["clear"]),pre:h,ins:r,del:r,ul:A,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:a,tr:new Set(["bgcolor","align","valign"]),td:x,th:x,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:h,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline","align"])},y=new Set,R={nowiki:y,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:y,inputbox:y,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:y,poll:new Set(["id","show-results-before-voting"]),sm2:A,flashmp3:A,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},B=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class H extends M.Token{constructor(u,P,G,N="",O,E=[],l=K.default.getConfig(),s=[]){const n=new b.D(G,"attr-key",l,s,{});let p;if(G==="title"||P==="img"&&G==="alt")p=new M.Token(O,l,s,{}),p.type="attr-value",p.setAttribute("stage",K.default.MAX_STAGE-1);else if(P==="gallery"&&G==="caption"){const w={...l,excludes:[...l.excludes,"quote","extLink","magicLink","list"]};p=new M.Token(O,w,s,{}),p.type="attr-value",p.setAttribute("stage",5)}else if(P==="choose"&&(G==="before"||G==="after")){const w={...l,excludes:[...l.excludes,"heading","html","table","hr","list"]};p=new M.Token(O,w,s,{}),p.type="attr-value",p.setAttribute("stage",1)}else p=new b.D(O,"attr-value",l,s,{});super(void 0,l,s),v(this,o,void 0),v(this,i,void 0),v(this,c,void 0),this.type=u,this.append(n,p),d(this,o,N),d(this,i,E),d(this,c,P),this.setAttribute("name",(0,D.PN)(G).trim().toLowerCase())}get tag(){return m(this,c)}get balanced(){return!m(this,o)||m(this,i)[0]===m(this,i)[1]}afterBuild(){m(this,o).includes("\0")&&d(this,o,this.buildFromStr(m(this,o),"string")),this.parentNode&&d(this,c,this.parentNode.name),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(u){const[P="",G=""]=m(this,i);return m(this,o)?`${super.toString(u,`${m(this,o)}${P}`)}${G}`:this.firstChild.toString(u)}text(){return m(this,o)?`${super.text(`${m(this,o).trim()}"`)}"`:this.firstChild.text()}getGaps(u){var P,G;return m(this,o)&&u===0?m(this,o).length+((G=(P=m(this,i)[0])==null?void 0:P.length)!=null?G:0):0}lint(u=this.getAbsoluteIndex()){var P;const G=super.lint(u),{balanced:N,firstChild:O,lastChild:E,type:l,name:s}=this,n=this.getValue(),p=m(this,c);let w;if(!N){const W=this.getRootNode();w={start:u,...W.posFromIndex(u)};const _=(0,S.D)(E,w,"unclosed quotes","warning"),I=_.startIndex-1;G.push({..._,startIndex:I,startCol:_.startCol-1})}return R[p]&&!R[p].has(s)||(l!=="ext-attr"&&!/\{\{[^{]+\}\}/u.test(s)||p in T)&&!((P=T[p])!=null&&P.has(s))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(s)&&(p==="meta"||p==="link"||!f.has(s))?(w!=null||(w={start:u,...this.getRootNode().posFromIndex(u)}),G.push((0,S.D)(O,w,"illegal attribute name"))):s==="style"&&typeof n=="string"&&B.test(n)?(w!=null||(w={start:u,...this.getRootNode().posFromIndex(u)}),G.push((0,S.D)(E,w,"insecure style"))):s==="tabindex"&&typeof n=="string"&&n.trim()!=="0"&&(w!=null||(w={start:u,...this.getRootNode().posFromIndex(u)}),G.push((0,S.D)(E,w,"nonzero tabindex"))),G}getValue(){if(m(this,o)){const u=this.lastChild.text();return m(this,i)[1]?u:u.trim()}return this.type==="ext-attr"||""}print(){const[u="",P=""]=m(this,i);return m(this,o)?super.print({sep:`${m(this,o)}${u}`,post:P}):super.print()}}o=new WeakMap,i=new WeakMap,c=new WeakMap;class Q extends M.Token{constructor(u,P,G,N=K.default.getConfig(),O=[]){if(super(void 0,N,O,{}),this.type=P,this.setAttribute("name",G),u){const E=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let l="",s=E.exec(u),n=0;const p=()=>{l&&(super.insertAt(new b.D(l,`${P.slice(0,-1)}-dirty`,N,O)),l="")};for(;s;){const{index:w,0:W,1:_,2:I,3:V,4:Y,5:k,6:q}=s;if(l+=u.slice(n,w),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test((0,D.PN)(_).trim())){const j=Y!=null?Y:q,et=[V,k],tt=new H(P.slice(0,-1),G,_,I,j,et,N,O);p(),super.insertAt(tt)}else l+=W;({lastIndex:n}=E),s=E.exec(u)}l+=u.slice(n),p()}}afterBuild(){if(this.type==="table-attrs"){const{parentNode:u}=this;this.setAttribute("name",(u==null?void 0:u.type)==="td"&&u.subtype==="caption"?"caption":u==null?void 0:u.type)}}getAttrTokens(u){return this.childNodes.filter(P=>P instanceof H&&(!u||P.name===u.toLowerCase().trim()))}getAttrToken(u){const P=this.getAttrTokens(u);return P[P.length-1]}getAttr(u){var P;return(P=this.getAttrToken(u))==null?void 0:P.getValue()}lint(u=this.getAbsoluteIndex()){const P=super.lint(u),{parentNode:G,length:N,childNodes:O}=this,E=new Map,l=new Set;let s;(G==null?void 0:G.type)==="html"&&G.closing&&this.text().trim()&&(s={start:u,...this.getRootNode().posFromIndex(u)},P.push((0,S.Y)(this,s,"attributes of a closing tag")));for(let n=0;n<N;n++){const p=O[n];if(p instanceof b.D&&p.text().trim())s!=null||(s={start:u,...this.getRootNode().posFromIndex(u)}),P.push((0,S.D)(p,s,"containing invalid attribute"));else if(p instanceof H){const{name:w}=p;E.has(w)?(l.add(w),E.get(w).push(p)):w!=="class"&&E.set(w,[p])}}if(l.size>0){s!=null||(s={start:u,...this.getRootNode().posFromIndex(u)});for(const n of l)P.push(...E.get(n).map(p=>(0,S.D)(p,s,K.default.msg("duplicated $1 attribute",n))))}return P}print(){return String(this)?`<span class="wpb-${this.type}">${this.childNodes.map(u=>u.print(u instanceof b.D&&u.text().trim()?{class:"hidden"}:void 0)).join("")}</span>`:""}}},876:(X,F,t)=>{t.d(F,{a:()=>f});const S=a=>{class e extends a{}return e};var D=t(891),K=t(541),M=t(686),b=Object.defineProperty,$=(a,e,r)=>e in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,m=(a,e,r)=>($(a,typeof e!="symbol"?e+"":e,r),r),v=(a,e,r)=>{if(!e.has(a))throw TypeError("Cannot "+r)},d=(a,e,r)=>(v(a,e,"read from private field"),r?r.call(a):e.get(a)),o=(a,e,r)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,r)},i=(a,e,r,h)=>(v(a,e,"write to private field"),h?h.call(a,r):e.set(a,r),r),c;class f extends S(K.Token){constructor(e,r="",h="",x=D.default.getConfig(),A=[]){if(super(void 0,x,A,{}),m(this,"type","ext-link"),o(this,c,void 0),this.insertAt(new M.k(e,!0,x,A)),i(this,c,r),h){const T=new K.Token(h,x,A,{});T.type="ext-link-text",T.setAttribute("stage",D.default.MAX_STAGE-1),this.insertAt(T)}}toString(e){return this.length===1?`[${super.toString(e)}${d(this,c)}]`:`[${super.toString(e,d(this,c))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(e){return e===0?d(this,c).length:0}print(){return super.print(this.length===1?{pre:"[",post:`${d(this,c)}]`}:{pre:"[",sep:d(this,c),post:"]"})}}c=new WeakMap},420:(X,F,t)=>{t.r(F),t.d(F,{GalleryToken:()=>f});var S=t(891),D=t(541),K=t(39),M=t(465),b=Object.defineProperty,$=(a,e,r)=>e in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,m=(a,e,r)=>($(a,typeof e!="symbol"?e+"":e,r),r),v=(a,e,r)=>{if(!e.has(a))throw TypeError("Cannot "+r)},d=(a,e,r)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,r)},o=(a,e,r)=>(v(a,e,"access private method"),r),i,c;class f extends D.Token{constructor(e,r=S.default.getConfig(),h=[]){var x;super(void 0,r,h,{}),d(this,i),m(this,"type","ext-inner");for(const A of(x=e==null?void 0:e.split(`
`))!=null?x:[]){const T=/^([^|]+)(?:\|(.*))?/u.exec(A);if(!T){super.insertAt(A.trim()?new M.R(A,r,[],{}):A);continue}const[,y,R]=T;o(this,i,c).call(this,y)?super.insertAt(new K._("gallery",y,R,r,h)):super.insertAt(new M.R(A,r,[],{}))}}toString(e){return super.toString(e,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(e){return e<this.length-1?1:0}lint(e=this.getAbsoluteIndex()){const{top:r,left:h}=this.getRootNode().posFromIndex(e),x=[];for(let A=0;A<this.length;A++){const T=this.childNodes[A],y=String(T),{length:R}=y,B=y.trim(),H=r+A,Q=A?0:h;T.type==="hidden"&&B&&!/^<!--.*-->$/u.test(B)?x.push({message:S.default.msg("invalid content in <$1>","gallery"),severity:"error",startIndex:e,endIndex:e+R,startLine:H,endLine:H,startCol:Q,endCol:Q+R}):T.type!=="hidden"&&T.type!=="text"&&x.push(...T.lint(e)),e+=R+1}return x}print(){return super.print({sep:`
`})}}i=new WeakSet,c=function(a){return this.normalizeTitle(a,6,!0,!0).valid}},485:(X,F,t)=>{t.d(F,{D:()=>f});var S=t(169),D=t(891),K=t(541),M=t(669),b=Object.defineProperty,$=(a,e,r)=>e in a?b(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r,m=(a,e,r)=>($(a,typeof e!="symbol"?e+"":e,r),r),v=(a,e,r)=>{if(!e.has(a))throw TypeError("Cannot "+r)},d=(a,e,r)=>(v(a,e,"read from private field"),r?r.call(a):e.get(a)),o=(a,e,r)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,r)},i,c;class f extends K.Token{constructor(e,r,h=D.default.getConfig(),x=[]){super(void 0,h,x),o(this,i),m(this,"type","heading"),this.setAttribute("name",String(e));const A=new K.Token(r[0],h,x);A.type="heading-title",A.setAttribute("stage",2);const T=new M.SyntaxToken(r[1],/^[^\S\n]*$/u,"heading-trail",h,x,{});this.append(A,T)}get level(){return Number(this.name)}toString(e){const r=d(this,i,c);return`${r}${this.firstChild.toString()}${r}${this.lastChild.toString()}`}text(){const e=d(this,i,c);return`${e}${this.firstChild.text()}${e}`}getPadding(){return super.getPadding()+this.level}getGaps(e){return e===0?this.level:0}lint(e=this.getAbsoluteIndex()){const r=super.lint(e),h=String(this.firstChild);let x;return this.name==="1"&&(x=(0,S.Y)(this,{start:e},"<h1>"),r.push(x)),(h.startsWith("=")||h.endsWith("="))&&(x!=null||(x=(0,S.Y)(this,{start:e},"")),r.push({...x,message:D.default.msg('unbalanced "=" in a section header')})),this.closest("html-attrs, table-attrs")&&(x!=null||(x=(0,S.Y)(this,{start:e},"")),r.push({...x,message:D.default.msg("section header in a HTML tag")})),r}print(){const e=d(this,i,c);return super.print({pre:e,sep:e})}}i=new WeakSet,c=function(){return"=".repeat(this.level)}},465:(X,F,t)=>{t.d(F,{R:()=>$});var S=t(959),D=t(541),K=Object.defineProperty,M=(m,v,d)=>v in m?K(m,v,{enumerable:!0,configurable:!0,writable:!0,value:d}):m[v]=d,b=(m,v,d)=>(M(m,typeof v!="symbol"?v+"":v,d),d);class $ extends(0,S.a)(D.Token){constructor(){super(...arguments),b(this,"type","hidden")}}},842:(X,F,t)=>{t.r(F),t.d(F,{ImagemapToken:()=>e});var S=t(169),D=t(891),K=t(541),M=t(826),b=t(39),$=t(524),m=t(876),v=Object.defineProperty,d=(r,h,x)=>h in r?v(r,h,{enumerable:!0,configurable:!0,writable:!0,value:x}):r[h]=x,o=(r,h,x)=>(d(r,typeof h!="symbol"?h+"":h,x),x);class i extends K.Token{constructor(h,x,A,T=D.default.getConfig(),y=[]){super(void 0,T,y),o(this,"type","imagemap-link"),this.append(h,x.length===2?new $.h(...x,T,y):new m.a(...x,T,y),new M.O(A,T,y))}}var c=Object.defineProperty,f=(r,h,x)=>h in r?c(r,h,{enumerable:!0,configurable:!0,writable:!0,value:x}):r[h]=x,a=(r,h,x)=>(f(r,typeof h!="symbol"?h+"":h,x),x);class e extends K.Token{constructor(h,x=D.default.getConfig(),A=[]){if(super(void 0,x,A,{}),a(this,"type","ext-inner"),!h)return;const T=h.split(`
`),y=new Set(x.protocol.split("|")),R=M.O;let B=!0,H=!1;for(const Q of T){const U=Q.trim();if(!(H||!U||U.startsWith("#"))){if(B){const[u,...P]=Q.split("|"),G=this.normalizeTitle(u,0,!0);if(G.valid&&G.ns===6){const N=new b._("imagemap",u,P.length>0?P.join("|"):void 0,x,A);super.insertAt(N),B=!1;continue}else H=!0}else if(Q.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(Q);continue}else if(Q.includes("[")){const u=Q.indexOf("["),P=Q.slice(u),G=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(P);if(G){if(this.normalizeTitle(G[1],0,!0,!1,!0).valid){super.insertAt(new i(Q.slice(0,u),G.slice(1),P.slice(P.indexOf("]]")+2),x,A));continue}}else if(y.has(P.slice(1,P.indexOf(":")+1))||y.has(P.slice(1,P.indexOf("//")+2))){const N=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(P);if(N){super.insertAt(new i(Q.slice(0,u),N.slice(1),P.slice(P.indexOf("]")+1),x,A));continue}}}}super.insertAt(new R(Q,x,A))}}get image(){return this.childNodes.find(({type:h})=>h==="imagemap-image")}toString(h){return super.toString(h,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(h){return h<this.length-1?1:0}lint(h=this.getAbsoluteIndex()){const x=super.lint(h),A={start:h,...this.getRootNode().posFromIndex(h)};return this.image?x.push(...this.childNodes.filter(T=>{const y=String(T).trim();return T.type==="noinclude"&&y&&!y.startsWith("#")}).map(T=>(0,S.D)(T,A,"invalid link in <imagemap>"))):x.push((0,S.Y)(this,A,"<imagemap> without an image")),x}print(){return super.print({sep:`
`})}}},541:(X,F,t)=>{t.r(F),t.d(F,{Token:()=>wt});var S=t(467),D=t(891),K=Object.defineProperty,M=(L,g,C)=>g in L?K(L,g,{enumerable:!0,configurable:!0,writable:!0,value:C}):L[g]=C,b=(L,g,C)=>(M(L,typeof g!="symbol"?g+"":g,C),C),$=(L,g,C)=>{if(!g.has(L))throw TypeError("Cannot "+C)},m=(L,g,C)=>($(L,g,"read from private field"),C?C.call(L):g.get(L)),v=(L,g,C)=>{if(g.has(L))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(L):g.set(L,C)},d=(L,g,C,z)=>($(L,g,"write to private field"),z?z.call(L,C):g.set(L,C),C),o=(L,g,C)=>($(L,g,"access private method"),C),i,c,f;class a{constructor(){v(this,c),b(this,"childNodes",[]),v(this,i,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return m(this,i)}get nextSibling(){var g;const C=(g=m(this,i))==null?void 0:g.childNodes;return C&&C[C.indexOf(this)+1]}get previousSibling(){var g;const C=(g=m(this,i))==null?void 0:g.childNodes;return C&&C[C.indexOf(this)-1]}get offsetHeight(){return o(this,c,f).call(this).height}get offsetWidth(){return o(this,c,f).call(this).width}getAttribute(g){return g in this?String(this[g]):void 0}setAttribute(g,C){g==="parentNode"?d(this,i,C):this[g]=C}getRootNode(){let{parentNode:g}=this;for(;g!=null&&g.parentNode;)({parentNode:g}=g);return g!=null?g:this}posFromIndex(g){const C=String(this);if(g>=-C.length&&g<=C.length){const z=C.slice(0,g).split(`
`);return{top:z.length-1,left:z[z.length-1].length}}}getPadding(){return 0}getGaps(g){return 0}getRelativeIndex(g){let C;const z=(Z,rt)=>C.slice(0,Z).reduce((mt,bt,It)=>mt+String(bt).length+rt.getGaps(It),0)+rt.getPadding();if(g===void 0){const{parentNode:Z}=this;return Z?({childNodes:C}=Z,z(C.indexOf(this),Z)):0}return{childNodes:C}=this,z(g,this)}getAbsoluteIndex(){const{parentNode:g}=this;return g?g.getAbsoluteIndex()+this.getRelativeIndex():0}}i=new WeakMap,c=new WeakSet,f=function(){const L=String(this).split(`
`);return{height:L.length,width:L[L.length-1].length}};const e=new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"]);class r extends a{get length(){return this.childNodes.length}text(g){return(0,S.fL)(this.childNodes,g)}normalize(){const{childNodes:g}=this;for(let C=g.length-1;C>=0;C--){const{type:z,data:Z}=g[C],rt=g[C-1];z!=="text"||this.getGaps(C-1)||(Z===""?g.splice(C,1):(rt==null?void 0:rt.type)==="text"&&(rt.setAttribute("data",rt.data+Z),g.splice(C,1)))}}removeAt(g){const{childNodes:C}=this,[z]=C.splice(g,1);return z}insertAt(g,C=this.length){const{childNodes:z}=this;return g.setAttribute("parentNode",this),z.splice(C,0,g),g}closest(g){let{parentNode:C}=this,z;const Z=new Set(g.split(",").map(rt=>rt.trim()));for(z=({type:rt})=>Z.has(rt);C;){if(z(C))return C;({parentNode:C}=C)}}append(...g){for(const C of g)this.insertAt(C)}replaceChildren(...g){this.childNodes.length=0,this.append(...g)}setText(g,C=0){const z=this.childNodes[C],{data:Z}=z;return z.replaceData(g),Z}toString(g,C=""){return this.childNodes.map(z=>z.toString()).join(C)}lint(g=this.getAbsoluteIndex()){const{SyntaxToken:C}=t(669);if(this instanceof C||this.constructor.hidden||this.type==="ext-inner"&&e.has(this.name))return[];const z=[];for(let Z=0,rt=g+this.getPadding();Z<this.length;Z++){const mt=this.childNodes[Z];z.push(...mt.lint(rt)),rt+=String(mt).length+this.getGaps(Z)}return z}print(g={}){var C;return String(this)?`<span class="wpb-${(C=g.class)!=null?C:this.type}">${(0,S.S0)(this.childNodes,g)}</span>`:""}}var h=Object.defineProperty,x=(L,g,C)=>g in L?h(L,g,{enumerable:!0,configurable:!0,writable:!0,value:C}):L[g]=C,A=(L,g,C)=>(x(L,typeof g!="symbol"?g+"":g,C),C),T=(L,g,C)=>{if(!g.has(L))throw TypeError("Cannot "+C)},y=(L,g,C)=>{if(g.has(L))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(L):g.set(L,C)},R=(L,g,C)=>(T(L,g,"access private method"),C),B,H;const Q=/https?:\/\/|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,U=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,u=["html","head","style","title","body","a","audio","img","video","embed","iframe","object","canvas","script","col","colgroup","tbody","tfoot","thead","button","input","label","option","select","textarea"];class P extends a{constructor(g){super(),y(this,B),A(this,"type","text"),A(this,"data",""),this.data=g}toString(){return this.data}text(){return this.data}lint(g=this.getAbsoluteIndex()){const{data:C,parentNode:z,nextSibling:Z,previousSibling:rt}=this,mt=z==null?void 0:z.type,bt=z==null?void 0:z.name,It=Z==null?void 0:Z.type,Vt=rt==null?void 0:rt.type,_t=mt==="free-ext-link"||mt==="ext-link-url"||mt==="image-parameter"&&bt==="link"?U:Q,Bt=[],{ext:kt,html:Jt}=this.getRootNode().getAttribute("config");if(C.search(_t)!==-1){_t.lastIndex=0;const Ut=this.getRootNode(),{top:Zt,left:jt}=Ut.posFromIndex(g),qt=new Set([kt,Jt,u].flat(2));for(let Ot=_t.exec(C);Ot;Ot=_t.exec(C)){const[,Ft,te]=Ot;let{0:Dt,index:Et}=Ot;Ft&&Ft!=="]"&&(Et+=Ft.length,Dt=Dt.slice(Ft.length));const Nt=g+Et,Mt=C.slice(0,Et).split(`
`),Kt=Mt.length+Zt-1,Gt=Mt[Mt.length-1],zt=Mt.length===1?jt+Gt.length:Gt.length,{0:ct,length:Wt}=Dt,Ht=Nt+Wt,Yt=String(Ut),yt=Yt[Ht],Lt=Yt[Nt-1],ee=Wt>1&&(ct!=="<"||/[\s/>]/u.test(yt!=null?yt:""))||ct==="{"&&(yt===ct||Lt==="-")||ct==="}"&&(Lt===ct||yt==="-")||ct==="["&&(yt===ct||mt==="ext-link-text"||!C.slice(Et+1).trim()&&It==="free-ext-link")||ct==="]"&&(Lt===ct||!C.slice(0,Et).trim()&&Vt==="free-ext-link")?"error":"warning";(ct!=="h"||Et>0)&&(ct!=="<"||qt.has(te.toLowerCase()))&&Bt.push({message:D.default.msg('lonely "$1"',ct==="h"?Dt:ct),severity:ee,startIndex:Nt,endIndex:Ht,startLine:Kt,endLine:Kt,startCol:zt,endCol:zt+Wt})}return Bt}return[]}replaceData(g){R(this,B,H).call(this,g)}}B=new WeakSet,H=function(L){this.setAttribute("data",L)};var G=Object.defineProperty,N=(L,g,C)=>g in L?G(L,g,{enumerable:!0,configurable:!0,writable:!0,value:C}):L[g]=C,O=(L,g,C)=>(N(L,typeof g!="symbol"?g+"":g,C),C),E=(L,g,C)=>{if(!g.has(L))throw TypeError("Cannot "+C)},l=(L,g,C)=>(E(L,g,"read from private field"),C?C.call(L):g.get(L)),s=(L,g,C)=>{if(g.has(L))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(L):g.set(L,C)},n=(L,g,C,z)=>(E(L,g,"write to private field"),z?z.call(L,C):g.set(L,C),C),p=(L,g,C,z)=>({set _(Z){n(L,g,Z,C)},get _(){return l(L,g,z)}}),w=(L,g,C)=>(E(L,g,"access private method"),C),W,_,I,V,Y,k,q,j,et,tt,at,nt,dt,J,st,it,lt,ut,ot,ft,At,Ct,$t,vt,pt,gt,xt,St;const{MAX_STAGE:Tt}=D.default,ht=class Xt extends r{constructor(g,C=D.default.getConfig(),z=[],Z){super(),s(this,Y),s(this,q),s(this,et),s(this,at),s(this,dt),s(this,st),s(this,lt),s(this,ot),s(this,At),s(this,$t),s(this,pt),s(this,xt),O(this,"type","root"),s(this,W,0),s(this,_,void 0),s(this,I,void 0),s(this,V,void 0),typeof g=="string"&&this.insertAt(g),n(this,_,C),n(this,I,z),z.push(this)}parseOnce(g=l(this,W),C=!1){if(g<l(this,W)||!this.isPlain()||this.length===0)return this;switch(g){case 0:this.type==="root"&&l(this,I).shift(),n(this,V,C),w(this,q,j).call(this,C);break;case 1:w(this,et,tt).call(this);break;case 2:w(this,at,nt).call(this);break;case 3:w(this,dt,J).call(this);break;case 4:w(this,st,it).call(this);break;case 5:w(this,lt,ut).call(this);break;case 6:w(this,ot,ft).call(this);break;case 7:w(this,At,Ct).call(this);break;case 8:w(this,$t,vt).call(this);break;case 9:w(this,pt,gt).call(this);break;case 10:w(this,xt,St).call(this)}if(this.type==="root")for(const z of l(this,I))z.parseOnce(g,C);return p(this,W)._++,this}buildFromStr(g,C){const z=g.split(/[\0\x7F]/u).map((Z,rt)=>{if(rt%2===0)return new P(Z);if(isNaN(Z[Z.lengtht-1]))return l(this,I)[Number(Z.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${Z}`)});return C==="string"?z.map(String).join(""):C==="text"?(0,S.fL)(z):z}afterBuild(){if(this.type==="root")for(const g of l(this,I))g.afterBuild()}parse(g=Tt,C=!1){for(;l(this,W)<g;)this.parseOnce(l(this,W),C);return g&&(w(this,Y,k).call(this),this.afterBuild()),this}getAttribute(g){switch(g){case"config":return JSON.parse(JSON.stringify(l(this,_)));case"accum":return l(this,I);case"include":{if(l(this,V)!==void 0)return l(this,V);const C=this.getRootNode();return C!==this?C.getAttribute("include"):!1}default:return super.getAttribute(g)}}setAttribute(g,C){switch(g){case"stage":l(this,W)===0&&this.type==="root"&&l(this,I).shift(),n(this,W,C);break;default:super.setAttribute(g,C)}}isPlain(){return this.constructor===Xt}insertAt(g,C=this.length){const z=typeof g=="string"?new P(g):g;return super.insertAt(z,C),z.type==="root"&&(z.type="plain"),z}normalizeTitle(g,C=0,z=!1,Z=!1,rt=!1){return D.default.normalizeTitle(g,C,l(this,V),l(this,_),z,Z,rt)}};W=new WeakMap,_=new WeakMap,I=new WeakMap,V=new WeakMap,Y=new WeakSet,k=function(){var L;n(this,W,Tt);const{length:g,firstChild:C}=this,z=String(C);if(g===1&&C.type==="text"&&z.includes("\0")&&(this.replaceChildren(...this.buildFromStr(z)),this.normalize(),this.type==="root"))for(const Z of l(this,I))w(L=Z,Y,k).call(L)},q=new WeakSet,j=function(L){const{parseCommentAndExt:g}=t(551);this.setText(g(String(this.firstChild),l(this,_),l(this,I),L))},et=new WeakSet,tt=function(){const{parseBraces:L}=t(313),g=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,C=L(g,l(this,_),l(this,I));this.setText(this.type==="root"?C:C.slice(1))},at=new WeakSet,nt=function(){var L;if((L=l(this,_).excludes)!=null&&L.includes("html"))return;const{parseHtml:g}=t(980);this.setText(g(String(this.firstChild),l(this,_),l(this,I)))},dt=new WeakSet,J=function(){var L;if((L=l(this,_).excludes)!=null&&L.includes("table"))return;const{parseTable:g}=t(508);this.setText(g(this,l(this,_),l(this,I)))},st=new WeakSet,it=function(){var L;if((L=l(this,_).excludes)!=null&&L.includes("hr"))return;const{parseHrAndDoubleUnderscore:g}=t(362);this.setText(g(this,l(this,_),l(this,I)))},lt=new WeakSet,ut=function(){const{parseLinks:L}=t(106);this.setText(L(String(this.firstChild),l(this,_),l(this,I)))},ot=new WeakSet,ft=function(){var L;if((L=l(this,_).excludes)!=null&&L.includes("quote"))return;const{parseQuotes:g}=t(704),C=String(this.firstChild).split(`
`);for(let z=0;z<C.length;z++)C[z]=g(C[z],l(this,_),l(this,I));this.setText(C.join(`
`))},At=new WeakSet,Ct=function(){var L;if((L=l(this,_).excludes)!=null&&L.includes("extLink"))return;const{parseExternalLinks:g}=t(418);this.setText(g(String(this.firstChild),l(this,_),l(this,I)))},$t=new WeakSet,vt=function(){var L;if((L=l(this,_).excludes)!=null&&L.includes("magicLink"))return;const{parseMagicLinks:g}=t(311);this.setText(g(String(this.firstChild),l(this,_),l(this,I)))},pt=new WeakSet,gt=function(){var L;if((L=l(this,_).excludes)!=null&&L.includes("list"))return;const{parseList:g}=t(904),C=String(this.firstChild).split(`
`);let z=this.type==="root"||this.type==="ext-inner"&&this.name==="poem"?0:1;for(;z<C.length;z++)C[z]=g(C[z],l(this,_),l(this,I));this.setText(C.join(`
`))},xt=new WeakSet,St=function(){if(l(this,_).variants.length>0){const{parseConverter:L}=t(370);this.setText(L(String(this.firstChild),l(this,_),l(this,I)))}};let wt=ht},299:(X,F,t)=>{t.d(F,{o:()=>a});var S=t(169),D=t(891),K=t(541),M=t(34),b=(e,r,h)=>{if(!r.has(e))throw TypeError("Cannot "+h)},$=(e,r,h)=>(b(e,r,"read from private field"),h?h.call(e):r.get(e)),m=(e,r,h)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,h)},v=(e,r,h,x)=>(b(e,r,"write to private field"),x?x.call(e,h):r.set(e,h),h),d=(e,r,h)=>(b(e,r,"access private method"),h),o,i,c,f;class a extends K.Token{constructor(r,h,x=D.default.getConfig(),A=[],T="|"){if(super(void 0,x,A,{}),m(this,c),m(this,o,!0),m(this,i,void 0),this.insertAt(new M.D(r,"link-target",x,A,{})),h!==void 0){const y=new K.Token(h,x,A,{});y.type="link-text",y.setAttribute("stage",D.default.MAX_STAGE-1),this.insertAt(y)}v(this,i,T)}afterBuild(){$(this,i).includes("\0")&&v(this,i,this.buildFromStr($(this,i),"string"))}setAttribute(r,h){r==="bracket"?v(this,o,!!h):super.setAttribute(r,h)}toString(r){const h=super.toString(r,$(this,i));return $(this,o)?`[[${h}]]`:h}text(){const r=super.text("|");return $(this,o)?`[[${r}]]`:r}getPadding(){return 2}getGaps(r){return r>=this.length-1?0:r===0?$(this,i).length:1}lint(r=this.getAbsoluteIndex()){const h=super.lint(r),{childNodes:[x,A],type:T}=this,{encoded:y,fragment:R}=d(this,c,f).call(this);let B;return T==="link"&&x.childNodes.some(({type:H})=>H==="template")&&(B={start:r,...this.getRootNode().posFromIndex(r)},h.push((0,S.D)(x,B,"template in an internal link target","warning"))),y&&(B!=null||(B={start:r,...this.getRootNode().posFromIndex(r)}),h.push((0,S.D)(x,B,"unnecessary URL encoding in an internal link"))),T==="link"&&(A!=null&&A.childNodes.some(({type:H,data:Q})=>H==="text"&&Q.includes("|")))?(B!=null||(B={start:r,...this.getRootNode().posFromIndex(r)}),h.push((0,S.D)(A,B,'additional "|" in the link text',"warning"))):T!=="link"&&R!==void 0&&(B!=null||(B={start:r,...this.getRootNode().posFromIndex(r)}),h.push((0,S.D)(x,B,"useless fragment"))),h}print(){return super.print($(this,o)?{pre:"[[",post:"]]",sep:$(this,i)}:{sep:$(this,i)})}}o=new WeakMap,i=new WeakMap,c=new WeakSet,f=function(){return this.normalizeTitle(this.firstChild.text(),0,!1,!0,!0)}},533:(X,F,t)=>{t.d(F,{q:()=>G});var S=t(467),D=t(169),K=t(891),M=t(299),b=t(541),$=Object.defineProperty,m=(N,O,E)=>O in N?$(N,O,{enumerable:!0,configurable:!0,writable:!0,value:E}):N[O]=E,v=(N,O,E)=>(m(N,typeof O!="symbol"?O+"":O,E),E),d=(N,O,E)=>{if(!O.has(N))throw TypeError("Cannot "+E)},o=(N,O,E)=>(d(N,O,"read from private field"),E?E.call(N):O.get(N)),i=(N,O,E)=>{if(O.has(N))throw TypeError("Cannot add the same private member more than once");O instanceof WeakSet?O.add(N):O.set(N,E)},c=(N,O,E,l)=>(d(N,O,"write to private field"),l?l.call(N,E):O.set(N,E),E),f;const a=new Set(["alt","link","lang","page","caption"]);function e(N,O,E=K.default.getConfig(),l=!1){O=O.trim();let s=O.replace(/\0\d+t\x7F/gu,"").trim();switch(N){case"width":return!s||/^(?:\d+x?|\d*x\d+)$/u.test(s);case"link":{if(!s||new RegExp(`^(?:(?:${E.protocol}|//)${S._X}|\0\\d+m\x7F)${S.Qk}$`,"iu").test(s))return O;s.startsWith("[[")&&s.endsWith("]]")&&(s=s.slice(2,-2));const p=K.default.normalizeTitle(s,0,!1,E,l,!0,!0);return p.valid&&p}case"lang":return!s||E.variants.includes(s);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(s)}}class r extends b.Token{constructor(O,E=K.default.getConfig(),l=[]){var s=(..._)=>{super(..._),v(this,"type","image-parameter"),i(this,f,"")},n;let p;const w=Object.entries(E.img).map(([_,I])=>[_,I,new RegExp(`^(\\s*)${_.replace("$1","(.*)")}(\\s*)$`,"u")]),W=w.find(([,_,I])=>(p=I.exec(O),p&&(p.length!==4||e(_,p[2],E,!0)!==!1)));if(W&&p){p.length===3?(s(void 0,E,l),c(this,f,O)):(s(p[2],E,l,{}),c(this,f,`${p[1]}${W[0]}${p[3]}`)),this.setAttribute("name",W[1]);return}s(O,{...E,excludes:[...(n=E.excludes)!=null?n:[],"list"]},l),this.setAttribute("name","caption"),this.setAttribute("stage",7)}get link(){return this.name==="link"?e("link",super.text(),this.getAttribute("config")):void 0}afterBuild(){var O;((O=this.parentNode)==null?void 0:O.type)==="gallery-image"&&!a.has(this.name)&&this.setAttribute("name","invalid")}isPlain(){return this.name==="caption"}toString(O){return o(this,f)?o(this,f).replace("$1",super.toString(O)):super.toString(O)}text(){return o(this,f)?o(this,f).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,o(this,f).indexOf("$1"))}lint(O=this.getAbsoluteIndex()){const E=super.lint(O),{link:l,name:s}=this;return s==="invalid"?E.push((0,D.Y)(this,{start:O},"invalid gallery image parameter")):typeof l=="object"&&l.encoded&&E.push((0,D.Y)(this,{start:O},"unnecessary URL encoding in an internal link")),E}print(){return o(this,f)?`<span class="wpb-image-parameter">${o(this,f).replace("$1",`<span class="wpb-image-caption">${(0,S.S0)(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}}f=new WeakMap;var h=Object.defineProperty,x=(N,O,E)=>O in N?h(N,O,{enumerable:!0,configurable:!0,writable:!0,value:E}):N[O]=E,A=(N,O,E)=>(x(N,typeof O!="symbol"?O+"":O,E),E),T=(N,O,E)=>{if(!O.has(N))throw TypeError("Cannot "+E)},y=(N,O,E)=>{if(O.has(N))throw TypeError("Cannot add the same private member more than once");O instanceof WeakSet?O.add(N):O.set(N,E)},R=(N,O,E)=>(T(N,O,"access private method"),E),B,H;const Q=new Set(["manualthumb","frameless","framed","thumbnail"]),U=new Set(["left","right","center","none"]),u=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]),P=(N,O,E,l)=>{if(l===void 0)return[];const s=new RegExp(`${[N,O,E].map(S.hr).join("|")}`,"gu"),n=[];let p=s.exec(l),w=0,W=0;for(;p;){const{0:_,index:I}=p;_!==E?w+=_===N?1:-1:w===0&&(n.push(l.slice(W,I)),{lastIndex:W}=s),p=s.exec(l)}return n.push(l.slice(W)),n};class G extends M.o{constructor(O,E,l=K.default.getConfig(),s=[],n="|"){super(O,void 0,l,s,n),y(this,B),A(this,"type","file"),this.append(...P("-{","}-","|",E).map(p=>new r(p,l,s)))}lint(O=this.getAbsoluteIndex()){const E=super.lint(O),l=this.getAllArgs().filter(({childNodes:I})=>{const V=I.filter(Y=>Y.text().trim());return V.length!==1||V[0].type!=="arg"}),s=[...new Set(l.map(({name:I})=>I))].filter(I=>I!=="invalid"),n=s.filter(I=>Q.has(I)),p=s.filter(I=>U.has(I)),w=s.filter(I=>u.has(I));if(l.length===s.length&&n.length<2&&p.length<2&&w.length<2)return E;const W={start:O,...this.getRootNode().posFromIndex(O)},_=(I,V)=>Y=>(0,D.D)(Y,W,K.default.msg(`${I} image $1 parameter`,V));for(const I of s){let V=l.filter(({name:Y})=>Y===I);I==="caption"&&(V=[...V.slice(0,-1).filter(Y=>Y.text()),...V.slice(-1)]),V.length>1&&E.push(...V.map(_("duplicated",I)))}return n.length>1&&E.push(...l.filter(({name:I})=>Q.has(I)).map(_("conflicting","frame"))),p.length>1&&E.push(...l.filter(({name:I})=>U.has(I)).map(_("conflicting","horizontal-alignment"))),w.length>1&&E.push(...l.filter(({name:I})=>u.has(I)).map(_("conflicting","vertical-alignment"))),E}getAllArgs(){return this.childNodes.slice(1)}getArgs(O){return this.getAllArgs().filter(({name:E})=>O===E)}getFrameArgs(){return R(this,B,H).call(this,Q,"\u6846\u67B6")}getHorizAlignArgs(){return R(this,B,H).call(this,U,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return R(this,B,H).call(this,u,"\u5782\u76F4\u5BF9\u9F50")}}B=new WeakSet,H=function(N,O){return this.getAllArgs().filter(({name:l})=>N.has(l))}},39:(X,F,t)=>{t.d(F,{_:()=>o});var S=t(169),D=t(891),K=t(541),M=t(533),b=(i,c,f)=>{if(!c.has(i))throw TypeError("Cannot "+f)},$=(i,c,f)=>{if(c.has(i))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(i):c.set(i,f)},m=(i,c,f)=>(b(i,c,"access private method"),f),v,d;class o extends M.q{constructor(c,f,a,e=D.default.getConfig(),r=[]){let h;if(a!==void 0){h=new K.Token(a,e,r),h.type="plain";for(let x=1;x<D.default.MAX_STAGE;x++)h.parseOnce();r.splice(r.indexOf(h),1)}super(f,h==null?void 0:h.toString(),e,r),$(this,v),this.setAttribute("bracket",!1),this.type=`${c}-image`}getPadding(){return 0}lint(c=this.getAbsoluteIndex()){const f=super.lint(c),{ns:a}=m(this,v,d).call(this);return a!==6&&f.push((0,S.Y)(this,{start:c},"invalid gallery image")),f}}v=new WeakSet,d=function(){const i=this.type==="imagemap-image";return this.normalizeTitle(String(this.firstChild),i?0:6,!0,!i)}},524:(X,F,t)=>{t.d(F,{h:()=>b});var S=t(299),D=Object.defineProperty,K=($,m,v)=>m in $?D($,m,{enumerable:!0,configurable:!0,writable:!0,value:v}):$[m]=v,M=($,m,v)=>(K($,typeof m!="symbol"?m+"":m,v),v);class b extends S.o{constructor(){super(...arguments),M(this,"type","link")}}},686:(X,F,t)=>{t.d(F,{k:()=>M});var S=t(169),D=t(891),K=t(541);class M extends K.Token{constructor($,m=!1,v=D.default.getConfig(),d=[]){super($,v,d,{}),this.type=m?"ext-link-url":"free-ext-link"}lint($=this.getAbsoluteIndex()){const m=super.lint($),v=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`,d=new RegExp(v,"u"),o=new RegExp(v,"gu");let i;for(const c of this.childNodes){const{type:f,data:a}=c;if(f!=="text"||!d.test(a))continue;i!=null||(i={start:$,...this.getRootNode().posFromIndex($)});const e=(0,S.D)(c,i,"","warning");o.lastIndex=0;for(let r=o.exec(a);r;r=o.exec(a)){const{index:h,0:x}=r,A=a.slice(0,h).split(`
`),{length:T}=A,{length:y}=A[A.length-1],R=$+h,B=e.startLine+T-1,H=T===1?e.startCol+y:y;m.push({...e,message:D.default.msg("$1 in URL",x.startsWith("|")?'"|"':D.default.msg("full-width punctuation")),startIndex:R,endIndex:R+x.length,startLine:B,endLine:B,startCol:H,endCol:H+x.length})}}return m}}},57:(X,F,t)=>{t.r(F),t.d(F,{NestedToken:()=>o});var S=t(169),D=t(891),K=t(541),M=t(895),b=t(826),$=t(976),m=Object.defineProperty,v=(i,c,f)=>c in i?m(i,c,{enumerable:!0,configurable:!0,writable:!0,value:f}):i[c]=f,d=(i,c,f)=>(v(i,typeof c!="symbol"?c+"":c,f),f);class o extends K.Token{constructor(c,f,a,e=D.default.getConfig(),r=[]){var h;c=(h=c==null?void 0:c.replace(f,(x,A,T,y,R)=>{const B=`\0${r.length+1}${A?"e":"c"}\x7F`;if(A)new M.$(A,T,y,R,e,r);else{const H=x.endsWith("-->");new $.T(x.slice(4,H?-3:void 0),H,e,r)}return B}))==null?void 0:h.replace(/(^|\0\d+[ce]\x7F)([^\0]+)(?=$|\0\d+[ce]\x7F)/gu,(x,A,T)=>(new b.O(T,e,r),`${A}\0${r.length}c\x7F`)),super(c,e,r,{}),d(this,"type","ext-inner")}lint(c=this.getAbsoluteIndex()){let f;return[...super.lint(c),...this.childNodes.filter(a=>{if(a.type==="ext"||a.type==="comment")return!1;const e=String(a).trim();return e&&!/^<!--.*-->$/su.test(e)}).map(a=>(f!=null||(f={start:c,...this.getRootNode().posFromIndex(c)}),(0,S.D)(a,f,D.default.msg("invalid content in <$1>",this.name))))]}}},439:(X,F,t)=>{t.d(F,{h:()=>K});var S=t(891),D=t(541);class K extends D.Token{get innerText(){return this.firstChild.data}constructor(b="",$=S.default.getConfig(),m=[]){super(b,$,m)}}},976:(X,F,t)=>{t.d(F,{T:()=>v});var S=t(169),D=t(959),K=t(891),M=t(439),b=Object.defineProperty,$=(d,o,i)=>o in d?b(d,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[o]=i,m=(d,o,i)=>($(d,typeof o!="symbol"?o+"":o,i),i);class v extends(0,D.a)(M.h){constructor(o,i=!0,c=K.default.getConfig(),f=[]){super(o,c,f),m(this,"type","comment"),m(this,"closed"),this.closed=i}getPadding(){return 4}lint(o=this.getAbsoluteIndex()){return this.closed?[]:[(0,S.Y)(this,{start:o},"unclosed HTML comment")]}toString(o){return`<!--${this.innerText}${this.closed?"-->":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}}},461:(X,F,t)=>{t.d(F,{k:()=>b});var S=t(933),D=Object.defineProperty,K=($,m,v)=>m in $?D($,m,{enumerable:!0,configurable:!0,writable:!0,value:v}):$[m]=v,M=($,m,v)=>(K($,typeof m!="symbol"?m+"":m,v),v);class b extends S.T{constructor(){super(...arguments),M(this,"type","dd")}}},491:(X,F,t)=>{t.r(F),t.d(F,{NowikiToken:()=>m});var S=t(169),D=t(891),K=t(439),M=Object.defineProperty,b=(v,d,o)=>d in v?M(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,$=(v,d,o)=>(b(v,typeof d!="symbol"?d+"":d,o),o);class m extends K.h{constructor(){super(...arguments),$(this,"type","ext-inner")}lint(d=this.getAbsoluteIndex()){const{name:o,firstChild:{data:i}}=this;return(o==="templatestyles"||o==="section")&&i?[(0,S.Y)(this,{start:d},D.default.msg("nothing should be in <$1>",o))]:super.lint(d)}}},933:(X,F,t)=>{t.d(F,{T:()=>D});var S=t(439);class D extends S.h{}},826:(X,F,t)=>{t.d(F,{O:()=>$});var S=t(959),D=t(439),K=Object.defineProperty,M=(m,v,d)=>v in m?K(m,v,{enumerable:!0,configurable:!0,writable:!0,value:d}):m[v]=d,b=(m,v,d)=>(M(m,typeof v!="symbol"?v+"":v,d),d);class $ extends(0,S.a)(D.h){constructor(){super(...arguments),b(this,"type","noinclude")}}},160:(X,F,t)=>{t.r(F),t.d(F,{ParamTagToken:()=>v});var S=t(169),D=t(891),K=t(541),M=t(34),b=Object.defineProperty,$=(d,o,i)=>o in d?b(d,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):d[o]=i,m=(d,o,i)=>($(d,typeof o!="symbol"?o+"":o,i),i);class v extends K.Token{constructor(o,i=D.default.getConfig(),c=[],f={}){if(super(void 0,i,c,{}),m(this,"type","ext-inner"),o){const a=M.D;this.append(...o.split(`
`).map(e=>new a(e,"param-line",i,c,{})))}}toString(o){return super.toString(o,`
`)}text(){return super.text(`
`)}getGaps(o){return o<this.length-1?1:0}lint(o=this.getAbsoluteIndex()){let i;return this.childNodes.filter(c=>{const{childNodes:f}=c,a=f.findIndex(({type:r})=>r!=="text"),e=(a>=0?f.slice(0,a).map(String).join(""):String(c)).trim();return e&&!(a>=0?/^[a-z]+(?:\[\])?\s*(?:=|$)/iu:/^[a-z]+(?:\[\])?\s*=/iu).test(e)}).map(c=>(i!=null||(i={start:o,...this.getRootNode().posFromIndex(o)}),(0,S.D)(c,i,D.default.msg("invalid parameter of $1",this.name))))}print(){return super.print({sep:`
`})}}},504:(X,F,t)=>{t.r(F),t.d(F,{InputboxToken:()=>M});var S=t(313),D=t(891),K=t(160);class M extends K.ParamTagToken{constructor($,m=D.default.getConfig(),v=[]){const d=Symbol("InputboxToken");v.push(d),$&&($=(0,S.parseBraces)($,m,v)),v.splice(v.indexOf(d),1),super($,m,v,{})}}},435:(X,F,t)=>{t.r(F),t.d(F,{PreToken:()=>m});var S=t(891),D=t(541),K=t(826),M=Object.defineProperty,b=(v,d,o)=>d in v?M(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,$=(v,d,o)=>(b(v,typeof d!="symbol"?d+"":d,o),o);class m extends D.Token{constructor(d,o=S.default.getConfig(),i=[]){if(d){const c="<nowiki>",f="</nowiki>",{length:a}=c;let e=d.indexOf(c),r=d.indexOf(f,e+a),h="";for(;e!==-1&&r!==-1;)new K.O(c,o,i),new K.O(f,o,i),h+=`${d.slice(0,e)}\0${i.length-1}c\x7F${d.slice(e+a,r)}\0${i.length}c\x7F`,d=d.slice(r+a+1),e=d.indexOf(c),r=d.indexOf(f,e+a);d=`${h}${d}`}super(d,o,i,{}),$(this,"type","ext-inner"),this.setAttribute("stage",S.default.MAX_STAGE-1)}isPlain(){return!0}}},669:(X,F,t)=>{t.r(F),t.d(F,{SyntaxToken:()=>K});var S=t(891),D=t(541);class K extends D.Token{constructor(b,$,m="plain",v=S.default.getConfig(),d=[],o){super(b,v,d,o),this.type=m}}},895:(X,F,t)=>{t.d(F,{$:()=>o});var S=t(169),D=t(891),K=t(541),M=t(415),b=t(83),$=Object.defineProperty,m=(i,c,f)=>c in i?$(i,c,{enumerable:!0,configurable:!0,writable:!0,value:f}):i[c]=f,v=(i,c,f)=>(m(i,typeof c!="symbol"?c+"":c,f),f);const d=(i,c)=>{const f=new Set(i);return f.delete(c),[...f]};class o extends M.m{constructor(c,f,a,e,r=D.default.getConfig(),h=[]){var x;const A=c.toLowerCase(),T=new b.x(!f||/^\s/u.test(f)?f:` ${f}`,"ext-attrs",A,r,h),y={...r,ext:d(r.ext,A),excludes:[...(x=r.excludes)!=null?x:[]]};let R;switch(y.inExt=!0,A){case"tab":y.ext=d(y.ext,"tabs");case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":A==="poem"&&y.excludes.push("heading"),R=new K.Token(a,y,h);break;case"pre":{const{PreToken:B}=t(435);R=new B(a,y,h);break}case"dynamicpagelist":{const{ParamTagToken:B}=t(160);R=new B(a,y,h);break}case"inputbox":{y.excludes.push("heading");const{InputboxToken:B}=t(504);R=new B(a,y,h);break}case"references":{const{NestedToken:B}=t(57);R=new B(a,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],y,h);break}case"choose":{const{NestedToken:B}=t(57);R=new B(a,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],y,h);break}case"combobox":{const{NestedToken:B}=t(57);R=new B(a,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],y,h);break}case"gallery":{const{GalleryToken:B}=t(420);R=new B(a,y,h);break}case"imagemap":{const{ImagemapToken:B}=t(842);R=new B(a,y,h);break}default:{const{NowikiToken:B}=t(491);R=new B(a,y)}}R.setAttribute("name",A),R.type="ext-inner",super(c,T,R,e,r,h),v(this,"type","ext")}lint(c=this.getAbsoluteIndex()){const f=super.lint(c);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const a=this.getRootNode(),e={start:c,...a.posFromIndex(c)};f.push((0,S.Y)(this,e,"extension tag in HTML tag attributes"))}return f}}},415:(X,F,t)=>{t.d(F,{m:()=>o});var S=t(891),D=t(541),K=(i,c,f)=>{if(!c.has(i))throw TypeError("Cannot "+f)},M=(i,c,f)=>(K(i,c,"read from private field"),f?f.call(i):c.get(i)),b=(i,c,f)=>{if(c.has(i))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(i):c.set(i,f)},$=(i,c,f,a)=>(K(i,c,"write to private field"),a?a.call(i,f):c.set(i,f),f),m,v,d;class o extends D.Token{constructor(c,f,a,e,r=S.default.getConfig(),h=[]){super(void 0,r),b(this,m,void 0),b(this,v,void 0),b(this,d,void 0),this.setAttribute("name",c.toLowerCase()),$(this,d,[c,e||c]),$(this,m,e===void 0),$(this,v,e!==""),this.append(f,a);const x=typeof f=="string"?-1:h.indexOf(f);h.splice(x===-1?1/0:x,0,this)}get closed(){return M(this,v)}toString(c){const{firstChild:f,lastChild:a}=this,[e,r]=M(this,d);return M(this,m)?`<${e}${f.toString(c)}/>`:`<${e}${f.toString(c)}>${a.toString(c)}${this.closed?`</${r}>`:""}`}text(){const[c,f]=M(this,d);return M(this,m)?`<${c}${this.firstChild.text()}/>`:`<${c}${super.text(">")}${this.closed?`</${f}>`:""}`}getPadding(){return M(this,d)[0].length+1}getGaps(c){return 1}print(){const[c,f]=M(this,d);return super.print(M(this,m)?{pre:`&lt;${c}`,post:"/&gt;"}:{pre:`&lt;${c}`,sep:"&gt;",post:this.closed?`&lt;/${f}&gt;`:""})}}m=new WeakMap,v=new WeakMap,d=new WeakMap},169:(X,F,t)=>{t.d(F,{D:()=>D,Y:()=>K});var S=t(891);const D=(M,b,$,m="error")=>{const v=M.getRelativeIndex(),{offsetHeight:d,offsetWidth:o,parentNode:i}=M,{top:c,left:f}=i.posFromIndex(v),{start:a}=b,{top:e,left:r}="top"in b?b:M.getRootNode().posFromIndex(a),h=String(M),x=a+v,A=e+c,T=c?f:r+f;return{message:S.default.msg($),severity:m,startIndex:x,endIndex:x+h.length,startLine:A,endLine:A+d-1,startCol:T,endCol:d===1?T+o:o}},K=(M,b,$,m="error")=>{const{start:v}=b,{offsetHeight:d,offsetWidth:o}=M,i=String(M),{top:c,left:f}="top"in b?b:M.getRootNode().posFromIndex(v);return{message:S.default.msg($),severity:m,startIndex:v,endIndex:v+i.length,startLine:c,endLine:c+d-1,startCol:f,endCol:d===1?f+o:o}}},467:(X,F,t)=>{t.d(F,{PN:()=>K,Qk:()=>D,S0:()=>v,_X:()=>S,fL:()=>b,hr:()=>M,jq:()=>m,m9:()=>$});const S='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])',D='(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',K=d=>d.replace(/\0\d+c\x7F/gu,""),M=d=>d.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),b=(d,o="")=>d.map(i=>typeof i=="string"?i:i.text()).join(o),$=d=>d.replace(/&#(\d+|x[\da-f]+);/giu,(o,i)=>String.fromCodePoint(+`${i[0].toLowerCase()==="x"?"0":""}${i}`)),m=d=>d.replace(/\n/gu,"\\n"),v=(d,o={})=>{const{pre:i="",post:c="",sep:f=""}=o,a={"&":"amp","<":"lt",">":"gt"};return`${i}${d.map(e=>e.type==="text"?e.data.replace(/[&<>]/gu,r=>`&${a[r]};`):e.print()).join(f)}${c}`}},166:X=>{X.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"6":"File","10":"Template"},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#regex":"regex","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":[]}')}},Rt={};function Pt(X){var F=Rt[X];if(F!==void 0)return F.exports;var t=Rt[X]={exports:{}};return Qt[X](t,t.exports,Pt),t.exports}Pt.d=(X,F)=>{for(var t in F)Pt.o(F,t)&&!Pt.o(X,t)&&Object.defineProperty(X,t,{enumerable:!0,get:F[t]})},Pt.o=(X,F)=>Object.prototype.hasOwnProperty.call(X,F),Pt.r=X=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})};var ne=Pt(891)})();})();
