(()=>{var yt=Object.defineProperty;var St=(D,H,U)=>H in D?yt(D,H,{enumerable:!0,configurable:!0,writable:!0,value:U}):D[H]=U;var v=(D,H,U)=>(St(D,typeof H!="symbol"?H+"":H,U),U),nt=(D,H,U)=>{if(!H.has(D))throw TypeError("Cannot "+U)};var y=(D,H,U)=>(nt(D,H,"read from private field"),U?U.call(D):H.get(D)),I=(D,H,U)=>{if(H.has(D))throw TypeError("Cannot add the same private member more than once");H instanceof WeakSet?H.add(D):H.set(D,U)},B=(D,H,U,q)=>(nt(D,H,"write to private field"),q?q.call(D,U):H.set(D,U),U),rt=(D,H,U,q)=>({set _(x){B(D,H,x,U)},get _(){return y(D,H,q)}}),V=(D,H,U)=>(nt(D,H,"access private method"),U);(()=>{var D={6010:(x,k,s)=>{"use strict";const f={config:void 0,minConfig:s(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(a,g=0,l=!1,i=f.getConfig(),e=!1,t=!1){let n;if(!e){const h=s(8138);n=this.run(()=>{const d=new h(String(a),i),u=d.getAttribute("parseOnce");return u(0,l),u()}),a=n.firstChild}const r=s(6986);return new r(String(a),g,i,t)},parse(a,g,l=f.MAX_STAGE,i=f.getConfig()){const e=s(8138);let t;return this.run(()=>{typeof a=="string"?t=new e(a,i):a instanceof e&&(t=a,a=String(t));try{t.parse(l,g)}catch(n){}}),t},run(a){return a()}},m={},$=new Set(["MAX_STAGE","minConfig"]),p=new Set(["config","normalizeTitle","parse"]);for(const a in f)$.has(a)?m[a]={enumerable:!1,writable:!1}:p.has(a)||(m[a]={enumerable:!1});Object.defineProperties(f,m),typeof self=="object"&&(self.Parser=f),x.exports=f},9205:(x,k,s)=>{"use strict";const{print:f}=s(231),m=s(3853),$=s(7507),a=class extends m{constructor(){super(...arguments);v(this,"name")}get length(){return this.childNodes.length}closest(i){const e=new Set(i.split(",").map(n=>n.trim()));let{parentNode:t}=this;for(;t;){if(e.has(t.type))return t;({parentNode:t}=t)}}append(...i){for(const e of i)this.insertAt(e)}replaceChildren(...i){for(let e=this.childNodes.length-1;e>=0;e--)this.removeAt(e);this.append(...i)}setText(i,e=0){const t=this.childNodes[e],{type:n,data:r}=t;if(n==="text")return t.replaceData(i),r}toString(i,e=""){return this.childNodes.map(t=>t.toString()).join(e)}lint(i=0){const e=s(8058);if(this instanceof e||this.constructor.hidden||this.type==="ext-inner"&&a.lintIgnoredExt.has(this.name))return[];const t=[];for(let n=0,r=i+this.getPadding();n<this.childNodes.length;n++){const o=this.childNodes[n];t.push(...o.lint(r)),r+=String(o).length+this.getGaps(n)}return t}print(i={}){return String(this)?`<span class="wpb-${i.class||this.type}">${f(this.childNodes,i)}</span>`:""}};let p=a;v(p,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),x.exports=p},3853:(x,k,s)=>{var $,p,tt,g,it;"use strict";const{text:f}=s(231);class m{constructor(){I(this,p);I(this,g);v(this,"type");v(this,"childNodes",[]);I(this,$,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return y(this,$)}get nextSibling(){var t;const e=(t=y(this,$))==null?void 0:t.childNodes;return e&&e[e.indexOf(this)+1]}get previousSibling(){var t;const e=(t=y(this,$))==null?void 0:t.childNodes;return e&&e[e.indexOf(this)-1]}hasAttribute(e){const t=typeof e;return t==="string"||t==="number"||t==="symbol"?e in this:!1}getAttribute(e){return this.hasAttribute(e)?String(this[e]):void 0}setAttribute(e,t){return e==="parentNode"?B(this,$,t):this[e]=t,this}text(e=""){return f(this.childNodes,e)}removeAt(e){const t=[...this.childNodes],[n]=t.splice(e,1);return n.setAttribute("parentNode"),this.setAttribute("childNodes",t),n}insertAt(e,t=this.childNodes.length){const n=[...this.childNodes];return-1===-1&&e.setAttribute("parentNode",this),n.splice(t,0,e),this.setAttribute("childNodes",n),e}normalize(){var n;const e=s(7507),t=[...this.childNodes];for(let r=t.length-1;r>=0;r--){const{type:o,data:h}=t[r];this.getGaps(r-1)||(h===""?t.splice(r,1):o==="text"&&((n=t[r-1])==null?void 0:n.type)==="text"&&(t[r-1].setAttribute("data",t[r-1].data+h),t.splice(r,1)))}this.setAttribute("childNodes",t)}getRootNode(){let{parentNode:e}=this;for(;e!=null&&e.parentNode;)({parentNode:e}=e);return e!=null?e:this}posFromIndex(e){const t=String(this);if(e>=-t.length&&e<=t.length){const n=t.slice(0,e).split(`
`);return{top:n.length-1,left:n[n.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(e){let t;const n=(r,o)=>t.slice(0,r).reduce((h,d,u)=>h+String(d).length+o.getGaps(u),0)+o.getPadding();if(e===void 0){const{parentNode:r}=this;return r?({childNodes:t}=r,n(t.indexOf(this),r)):0}return{childNodes:t}=this,n(e,this)}get offsetHeight(){return V(this,p,tt).call(this).height}get offsetWidth(){return V(this,p,tt).call(this).width}get style(){return{...V(this,g,it).call(this),...V(this,p,tt).call(this),padding:this.getPadding()}}}$=new WeakMap,p=new WeakSet,tt=function(){const e=String(this).split(`
`);return{height:e.length,width:e[e.length-1].length}},g=new WeakSet,it=function(e){var t,n;return e===void 0?(n=(t=this.parentNode)==null?void 0:t.posFromIndex(this.getRelativeIndex()))!=null?n:{top:0,left:0}:this.posFromIndex(this.getRelativeIndex(e))},x.exports=m},7507:(x,k,s)=>{var g,ot;"use strict";const f=s(3853),m=s(9205),$=/https?:|[{}]+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu,p=/[{}]+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu;class a extends f{constructor(t=""){super();I(this,g);v(this,"type","text");v(this,"data");this.data=t}toString(){return this.data}text(){return this.data}lint(t=0){var c;const{data:n,parentNode:r}=this,o=r==null?void 0:r.type,h=r==null?void 0:r.name,d=o==="free-ext-link"||o==="ext-link-url"||o==="image-parameter"&&h==="link"?p:$,u=[];if(n.search(d)!==-1){d.lastIndex=0;const S=this.getRootNode(),{top:T,left:A}=S.posFromIndex(t);for(let w=d.exec(n);w;w=d.exec(n)){const[,C]=w;let{0:b,index:P}=w;C&&(P+=C.length,b=b.slice(C.length));const N=n.slice(0,P).split(`
`),O=N.length+T-1,E=N[N.length-1],L=N.length>1?E.length:A+E.length,{0:j,length:z}=b;let J=j==="{"||j==="}"||z>1?"error":"warning";if(j==="h")switch(r==null?void 0:r.type){case"ext-link-text":J="warning";break;case"attr-value":{const{parentNode:G}=r;if(((G==null?void 0:G.name)==="src"||(G==null?void 0:G.name)==="srcset")&&((c=G==null?void 0:G.parentNode)==null?void 0:c.name)==="img")continue;break}case"ext-inner":if(h==="sm2"||h==="flashmp3")continue}u.push({message:`\u5B64\u7ACB\u7684"${j==="h"?b:j}"`,severity:J,startLine:O,endLine:O,startCol:L,endCol:L+z})}}return u}replaceData(t=""){V(this,g,ot).call(this,t)}}g=new WeakSet,ot=function(t){return t=String(t),this.setAttribute("data",t),this},x.exports=a},6986:(x,k,s)=>{"use strict";const f=s(6010);class m{constructor(p,a=0,g=f.getConfig(),l=!1){v(this,"valid",!0);v(this,"ns",0);const{namespaces:i,nsid:e}=g;let t=i[a];if(l&&p.includes("%"))try{p=decodeURIComponent(p)}catch(h){}p=p.replace(/_/gu," ").trim(),p[0]===":"&&(t="",p=p.slice(1).trim());const n=p.split(":");if(n.length>1){const h=i[e[n[0].trim().toLowerCase()]];h!==void 0&&(t=h,p=n.slice(1).join(":").trim())}this.ns=e[t.toLowerCase()];const r=p.indexOf("#");let o="";r!==-1&&(o=p.slice(r+1).trim(),p=p.slice(0,r).trim()),this.valid=Boolean(p||o)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(p)}}x.exports=m},2308:x=>{"use strict";const k=s=>{var f;return f=class extends s{text(){return""}},v(f,"hidden",!0),f};x.exports=k},8275:(x,k,s)=>{"use strict";const{removeComment:f}=s(231),m=s(6010),$=s(9450),p=s(1782),a=s(9544),g=(l,i=m.getConfig(),e=[])=>{var S,T,A,w,C;const t="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",n=[],r={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},o={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let h=new RegExp(t,"gmu"),d=h.exec(l),u=l.includes("}}"),c;for(;d||c<=l.length&&((T=(S=n[n.length-1])==null?void 0:S[0])==null?void 0:T[0])==="=";){if(d!=null&&d[1]){const[,{length:Q}]=d;d[0]=d[0].slice(Q),d.index+=Q}const{0:b,index:P}=d!=null?d:{0:`
`,index:l.length},N=(A=n.pop())!=null?A:{},{0:O,index:E,parts:L,findEqual:j,pos:z}=N,J=b==="="&&j;if(b==="]]"||b==="}-")c=P+2;else if(b===`
`){c=P+1;const{pos:Q,findEqual:W}=(w=n[n.length-1])!=null?w:{};if(!Q||W||f(l.slice(Q,E))!==""){const K=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(l.slice(E,P));K&&(l=`${l.slice(0,E)}\0${e.length}h\x7F${l.slice(P)}`,c=E+4+String(e.length).length,new $(K[1].length,K.slice(2),i,e))}}else if(b==="|"||J)c=P+1,L[L.length-1].push(l.slice(z,P)),b==="|"&&L.push([]),N.pos=c,N.findEqual=b==="|",n.push(N);else if(b.startsWith("}}")){const Q=b.slice(0,Math.min(O.length,3)),W=O.length-Q.length,{length:K}=e;c=P+Q.length,L[L.length-1].push(l.slice(z,P));let Z=!1,st="t";if(Q.length===3)new a(L.map(Y=>Y.join("=")),i,e);else{const Y=f(L[0][0]).trim();Y in o?st=o[Y]:/^(?:fullurl|canonicalurl|filepath):./iu.test(Y)&&(st="m");try{new p(L[0][0],L.slice(1),i,e)}catch(F){if(F instanceof Error&&F.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))c=E+O.length,Z=!0;else throw F}}Z||(l=`${l.slice(0,E+W)}\0${K}${st}\x7F${l.slice(c)}`,c=E+W+3+String(K).length,W>1?n.push({0:O.slice(0,W),index:E,pos:E+W,parts:[[]]}):W===1&&l[E-1]==="-"&&n.push({0:"-{",index:E-1,pos:E+1,parts:[[]]}))}else c=P+b.length,b[0]==="{"&&(d.pos=c,d.parts=[[]]),n.push(..."0"in N?[N]:[],d);u&&(u=l.slice(c).includes("}}"));let G=n[n.length-1];!u&&((C=G==null?void 0:G[0])==null?void 0:C[0])==="{"&&(n.pop(),G=n[n.length-1]),h=new RegExp(t+(G?`|${r[G[0][0]]}${G.findEqual?"|=":""}`:""),"gmu"),h.lastIndex=c,d=h.exec(l)}return l};x.exports=g},4907:(x,k,s)=>{"use strict";const f=s(6010),m=s(851),$=s(3423),p=s(8655),a=s(7267),g=s(5749),l=(i,e=f.getConfig(),t=[],n=!1)=>{const r=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(n&&i.search(r)!==-1)return i.replace(r,(c,S)=>{const T=`\0${t.length}e\x7F`;return new m(S,e,t),T}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(c,S,T)=>T===""?S:(new $(T,e,t),`${S}\0${t.length-1}c\x7F`));const o=e.ext.join("|"),h=n?"includeonly":"(?:no|only)include",d=n?"noinclude":"includeonly",u=new RegExp(`<!--.*?(?:-->|$)|<${h}(?:\\s[^>]*?)?>|</${h}\\s*>|<(${o})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${d})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return i.replace(u,(c,S,T,A,w,C,b,P,N)=>{const O=`\0${t.length}${S?"e":"c"}\x7F`;if(S)new a(S,T,A,w,e,t);else if(c.startsWith("<!--")){const E=c.endsWith("-->");new g(c.slice(4,E?-3:void 0),E,e,t)}else C?new p(C,b,P,N,e,t):new $(c,e,t);return O})};x.exports=l},3765:(x,k,s)=>{"use strict";const f=s(6010),m=s(9910),$=(p,a=f.getConfig(),g=[])=>{const l=/-\{/gu,i=/-\{|\}-/gu,e=[];let t=l,n=t.exec(p);for(;n;){const{0:r,index:o}=n;if(r==="}-"){const h=e.pop(),{length:d}=g,u=p.slice(h.index+2,o),c=u.indexOf("|"),[S,T]=c===-1?[[],u]:[u.slice(0,c).split(";"),u.slice(c+1)],A=T.replace(/(&[#a-z\d]+);/giu,"$1"),w=`(?:${a.variants.join("|")})`,C=A.split(new RegExp(`;(?=\\s*(?:${w}|[^;]*?=>\\s*${w})\\s*:)`,"u")).map(b=>b.replace(/\x01/gu,";"));new m(S,C,a,g),p=`${p.slice(0,h.index)}\0${d}v\x7F${p.slice(o+2)}`,e.length===0&&(t=l),t.lastIndex=h.index+3+String(d).length}else e.push(n),t=i,t.lastIndex=o+2;n=t.exec(p)}return p};x.exports=$},7513:(x,k,s)=>{"use strict";const{extUrlChar:f}=s(231),m=s(6010),$=s(741),p=(a,g=m.getConfig(),l=[])=>{const i=new RegExp(`\\[((?:${g.protocol}|//)${f}|\0\\d+m\x7F)(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return a.replace(i,(e,t,n,r)=>{const{length:o}=l,h=/&[lg]t;/u.exec(t);return h&&(t=t.slice(0,h.index),n="",r=`${t.slice(h.index)}${n}${r}`),new $(t,n,r,g,l),`\0${o}w\x7F`})};x.exports=p},2937:(x,k,s)=>{"use strict";const f=s(6010),m=s(7507),$=s(8138),p=s(2582),a=s(7815),g=({firstChild:{data:l},type:i,name:e},t=f.getConfig(),n=[])=>{const{doubleUnderscore:r}=t,o=new Set(r[0]),h=new Set(r[1]);return i!=="root"&&(i!=="ext-inner"||e!=="poem")&&(l=`\0${l}`),l=l.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(d,u,c)=>(new p(c.length,t,n),`${u}\0${n.length-1}r\x7F`)).replace(new RegExp(`__(${r.flat().join("|")})__`,"giu"),(d,u)=>o.has(u.toLowerCase())||h.has(u)?(new a(u,t,n),`\0${n.length-1}u\x7F`):d),i==="root"||i==="ext-inner"&&e==="poem"?l:l.slice(1)};x.exports=g},5130:(x,k,s)=>{"use strict";const f=s(6010),m=s(5649),$=s(2350),p=(a,g=f.getConfig(),l=[])=>{const i=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,e=new Set(g.html.flat()),t=a.split("<");let n=t.shift();for(const r of t){const o=i.exec(r),h=o==null?void 0:o[2],d=h==null?void 0:h.toLowerCase();if(!o||!e.has(d)){n+=`<${r}`;continue}const[,u,,c="",S,T]=o,A=new m(c,"html-attrs",d,g,l),w=A.getAttr("itemprop");if(d==="meta"&&(w===void 0||A.getAttr("content")===void 0)||d==="link"&&(w===void 0||A.getAttr("href")===void 0)){n+=`<${r}`,l.pop();continue}n+=`\0${l.length}x\x7F${T}`,new $(h,A,u==="/",S==="/>",g,l)}return n};x.exports=p},1452:(x,k,s)=>{"use strict";const f=s(6010),m=s(3905),$=s(7625),p=s(337),a=(g,l=f.getConfig(),i=[])=>{const e=s(3360),t=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,n=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,r=new RegExp(`^\\s*(?:${l.protocol})`,"iu"),o=g.split("[[");let h=o.shift();for(let d=0;d<o.length;d++){let u,c,S,T,A;const w=o[d],C=t.exec(w);if(C)[,c,S,T,A]=C,A[0]==="]"&&(T==null?void 0:T.includes("["))&&(T+="]",A=A.slice(1));else{const L=n.exec(w);L&&(u=!0,[,c,S,T]=L)}if(c===void 0||r.test(c)||/\0\d+[exhbru]\x7F/u.test(c)){h+=`[[${w}`;continue}const b=c.trim()[0]===":";if(b&&u){h+=`[[${w}`;continue}const P=f.normalizeTitle(c,0,!1,l,!0,!0),{ns:N,valid:O}=P;if(O){if(u){if(N!==6){h+=`[[${w}`;continue}let L;for(d++;d<o.length;d++){const j=o[d],z=j.split("]]");if(z.length>2){L=!0,T+=`[[${z[0]}]]${z[1]}`,A=z.slice(2).join("]]");break}else if(z.length===2)T+=`[[${z[0]}]]${z[1]}`;else{T+=`[[${j}`;break}}if(T=a(T,l,i),!L){h+=`[[${c}${S}${T}`;continue}}}else{h+=`[[${w}`;continue}T&&(T=e(T,l,i)),h+=`\0${i.length}l\x7F${A}`;let E=m;b||(N===6?E=$:N===14&&(E=p)),new E(c,T,P,l,i,S)}return h};x.exports=a},6622:(x,k,s)=>{"use strict";const f=s(6010),m=s(962),$=s(3434),p=(a,g=f.getConfig(),l=[])=>{const i=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(a);if(!i)return a;const[e,t,n]=i;a=`${t}\0${l.length}d\x7F${a.slice(e.length)}`,new m(n,g,l);let r=n.split(";").length-1;if(!r)return a;let o=/:+|-\{/gu,h=o.exec(a),d=0;for(;h&&r;){const{0:u,index:c}=h;if(u[0]===":"){if(u.length>=r)return new $(":".repeat(r),g,l),`${a.slice(0,c)}\0${l.length-1}d\x7F${a.slice(c+r)}`;a=`${a.slice(0,c)}\0${l.length}d\x7F${a.slice(o.lastIndex)}`,r-=u.length,o.lastIndex=c+4+String(l.length).length,new $(u,g,l)}else if(u==="-{"){if(!d){const{lastIndex:S}=o;o=/-\{|\}-/gu,o.lastIndex=S}d++}else if(d--,!d){const{lastIndex:S}=o;o=/:+|-\{/gu,o.lastIndex=S}h=o.exec(a)}return a};x.exports=p},4737:(x,k,s)=>{"use strict";const{extUrlChar:f}=s(231),m=s(6010),$=s(8962),p=(a,g=m.getConfig(),l=[])=>{const i=new RegExp(`(^|[^\\p{L}\\d_])(?:${g.protocol})(${f})`,"giu");return a.replace(i,(e,t,n)=>{let r="",o=t?e.slice(1):e;const h=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(o);h&&(r=o.slice(h.index),o=o.slice(0,h.index));const d=new RegExp(`[,;.:!?${o.includes("(")?"":")"}]+$`,"u"),u=d.exec(o);if(u){let c=0;u[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(o.slice(0,u.index))&&(c=1),r=`${o.slice(u.index+c)}${r}`,o=o.slice(0,u.index+c)}return r.length>=n.length?e:(new $(o,!1,g,l),`${t}\0${l.length-1}w\x7F${r}`)})};x.exports=p},3360:(x,k,s)=>{"use strict";const f=s(6010),m=s(6714),$=(p,a=f.getConfig(),g=[])=>{var h;const l=p.split(/('{2,})/u),{length:i}=l;if(i===1)return p;let e=0,t=0,n,r,o;for(let d=1;d<i;d+=2){const{length:u}=l[d];switch(u){case 2:t++;break;case 4:l[d-1]+="'",l[d]="'''";case 3:if(e++,n)break;l[d-1].endsWith(" ")?!r&&!o&&(o=d):l[d-1].slice(-2,-1)===" "?n=d:r||(r=d);break;default:l[d-1]+="'".repeat(u-5),l[d]="'''''",t++,e++}}if(t%2===1&&e%2===1){const d=(h=n!=null?n:r)!=null?h:o;l[d]="''",l[d-1]+="'"}for(let d=1;d<i;d+=2)new m(l[d].length,a,g),l[d]=`\0${g.length-1}q\x7F`;return l.join("")};x.exports=$},4624:(x,k,s)=>{"use strict";const f=s(6010),m=s(7507),$=s(8138),p=s(2840),a=s(3125),g=s(5567),l=s(3434),i=({firstChild:{data:e},type:t,name:n},r=f.getConfig(),o=[])=>{const h=[],d=e.split(`
`);let u=t==="root"||t==="parameter-value"||t==="ext-inner"&&n==="poem"?"":`
${d.shift()}`;const c=(S,T)=>{if(!T){u+=S;return}const{lastChild:A}=T;if(A.constructor===$)A.setText(String(A)+S);else{const w=new $(S,r,!0,o);w.type="table-inter",T.insertAt(w.setAttribute("stage",3))}};for(const S of d){let T=h.pop();const[A]=/^(?:\s|\0\d+c\x7F)*/u.exec(S),w=S.slice(A.length),C=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(w);if(C){for(;T&&T.type!=="td";)T=h.pop();const[,L,j,z,J]=C;L&&new l(L,r,o),c(`
${A}${L&&`\0${o.length-1}d\x7F`}${j}\0${o.length}b\x7F`,T);const G=new p(z,J,r,o);h.push(...T?[T]:[],G);continue}else if(!T){u+=`
${S}`;continue}const b=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(w);if(!b){c(`
${S}`,T),h.push(...T?[T]:[]);continue}const[,P,N,O,E]=b;if(P){for(;!(T instanceof p);)T=h.pop();T.close(`
${A}${P}`,!0),c(E,h[h.length-1])}else if(N){T.type==="td"&&(T=h.pop()),T.type==="tr"&&(T=h.pop());const L=new a(`
${A}${N}`,E,r,o);h.push(T,L),T.insertAt(L)}else{T.type==="td"&&(T=h.pop());const L=O==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let j=L.exec(E),z=0,J=`
${A}${O}`;for(;j;){const Q=new g(J,E.slice(z,j.index),r,o);T.insertAt(Q),{lastIndex:z}=L,[J]=j,j=L.exec(E)}const G=new g(J,E.slice(z),r,o);h.push(T,G),T.insertAt(G)}}return u.slice(1)};x.exports=i},9544:(x,k,s)=>{"use strict";const{text:f}=s(231),{generateForSelf:m,generateForChild:$}=s(8277),p=s(6010),a=s(8138);class g extends a{constructor(e,t=p.getConfig(),n=[]){super(void 0,t,!0,n,{});v(this,"type","arg");for(let r=0;r<e.length;r++)if(r===0||r>1){const o=s(r===0?9237:9263),h=new o(e[r],r===0?"arg-name":void 0,t,n,{});super.insertAt(h)}else{const o=new a(e[r],t,!0,n);o.type="arg-default",super.insertAt(o.setAttribute("stage",2))}}toString(e){return`{{{${super.toString(e,"|")}}}}`}text(){return`{{{${f(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|",class:!this.getAttribute("include")&&"arg wpb-error"})}lint(e=0){if(!this.getAttribute("include"))return[m(this,{start:e},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[t,n,...r]}=this,o=t.lint(e+3);if(n&&o.push(...n.lint(e+4+String(t).length)),r.length>0){const h=this.getRootNode().posFromIndex(e);o.push(...r.map(d=>$(d,h,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return o}}x.exports=g},9263:(x,k,s)=>{"use strict";const f=s(2308),m=s(9237);class $ extends f(m){constructor(){super(...arguments);v(this,"type","hidden")}}x.exports=$},9237:(x,k,s)=>{"use strict";const f=s(6010),m=s(8138);class $ extends m{constructor(g,l,i=f.getConfig(),e=[],t=void 0){super(g,i,!0,e,t);v(this,"type","plain");l&&(this.type=l)}}x.exports=$},5037:(x,k,s)=>{var c,S;"use strict";const{generateForChild:f}=s(8277),{removeComment:m}=s(231),$=s(6010),p=s(8138),a=s(9237),g=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),l=new Set(["align"]),i=new Set(["cite"]),e=new Set(["cite","datetime"]),t=new Set(["width"]),n=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),r=new Set(["type"]),o={div:l,h1:l,h2:l,h3:l,h4:l,h5:l,h6:l,blockquote:i,q:i,p:l,br:new Set(["clear"]),pre:t,ins:e,del:e,ul:r,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:l,tr:new Set(["bgcolor","align","valign"]),td:n,th:n,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:t,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix"]),combooption:new Set(["name","for","inline","align"])},h=new Set,d={nowiki:h,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:h,inputbox:h,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:h,poll:new Set(["id","show-result-before-voting"]),sm2:r,flashmp3:r,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])};class u extends p{constructor(w,C,b="",P="",N=[],O=$.getConfig(),E=[]){const L=new a(C,"attr-key",O,E,{}),j=C==="title"?new p(P,O,!0,E,{}).setAttribute("type","attr-value").setAttribute("stage",$.MAX_STAGE-1):new a(P,"attr-value",O,E,{});super(void 0,O,!0,E);I(this,c,void 0);I(this,S,void 0);this.type=w,this.append(L,j),B(this,c,b),B(this,S,N),this.setAttribute("name",m(C).trim().toLowerCase())}get balanced(){return!y(this,c)||y(this,S)[0]===y(this,S)[1]}afterBuild(){return y(this,c).includes("\0")&&B(this,c,this.getAttribute("buildFromStr")(y(this,c),"string")),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(w){const[C="",b=""]=y(this,S);return y(this,c)?`${super.toString(w,`${y(this,c)}${C}`)}${b}`:this.firstChild.toString(w)}text(){return y(this,c)?`${super.text(`${y(this,c).trim()}"`)}"`:this.firstChild.text()}getGaps(){var w,C;return y(this,c)?y(this,c).length+((C=(w=y(this,S)[0])==null?void 0:w.length)!=null?C:0):0}print(){const[w="",C=""]=y(this,S);return y(this,c)?super.print({sep:`${y(this,c)}${w}`,post:C}):super.print()}lint(w=0){var J;const C=super.lint(w),{balanced:b,firstChild:P,lastChild:N,type:O,name:E,parentNode:L}=this,j=L==null?void 0:L.name;let z;if(!b){z=this.getRootNode().posFromIndex(w);const G=f(N,z,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning");C.push({...G,startCol:G.startCol-1})}return this.text().trim()&&(O==="ext-attr"&&!(j in o)&&d[j]&&!d[j].has(E)||(O==="html-attr"||O==="table-attr"||j in o)&&!((J=o[j])!=null&&J.has(E))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(E)&&(j==="meta"||j==="link"||!g.has(E)))&&(z||(z=this.getRootNode().posFromIndex(w)),C.push(f(P,z,"\u975E\u6CD5\u7684\u5C5E\u6027\u540D"))),C}getValue(){return y(this,c)?this.lastChild.text():!0}}c=new WeakMap,S=new WeakMap,x.exports=u},5649:(x,k,s)=>{"use strict";const{generateForSelf:f,generateForChild:m}=s(8277),{removeComment:$}=s(231),p=s(6010),a=s(8138),g=s(9237),l=s(5037);class i extends a{get sanitized(){return this.getDirtyAttrs().length===0}constructor(t,n,r,o=p.getConfig(),h=[]){if(super(void 0,o,!0,h,{}),this.type=n,this.setAttribute("name",r),t){const d=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let u="",c=d.exec(t),S=0;const T=()=>{u&&(super.insertAt(new g(u,`${n.slice(0,-1)}-dirty`,o,h,{})),u="")};for(;c;){const{index:A,0:w,1:C,2:b,3:P,4:N,5:O,6:E}=c;if(u+=t.slice(S,A),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test($(C).trim())){const L=N!=null?N:E,j=[P,O],z=new l(n.slice(0,-1),C,b,L,j,o,h);T(),super.insertAt(z)}else u+=w;({lastIndex:S}=d),c=d.exec(t)}u+=t.slice(S),T()}}afterBuild(){var n,r;const t=s(5567);return this.type==="table-attrs"&&this.setAttribute("name",((n=this.parentNode)==null?void 0:n.subtype)==="caption"?"caption":(r=this.parentNode)==null?void 0:r.type),this}getDirtyAttrs(){return this.childNodes.filter(t=>t instanceof g&&t.text().trim())}getAttrTokens(t){return this.childNodes.filter(n=>n instanceof l&&n.name===t.toLowerCase().trim())}getAttrToken(t){const n=this.getAttrTokens(t);return n[n.length-1]}getAttr(t){var n;return(n=this.getAttrToken(t))==null?void 0:n.getValue()}lint(t=0){const n=s(2350),r=super.lint(t);let o;if(this.parentNode.closing&&this.text().trim()&&(o=this.getRootNode().posFromIndex(t),r.push(f(this,o,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"))),!this.sanitized){o||(o=this.getRootNode().posFromIndex(t));for(const h of this.getDirtyAttrs())r.push(m(h,o,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"))}return r}print(){const t=s(2350);return String(this)?`<span class="wpb-${this.type}${this.parentNode.closing&&this.text().trim()?" wpb-error":""}">${this.childNodes.map(n=>n.print({class:n instanceof g&&n.text().trim()&&"hidden"})).join("")}</span>`:""}}x.exports=i},8103:(x,k,s)=>{"use strict";const f=s(6010),m=s(8138),$=s(2158);class p extends m{constructor(l,i=f.getConfig(),e=[]){super(void 0,i,!0,e,{});v(this,"type","ext-inner");v(this,"name","charinsert");const t=$;this.append(...l.split(`
`).map(n=>new t(n,"charinsert-line",i,e)))}toString(l){return super.toString(l,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}x.exports=p},9910:(x,k,s)=>{"use strict";const{text:f,print:m}=s(231),$=s(6010),p=s(8138),a=s(6719),g=s(8683);class l extends p{constructor(t,n,r=$.getConfig(),o=[]){super(void 0,r,!0,o);v(this,"type","converter");this.append(new a(t,r,o));const[h]=n,d=h.includes(":"),u=new g(h,d,r,o);d&&u.childNodes.length===1?this.insertAt(new g(n.join(";"),!1,r,o)):this.append(u,...n.slice(1).map(c=>new g(c,!0,r,o)))}toString(t){const{childNodes:[n,...r]}=this;return`-{${n.toString()}${n.childNodes.length>0?"|":""}${r.map(String).join(";")}}-`}text(){const{childNodes:[t,...n]}=this;return`-{${t.text()}|${f(n,";")}}-`}getPadding(){return 2}getGaps(t=0){return t=t<0?t+this.childNodes.length:t,t||this.firstChild.childNodes.length>0?1:0}print(){const{childNodes:[t,...n]}=this;return`<span class="wpb-converter">-{${t.print()}${t.childNodes.length>0?"|":""}${m(n,{sep:";"})}}-</span>`}}x.exports=l},6719:(x,k,s)=>{var l;"use strict";const{generateForChild:f}=s(8277),m=s(6010),$=s(8138),p=s(9237),a=new Set(["A","T","R","D","-","H","N"]);class g extends ${constructor(t,n=m.getConfig(),r=[]){super(void 0,n,!0,r,{});v(this,"type","converter-flags");I(this,l,void 0);this.append(...t.map(o=>new p(o,"converter-flag",n,r)))}afterBuild(){return B(this,l,this.childNodes.map(t=>t.text().trim())),this}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t=0){const n=this.getVariantFlags(),r=this.getUnknownFlags(),o=new Set(y(this,l).filter(T=>a.has(T))),{length:h}=y(this,l).filter(T=>!T),d=y(this,l).length-r.size-h,u=super.lint(t);if(n.size===d||o.size===d)return u;const c=this.getRootNode().posFromIndex(t),{childNodes:S}=this;for(let T=0;T<S.length;T++){const A=S[T],w=A.text().trim();if(w&&!n.has(w)&&!r.has(w)&&(n.size>0||!o.has(w))){const C=f(A,c,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");u.push(C)}}return u}getUnknownFlags(){return new Set(y(this,l).filter(t=>/\{\{[^{}]+\}\}/u.test(t)))}getVariantFlags(){const t=new Set(this.getAttribute("config").variants);return new Set(y(this,l).filter(n=>t.has(n)))}}l=new WeakMap,x.exports=g},8683:(x,k,s)=>{"use strict";const f=s(6010),m=s(8138),$=s(9237);class p extends m{constructor(l,i=!0,e=f.getConfig(),t=[]){super(void 0,e,!0,t);v(this,"type","converter-rule");if(i){const n=l.indexOf(":"),r=l.slice(0,n).indexOf("=>"),o=r===-1?l.slice(0,n):l.slice(r+2,n),{variants:h}=e;h.includes(o.trim())?(super.insertAt(new $(o,"converter-rule-variant",e,t)),super.insertAt(new $(l.slice(n+1),"converter-rule-to",e,t)),r!==-1&&super.insertAt(new $(l.slice(0,r),"converter-rule-from",e,t),0)):super.insertAt(new $(l,"converter-rule-noconvert",e,t))}else super.insertAt(new $(l,"converter-rule-noconvert",e,t))}toString(l){if(this.childNodes.length===3){const{childNodes:[i,e,t]}=this;return`${i.toString(l)}=>${e.toString(l)}:${t.toString(l)}`}return super.toString(l,":")}text(){if(this.childNodes.length===3){const{childNodes:[l,i,e]}=this;return`${l.text()}=>${i.text()}:${e.text()}`}return super.text(":")}getGaps(l=0){const{length:i}=this;return l=l<0?l+i:l,l===0&&i===3?2:1}print(){if(this.childNodes.length===3){const{childNodes:[l,i,e]}=this;return`<span class="wpb-converter-rule">${l.print()}=>${i.print()}:${e.print()}</span>`}return super.print({sep:":"})}}x.exports=p},741:(x,k,s)=>{var a;"use strict";const f=s(6010),m=s(8138),$=s(8962);class p extends m{constructor(i,e,t,n=f.getConfig(),r=[]){super(void 0,n,!0,r,{});v(this,"type","ext-link");I(this,a,void 0);if(this.insertAt(new $(i,!0,n,r)),B(this,a,e),t){const o=new m(t,n,!0,r,{});o.type="ext-link-text",this.insertAt(o.setAttribute("stage",f.MAX_STAGE-1))}}toString(i){return this.childNodes.length===1?`[${super.toString(i)}${y(this,a)}]`:`[${super.toString(i,y(this,a))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return y(this,a).length}print(){const{length:i}=this;return super.print(i>1?{pre:"[",sep:y(this,a),post:"]"}:{pre:"[",post:`${y(this,a)}]`})}}a=new WeakMap,x.exports=p},1891:(x,k,s)=>{"use strict";const f=s(6010),m=s(8138),$=s(1031),p=s(9263);class a extends m{constructor(i,e=f.getConfig(),t=[]){var r;super(void 0,e,!0,t,{});v(this,"type","ext-inner");v(this,"name","gallery");const n=JSON.parse(JSON.stringify(e));for(const[o,h]of Object.entries(e.img))h==="width"&&delete n.img[o];for(const o of(r=i==null?void 0:i.split(`
`))!=null?r:[]){const h=/^([^|]+)(?:\|(.*))?/u.exec(o);if(!h){super.insertAt(o.trim()?new p(o,void 0,e,[],{}):o);continue}const[,d,u]=h,c=this.normalizeTitle(d,6,!0,!0);c.valid?super.insertAt(new $(d,u,c,n,t)):super.insertAt(new p(o,void 0,e,[],{}))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i=0){const{top:e,left:t}=this.getRootNode().posFromIndex(i),n=[];for(let r=0,o=i;r<this.childNodes.length;r++){const h=this.childNodes[r],d=String(h),u=d.trim();h.type==="hidden"&&u&&!/^<!--.*-->$/u.test(u)?n.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startLine:e+r,endLine:e+r,startCol:r?0:t,endCol:r?d.length:t+d.length}):h.type!=="hidden"&&h.type!=="text"&&n.push(...h.lint(o)),o+=d.length+1}return n}}x.exports=a},2158:(x,k,s)=>{"use strict";const f=s(6010),m=s(8138),$=s(3423);class p extends m{constructor(g,l,i=f.getConfig(),e=[]){g=g.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(t,n,r,o)=>(new $(n,i,e),new $(o,i,e),`\0${e.length-1}c\x7F${r}\0${e.length}c\x7F`)),super(g,i,!0,e,{}),this.type=l}}x.exports=p},428:(x,k,s)=>{"use strict";const f=s(6010),m=s(2158);class $ extends m{constructor(g,l=f.getConfig(),i=[]){super(g,"ext-inner",l,i);v(this,"name","pre");this.setAttribute("stage",f.MAX_STAGE-1)}isPlain(){return!0}}x.exports=$},9450:(x,k,s)=>{"use strict";const{generateForSelf:f}=s(8277),m=s(6010),$=s(8138),p=s(8058);class a extends ${constructor(i,e,t=m.getConfig(),n=[]){super(void 0,t,!0,n);v(this,"type","heading");this.setAttribute("name",String(i));const r=new $(e[0],t,!0,n);r.type="heading-title",r.setAttribute("stage",2);const o=new p(e[1],/^[^\S\n]*$/u,"heading-trail",t,n,{});this.append(r,o)}toString(i){const e="=".repeat(Number(this.name));return`${e}${this.firstChild.toString()}${e}${this.lastChild.toString()}`}text(){const i="=".repeat(Number(this.name));return`${i}${this.firstChild.text()}${i}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const i="=".repeat(Number(this.name)),e=String(this.firstChild);return super.print({pre:i,sep:i,class:(e[0]==="="||e.endsWith("=")||this.closest("html-attrs, table-attrs"))&&"heading wpb-error"})}lint(i=0){const e=super.lint(i),t=String(this.firstChild);let n;return this.name==="1"&&(n=f(this,{start:i},"<h1>"),e.push(n)),(t[0]==="="||t.endsWith("="))&&(n||(n=f(this,{start:i},"")),e.push({...n,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(n||(n=f(this,{start:i},"")),e.push({...n,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),e}}x.exports=a},2350:(x,k,s)=>{var a,g,l;"use strict";const{generateForSelf:f}=s(8277),m=s(6010),$=s(8138);class p extends ${constructor(t,n,r,o,h=m.getConfig(),d=[]){super(void 0,h,!0,d);v(this,"type","html");I(this,a,void 0);I(this,g,void 0);I(this,l,void 0);this.insertAt(n),this.setAttribute("name",t.toLowerCase()),B(this,a,r),B(this,g,o),B(this,l,t)}get closing(){return y(this,a)}toString(t){return`<${y(this,a)?"/":""}${y(this,l)}${super.toString()}${y(this,g)?"/":""}>`}text(){return`<${y(this,a)?"/":""}${y(this,l)}${y(this,a)?"":super.text()}${y(this,g)?"/":""}>`}getPadding(){return y(this,l).length+(y(this,a)?2:1)}print(){return super.print({pre:`&lt;${y(this,a)?"/":""}${y(this,l)}`,post:`${y(this,g)?"/":""}&gt;`,class:this.closest("table-attrs")&&"html wpb-error"})}lint(t=0){const n=super.lint(t);let r;this.name==="h1"&&!y(this,a)&&(r=f(this,{start:t},"<h1>"),n.push(r)),this.closest("table-attrs")&&(r||(r=f(this,{start:t},"")),n.push({...r,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:o}){r||(r=f(this,{start:t},""));const[h]=o.split("\uFF1A"),d={...r,message:h,severity:h==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};n.push(d)}return n}findMatchingTag(){const{html:t}=this.getAttribute("config"),{name:n,parentNode:r}=this,o=String(this);if(y(this,a)&&(y(this,g)||t[2].includes(n)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${o}`);if(t[2].includes(n)||y(this,g)&&t[1].includes(n))return this;if(y(this,g)&&t[0].includes(n))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${o}`);if(!r)return;const{childNodes:h}=r,d=h.indexOf(this),u=y(this,a)?h.slice(0,d).reverse().filter(({type:S,name:T})=>S==="html"&&T===n):h.slice(d+1).filter(({type:S,name:T})=>S==="html"&&T===n);let c=y(this,a)?-1:1;for(const S of u)if(S.closing?c--:c++,c===0)return S;throw new SyntaxError(`\u672A${y(this,a)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${o}`)}}a=new WeakMap,g=new WeakMap,l=new WeakMap,x.exports=p},1874:(x,k,s)=>{var g,lt,i;"use strict";const{print:f,extUrlChar:m}=s(231),$=s(6010),p=s(8138),t=class extends p{constructor(o,h=$.getConfig(),d=[]){var r=(...e)=>{super(...e);v(this,"type","image-parameter");I(this,i,"")};var S;const u=Object.entries(h.img).map(([T,A])=>[T,A,new RegExp(`^(\\s*)${T.replace("$1","(.*)")}(\\s*)$`,"u")]),c=u.find(([,,T])=>T.test(o));if(c){const T=c[2].exec(o);if(T.length!==4||V(S=t,g,lt).call(S,c[1],T[2],h,!0)){T.length===3?(r(void 0,h,!0,d),B(this,i,o)):(r(T[2],h,!0,d,{}),B(this,i,`${T[1]}${c[0]}${T[3]}`)),this.setAttribute("name",c[1]);return}}r(o,h,!0,d),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(o){return y(this,i)?y(this,i).replace("$1",super.toString(o)):super.toString(o)}text(){return y(this,i)?y(this,i).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,y(this,i).indexOf("$1"))}print(){return y(this,i)?`<span class="wpb-image-parameter">${y(this,i).replace("$1",`<span class="wpb-image-caption">${f(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let a=t;g=new WeakSet,lt=function(o,h,d=$.getConfig(),u=!1){switch(h=h.replace(/\0\d+t\x7F/gu,"").trim(),o){case"width":return/^\d*(?:x\d*)?$/u.test(h);case"link":return!h||new RegExp(`(?:${d.protocol}|//)${m}(?=\0\\d+t\x7F|$)`,"iu").test(h)?!0:(h.startsWith("[[")&&h.endsWith("]]")&&(h=h.slice(2,-2)),$.normalizeTitle(h,0,!1,d,u,!0).valid);case"lang":return d.variants.includes(h);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(h)}},i=new WeakMap,I(a,g),x.exports=a},2641:(x,k,s)=>{"use strict";const{generateForSelf:f,generateForChild:m}=s(8277),$=s(6010),p=s(8138),a=s(3423),g=s(1031),l=s(2571);class i extends p{constructor(n,r=$.getConfig(),o=[]){super(void 0,r,!0,o,{});v(this,"type","ext-inner");v(this,"name","imagemap");if(!n)return;const h=n.split(`
`),d=new Set(r.protocol.split("|")),u=a,c=A=>{super.insertAt(new u(A,r,o))};let S=!0,T=!1;for(const A of h){const w=A.trim();if(!(T||!w||w[0]==="#")){if(S){const[C,...b]=A.split("|"),P=this.normalizeTitle(C,0,!0);if(P.valid&&!P.interwiki&&P.ns===6){const N=new g(C,b.length>0?b.join("|"):void 0,P,r,o);N.type="imagemap-image",super.insertAt(N),S=!1;continue}else T=!0}else if(A.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(A);continue}else if(A.includes("[")){const C=A.indexOf("["),b=A.slice(C),P=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(b);if(P){const N=this.normalizeTitle(P[1],0,!0);if(N.valid){super.insertAt(new l(A.slice(0,C),[...P.slice(1),N],b.slice(b.indexOf("]]")+2),r,o));continue}}else if(d.has(b.slice(1,b.indexOf(":")+1))||d.has(b.slice(1,b.indexOf("//")+2))){const N=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(b);if(N){super.insertAt(new l(A.slice(0,C),N.slice(1),b.slice(b.indexOf("]")+1),r,o));continue}}}}c(A)}}get image(){return this.childNodes.find(({type:n})=>n==="imagemap-image")}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`,class:!this.image&&"ext-inner wpb-error"})}lint(n=0){const r=super.lint(n),o=this.getRootNode().posFromIndex(n);return this.image?r.push(...this.childNodes.filter(h=>{const d=String(h).trim();return h.type==="noinclude"&&d&&d[0]!=="#"}).map(h=>m(h,o,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):r.push(f(this,o,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),r}}x.exports=i},2571:(x,k,s)=>{"use strict";const f=s(6986),m=s(8138),$=s(3423),p=s(3905),a=s(741);class g extends m{constructor(e,t,n,r,o){const h=t[2]instanceof f?p:a;super(void 0,r,!0,o);v(this,"type","imagemap-link");this.append(e,new h(...t,r,o),new $(n,r,o))}}x.exports=g},8138:(x,k,s)=>{var l,i,e,t,n,r,o,h,ht,u,at,S,dt,A,pt,C,ut,P,ct,O,gt,L,ft,z,xt,G,mt,W,$t;"use strict";const{text:f}=s(231),m=s(6010),$=s(9205),p=s(7507),{MAX_STAGE:a}=m,Z=class extends ${constructor(F,R=m.getConfig(),M=!1,X=[],_=void 0){super();I(this,h);I(this,u);I(this,S);I(this,A);I(this,C);I(this,P);I(this,O);I(this,L);I(this,z);I(this,G);I(this,W);v(this,"type","root");I(this,l,0);I(this,i,void 0);I(this,e,void 0);I(this,t,void 0);I(this,n,(F=y(this,l),R=!1)=>{if(F<y(this,l)||!this.isPlain()||this.childNodes.length===0)return this;switch(F){case 0:this.type==="root"&&y(this,e).shift(),B(this,t,Boolean(R)),V(this,h,ht).call(this,R);break;case 1:V(this,u,at).call(this);break;case 2:V(this,S,dt).call(this);break;case 3:V(this,A,pt).call(this);break;case 4:V(this,C,ut).call(this);break;case 5:V(this,P,ct).call(this);break;case 6:V(this,O,gt).call(this);break;case 7:V(this,L,ft).call(this);break;case 8:V(this,z,xt).call(this);break;case 9:V(this,G,mt).call(this);break;case 10:V(this,W,$t).call(this)}if(this.type==="root")for(const M of y(this,e))M.getAttribute("parseOnce")(F,R);return rt(this,l)._++,this});I(this,r,(F,R)=>{const M=F.split(/[\0\x7F]/u).map((X,_)=>{if(_%2===0)return new p(X);if(isNaN(X[X.length-1]))return y(this,e)[Number(X.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${X}`)});return R==="string"?M.map(String).join(""):R==="text"?f(M):M});I(this,o,()=>{B(this,l,a);const{length:F,firstChild:R}=this,M=String(R);if(F===1&&R.type==="text"&&M.includes("\0")&&(this.replaceChildren(...y(this,r).call(this,M)),this.normalize(),this.type==="root"))for(const X of y(this,e))X.getAttribute("build")()});typeof F=="string"&&this.insertAt(M?F:F.replace(/[\0\x7F]/gu,"")),B(this,i,R),B(this,e,X),X.push(this)}getAttribute(F){switch(F){case"config":return JSON.parse(JSON.stringify(y(this,i)));case"accum":return y(this,e);case"parseOnce":return y(this,n);case"buildFromStr":return y(this,r);case"build":return y(this,o);case"include":{if(y(this,t)!==void 0)return y(this,t);const R=this.getRootNode();return R.type==="root"&&R!==this?R.getAttribute("include"):!1}default:return super.getAttribute(F)}}setAttribute(F,R){switch(F){case"stage":return y(this,l)===0&&this.type==="root"&&y(this,e).shift(),B(this,l,R),this;default:return super.setAttribute(F,R)}}isPlain(){return this.constructor===Z}insertAt(F,R=this.childNodes.length){return typeof F=="string"&&(F=new p(F)),super.insertAt(F,R),F.type==="root"&&(F.type="plain"),F}normalizeTitle(F,R=0,M=!1,X=!1){return m.normalizeTitle(F,R,y(this,t),y(this,i),M,X)}afterBuild(){if(this.type==="root")for(const F of y(this,e))F.afterBuild();return this}parse(F=a,R=!1){for(;y(this,l)<F;)y(this,n).call(this,y(this,l),R);return F&&(y(this,o).call(this),this.afterBuild()),this}};let g=Z;l=new WeakMap,i=new WeakMap,e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,h=new WeakSet,ht=function(F){const R=s(4907);this.setText(R(String(this.firstChild),y(this,i),y(this,e),F))},u=new WeakSet,at=function(){const F=s(8275),R=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,M=F(R,y(this,i),y(this,e));this.setText(this.type==="root"?M:M.slice(1))},S=new WeakSet,dt=function(){const F=s(5130);this.setText(F(String(this.firstChild),y(this,i),y(this,e)))},A=new WeakSet,pt=function(){const F=s(4624),R=s(2840);this.setText(F(this,y(this,i),y(this,e)));for(const M of y(this,e))if(M instanceof R&&M.type!=="td"){M.normalize();const{childNodes:[,X]}=M;if(typeof X=="string"&&X.includes("\0")){M.removeAt(1);const _=new Z(X,y(this,i),!0,y(this,e));M.insertAt(_,1),_.setAttribute("stage",4)}}},C=new WeakSet,ut=function(){const F=s(2937);this.setText(F(this,y(this,i),y(this,e)))},P=new WeakSet,ct=function(){const F=s(1452);this.setText(F(String(this.firstChild),y(this,i),y(this,e)))},O=new WeakSet,gt=function(){const F=s(3360),R=String(this.firstChild).split(`
`);for(let M=0;M<R.length;M++)R[M]=F(R[M],y(this,i),y(this,e));this.setText(R.join(`
`))},L=new WeakSet,ft=function(){const F=s(7513);this.setText(F(String(this.firstChild),y(this,i),y(this,e)))},z=new WeakSet,xt=function(){const F=s(4737);this.setText(F(String(this.firstChild),y(this,i),y(this,e)))},G=new WeakSet,mt=function(){if(this.type==="image-parameter")return;const F=s(6622),R=String(this.firstChild).split(`
`);let M=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;M<R.length;M++)R[M]=F(R[M],y(this,i),y(this,e));this.setText(R.join(`
`))},W=new WeakSet,$t=function(){const F=s(3765);this.setText(F(String(this.firstChild),y(this,i),y(this,e)))},x.exports=g},337:(x,k,s)=>{"use strict";const f=s(3905);class m extends f{constructor(){super(...arguments);v(this,"type","category")}}x.exports=m},7625:(x,k,s)=>{var t,et;"use strict";const{explode:f}=s(231),{generateForChild:m}=s(8277),$=s(6010),p=s(3905),a=s(1874),g=new Set(["manualthumb","frameless","framed","thumbnail"]),l=new Set(["left","right","center","none"]),i=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class e extends p{constructor(h,d,u,c=$.getConfig(),S=[],T="|"){super(h,void 0,u,c,S,T);I(this,t);v(this,"type","file");this.append(...f("-{","}-","|",d).map(A=>new a(A,c,S)))}lint(h=0){const d=super.lint(h),u=this.getAllArgs(),c=[...new Set(u.map(({name:C})=>C))],S=c.filter(C=>g.has(C)),T=c.filter(C=>l.has(C)),A=c.filter(C=>i.has(C));if(u.length===c.length&&S.length<2&&T.length<2&&A.length<2)return d;const w=this.getRootNode().posFromIndex(h);for(const C of c){let b=u.filter(({name:P})=>P===C);C==="caption"&&(b=[...b.slice(0,-1).filter(P=>P.text()),b[b.length-1]]),b.length>1&&d.push(...b.map(P=>m(P,w,`\u91CD\u590D\u7684\u56FE\u7247${C}\u53C2\u6570`)))}return S.size>1&&d.push(...u.filter(({name:C})=>g.has(C)).map(C=>m(C,w,"\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),T.size>1&&d.push(...u.filter(({name:C})=>l.has(C)).map(C=>m(C,w,"\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),A.size>1&&d.push(...u.filter(({name:C})=>i.has(C)).map(C=>m(C,w,"\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),d}getAllArgs(){return this.childNodes.slice(1)}getArgs(h){return this.getAllArgs().filter(({name:d})=>h===d)}getFrameArgs(){return V(this,t,et).call(this,g,"\u6846\u67B6")}getHorizAlignArgs(){return V(this,t,et).call(this,l,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return V(this,t,et).call(this,i,"\u5782\u76F4\u5BF9\u9F50")}}t=new WeakSet,et=function(h,d){return this.getAllArgs().filter(({name:c})=>h.has(c))},x.exports=e},1031:(x,k,s)=>{var g;"use strict";const{generateForSelf:f}=s(8277),m=s(6010),$=s(8138),p=s(7625);class a extends p{constructor(e,t,n,r=m.getConfig(),o=[]){let h;if(t!==void 0){h=new $(t,r,!0,o),h.type="temp";for(let d=1;d<m.MAX_STAGE;d++)h.getAttribute("parseOnce")();o.splice(o.indexOf(h),1)}super(e,h==null?void 0:h.toString(),n,r,o);v(this,"type","gallery-image");I(this,g,!1);this.setAttribute("bracket",!1)}afterBuild(){const e=this.type==="imagemap-image",{interwiki:t,ns:n}=this.normalizeTitle(String(this.firstChild),e?0:6,!0,!e);return B(this,g,t||n!==6),this}getPadding(){return 0}lint(e=0){const t=super.lint(e);return y(this,g)&&t.push(f(this,{start:e},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),t}print(){return super.print({class:y(this,g)&&"gallery-image wpb-error"})}}g=new WeakMap,x.exports=a},3905:(x,k,s)=>{var l,i;"use strict";const{generateForChild:f}=s(8277),m=s(6010),$=s(7507),p=s(8138),a=s(9237);class g extends p{constructor(n,r,o,h=m.getConfig(),d=[],u="|"){super(void 0,h,!0,d,{});v(this,"type","link");I(this,l,!0);I(this,i,void 0);if(this.insertAt(new a(n,"link-target",h,d,{})),r!==void 0){const c=new p(r,h,!0,d,{});c.type="link-text",this.insertAt(c.setAttribute("stage",m.MAX_STAGE-1))}B(this,i,u)}afterBuild(){var n;return(n=y(this,i))!=null&&n.includes("\0")&&B(this,i,this.getAttribute("buildFromStr")(y(this,i),"string")),this}setAttribute(n,r){return n==="bracket"?(B(this,l,Boolean(r)),this):super.setAttribute(n,r)}toString(n){const r=super.toString(n,y(this,i));return y(this,l)?`[[${r}]]`:r}text(){const n=super.text("|");return y(this,l)?`[[${n}]]`:n}getPadding(){return 2}getGaps(){return y(this,i).length}print(){return super.print(y(this,l)?{pre:"[[",post:"]]",sep:y(this,i)}:{sep:y(this,i)})}lint(n=0){var h;const r=super.lint(n),{childNodes:[,o]}=this;return(h=o==null?void 0:o.childNodes)!=null&&h.some(({type:d,data:u})=>d==="text"&&u.includes("|"))&&r.push(f(o,{token:this,start:n},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"')),r}}l=new WeakMap,i=new WeakMap,x.exports=g},8962:(x,k,s)=>{"use strict";const{generateForChild:f}=s(8277),m=s(6010),$=s(8138);class p extends ${constructor(l,i,e=m.getConfig(),t=[]){super(l,e,!0,t,{});v(this,"type","free-ext-link");i&&(this.type="ext-link-url")}lint(l=0){const i=super.lint(l),e="[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]";let t;for(const n of this.childNodes){const r=String(n);if(n.type!=="text"||!new RegExp(e,"u").test(r))continue;t||(t=this.getRootNode().posFromIndex(l));const o=f(n,t,"URL\u4E2D\u7684\u5168\u89D2\u6807\u70B9","warning"),h=new RegExp(e,"gu");for(let d=h.exec(r);d;d=h.exec(r)){const{index:u}=d,c=r.slice(0,u).split(`
`),{length:S}=c,{length:T}=c[S-1],A=o.startLine+S-1,w=S>1?T:o.startCol+T;i.push({...o,startLine:A,endLine:A,startCol:w,endCol:w+1})}}return i}}x.exports=p},9389:(x,k,s)=>{"use strict";const f=s(6010),m=s(8889);class $ extends m{constructor(g,l=f.getConfig(),i=[]){super(g,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],l,i);v(this,"name","choose")}}x.exports=$},9269:(x,k,s)=>{"use strict";const f=s(6010),m=s(8889);class $ extends m{constructor(g,l=f.getConfig(),i=[]){super(g,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],l,i);v(this,"name","combobox")}}x.exports=$},8889:(x,k,s)=>{"use strict";const{generateForChild:f}=s(8277),m=s(6010),$=s(8138),p=s(7267),a=s(3423);class g extends ${constructor(e,t,n,r=m.getConfig(),o=[]){var d;const h=(d=e==null?void 0:e.replace(t,(u,c,S,T,A)=>{const w=`\0${o.length+1}e\x7F`;return new p(c,S,T,A,r,o),w}))==null?void 0:d.replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(u,c,S)=>S===""?c:(new a(S,r,o),`${c}\0${o.length}c\x7F`));super(h,r,!0,o,{});v(this,"type","ext-inner")}lint(e=0){let t;return[...super.lint(e),...this.childNodes.filter(n=>{if(n.type==="ext")return!1;const r=String(n).trim();return r&&!/^<!--.*-->$/u.test(r)}).map(n=>(t||(t=this.getRootNode().posFromIndex(e)),f(n,t,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}x.exports=g},5937:(x,k,s)=>{"use strict";const f=s(6010),m=s(8889);class $ extends m{constructor(g,l=f.getConfig(),i=[]){super(g,/<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],l,i);v(this,"name","references")}}x.exports=$},7033:(x,k,s)=>{var f={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function m(p){var a=$(p);return s(a)}function $(p){if(!s.o(f,p)){var a=new Error("Cannot find module '"+p+"'");throw a.code="MODULE_NOT_FOUND",a}return f[p]}m.keys=function(){return Object.keys(f)},m.resolve=$,x.exports=m,m.id=7033},5749:(x,k,s)=>{"use strict";const f=s(2308),{generateForSelf:m}=s(8277),$=s(6010),p=s(6935);class a extends f(p){constructor(i,e=!0,t=$.getConfig(),n=[]){super(i,t,n);v(this,"type","comment");v(this,"closed");this.closed=e}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":"",class:!this.closed&&"comment wpb-error"})}lint(i=0){return this.closed?[]:[m(this,{start:i},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(i){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}x.exports=a},3434:(x,k,s)=>{"use strict";const f=s(6935);class m extends f{constructor(){super(...arguments);v(this,"type","dd")}}x.exports=m},7815:(x,k,s)=>{"use strict";const f=s(2308),m=s(6935);class $ extends f(m){constructor(){super(...arguments);v(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(g){return`__${String(this.firstChild)}__`}}x.exports=$},2582:(x,k,s)=>{"use strict";const f=s(6010),m=s(6935);class $ extends m{constructor(g,l=f.getConfig(),i=[]){super("-".repeat(g),l,i);v(this,"type","hr")}}x.exports=$},6935:(x,k,s)=>{"use strict";const{generateForSelf:f}=s(8277),m=s(6010),$=s(8138);class p extends ${constructor(l,i=m.getConfig(),e=[]){super(l,i,!0,e);v(this,"type","ext-inner")}lint(l=0){const{type:i,name:e}=this;return i==="ext-inner"&&(e==="templatestyles"||e==="section")&&String(this)?[f(this,{start:l},`<${e}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(l)}}x.exports=p},962:(x,k,s)=>{"use strict";const f=s(3434);class m extends f{constructor(){super(...arguments);v(this,"type","list")}}x.exports=m},3423:(x,k,s)=>{"use strict";const f=s(2308),m=s(6935);class $ extends f(m){constructor(){super(...arguments);v(this,"type","noinclude")}}x.exports=$},6714:(x,k,s)=>{"use strict";const{generateForSelf:f}=s(8277),m=s(6010),$=s(7507),p=s(6935);class a extends p{constructor(i,e=m.getConfig(),t=[]){super("'".repeat(i),e,t);v(this,"type","quote")}lint(i=0){const{previousSibling:e,nextSibling:t}=this,n=`\u5B64\u7ACB\u7684"'"`,r=[];let o;if((e==null?void 0:e.type)==="text"&&e.data.endsWith("'")){o=f(this,{start:i},n);const{startLine:h,startCol:d}=o,[,{length:u}]=e.data.match(/(?:^|[^'])('+)$/u);r.push({...o,startCol:d-u,endLine:h,endCol:d})}if((t==null?void 0:t.type)==="text"&&t.data[0]==="'"){o||(o=f(this,{start:i},n));const{endLine:h,endCol:d}=o,[{length:u}]=t.data.match(/^'+/u);r.push({...o,startLine:h,startCol:d,endCol:d+u})}return r}}x.exports=a},851:(x,k,s)=>{"use strict";const f=s(6010),m=s(8138);class $ extends m{constructor(g,l=f.getConfig(),i=[]){super(g,l,!0,i);v(this,"type","onlyinclude")}toString(g){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}x.exports=$},9380:(x,k,s)=>{"use strict";const{generateForChild:f}=s(8277),m=s(6010),$=s(8138),p=s(9237);class a extends ${constructor(i,e=m.getConfig(),t=[]){super(void 0,e,!0,t,{});v(this,"type","ext-inner");if(i){const n=p;this.append(...i.split(`
`).map(r=>new n(r,"param-line",e,t,{})))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i=0){let e;return this.childNodes.filter(t=>{const{childNodes:n}=t,r=n.findIndex(({type:h})=>h!=="text"),o=(r>=0?n.slice(0,r).map(String).join(""):String(t)).trim();return o&&!(r>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(o)}).map(t=>(e||(e=this.getRootNode().posFromIndex(i)),f(t,e,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}x.exports=a},9799:(x,k,s)=>{"use strict";const{extUrlChar:f}=s(231),{generateForChild:m}=s(8277),$=s(6010),p=s(8138);class a extends p{constructor(i,e,t=$.getConfig(),n=[]){super(void 0,t,!0,n);v(this,"type","parameter");const r=new p(typeof i=="number"?void 0:i,t,!0,n,{}),o=new p(e,t,!0,n);r.type="parameter-key",o.type="parameter-value",this.append(r,o.setAttribute("stage",2))}get anon(){return this.firstChild.childNodes.length===0}afterBuild(){if(!this.anon){const i=s(1782),e=String(this.firstChild).replace(/<!--.*?-->/gu,"").trim(),{parentNode:t}=this;this.setAttribute("name",e),t instanceof i&&t.getArgs(e,!1,!1).add(this)}return this}toString(i){return this.anon?this.lastChild.toString(i):super.toString(i,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(i=0){var r;const e=super.lint(i),{firstChild:t}=this,n=(r=new RegExp(`https?://${f}$`,"iu").exec(String(t).replace(/<!--.*?-->/gu,"")))==null?void 0:r[0];if(n&&new URL(n).search){const o=m(t,{token:this,start:i},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");e.push({...o,startLine:o.endLine,startCol:o.endCol,endCol:o.endCol+1})}return e}}x.exports=a},8058:(x,k,s)=>{"use strict";const f=s(6010),m=s(8138);class $ extends m{constructor(a,g,l="plain",i=f.getConfig(),e=[],t=void 0){super(a,i,!0,e,t),this.type=l}}x.exports=$},2840:(x,k,s)=>{"use strict";const{generateForChild:f}=s(8277),m=s(3125),$=s(8058);class p extends m{constructor(){super(...arguments);v(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(l=0){const i=super.lint(l);if(!this.closed){const{firstChild:e}=this,t=f(e,{token:this,start:l},"\u672A\u95ED\u5408\u7684\u8868\u683C");i.push(t)}return i}close(l=`
|}`,i=!1){const e=this.getAttribute("config"),t=this.getAttribute("accum");super.insertAt(new $(l,void 0,"table-syntax",e,t))}}x.exports=p},5567:(x,k,s)=>{var a;"use strict";const f=s(6010),m=s(8138),$=s(3125);class p extends ${constructor(i,e,t=f.getConfig(),n=[]){let r=e==null?void 0:e.match(/\||\0\d+!\x7F/u),o=r?e.slice(0,r.index):"";/\[\[|-\{/u.test(o)&&(r=void 0,o="");super(i,o,t,n);v(this,"type","td");I(this,a,"");r&&([rt(this,a)._]=r);const h=new m(e==null?void 0:e.slice((r==null?void 0:r.index)+y(this,a).length),t,!0,n);h.type="td-inner",this.insertAt(h.setAttribute("stage",4))}get subtype(){return this.getSyntax().subtype}getSyntax(){const i=this.firstChild.text(),e=i[i.length-1];let t="td";return e==="!"?t="th":e==="+"&&(t="caption"),{subtype:t}}afterBuild(){return y(this,a).includes("\0")&&B(this,a,this.getAttribute("buildFromStr")(y(this,a),"string")),this}toString(i){const{childNodes:[e,t,n]}=this;return`${e.toString()}${t.toString()}${y(this,a)}${n.toString()}`}text(){const{childNodes:[i,e,t]}=this;return`${i.text()}${e.text()}${y(this,a)}${t.text()}`}getGaps(i=0){return i=i<0?i+this.childNodes.length:i,i===1?y(this,a).length:0}print(){const{childNodes:[i,e,t]}=this;return`<span class="wpb-td">${i.print()}${e.print()}${y(this,a)}${t.print()}</span>`}}a=new WeakMap,x.exports=p},3125:(x,k,s)=>{"use strict";const{generateForChild:f}=s(8277),m=s(6010),$=s(8138),p=s(8058),a=s(5649);class g extends ${constructor(e,t="",n=m.getConfig(),r=[],o=void 0){super(void 0,n,!0,r,{});v(this,"type","tr");this.append(new p(e,o,"table-syntax",n,r,{}),new a(t,"table-attrs",this.type,n,r))}lint(e=0){const t=s(1782),n=super.lint(e),r=this.childNodes.find(({type:d})=>d==="table-inter");if(!r)return n;const o=r.childNodes.find(d=>d.text().trim());if(o){if((o==null?void 0:o.type)==="magic-word")try{if(o.getPossibleValues().every(u=>/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u.test(u.text())))return n}catch(d){}}else return n;const h=f(r,{token:this,start:e},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return n.push({...h,startLine:h.startLine+1,startCol:0}),n}text(){const e=super.text();return this.type==="tr"&&!e.trim().includes(`
`)?"":e}}x.exports=g},7267:(x,k,s)=>{"use strict";const{generateForSelf:f}=s(8277),m=s(6010),$=s(8138),p=s(1074),a=s(5649);class g extends p{constructor(e,t="",n="",r=void 0,o=m.getConfig(),h=[]){t=!t||/^\s/u.test(t)?t:` ${t}`;const d=e.toLowerCase(),u=new a(t,"ext-attrs",d,o,h),c=JSON.parse(JSON.stringify(o)),S=new Set(c.ext);let T;switch(S.delete(d),c.ext=[...S],d){case"tab":S.delete("tabs"),c.ext=[...S];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":T=new $(n,c,!0,h);break;case"gallery":{const A=s(1891);T=new A(n,c,h);break}case"pre":{const A=s(428);T=new A(n,c,h);break}case"charinsert":{const A=s(8103);T=new A(n,c,h);break}case"references":case"choose":case"combobox":{const A=s(8889),w=s(7033)(`./${d}`);T=new w(n,c,h);break}case"imagemap":{const A=s(2641);T=new A(n,o,h);break}case"dynamicpagelist":{const A=s(9380);T=new A(n,c,h);break}default:{const A=s(6935);T=new A(n,o)}}T.setAttribute("name",d).type="ext-inner";super(e,u,T,r,o,h);v(this,"type","ext");v(this,"closed",!0)}lint(e=0){const t=super.lint(e);return this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")&&t.push(f(this,{start:e},"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6269\u5C55\u6807\u7B7E")),t}print(){return super.print({class:this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")&&"ext wpb-error"})}}x.exports=g},8655:(x,k,s)=>{"use strict";const f=s(2308),{generateForSelf:m}=s(8277),$=s(6010),p=s(1074);class a extends f(p){constructor(i,e="",t=void 0,n=void 0,r=$.getConfig(),o=[]){super(i,e,t!=null?t:"",t===void 0||n!=null?n:"",r,o);v(this,"type","include")}lint(i=0){return this.closed?[]:[m(this,{start:i},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}print(){return super.print({class:!this.closed&&`${this.type} wpb-error`})}}x.exports=a},1074:(x,k,s)=>{var p,a,g;"use strict";const f=s(6010),m=s(8138);class $ extends m{constructor(e,t,n,r,o=f.getConfig(),h=[]){super(void 0,o,!0);I(this,p,void 0);I(this,a,void 0);I(this,g,void 0);B(this,g,[e,r||e]),B(this,p,r===void 0),B(this,a,r!==""),this.append(t,n);let d=h.indexOf(t);d===-1&&(d=h.indexOf(n)),d===-1&&(d=1/0),h.splice(d,0,this)}get closed(){return y(this,a)}toString(e){const{firstChild:t,lastChild:n}=this,[r,o]=y(this,g);return y(this,p)?`<${r}${String(t)}/>`:`<${r}${String(t)}>${String(n)}${y(this,a)?`</${o}>`:""}`}text(){const[e,t]=y(this,g);return y(this,p)?`<${e}${this.firstChild.text()}/>`:`<${e}${super.text(">")}${y(this,a)?`</${t}>`:""}`}getPadding(){return y(this,g)[0].length+1}getGaps(){return 1}print(){const[e,t]=y(this,g);return super.print(y(this,p)?{pre:`&lt;${e}`,post:"/&gt;"}:{pre:`&lt;${e}`,sep:"&gt;",post:y(this,a)?`&lt;/${t}&gt;`:""})}}p=new WeakMap,a=new WeakMap,g=new WeakMap,x.exports=$},1782:(x,k,s)=>{var n,r,Tt;"use strict";const{removeComment:f,print:m,text:$}=s(231),{generateForChild:p}=s(8277),a=s(6010),g=s(8138),l=s(9799),i=s(9237),e=s(8058);class t extends g{constructor(u,c,S=a.getConfig(),T=[]){super(void 0,S,!0,T,{});I(this,r);v(this,"type","template");v(this,"modifier","");I(this,n,{});const{parserFunction:[A,w,C]}=S;if(u.includes(":")){const[N,...O]=u.split(":");this.setModifier(N)&&(u=O.join(":"))}if(u.includes(":")||c.length===0&&!C.includes(this.modifier.toLowerCase())){const[N,...O]=u.split(":"),E=f(N),L=E.trim(),j=w.includes(L),z=A[L.toLowerCase()];if(!(O.length>0&&/\s$/u.test(E))&&(j||z)){this.setAttribute("name",z||L.toLowerCase()).type="magic-word";const J=new RegExp(`^\\s*${L}\\s*$`,j?"u":"iu"),G=new e(N,J,"magic-word-name",S,T,{});if(this.insertAt(G),O.length>0&&c.unshift([O.join(":")]),this.name==="invoke")for(let Q=0;Q<2;Q++){const W=c.shift();if(!W)break;const K=new i(W.join("="),`invoke-${Q?"function":"module"}`,S,T,{});this.insertAt(K)}}}if(this.type==="template"){const N=f(u).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test(N))throw T.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${N}`);const O=new i(u,"template-name",S,T,{});this.insertAt(O)}const b=this.isTemplate();let P=1;for(const N of c)b||(N[0]=N.join("="),N.length=1),N.length===1&&(N.unshift(P),P++),this.insertAt(new l(...N,S,T))}setModifier(u=""){if(/\s$/u.test(u))return!1;const{parserFunction:[,,c,S]}=this.getAttribute("config"),T=u.trim().toLowerCase(),A=c.includes(T),w=S.includes(T);return A||w||u===""?(this.setAttribute("modifier",u),Boolean(u)):!1}toString(u){const{childNodes:c,firstChild:S,modifier:T}=this;return`{{${T}${T&&":"}${this.type==="magic-word"?`${String(S)}${c.length>1?":":""}${c.slice(1).map(String).join("|")}`:super.toString(u,"|")}}}`}text(){const{childNodes:u,firstChild:c,modifier:S}=this;return`{{${S}${S&&":"}${this.type==="magic-word"?`${c.text()}${u.length>1?":":""}${$(u.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:u,firstChild:c,modifier:S}=this;return`<span class="wpb-${this.type}">{{${S}${S&&":"}${this.type==="magic-word"?`${c.print()}${u.length>1?":":""}${m(u.slice(1),{sep:"|"})}`:m(u,{sep:"|"})}}}</span>`}lint(u=0){const c=super.lint(u);if(!this.isTemplate())return c;const S=this.getDuplicatedArgs();if(S.length>0){const T=this.getRootNode().posFromIndex(u);c.push(...S.flatMap(([,A])=>A).map(A=>p(A,T,"\u91CD\u590D\u53C2\u6570")))}return c}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(u,c=this.childNodes.length){return super.insertAt(u,c),u.anon?V(this,r,Tt).call(this,u):u.name&&this.getArgs(u.name,!1,!1).add(u),u}getAllArgs(){return this.childNodes.filter(u=>u instanceof l)}getAnonArgs(){return this.getAllArgs().filter(({anon:u})=>u)}getArgs(u,c,S=!0){const T=String(u).trim();let A;return Object.prototype.hasOwnProperty.call(y(this,n),T)?A=y(this,n)[T]:(A=new Set(this.getAllArgs().filter(({name:w})=>T===w)),y(this,n)[T]=A),A}getDuplicatedArgs(){return this.isTemplate()?Object.entries(y(this,n)).filter(([,{size:u}])=>u>1).map(([u,c])=>[u,[...c]]):[]}getPossibleValues(){const{type:u,name:c,childNodes:S,constructor:{name:T}}=this;if(u==="template")throw new Error(`${T}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let A;switch(c){case"if":case"ifexist":case"ifexpr":case"iferror":A=2;break;case"ifeq":A=3;break;default:throw new Error(`${T}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const w=S.slice(A,A+2).map(({childNodes:[,C]})=>C);for(let C=0;C<w.length;){const{length:b,0:P}=w[C].childNodes.filter(N=>N.text().trim());if(b===0)w.splice(C,1);else if(b>1||P.type!=="magic-word")C++;else try{const N=P.getPossibleValues();w.splice(C,1,...N),C+=N.length}catch(N){C++}}return w}}n=new WeakMap,r=new WeakSet,Tt=function(u){const c=this.getAnonArgs(),S=c.indexOf(u);for(let T=S;T<c.length;T++){const A=c[T],{name:w}=A,C=String(T+1);w!==C&&this.getArgs(C,!1,!1).add(A.setAttribute("name",C))}},x.exports=t},8277:(x,k,s)=>{"use strict";const f=s(8138),m=(p,a,g,l="error")=>{const{style:{top:i,left:e,height:t,width:n}}=p,{token:r,start:o}=a,{top:h,left:d}=r?r.getRootNode().posFromIndex(o):a,u=h+i,c=u+t-1,S=i?e:d+e,T=t>1?n:S+n;return{message:g,severity:l,startLine:u,endLine:c,startCol:S,endCol:T}},$=(p,a,g,l="error")=>{const{start:i}=a,{offsetHeight:e,offsetWidth:t}=p,{top:n,left:r}=i===void 0?a:p.getRootNode().posFromIndex(i);return{message:g,severity:l,startLine:n,endLine:n+e-1,startCol:r,endCol:e>1?t:r+t}};x.exports={generateForChild:m,generateForSelf:$}},231:(x,k,s)=>{"use strict";const f='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',m=l=>l.replace(/\0\d+c\x7F/gu,""),$=(l,i={})=>{const e=s(7507),t=s(9205),{pre:n="",post:r="",sep:o=""}=i,h={"&":"amp","<":"lt",">":"gt"};return`${n}${l.map(d=>d instanceof t?d.print():String(d).replace(/[&<>]/gu,u=>`&${h[u]};`)).join(o)}${r}`},p=l=>l.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),a=(l,i,e,t)=>{if(t===void 0)return[];const n=new RegExp(`${[l,i,e].map(p).join("|")}`,"gu"),r=[];let o=n.exec(t),h=0,d=0;for(;o;){const{0:u,index:c}=o;u!==e?h+=u===l?1:-1:h===0&&(r.push(t.slice(d,c)),{lastIndex:d}=n),o=n.exec(t)}return r.push(t.slice(d)),r},g=(l,i="")=>{const e=s(3853);return l.map(t=>typeof t=="string"?t:t.text()).join(i)};x.exports={extUrlChar:f,removeComment:m,print:$,escapeRegExp:p,explode:a,text:g}},8166:x=>{"use strict";x.exports=JSON.parse('{"ext":["nowiki","pre","gallery","indicator"],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"0":"","6":"File","14":"Category"},"nsid":{"":0,"file":6,"image":6,"\u56FE\u50CF":6,"\u5716\u50CF":6,"\u6587\u4EF6":6,"\u6863\u6848":6,"\u6A94\u6848":6,"category":14,"\u5206\u7C7B":14,"\u5206\u985E":14},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{"thumbnail":"thumbnail","thumb":"thumbnail","\u7F29\u7565\u56FE":"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","\u7F29\u7565\u56FE=$1":"manualthumb","left":"left","\u5DE6":"left","right":"right","\u53F3":"right","none":"none","\u65E0":"none","$1px":"width","$1\u50CF\u7D20":"width","center":"center","centre":"center","\u5C45\u4E2D":"center","framed":"framed","enframed":"framed","frame":"framed","\u6709\u6846":"framed","frameless":"frameless","\u65E0\u6846":"frameless","upright":"upright","\u53F3\u4E0A":"upright","upright=$1":"manual-upright","upright $1":"manual-upright","\u53F3\u4E0A=$1":"manual-upright","\u53F3\u4E0A$1":"manual-upright","border":"border","\u8FB9\u6846":"border","alt=$1":"alt","\u66FF\u4EE3=$1":"alt","\u66FF\u4EE3\u6587\u672C=$1":"alt","class=$1":"class","\u7C7B=$1":"class","link=$1":"link","\u94FE\u63A5=$1":"link","baseline":"baseline","\u57FA\u7EBF":"baseline","sub":"sub","\u5B50":"sub","super":"super","sup":"super","\u8D85":"super","top":"top","\u9876\u90E8":"top","text-top":"text-top","\u6587\u5B57\u9876\u90E8":"text-top","middle":"middle","\u4E2D\u95F4":"middle","bottom":"bottom","\u5E95\u90E8":"bottom","text-bottom":"text-bottom","\u6587\u5B57\u5E95\u90E8":"text-bottom","lang=$1":"lang","\u8BED\u8A00=$1":"lang","page=$1":"page","page $1":"page","\u9875\u6570=$1":"page","$1\u9875":"page"},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},H={};function U(x){var k=H[x];if(k!==void 0)return k.exports;var s=H[x]={exports:{}};return D[x](s,s.exports,U),s.exports}U.o=(x,k)=>Object.prototype.hasOwnProperty.call(x,k);var q=U(6010)})();})();
