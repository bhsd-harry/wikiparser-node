"use strict";(()=>{var Ga=Object.create;var vt=Object.defineProperty;var Pi=Object.getOwnPropertyDescriptor;var Va=Object.getOwnPropertyNames;var Ha=Object.prototype.hasOwnProperty;var ji=(s,t)=>(t=Symbol[s])?t:Symbol.for("Symbol."+s),At=s=>{throw TypeError(s)};var qi=(s,t,e)=>t in s?vt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var Bi=(s,t)=>vt(s,"name",{value:t,configurable:!0});var x=(s,t)=>()=>(s&&(t=s(s=0)),t);var Qa=(s,t)=>()=>(t||s((t={exports:{}}).exports,t),t.exports),W=(s,t)=>{for(var e in t)vt(s,e,{get:t[e],enumerable:!0})},Xa=(s,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Va(t))!Ha.call(s,n)&&n!==e&&vt(s,n,{get:()=>t[n],enumerable:!(r=Pi(t,n))||r.enumerable});return s};var q=s=>Xa(vt({},"__esModule",{value:!0}),s);var I=s=>{var t;return[,,,Ga((t=s==null?void 0:s[ji("metadata")])!=null?t:null)]},Oi=["class","method","getter","setter","accessor","field","value","get","set"],Zt=s=>s!==void 0&&typeof s!="function"?At("Function expected"):s,Ka=(s,t,e,r,n)=>({kind:Oi[s],name:t,metadata:r,addInitializer:i=>e._?At("Already initialized"):n.push(Zt(i||null))}),er=(s,t)=>qi(t,ji("metadata"),s[3]),E=(s,t,e,r)=>{for(var n=0,i=s[t>>1],o=i&&i.length;n<o;n++)t&1?i[n].call(e):r=i[n].call(e,r);return r},N=(s,t,e,r,n,i)=>{var o,a,l,p,u,d=t&7,f=!!(t&8),c=!!(t&16),m=d>3?s.length+1:d?f?1:2:0,A=Oi[d+5],C=d>3&&(s[m-1]=[]),S=s[m]||(s[m]=[]),k=d&&(!c&&!f&&(n=n.prototype),d<5&&(d>3||!c)&&Pi(d<4?n:{get[e](){return g(this,i)},set[e](T){return y(this,i,T)}},e));d?c&&d<4&&Bi(i,(d>2?"set ":d>1?"get ":"")+e):Bi(n,e);for(var b=r.length-1;b>=0;b--)p=Ka(d,e,l={},s[3],S),d&&(p.static=f,p.private=c,u=p.access={has:c?T=>Ja(n,T):T=>e in T},d^3&&(u.get=c?T=>(d^1?g:$)(T,n,d^4?i:k.get):T=>T[e]),d>2&&(u.set=c?(T,w)=>y(T,n,w,d^4?i:k.set):(T,w)=>T[e]=w)),a=(0,r[b])(d?d<4?c?i:k[A]:d>4?void 0:{get:k.get,set:k.set}:n,p),l._=1,d^4||a===void 0?Zt(a)&&(d>4?C.unshift(a):d?c?i=a:k[A]=a:n=a):typeof a!="object"||a===null?At("Object expected"):(Zt(o=a.get)&&(k.get=o),Zt(o=a.set)&&(k.set=o),Zt(o=a.init)&&C.unshift(o));return d||er(s,n),k&&vt(n,e,k),c?d^4?i:k:n},Z=(s,t,e)=>qi(s,typeof t!="symbol"?t+"":t,e),xn=(s,t,e)=>t.has(s)||At("Cannot "+e),Ja=(s,t)=>Object(t)!==t?At('Cannot use the "in" operator on this value'):s.has(t),g=(s,t,e)=>(xn(s,t,"read from private field"),e?e.call(s):t.get(s)),h=(s,t,e)=>t.has(s)?At("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),y=(s,t,e,r)=>(xn(s,t,"write to private field"),r?r.call(s,e):t.set(s,e),e),$=(s,t,e)=>(xn(s,t,"access private method"),e);var Pr=(s,t,e,r)=>({set _(n){y(s,t,n,e)},get _(){return g(s,t,r)}});function ie(s,t,e){return e===1?s.replace(/\0(\d+)g\x7F/gu,(r,n)=>ie(String(t[n]),t,2)):e===2?s.replace(/\0(\d+)n\x7F/gu,(r,n)=>String(t[n])):s.replace(/\0(\d+)\x7F/gu,(r,n)=>t[n])}var be,_i,Ke,Je,ve,tr,Wi,D,ge,Ya,Za,jr,bn,Mi,el,tl,Ye,Ae,J=x(()=>{"use strict";be=String.raw` \xA0\u1680\u2000-\u200A\u202F\u205F\u3000`,_i=String.raw`[^[\]<>"\0-\x1F\x7F${be}\uFFFD]`,Ke=String.raw`(?:\[[\da-f:.]+\]|${_i})`,Je=String.raw`(?:${_i}|\0\d+[cn!~]\x7F)*`,ve=s=>s.trim().toLowerCase();tr=(s,t)=>e=>e.replace(s,t),Wi=tr(/[\0\x7F]|\r$/gmu,""),D=tr(/\0\d+[cn]\x7F/gu,""),ge=(s,t="")=>s.map(e=>typeof e=="string"?e:e.text()).join(t),Ya={lt:"<",gt:">",lbrack:"[",rbrack:"]",lbrace:"{",rbrace:"}",nbsp:" ",amp:"&",quot:'"'},Za=tr(/&(?:#(\d+|[Xx][\da-fA-F]+)|([lg]t|[LG]T|[lr]brac[ke]|nbsp|amp|AMP|quot|QUOT));/gu,(s,t,e)=>t?String.fromCodePoint(+((/^x/iu.test(t)?"0":"")+t)):Ya[e.toLowerCase()]),bn=s=>(jr!=null||(jr=Za),jr(s)),Mi=tr(/&#(\d+|x[\da-f]+);/giu,(s,t)=>String.fromCodePoint(+((/^x/iu.test(t)?"0":"")+t))),el={"&":"amp","<":"lt",">":"gt",'"':"quot","\n":"#10"},tl=(s=/[&<>"{}[\]|]/gu)=>tr(s,t=>`&${el[t]};`),Ye=tl(/[&<>]/gu),Ae=(s,t={})=>{let{pre:e="",post:r="",sep:n=""}=t;return e+s.map(i=>i.print()).join(n)+r}});var Ui=Qa((Pd,rl)=>{rl.exports={ext:[],html:[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link"]],namespaces:{"0":"","6":"File","10":"Template","14":"Category","828":"Module"},nsid:{"":0,file:6,template:10,category:14,module:828},functionHook:["msgnw"],variable:["!","=","pageid","articlepath","server","servername","scriptpath","stylepath"],parserFunction:[{msgnw:"msgnw",pageid:"pageid",articlepath:"articlepath",server:"server",servername:"servername",scriptpath:"scriptpath",stylepath:"stylepath","#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#dateformat":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#regex":"regex","#regex_var":"regex_var","#regexquote":"regexquote","#regexall":"regexall","#len":"len","#pos":"pos","#rpos":"rpos","#sub":"sub","#count":"count","#rmatch":"rmatch","#rreplace":"rreplace","#replace":"replace","#rsplit":"rsplit","#explode":"explode","#tab":"tab","#seo":"seo","#babel":"babel","#translation":"translation","#commaseparatedlist":"commaseparatedlist","#coordinates":"coordinates","#lst":"lst","#lsth":"lsth","#lstx":"lstx","#assessment":"assessment","#mentor":"mentor","#property":"property","#target":"target","#section":"lst","#section-x":"lstx","#section-h":"lsth","#statements":"statements","#useliquidthreads":"useliquidthreads","#lqtpagelimit":"lqtpagelimit","#avatar":"avatar","#img":"img","#chart":"chart"},{"!":"!","=":"=","#FORMAL":"formal","#bcp47":"bcp47","#dir":"dir","#interwikilink":"interwikilink","#interlanguagelink":"interlanguagelink","#contentmodel":"contentmodel","#timef":"timef","#timefl":"timefl"},["msg","raw"],["subst","safesubst"]],doubleUnderscore:[[],[]],protocol:"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|matrix:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|wikipedia://|worldwind://|xmpp:",interwiki:[],img:{},redirection:["#redirect"],variants:[]}});var Di,yn,Tn=x(()=>{"use strict";Di=new Set(["alt","link","lang","page","caption"]),yn=Ui()});function je(s){let t=new Map,e=new WeakMap;return r=>{let n=typeof r=="string"?t:e;if(n.has(r)){let o=n.get(r);return o.lastIndex=0,o}let i=s(r);return n.set(r,i),i}}var kn,rr=x(()=>{"use strict";kn=s=>decodeURIComponent(s.replace(/%(?![\da-f]{2})/giu,"%25"))});var nl,il,qr,qe,zi,nr=x(()=>{"use strict";Ce();ce();nl=new Set(["tr","td","th","caption"]),il=new Set(["Template:!!","Template:!-"]),qr=s=>{let t=s.childNodes.find(e=>e.text().trim());if(!t||t.type==="text"&&t.data.trim().startsWith("!")||t.is("magic-word")&&t.name==="!"||t.is("template")&&il.has(t.name)||t.is("html")&&nl.has(t.name))return!1;if(t.is("arg"))return t.length>1&&qr(t.childNodes[1]);if(t.is("magic-word"))try{let e=t.getPossibleValues().map(qr);return e.includes(2)?2:e.includes(1)&&1}catch{}return t.is("template")||t.is("magic-word")&&t.name==="invoke"?1:2},qe=(s,t,e,r)=>{if(s&&(r||z.viewOnly&&s[0]===se.rev))return s[1];let n=t();return(r||z.viewOnly)&&e([se.rev,n]),n},zi=(s,t)=>s==="ol"&&t==="type"?["1","a","A","i","I"]:s==="th"&&t==="scope"?["row","col","rowgroup","colgroup"]:t==="dir"?["ltr","rtl","auto"]:t==="aria-hidden"?["true","false"]:[]});var sl,Gi,Vi=x(()=>{"use strict";sl=s=>{if(s.includes("#")){let t=s.indexOf("#"),e=s.slice(0,t),r=s.slice(t+1);return(n,i)=>(t===0||n===e)&&i===r}return t=>t===s},Gi=(s,t,e)=>{if(s=s.trim(),!s)return(()=>!0);let r=s.split(",").map(n=>n.trim()).filter(n=>n!=="").map(sl);return(({type:n,name:i})=>r.some(o=>o(n,i)))}});var Ct,Or=x(()=>{"use strict";nr();Ct=(s=!0)=>t=>{let e=new WeakMap;return function(...r){return qe(e.get(this),()=>t.apply(this,r),n=>{e.set(this,n)},s)}}});var Hi,Qi=x(()=>{"use strict";Hi=s=>{class t extends s{get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get offsetHeight(){}get offsetWidth(){}}return t}});var Xi,Ki,sr,St,wt,or,ar,Et,ir,ye,vn=x(()=>{"use strict";nr();Ce();Or();Qi();ce();Ki=[Hi],Xi=[Ct(!1)];ye=class{constructor(){E(ir,5,this);Z(this,"childNodes",[]);h(this,sr);h(this,St);h(this,wt);h(this,or);h(this,ar);h(this,Et,{})}get parentNode(){return g(this,sr)}get nextSibling(){return g(this,St)}get previousSibling(){return g(this,wt)}getChildNodes(){let{childNodes:t}=this;return Object.isFrozen(t)?[...t]:t}getAttribute(t){return t==="padding"?0:this[t]}setAttribute(t,e){switch(t){case"parentNode":y(this,sr,e),e||(y(this,St,void 0),y(this,wt,void 0));break;case"nextSibling":y(this,St,e);break;case"previousSibling":y(this,wt,e);break;case"aIndex":break;default:this[t]=e}}getRootNode(){return qe(g(this,or),()=>{var t,e;return(e=(t=this.parentNode)==null?void 0:t.getRootNode())!=null?e:this},t=>{let[,e]=t;e.type==="root"&&y(this,or,t)})}indexFromPos(t,e){}posFromIndex(t){}getDimension(){}getGaps(t){return 0}getRelativeIndex(t){if(t===void 0){let{parentNode:e}=this;return e?e.getRelativeIndex(e.childNodes.indexOf(this)):0}return qe(g(this,Et)[t],()=>{let{childNodes:e}=this,r=t+(t<0?e.length:0),n=this.getAttribute("padding");for(let i=0;i<r;i++)z.viewOnly&&(g(this,Et)[i]=[se.rev,n]),n+=e[i].toString().length+this.getGaps(i);return n},e=>{g(this,Et)[t]=e})}getAbsoluteIndex(){return qe(g(this,ar),()=>{let{parentNode:t}=this;return t?t.getAbsoluteIndex()+this.getRelativeIndex():0},t=>{y(this,ar,t)})}getBoundingClientRect(){this.lspError("AstNode.getBoundingClientRect")}is(t){return this.type===t}getLines(){}seal(t,e){}lspError(t){throw new Error(`${t} method is only available in the LSP version!`)}};ir=I(null),sr=new WeakMap,St=new WeakMap,wt=new WeakMap,or=new WeakMap,ar=new WeakMap,Et=new WeakMap,N(ir,1,"getLines",Xi,ye),ye=N(ir,0,"AstNode",Ki,ye),E(ir,1,ye)});var Ji,Yi=x(()=>{"use strict";Ji=s=>{}});var Zi,An,ol,Ze,es=x(()=>{"use strict";J();Ce();Vi();vn();Yi();Zi=[Ji];Ze=class extends(ol=ye){get length(){return this.childNodes.length}text(t){return ge(this.childNodes,t)}removeAt(t){this.lspError("AstElement.removeAt")}insertAt(t,e=this.length){return _r(this,e,0,[t]),t}closest(t){let e=Gi(t,this),{parentNode:r}=this;for(;r;){if(e(r))return r;({parentNode:r}=r)}}isInside(t){var e;return((e=this.closest(`${t},ext`))==null?void 0:e.type)===t}append(...t){this.safeAppend(t)}safeAppend(t){for(let e of t)this.insertAt(e)}safeReplaceChildren(t){}setText(t,e=0){e+=e<0?this.length:0;let r=this.childNodes[e],{data:n}=r;return r.replaceData(t),n}toString(t,e=""){return this.childNodes.map(r=>r.toString(t)).join(e)}caretPositionFromIndex(t){this.lspError("AstElement.caretPositionFromIndex")}elementFromIndex(t){this.lspError("AstElement.elementFromIndex")}elementFromPoint(t,e){this.lspError("AstElement.elementFromPoint")}lint(t=this.getAbsoluteIndex(),e){}print(t={}){{let e=t.class;return this.toString()?(e===""?"":`<span class="wpb-${e!=null?e:this.type}${this.getAttribute("invalid")?" wpb-invalid":""}">`)+Ae(this.childNodes,t)+(e===""?"":"</span>"):""}}json(t,e=1/0,r=this.getAbsoluteIndex()){}};An=I(ol),Ze=N(An,0,"AstElement",Zi,Ze),E(An,1,Ze)});var Wr,ts,lr,rs=x(()=>{"use strict";J();vn();lr=class extends ye{constructor(e){super();h(this,Wr);Z(this,"data","");this.data=e}get type(){return"text"}toString(e){var r;return e&&!((r=this.parentNode)!=null&&r.getAttribute("built"))?D(this.data):this.data}text(){return this.data}lint(e=this.getAbsoluteIndex(),r){}replaceData(e){$(this,Wr,ts).call(this,e)}splitText(e){this.lspError("AstText.splitText")}escape(){}print(){return Ye(this.data)}};Wr=new WeakSet,ts=function(e){this.setAttribute("data",e)}});var oe,Oe=x(()=>{"use strict";oe=(s=!0,t=!0)=>e=>{class r extends e{text(){return""}lint(i){}}return r}});var j,re=x(()=>{"use strict";j=s=>{}});var dr,ee,_e=x(()=>{"use strict";B();ee=class extends v{constructor(e,r,n,i,o){super(e,n,i,o);h(this,dr);y(this,dr,r)}get type(){return g(this,dr)}lint(e=this.getAbsoluteIndex()){}};dr=new WeakMap});var Y,Te=x(()=>{"use strict";Y=({length:s})=>t=>{class e extends t{getAttribute(n){return n==="padding"?s:super.getAttribute(n)}}return e}});var Nt,H,We=x(()=>{"use strict";B();H=class extends v{constructor(e,r,n,i,o){super(e,n,i,o);h(this,Nt);y(this,Nt,r)}get type(){return g(this,Nt)}set type(e){y(this,Nt,e)}getAttribute(e){var r;return e==="invalid"?this.type==="converter-flag"&&!!((r=this.parentNode)!=null&&r.isInvalidFlag(this)):super.getAttribute(e)}};Nt=new WeakMap});var ns,et,me,tt,Mr,is,Cn,al,ne,It=x(()=>{"use strict";Te();re();B();We();ns=[j,Y("[[")];ne=class extends(al=v){constructor(e,r,n,i=[],o="|"){super(void 0,n,i,{});h(this,Mr);h(this,et,!0);h(this,me);h(this,tt);if(this.insertAt(new H(e,"link-target",n,i,{})),r!==void 0){let a=new v(r,n,i,{});a.type="link-text",a.setAttribute("stage",10),this.insertAt(a)}y(this,me,o)}get link(){}get fragment(){}afterBuild(){y(this,tt,this.getTitle()),g(this,me).includes("\0")&&y(this,me,this.buildFromStr(g(this,me),0)),$(this,Mr,is).call(this),super.afterBuild()}setAttribute(e,r){e==="bracket"?y(this,et,r):e==="title"?y(this,tt,r):super.setAttribute(e,r)}toString(e){let r=super.toString(e,g(this,me));return g(this,et)?`[[${r}]]`:r}text(){let e=super.text("|");return g(this,et)?`[[${e}]]`:e}getAttribute(e){return e==="title"?g(this,tt):super.getAttribute(e)}getGaps(e){return e===0?g(this,me).length:1}lint(e=this.getAbsoluteIndex(),r){}getTitle(e,r){return this.normalizeTitle(this.firstChild.text(),0,{halfParsed:r,temporary:e,decode:!0,selfLink:!0})}print(){return super.print(g(this,et)?{pre:"[[",post:"]]",sep:g(this,me)}:{sep:g(this,me)})}json(e,r,n=this.getAbsoluteIndex()){}};Cn=I(al),et=new WeakMap,me=new WeakMap,tt=new WeakMap,Mr=new WeakSet,is=function(){this.type!=="ext-inner"&&this.setAttribute("name",g(this,tt).title)},ne=N(Cn,0,"LinkBaseToken",ns,ne),E(Cn,1,ne)});var ss,Sn,ll,Q,Me=x(()=>{"use strict";re();B();ss=[j];Q=class extends(ll=v){get innerText(){return this.firstChild.data}constructor(t="",e,r){super(t,e,r)}};Sn=I(ll),Q=N(Sn,0,"NowikiBaseToken",ss,Q),E(Sn,1,Q)});var os,wn,dl,X,rt=x(()=>{"use strict";Oe();Me();os=[oe(!1)];X=class extends(dl=Q){get type(){return"noinclude"}toString(t){return t?"":super.toString()}lint(t=this.getAbsoluteIndex()){}};wn=I(dl),X=N(wn,0,"NoincludeToken",os,X),E(wn,1,X)});var Ur,as=x(()=>{"use strict";It();rt();Ur=class extends ne{get type(){return"redirect-target"}constructor(t,e,r,n){super(t,void 0,r,n),e!==void 0&&this.insertAt(new X(e,r,n))}getTitle(){return this.normalizeTitle(this.firstChild.toString(),0,{halfParsed:!0,decode:!0,page:""})}lint(t=this.getAbsoluteIndex()){}}});var ls,it,$t,En,gl,nt,ds=x(()=>{"use strict";Oe();re();B();_e();as();ls=[oe(!1,!1),j];nt=class extends(gl=v){constructor(e,r,n,i,o,a,l=[]){super(void 0,a,l);h(this,it);h(this,$t);y(this,it,e),y(this,$t,o),this.append(new ee(r,"redirect-syntax",a,l),new Ur(n,i==null?void 0:i.slice(1),a,l))}get type(){return"redirect"}getAttribute(e){return e==="padding"?g(this,it).length:super.getAttribute(e)}toString(e){return g(this,it)+super.toString(e)+g(this,$t)}lint(e=this.getAbsoluteIndex()){}print(){return super.print({pre:g(this,it),post:g(this,$t)})}};En=I(gl),it=new WeakMap,$t=new WeakMap,nt=N(En,0,"RedirectToken",ls,nt),E(En,1,nt)});var gs={};W(gs,{parseRedirect:()=>ul});var ul,us=x(()=>{"use strict";ce();ds();ul=(s,t,e)=>{var n;(n=t.regexRedirect)!=null||(t.regexRedirect=new RegExp(String.raw`^(\s*)((?:${t.redirection.join("|")})\s*(?::\s*)?)\[\[([^\n|\]]+)(\|.*?)?\]\](\s*)`,"iu"));let r=t.regexRedirect.exec(s);return r&&z.normalizeTitle(r[3],0,!1,t,{halfParsed:!0,temporary:!0,decode:!0,page:""}).valid?(s=`\0${e.length}o${s.slice(r[0].length)}`,new nt(...r.slice(1),t,e),s):!1}});var ps,Nn,pl,st,fs=x(()=>{"use strict";Te();re();B();ps=[j,Y("<onlyinclude>")];st=class extends(pl=v){get type(){return"onlyinclude"}toString(t){return`<onlyinclude>${super.toString(t)}</onlyinclude>`}isPlain(){return!0}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}};Nn=I(pl),st=N(Nn,0,"OnlyincludeToken",ps,st),E(Nn,1,st)});var Ue,gr=x(()=>{"use strict";Ue=(s=1)=>t=>{class e extends t{getGaps(){return s}}return e}});var cs,De,Se,In,fl,he,Dr=x(()=>{"use strict";gr();re();B();cs=[Ue(),j];he=class extends(fl=v){constructor(e,r,n,i,o,a=[]){super(void 0,o);h(this,De);h(this,Se);Z(this,"closed");this.setAttribute("name",e.toLowerCase()),y(this,De,[e,i||e]),this.closed=i!=="",y(this,Se,i===void 0),this.append(r,n);let l=typeof r=="string"?-1:a.indexOf(r);a.splice(l===-1?1/0:l,0,this)}get innerText(){return g(this,Se)?void 0:this.lastChild.text()}get selfClosing(){return g(this,Se)}toString(e){let{firstChild:r,lastChild:n}=this,[i,o]=g(this,De);return g(this,Se)?`<${i}${r.toString(e)}/>`:`<${i}${r.toString(e)}>${n.toString(e)}${this.closed?`</${o}>`:""}`}text(){let[e,r]=g(this,De);return g(this,Se)?`<${e}${this.firstChild.text()}/>`:`<${e}${super.text(">")}${this.closed?`</${r}>`:""}`}getAttribute(e){return e==="padding"?g(this,De)[0].length+1:super.getAttribute(e)}print(){{let[e,r]=g(this,De);return super.print(g(this,Se)?{pre:`&lt;${e}`,post:"/&gt;"}:{pre:`&lt;${e}`,sep:"&gt;",post:this.closed?`&lt;/${r}&gt;`:""})}}json(e,r,n=this.getAbsoluteIndex()){}};In=I(fl),De=new WeakMap,Se=new WeakMap,he=N(In,0,"TagPairToken",cs,he),E(In,1,he)});var ms,$n,cl,ot,hs=x(()=>{"use strict";Oe();Dr();ms=[oe(!1)];ot=class extends(cl=he){get type(){return"include"}constructor(t,e="",r,n,i,o){super(t,e,r!=null?r:"",r===void 0||n!=null?n:"",i,o)}toString(t){return t?"":super.toString()}lint(t=this.getAbsoluteIndex()){}};$n=I(cl),ot=N($n,0,"IncludeToken",ms,ot),E($n,1,ot)});var Lt,zr=x(()=>{"use strict";Lt=(s=0)=>t=>{}});var ue,xs,bs,ys,ml,Ts,ks,hl,xl,bl,Ln,vs,As,Cs,at,Ss,ws,Es,Ns=x(()=>{"use strict";ue=new Set(["align"]),xs=new Set(["cite"]),bs=new Set(["cite","datetime"]),ys=new Set(["width"]),ml=new Set(["axis","align","bgcolor","height","width","valign"]),Ts=new Set([...ml,"abbr","headers","scope","rowspan","colspan"]),ks=new Set(["type"]),hl=new Set(["summary","align","bgcolor","cellpadding","cellspacing","frame","rules","width"]),xl=new Set(["clear"]),bl=new Set(["bgcolor","align","valign"]),Ln=new Set(["id","qid","forcemathmode","type","display"]),vs=new Set(["enclose","inline","lang","line","linelinks","style","class","id","dir","copy","highlight","start"]),As=new Set(["weight"]),Cs=new Set(["width","height","zoom","latitude","longitude","align","mapstyle","lang","alt","text"]),at=new Set,Ss=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-level","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),ws={div:ue,h1:ue,h2:ue,h3:ue,h4:ue,h5:ue,h6:ue,blockquote:xs,q:xs,p:ue,br:xl,pre:ys,ins:bs,del:bs,ul:ks,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set([...hl,"border"]),caption:ue,tr:bl,td:Ts,th:Ts,font:new Set(["size","color","face"]),hr:ys,data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:ks,poem:ue,categorytree:ue,combooption:ue,img:new Set(["alt","src","width","height","loading","srcset"])},Es={pre:new Set(["format"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails"]),poem:new Set(["compact"]),categorytree:new Set(["hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline"]),nowiki:at,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","follow","dir","details"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:As,choicetemplate:As,imagemap:at,inputbox:at,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:at,poll:new Set(["id","show-results-before-voting"]),score:new Set(["line_width_inches","lang","override_midi","raw","note-language","override_audio","override_ogg","sound","vorbis"]),seo:new Set(["title","title_mode","title_separator","keywords","description","robots","google_bot","image","image_width","image_height","image_alt","type","site_name","locale","section","author","published_time","twitter_site"]),tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"]),math:new Set([...Ln,"chem"]),chem:Ln,ce:Ln,hiero:at,phonos:new Set(["ipa","class","text","lang","wikibase","file"]),section:new Set(["begin","end"]),source:vs,syntaxhighlight:vs,templatedata:at,timeline:new Set(["method","font"]),quiz:new Set(["display","shuffleanswers","points","shuffle","case"]),languages:at,mapframe:new Set([...Cs,"frameless"]),maplink:new Set([...Cs,"class"]),rss:new Set(["template","templatename","max","highlight","filter","filterout","reverse","date","item-max-length"]),"page-collection":new Set(["lang","name","description","end-date"])}});var yl,Tl,kl,vl,pr,Ft,te,lt,Rt,Is,$s,ur,Ls=x(()=>{"use strict";nr();J();Ns();B();We();yl=/expression|(?:accelerator|-o-link(?:-source)?|-o-replace)\s*:|(?:url|src|image(?:-set)?)\s*\(|attr\s*\([^)]+[\s,]url/u,Tl=/(?:^|\s|\*\/)(?:java|vb)script(?:\W|$)/iu,kl=new Set(["ext","arg","magic-word","template"]),vl=new Set(["about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),ur=class extends v{constructor(e,r,n,i,o,a="",l,p=[]){let u=new H(n,"attr-key",o,p),d;if(n==="title"||r==="img"&&n==="alt")d=new v(l,o,p,{}),d.type="attr-value",d.setAttribute("stage",10);else if(r==="gallery"&&n==="caption"||r==="ref"&&n==="details"||(r==="mapframe"||r==="maplink")&&n==="text"||r==="choose"&&(n==="before"||n==="after")){let f={...o,excludes:[...o.excludes,"heading","html","table","hr","list"]};d=new v(l,f,p,{}),d.type="attr-value",d.setAttribute("stage",1)}else d=new H(l,"attr-value",o,p,{});super(void 0,o,p);h(this,Rt);h(this,pr);h(this,Ft);h(this,te);h(this,lt);y(this,pr,e),this.append(u,d),y(this,te,a),y(this,lt,[...i]),y(this,Ft,r),this.setAttribute("name",ve(D(n)))}get type(){return g(this,pr)}get tag(){return g(this,Ft)}get balanced(){}afterBuild(){g(this,te).includes("\0")&&y(this,te,this.buildFromStr(g(this,te),0)),this.parentNode&&y(this,Ft,this.parentNode.name),$(this,Rt,Is).call(this),super.afterBuild()}toString(e){let[r="",n=""]=g(this,lt);return g(this,te)?super.toString(e,g(this,te)+r)+n:this.firstChild.toString(e)}text(){return g(this,te)?`${super.text(`${g(this,te).trim()}"`)}"`:this.firstChild.text()}getGaps(){var e,r;return g(this,te)?g(this,te).length+((r=(e=g(this,lt)[0])==null?void 0:e.length)!=null?r:0):0}lint(e=this.getAbsoluteIndex(),r){}getValue(){return g(this,te)?this.lastChild.text().trim():this.type==="ext-attr"||""}escape(){}getAttribute(e){return e==="invalid"?$(this,Rt,$s).call(this):super.getAttribute(e)}print(){{let[e="",r=""]=g(this,lt);return g(this,te)?super.print({sep:Ye(g(this,te))+e,post:r}):super.print()}}json(e,r,n=this.getAbsoluteIndex()){}};pr=new WeakMap,Ft=new WeakMap,te=new WeakMap,lt=new WeakMap,Rt=new WeakSet,Is=function(){this.setAttribute("name",ve(this.firstChild.text()))},$s=function(e,r){let{firstChild:n,lastChild:i,type:o,name:a,tag:l,parentNode:p}=this,u=!i.childNodes.some(({type:k})=>kl.has(k)),d=this.getValue(),f=Es[l],c=ws[l],{length:m}=this.toString(),A="illegal-attr",C,S;if(!(f!=null&&f.has(a))&&!(c!=null&&c.has(a))&&(o==="ext-attr"?f||c:!/\{\{[^{]+\}\}/u.test(a))&&(o==="ext-attr"&&!c||!/^(?:xmlns:[\w:.-]+|data-(?!ooui|mw|parsoid)[^:]*)$/u.test(a)&&(l==="meta"||l==="link"||!Ss.has(a)))||(a==="itemtype"||a==="itemid"||a==="itemref")&&!(p!=null&&p.hasAttr("itemscope"))){if(e===void 0)return!0}else if(a==="style"&&typeof d=="string"&&yl.test(d)){if(e===void 0)return!0}else if(a==="tabindex"&&typeof d=="string"&&d!=="0"){if(e===void 0)return!0}else if(typeof d=="string"&&((/^xmlns:[\w:.-]+$/u.test(a)||vl.has(a))&&Tl.test(d)||u&&(a==="href"||l==="img"&&a==="src")&&!new RegExp(String.raw`^(?:${this.getAttribute("config").protocol}|//)\S+$`,"iu").test(d))){if(e===void 0)return!0}else if(u&&o!=="ext-attr"){let k=zi(l,a),b=String(d).toLowerCase();if(k.length>0&&k.every(T=>T!==b)&&e===void 0)return!0}return!1}});var Fs,Al,fr,cr,Fn,ze,Gr=x(()=>{"use strict";J();B();We();Ls();Fs=s=>s.slice(0,-1),Al=s=>`${Fs(s)}-dirty`,ze=class extends v{constructor(e,r,n,i,o=[]){super(void 0,i,o,{});h(this,cr);h(this,fr);if(y(this,fr,r),this.setAttribute("name",n),e){let a=/([^\s/](?:(?!\0\d+~\x7F)[^\s/=])*)(?:((?:\s(?:\s|\0\d+[cn]\x7F)*)?(?:=|\0\d+~\x7F)(?:\s|\0\d+[cn]\x7F)*)(?:(["'])([\s\S]*?)(\3|$)|(\S*)))?/gu,l="",p=a.exec(e),u=0,d=()=>{l&&(super.insertAt(new H(l,Al(r),i,o,{})),l="")};for(;p;){let{index:f,0:c,1:m,2:A,3:C,4:S,5:k,6:b}=p;if(l+=e.slice(u,f),/^(?:[\w:]|\0\d+t\x7F)(?:[\w:.-]|\0\d+t\x7F)*$/u.test(D(m).trim())){let T=S!=null?S:b,w=[C,k],F=new ur(Fs(r),n,m,w,i,A,T,o);d(),super.insertAt(F)}else l+=c;({lastIndex:u}=a),p=a.exec(e)}l+=e.slice(u),d()}}get type(){return g(this,fr)}afterBuild(){let{parentNode:e}=this;e!=null&&e.is("td")&&this.setAttribute("name",e.subtype),super.afterBuild()}getAttrTokens(e){return this.childNodes.filter(r=>r instanceof ur&&(!e||r.name===ve(e)))}hasAttr(e){return this.getAttrTokens(e).length>0}getAttrToken(e){}getAttr(e){}lint(e=this.getAbsoluteIndex(),r){}escape(){}getAttribute(e){return e==="invalid"?$(this,cr,Fn).call(this):super.getAttribute(e)}print(){return this.toString()?`<span class="wpb-${this.type}${$(this,cr,Fn).call(this)?" wpb-invalid":""}">${this.childNodes.map(e=>e.print(e instanceof H?{class:e.toString().trim()&&"attr-dirty"}:void 0)).join("")}</span>`:""}};fr=new WeakMap,cr=new WeakSet,Fn=function(){let{parentNode:e}=this;return(e==null?void 0:e.type)==="html"&&e.closing&&this.text().trim()!==""}});var Rs={};W(Rs,{PreToken:()=>Rn});var Rn,Bs=x(()=>{"use strict";B();rt();Rn=class extends v{get type(){return"ext-inner"}constructor(t,e,r=[]){if(t){let n=/<nowiki>/giu,i=/<\/nowiki>/giu,{length:o}=n.source,a=n.exec(t);a&&(i.lastIndex=a.index+o);let l=i.exec(t),p=0,u="";for(;a&&l;)new X(a[0],e,r,!0),new X(l[0],e,r,!0),u+=`${t.slice(p,a.index)}\0${r.length-1}n${t.slice(a.index+o,l.index)}\0${r.length}n`,p=l.index+o+1,n.lastIndex=p,a=n.exec(t),a&&(i.lastIndex=a.index+o),l=i.exec(t);t=u+t.slice(p)}super(t,e,r,{}),this.setAttribute("stage",10)}isPlain(){return!0}lint(t=this.getAbsoluteIndex()){}}});var Ge,Vr=x(()=>{"use strict";B();Ge=class extends v{get type(){return"ext-inner"}toString(t){return super.toString(t,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}});var Hr,Ps=x(()=>{"use strict";B();Hr=class extends v{get type(){return"param-line"}constructor(t,e,r,n,i){super(e,r,n,i),this.setAttribute("name",t)}lint(t=this.getAbsoluteIndex()){}}});var js={};W(js,{ParamTagToken:()=>mr});var mr,Bn=x(()=>{"use strict";hr();Vr();Ps();mr=class extends Ge{constructor(t,e,r,n,i=[],o){super(void 0,n,i,{}),r&&this.safeAppend(r.split(`
`).map(a=>o?a:dt(a,n,i,e)).map(a=>new Hr(t,a,n,i,{}))),i.splice(i.indexOf(this),1),i.push(this)}}});var qs,xr,Bt,Qr,Pn,Cl,we,jn=x(()=>{"use strict";re();B();_e();qs=[j];we=class extends(Cl=v){constructor(e,r,n,i=[]){super(void 0,n,i);h(this,Bt);h(this,xr);y(this,xr,e);let o=new v(r[0],n,i);o.type="heading-title",o.setAttribute("stage",2);let a=new ee(r[1],"heading-trail",n,i);this.append(o,a)}get type(){return"heading"}get level(){return g(this,xr)}toString(e){let r=$(this,Bt,Qr).call(this);return r+this.firstChild.toString(e)+r+this.lastChild.toString(e)}text(){let e=$(this,Bt,Qr).call(this);return e+this.firstChild.text()+e}getAttribute(e){return e==="invalid"?this.inHtmlAttrs()===2:e==="padding"?this.level:super.getAttribute(e)}getGaps(){return this.level}lint(e=this.getAbsoluteIndex(),r){}print(){{let e=$(this,Bt,Qr).call(this);return super.print({pre:e,sep:e})}}json(e,r,n=this.getAbsoluteIndex()){}};Pn=I(Cl),xr=new WeakMap,Bt=new WeakSet,Qr=function(){return"=".repeat(this.level)},we=N(Pn,0,"HeadingToken",qs,we),E(Pn,1,we)});var Xr,Os=x(()=>{"use strict";B();Xr=class extends v{get type(){return"parameter"}get anon(){return this.firstChild.length===0}get duplicated(){}constructor(t,e,r,n=[]){super(void 0,r,n);let i=new v(typeof t=="number"?void 0:t,r,n,{}),o=new v(e,r,n);i.type="parameter-key",i.setAttribute("stage",2),o.type="parameter-value",o.setAttribute("stage",2),this.append(i,o)}trimName(t,e=!0){let r=(typeof t=="string"?t:t.toString(!0)).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");return this.setAttribute("name",r),r}afterBuild(){if(!this.anon){let{parentNode:t,firstChild:e}=this,r=this.trimName(e);t&&t.getArgs(r,!1,!1).add(this)}super.afterBuild()}toString(t){return this.anon?this.lastChild.toString(t):super.toString(t,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}lint(t=this.getAbsoluteIndex(),e){}print(){return super.print({sep:this.anon?"":"="})}json(t,e,r=this.getAbsoluteIndex()){}}});var _s,br,He,Pt,jt,qt,gt,On,Ws,qn,Sl,Ve,Ms=x(()=>{"use strict";J();Ce();gr();re();B();Os();We();_e();_s=[j,Ue()];Ve=class extends(Sl=v){constructor(e,r,n,i=[]){var S,k;let o,a=/^(?:\s|\0\d+[cn]\x7F)*\0(\d+)h\x7F(?:\s|\0\d+[cn]\x7F)*/u.exec(e);a&&(o=Number(a[1]),e=e.replace(`\0${o}h`,i[o].toString().replace(/^\n/u,"")));super(void 0,n,i,{});h(this,gt);Z(this,"modifier","");h(this,br,"template");h(this,He,":");h(this,Pt,!1);h(this,jt,new Map);h(this,qt);let{parserFunction:l,variable:p,functionHook:u}=n,d=(S=/^(?:\s|\0\d+[cn]\x7F)*\0\d+s\x7F/u.exec(e))==null?void 0:S[0];if(d)this.setAttribute("modifier",d),e=e.slice(d.length);else if(e.includes(":")){let[b,...T]=e.split(":"),[w]=/^(?:\s|\0\d+[cn]\x7F)*/u.exec((k=T[0])!=null?k:"");this.setModifier(`${b}:${w}`)&&(e=T.join(":").slice(w.length))}let f=e.search(/[:：]/u),c=e[f]==="：",m=f!==-1;if(m||r.length===0&&!g(this,Pt)){let b=m?e.slice(0,f):e,T=m&&e.slice(f+1),w=D(b),F=m?w.slice(w.search(/\S/u))+(c?"：":""):w.trim(),[,L,R]=Us(F,l),G=!("functionHook"in n)||u.includes(R),P=p.includes(R);if(m?R&&G:P){this.setAttribute("name",R),y(this,br,"magic-word"),c&&y(this,He,"：");let V=new ee(b,"magic-word-name",n,i);if(super.insertAt(V),T!==!1&&r.unshift([T]),this.name==="invoke")for(let _=0;_<2;_++){let K=r.shift();if(!K)break;let ae=new H(K.join("="),`invoke-${_?"function":"module"}`,n,i);super.insertAt(ae)}}}if(this.type==="template"){let b=D(e).trim();if(!this.normalizeTitle(b,10,{halfParsed:!0,temporary:!0}).valid)throw i.pop(),new SyntaxError("Invalid template name");let T=new H(e,"template-name",n,i,{});super.insertAt(T)}typeof o=="number"&&(i[o]=void 0);let A=this.isTemplate(),C=1;for(let b=0;b<r.length;b++){let T=r[b];A||this.name==="switch"&&b>0||this.name==="tag"&&b>1||(T[0]=T.join("="),T.length=1),T.length===1&&(T.unshift(C),C++),this.insertAt(new Xr(...T,n,i))}this.seal("modifier")}get type(){return g(this,br)}get module(){}get function(){}setModifier(e){let[,,r,n]=this.getAttribute("config").parserFunction,i=D(e).trim();if(e&&!i.endsWith(":"))return!1;let o=i.slice(0,-1).toLowerCase(),a=r.includes(o),l=n.includes(o);return(g(this,Pt)?a:l||!e)||(se.running||this.length>1)&&(a||l||!e)?(this.setAttribute("modifier",e),y(this,Pt,a),!!e):!1}isTemplate(){return this.type==="template"||this.name==="invoke"}afterBuild(){this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,0)),super.afterBuild(),this.isTemplate()&&this.type==="template"&&(y(this,qt,$(this,gt,On).call(this)),this.setAttribute("name",g(this,qt).title))}toString(e){let{childNodes:r,length:n,firstChild:i,modifier:o,type:a}=this;return`{{${o}${a==="magic-word"?i.toString(e)+(n===1?"":g(this,He))+r.slice(1).map(l=>l.toString(e)).join("|"):super.toString(e,"|")}}}`}text(){let{childNodes:e,length:r,firstChild:n,modifier:i,type:o,name:a}=this;return o==="magic-word"&&a==="vardefine"?"":`{{${i}${o==="magic-word"?n.text()+(r===1?"":g(this,He))+ge(e.slice(1),"|"):super.text("|")}}}`}getAttribute(e){switch(e){case"padding":return this.modifier.length+2;case"title":return g(this,qt);case"colon":return g(this,He);case"invalid":return this.type==="magic-word"&&this.name==="invoke"&&(this.length===2||!$(this,gt,On).call(this).valid);default:return super.getAttribute(e)}}lint(e=this.getAbsoluteIndex(),r){}insertAt(e,r=this.length){return super.insertAt(e,r),e.anon?$(this,gt,Ws).call(this,e):e.name&&this.getArgs(e.name,!1,!1).add(e),e}getAllArgs(){return this.childNodes.filter(Kr("parameter"))}getAnonArgs(){return this.getAllArgs().filter(({anon:e})=>e)}getArgs(e,r,n=!0){let i=String(e).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1"),o;return g(this,jt).has(i)?o=g(this,jt).get(i):(o=new Set(this.getAllArgs().filter(({name:a})=>i===a)),g(this,jt).set(i,o)),o}getDuplicatedArgs(){}getPossibleValues(){let{type:e,name:r,childNodes:n}=this;if(e==="template")throw new Error("TranscludeToken.getPossibleValues method is only for specific magic words!");let i,o;switch(r){case"if":case"ifexist":case"ifexpr":case"iferror":i=2;break;case"ifeq":i=3;break;case"switch":{let a=n.slice(2),l=a[a.length-1];o=[...a.filter(({anon:p})=>!p),...l!=null&&l.anon?[l]:[]].map(({lastChild:p})=>p);break}default:throw new Error("TranscludeToken.getPossibleValues method is only for specific magic words!")}o!=null||(o=n.slice(i,i+2).map(({lastChild:a})=>a));for(let a=0;a<o.length;){let{length:l,0:p}=o[a].childNodes.filter(u=>u.text().trim());if(l===0)o.splice(a,1);else if(l>1||!p.is("magic-word"))a++;else try{let u=p.getPossibleValues();Array.prototype.splice.apply(o,[a,1,...u]),a+=u.length}catch{a++}}return o}print(){{let{childNodes:e,length:r,firstChild:n,modifier:i,type:o}=this;return`<span class="wpb-${o}${this.getAttribute("invalid")?" wpb-invalid":""}">{{${o==="magic-word"?Ye(i)+n.print()+(r===1?"":g(this,He))+Ae(e.slice(1),{sep:"|"}):(i?`<span class="wpb-magic-word">${Ye(i)}</span>`:"")+Ae(e,{sep:"|"})}}}</span>`}}};qn=I(Sl),br=new WeakMap,He=new WeakMap,Pt=new WeakMap,jt=new WeakMap,qt=new WeakMap,gt=new WeakSet,On=function(){let e=this.type==="template";return this.normalizeTitle((e?"":"Module:")+D(this.childNodes[e?0:1].text()),10,{temporary:!0,...!e&&{page:""}})},Ws=function(e){let r=this.getAnonArgs(),n=typeof e!="number";for(let i=n?r.indexOf(e):e-1;i<r.length;i++){let o=r[i],{name:a}=o,l=String(i+1);(a!==l||o===e)&&(o.setAttribute("name",l),this.getArgs(l,!1,!1).add(o))}},Ve=N(qn,0,"TranscludeToken",_s,Ve),E(qn,1,Ve)});var Ds,_n,wl,ut,zs=x(()=>{"use strict";Oe();re();B();Ds=[oe(),j];ut=class extends(wl=v){get type(){return"hidden"}getAttribute(t){return t==="invalid"||super.getAttribute(t)}};_n=I(wl),ut=N(_n,0,"HiddenToken",Ds,ut),E(_n,1,ut)});var Gs,Mn,El,Wn,Nl,pt,Vs=x(()=>{"use strict";J();Te();gr();re();B();We();zs();Gs=[j,Y("{{{"),Ue()];pt=class extends(Nl=v){constructor(e,r,n=[]){super(void 0,r,n,{});h(this,Mn);for(let i=0;i<e.length;i++){let o=e[i];if(i===0){let a=new H(o,"arg-name",r,n,{});super.insertAt(a)}else if(i>1){let a=new ut(o,r,n);super.insertAt(a)}else{let a=new v(o,r,n);a.type="arg-default",a.setAttribute("stage",2),super.insertAt(a)}}}get type(){return"arg"}get default(){}toString(e){return`{{{${super.toString(e,"|")}}}}`}text(){return`{{{${ge(this.childNodes.slice(0,2),"|")}}}}`}afterBuild(){super.afterBuild()}lint(e=this.getAbsoluteIndex(),r){}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}json(e,r,n=this.getAbsoluteIndex()){}};Wn=I(Nl),Mn=new WeakSet,El=function(){},pt=N(Wn,0,"ArgToken",Gs,pt),E(Wn,1,pt)});var Zs={};W(Zs,{parseBraces:()=>yr});var Il,Hs,Un,Qs,Xs,Ks,Ys,Js,yr,Jr=x(()=>{"use strict";rr();J();jn();Ms();Vs();Il={"=":String.raw`\n(?!(?:[^\S\n]|\0\d+[cn]\x7F)*\n)`,"{":String.raw`\}{2,}|\|`,"-":String.raw`\}-`,"[":String.raw`\]\]`},Hs=String.raw`\[(?!\[)`,Un=String.raw`\n(?![=\0])`,Qs=String.raw`|\{{2,}`,Xs=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"],["server","m"]]),Ks=je(s=>new RegExp(s,"gmu"));Ys=new RegExp(String.raw`\{\{((?:[^\n{}[]|${Hs}|${Un})*)\}\}(?!\})`+"|"+String.raw`\[\[(?:[^\n[\]{]|${Un})*\]\]`+"|"+String.raw`-\{(?:[^\n{}[]|${Hs}|${Un})*\}-`,"gu");Js=s=>{let t=ve(D(s));return Xs.has(t)?Xs.get(t):/^(?:filepath|(?:full|canonical)urle?):./u.test(t)?"m":/^#vardefine:./u.test(t)?"n":"t"},yr=(s,t,e)=>{var m,A,C,S,k;let r=String.raw`${t.excludes.includes("heading")?"":String.raw`^((?:\0\d+[cno]\x7F)*)={1,6}|`}\[\[|-\{(?!\{)`,[,,,n]=t.parserFunction,i=[],o=[],a=(b,T,w,F)=>{T[T.length-1].push(ie(b.slice(w,F),o))},l;do l!==void 0&&(s=l),l=s.replace(Ys,(b,T,w)=>{if(T!==void 0||typeof w=="string")try{let{length:F}=e,L=(T!=null?T:w).split("|");return new Ve(ie(L[0],o),L.slice(1).map(R=>{let G=R.indexOf("=");return(G===-1?[R]:[R.slice(0,G),R.slice(G+1)]).map(P=>ie(P,o))}),t,e),`\0${F}${Js(L[0])}`}catch(F){if(!(F instanceof SyntaxError)||F.message!=="Invalid template name")throw F}return o.push(ie(b,o)),`\0${o.length-1}`});while(l!==s);s=l;let p=s.lastIndexOf("}}")-s.length,u=p+s.length!==-1,d=Ks(r+(u?Qs:"")),f=d.exec(s),c;for(;f||c!==void 0&&c<=s.length&&((A=(m=i[i.length-1])==null?void 0:m[0])!=null&&A.startsWith("="));){if(f!=null&&f[1]){let[,{length:K}]=f;f[0]=f[0].slice(K),f.index+=K}let{0:b,index:T}=f!=null?f:{0:`
`,index:s.length},w=(C=i.pop())!=null?C:{},{0:F,index:L,parts:R,findEqual:G,pos:P}=w,V=b==="="&&G;if(b==="]]"||b==="}-")c=T+2;else if(b===`
`){c=T+1;let{pos:K,findEqual:ae}=(S=i[i.length-1])!=null?S:{};if(K===void 0||ae||D(s.slice(K,L))!==""){let xe=/^(={1,6})(.+)\1((?:\s|\0\d+[cn]\x7F)*)$/u.exec(s.slice(L,T));xe&&(xe[2]=ie(xe[2],o),xe[2].includes(`
`)||(s=`${s.slice(0,L)}\0${e.length}h${s.slice(T)}`,c=L+4+String(e.length).length,new we(xe[1].length,xe.slice(2),t,e)))}}else if(b==="|"||V)c=T+1,a(s,R,P,T),b==="|"&&R.push([]),w.pos=c,w.findEqual=b==="|",i.push(w);else if(b.startsWith("}}")){let K=b.slice(0,Math.min(F.length,3)),ae=F.length-K.length,{length:xe}=e;c=T+K.length,a(s,R,P,T);let hn=!1,Rr="t";if(K.length===3){let Pe=R.map(Ri=>Ri.join("=")),Br=Pe.length>1&&D(Pe[1]).trim();new pt(Pe,t,e),Br&&Br.endsWith(":")&&n.includes(Br.slice(0,-1).toLowerCase())&&(Rr="s")}else try{new Ve(R[0][0],R.slice(1),t,e),Rr=Js(R[0][0])}catch(Pe){if(!(Pe instanceof SyntaxError&&Pe.message==="Invalid template name"))throw Pe;hn=!0}hn||(s=`${s.slice(0,L+ae)}\0${xe}${Rr}${s.slice(c)}`,c=L+ae+3+String(xe).length,ae>1?i.push({0:F.slice(0,ae),index:L,pos:L+ae,parts:[[]]}):ae===1&&s[L-1]==="-"&&i.push({0:"-{",index:L-1,pos:L+1,parts:[[]]}))}else c=T+b.length,b.startsWith("{")&&(f.pos=c,f.parts=[[]]),i.push(..."0"in w?[w]:[],f);let _=i[i.length-1];if(u&&p+s.length<c)for(u=!1;(k=_==null?void 0:_[0])!=null&&k.startsWith("{");)i.pop(),_=i[i.length-1];d=Ks(r+(u?Qs:"")+(_?`|${Il[_[0][0]]}${_.findEqual?"|=":""}`:"")),d.lastIndex=c,f=d.exec(s)}return ie(s,o)}});var eo={};W(eo,{InputboxToken:()=>Dn});var Dn,to=x(()=>{"use strict";hr();Jr();Bn();Dn=class extends mr{constructor(t,e,r,n,i=[]){let o=Symbol("InputboxToken"),a=n.excludes.includes("heading")?n:{...n,excludes:[...n.excludes,"heading"]},{length:l}=i;i.push(o),r&&(r=dt(r,a,i,e)),r&&(r=yr(r,a,i)),i.splice(l,1),super(t,e,r,a,i,{})}}});var en={};W(en,{NestedToken:()=>zn});var Yr,Zr,zn,tn=x(()=>{"use strict";hr();Jr();B();Gn();rt();zn=class extends v{constructor(e,r,n,i,o=[]){if(typeof r=="boolean"){let a=Symbol("NestedToken"),{length:l}=o;o.push(a),e&&(e=dt(e,i,o,r)),e&&(e=yr(e,i,o)),o.splice(l,1)}else e&&(e=e.replace(r,(a,l,p,u,d)=>{let f=`\0${o.length+1}e`;return new Ee(l,p,u,d,i,!1,o),f}));e&&(e=e.replace(/(^|\0\d+.\x7F)([^\0]+)(?=$|\0\d+.\x7F)/gu,(a,l,p)=>(new X(p,i,o),`${l}\0${o.length}n`)));super(e,i,o);h(this,Yr);h(this,Zr);y(this,Yr,[...n]),y(this,Zr,r)}get type(){return"ext-inner"}lint(e=this.getAbsoluteIndex(),r){}};Yr=new WeakMap,Zr=new WeakMap});function Rl(s,t,e,r,n){t=D(t).trim();let i=t.replace(s==="link"?/\0\d+[tq]\x7F/gu:/\0\d+t\x7F/gu,"").trim();switch(s){case"width":return!i&&!!t||/^(?:\d+x?|\d*x\d+)(?:\s*px)?$/u.test(i);case"link":{let o=r==="gallery-image";if(i){if($l(e.protocol).test(i))return Ll(e.protocol).test(i)?t:o;i.startsWith("[[")&&i.endsWith("]]")&&(i=i.slice(2,-2))}else return t;let a=z.normalizeTitle(i,0,!1,e,{halfParsed:n,decode:!0,selfLink:!0,page:""});return a.valid?a:o}case"lang":return(r==="svg"||r==="svgz")&&!/[^a-z\d-]/u.test(i);case"alt":case"class":case"manualthumb":return!0;case"page":return(r==="djvu"||r==="djv"||r==="pdf")&&Number(i)>0;default:return!!i&&!isNaN(i)}}var $l,Ll,Fl,ro,pe,Hn,Bl,Vn,Pl,ft,no=x(()=>{"use strict";rr();J();Tn();re();ce();B();$l=je(s=>new RegExp(String.raw`^(?:${s}|//|\0\d+m\x7F)`,"iu")),Ll=je(s=>new RegExp(String.raw`^(?:(?:${s}|//)${Ke}|\0\d+m\x7F)${Je}$`,"iu")),Fl=je(s=>new RegExp(String.raw`^(\s*(?!\s))${s.replace("$1","(.*)")}${s.endsWith("$1")?`(?=$|
)`:""}(\s*)$`,"u"));ro=[j];ft=class extends(Pl=v){constructor(e,r,n,i,o){var t=(...qp)=>(super(...qp),h(this,Hn),h(this,pe,""),this);let a,l=Object.entries(i.img).map(([u,d])=>[u,d,Fl(u)]),p=l.find(([,u,d])=>(a=d.exec(e),a&&(a.length!==4||Rl(u,a[2],i,u==="link"?n:r,!0)!==!1)));if(p&&a){a.length===3?(t(void 0,i,o),y(this,pe,e)):(t(a[2],i,o,{}),y(this,pe,a[1]+p[0]+a[3])),this.setAttribute("name",p[1]),p[1]==="alt"&&this.setAttribute("stage",10);return}t(e,i.excludes.includes("list")?i:{...i,excludes:[...i.excludes,"list"]},o),this.setAttribute("name","caption"),this.setAttribute("stage",7)}get type(){return"image-parameter"}get thumb(){}get link(){}afterBuild(){var e;(e=this.parentNode)!=null&&e.is("gallery-image")&&!Di.has(this.name)&&this.setAttribute("name","invalid"),super.afterBuild()}toString(e){return g(this,pe)?g(this,pe).replace("$1",super.toString(e)):super.toString(e)}text(){return g(this,pe)?g(this,pe).replace("$1",super.text()).trim():super.text().trim()}isPlain(){return this.name==="caption"||this.name==="alt"}getAttribute(e){return e==="invalid"?this.name==="invalid":e==="padding"?Math.max(0,g(this,pe).indexOf("$1")):super.getAttribute(e)}lint(e=this.getAbsoluteIndex(),r){}getValue(){}print(){return g(this,pe)?`<span class="wpb-image-parameter${this.name==="invalid"?" wpb-invalid":""}">${g(this,pe).replace("$1",`<span class="wpb-image-caption">${Ae(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};Vn=I(Pl),pe=new WeakMap,Hn=new WeakSet,Bl=function(){},ft=N(Vn,0,"ImageParameterToken",ro,ft),E(Vn,1,ft)});var jl,Ot,Qn=x(()=>{"use strict";It();no();jl=s=>{if(s===void 0)return[];let t=/-\{|\}-|\|/gu,e=[],r=t.exec(s),n=0,i=0;for(;r;){let{0:o,index:a}=r;o!=="|"?n+=o==="-{"?1:-1:n===0&&(e.push(s.slice(i,a)),{lastIndex:i}=t),r=t.exec(s)}return e.push(s.slice(i)),e},Ot=class extends ne{get type(){return"file"}get extension(){}constructor(t,e,r,n=[],i="|",o){super(t,void 0,r,n,i);let{extension:a}=this.getTitle(!0,!0);this.safeAppend(jl(e).map(l=>new ft(l,a,o,r,n)))}lint(t=this.getAbsoluteIndex(),e){}getAllArgs(){}getArgs(t){}getArg(t){}getValue(t){}json(t,e,r=this.getAbsoluteIndex()){}}});var io,rn,so,Xn,ql,Ne,Kn=x(()=>{"use strict";Te();B();Qn();io=[Y("")];Ne=class extends(ql=Ot){constructor(e,r,n,i,o=[]){let a;if(n!==void 0){let{length:p}=o;a=new v(n,i,o);for(let u=0;u<10;u++)a.parseOnce();o.splice(p,1)}let l=`${e}-image`;super(r,a==null?void 0:a.firstChild.toString(),i,o,void 0,l);h(this,rn);Z(this,"privateType","imagemap-image");this.setAttribute("bracket",!1),this.privateType=l,this.seal("privateType",!0)}get type(){return this.privateType}getTitle(e){let r=this.type==="imagemap-image";return this.normalizeTitle(this.firstChild.toString(),r?0:6,{halfParsed:!0,temporary:e,decode:!r,page:""})}lint(e=this.getAbsoluteIndex(),r){}getAttribute(e){return e==="invalid"?$(this,rn,so).call(this):super.getAttribute(e)}};Xn=I(ql),rn=new WeakSet,so=function(){return this.getAttribute("title").ns!==6},Ne=N(Xn,0,"GalleryImageToken",io,Ne),E(Xn,1,Ne)});var ct,Jn=x(()=>{"use strict";rt();ct=class extends X{}});var ao={};W(ao,{GalleryToken:()=>Yn});var Tr,oo,Ol,Yn,lo=x(()=>{"use strict";Vr();Kn();Jn();Yn=class extends Ge{constructor(e,r,n=[]){var i;super(void 0,r,n,{});h(this,Tr);for(let o of(i=e==null?void 0:e.split(`
`))!=null?i:[]){let a=/^([^|]+)(?:\|(.*))?/u.exec(o);if(!a){super.insertAt(o.trim()?new ct(o,r,n):o);continue}let[,l,p]=a;$(this,Tr,oo).call(this,l)?super.insertAt(new Ne("gallery",l,p,r,n)):super.insertAt(new ct(o,r,n))}}get widths(){}get heights(){}lint(e=this.getAbsoluteIndex(),r){}json(e,r,n=this.getAbsoluteIndex()){}};Tr=new WeakSet,oo=function(e){return this.normalizeTitle(e,6,{halfParsed:!0,temporary:!0,decode:!0,page:""}).valid},Ol=function(e){}});var _t,Zn=x(()=>{"use strict";It();_t=class extends ne{get type(){return"link"}get innerText(){}lint(t=this.getAbsoluteIndex(),e){}}});var _l,Wl,kr,nn,go,Ie,sn=x(()=>{"use strict";J();ce();B();_l=String.raw`(?:[${be}\t]|&nbsp;|&#0*160;|&#[xX]0*[aA]0;)`,Wl=new RegExp(`${_l}+`,"gu"),Ie=class extends v{constructor(e,r="free-ext-link",n=z.getConfig(),i){super(e,n,i,{});h(this,nn);h(this,kr);y(this,kr,r)}get type(){return g(this,kr)}get innerText(){let e=new Map([["!","|"],["=","="]]),r=ge(this.childNodes.map(n=>{let{type:i}=n,o=String(n.name);return i==="magic-word"&&e.has(o)?e.get(o):n}));return this.type==="magic-link"&&(r=r.replace(Wl," ")),r}get link(){let{innerText:e}=this;return this.type==="magic-link"?e.startsWith("ISBN")?`ISBN ${e.slice(5).replace(/[- ]/gu,"").replace(/x$/u,"X")}`:e:Mi(e).replace(/\n/gu,"%0A")}lint(e=this.getAbsoluteIndex(),r){}getUrl(e){this.lspError("MagicLinkToken.getUrl")}getAttribute(e){return e==="invalid"?$(this,nn,go).call(this):super.getAttribute(e)}};kr=new WeakMap,nn=new WeakSet,go=function(){if(this.type==="magic-link"){let{link:e}=this;if(e.startsWith("ISBN")){let r=[...e.slice(5)].map(n=>n==="X"?10:Number(n));return r.length===10?r.reduce((n,i,o)=>n+i*(10-o),0)%11!==0:r.length===13&&(r[12]===10||r.reduce((n,i,o)=>n+i*(o%2?3:1),0)%10!==0)}}return!1}});var uo,$e,ei,Ml,Le,ti=x(()=>{"use strict";Te();B();sn();uo=[Y("[")];Le=class extends(Ml=v){constructor(e,r="",n="",i,o=[]){super(void 0,i,o,{});h(this,$e);let a=e&&/^\0\d+f\x7F$/u.test(e)?o[Number(e.slice(1,-2))]:new Ie(e,"ext-link-url",i,o);if(this.insertAt(a),y(this,$e,r),n){let l=new v(n,i,o,{});l.type="ext-link-text",l.setAttribute("stage",10),this.insertAt(l)}}get type(){return"ext-link"}toString(e){return this.length===1?`[${super.toString(e)}${g(this,$e)}]`:`[${super.toString(e,g(this,$e))}]`}text(){return`[${super.text(" ")}]`}getGaps(){return g(this,$e).length}lint(e=this.getAbsoluteIndex(),r){}print(){return super.print(this.length===1?{pre:"[",post:`${g(this,$e)}]`}:{pre:"[",sep:g(this,$e),post:"]"})}};ei=I(Ml),$e=new WeakMap,Le=N(ei,0,"ExtLinkToken",uo,Le),E(ei,1,Le)});var vr,po=x(()=>{"use strict";B();rt();Zn();ti();vr=class extends v{get type(){return"imagemap-link"}constructor(t,e,r,n,i=[]){super(void 0,n,i),this.append(t,e.length===2?new _t(...e,n,i):new Le(...e,n,i),new X(r,n,i))}}});var fo={};W(fo,{ImagemapToken:()=>ri});var ri,co=x(()=>{"use strict";Ce();ce();Vr();Jn();Kn();po();ri=class extends Ge{get image(){return this.childNodes.find(Kr("imagemap-image"))}constructor(t,e=z.getConfig(),r=[]){if(super(void 0,e,r,{}),!t)return;let n=t.split(`
`),i=new Set(e.protocol.split("|")),o=!0,a=!1;for(let l of n){let p=l.trim();if(!(a||!p||p.startsWith("#"))){if(o){let u=l.indexOf("|"),d=u===-1?l:l.slice(0,u),f=this.normalizeTitle(d,0,{halfParsed:!0,temporary:!0,page:""});if(f.valid&&f.ns===6){let c=new Ne("imagemap",d,u===-1?void 0:l.slice(u+1),e,r);super.insertAt(c),o=!1;continue}else a=!0}else if(l.trim().split(/[\t ]/u,1)[0]==="desc"){super.insertAt(l);continue}else if(l.includes("[")){let u=l.indexOf("["),d=l.slice(u),f=/^\[\[([^|]+)(?:\|([^\]]*))?\]\][\w\s]*$/u.exec(d);if(f){if(this.normalizeTitle(f[1],0,{halfParsed:!0,temporary:!0,selfLink:!0,page:""}).valid){super.insertAt(new vr(l.slice(0,u),f.slice(1),d.slice(d.indexOf("]]")+2),e,r));continue}}else if(d.startsWith("[//")||i.has(d.slice(1,d.indexOf(":")+1))||i.has(d.slice(1,d.indexOf("//")+2))){let c=/^\[([^\]\s]+)(?:(\s+(?!\s))([^\]]*))?\][\w\s]*$/u.exec(d);if(c){super.insertAt(new vr(l.slice(0,u),c.slice(1),d.slice(d.indexOf("]")+1),e,r));continue}}}}super.insertAt(new ct(l,e,r))}}lint(t=this.getAbsoluteIndex(),e){}getAttribute(t){return t==="invalid"?!this.image:super.getAttribute(t)}}});var mo,ni,Ul,Fe,ii=x(()=>{"use strict";Oe();Te();Me();mo=[oe(!1),Y("<!--")];Fe=class extends(Ul=Q){constructor(e,r,n,i){super(e,n,i);Z(this,"closed");this.closed=r}get type(){return"comment"}lint(e=this.getAbsoluteIndex()){}toString(e){return e?"":`<!--${this.innerText}${this.closed?"-->":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}};ni=I(Ul),Fe=N(ni,0,"CommentToken",mo,Fe),E(ni,1,Fe)});var ho={};W(ho,{CommentedToken:()=>si});var si,xo=x(()=>{"use strict";B();ii();si=class extends v{get type(){return"ext-inner"}constructor(t,e,r=[]){if(super(void 0,e,r,{AstText:":",CommentToken:":"}),t){let n=t.indexOf("<!--"),i=n!==-1&&t.indexOf("-->",n+4),o=0;for(;i!==!1&&i!==-1;)n>o&&this.insertAt(t.slice(o,n)),this.insertAt(new Fe(t.slice(n+4,i),!0,e,r)),o=i+3,n=t.indexOf("<!--",o),i=n!==-1&&t.indexOf("-->",n+4);o<t.length&&this.insertAt(t.slice(o))}}lint(t=this.getAbsoluteIndex()){}}});var yo={};W(yo,{CategorytreeToken:()=>Wt});var bo,oi,Dl,Wt,To=x(()=>{"use strict";Te();It();bo=[Y("")];Wt=class extends(Dl=ne){get type(){return"ext-inner"}constructor(t,e,r,n=[]){super(t,e,r,n),this.setAttribute("bracket",!1)}getTitle(){let t=this.firstChild.toString().trim(),e={halfParsed:!0},r=this.normalizeTitle(t,14,e);return r.valid&&r.ns===14?r:this.normalizeTitle(`Category:${t}`,0,e)}lint(t=this.getAbsoluteIndex()){}};oi=I(Dl),Wt=N(oi,0,"CategorytreeToken",bo,Wt),E(oi,1,Wt)});var vo={};W(vo,{NowikiToken:()=>ai});var zl,on,ko,ai,Ao=x(()=>{"use strict";Me();zl=new Set(["languages","section","templatestyles"]),ai=class extends Q{constructor(){super(...arguments);h(this,on)}get type(){return"ext-inner"}lint(e=this.getAbsoluteIndex()){}getAttribute(e){return e==="invalid"?$(this,on,ko).call(this):super.getAttribute(e)}};on=new WeakSet,ko=function(){let{name:e,firstChild:{data:r}}=this;return zl.has(e)&&!!r}});var Co,li,Gl,Ee,Gn=x(()=>{"use strict";ce();zr();B();Dr();Gr();Co=[Lt()];Ee=class extends(Gl=he){get type(){return"ext"}constructor(t,e,r,n,i=z.getConfig(),o=!1,a=[]){let l=t.toLowerCase(),p=new ze(!e||/^\s/u.test(e)?e:` ${e}`,"ext-attrs",l,i,a),u={...i,ext:i.ext.filter(f=>f!==l),excludes:[...i.excludes],inExt:!0},d;switch(l){case"pre":if(p.getAttr("format")!=="wikitext"){let{PreToken:f}=(Bs(),q(Rs));d=new f(r,u,a);break}case"indicator":case"poem":case"ref":case"option":case"combooption":case"tab":case"tabs":case"poll":case"seo":case"langconvert":case"phonos":l==="poem"?u.excludes.push("heading"):l==="tab"&&(u.ext=u.ext.filter(f=>f!=="tabs")),d=new v(r,u,a);break;case"dynamicpagelist":{let{ParamTagToken:f}=(Bn(),q(js));d=new f(l,o,r,u,a);break}case"inputbox":{let{InputboxToken:f}=(to(),q(eo));d=new f(l,o,r,u,a);break}case"references":{let{NestedToken:f}=(tn(),q(en));u.excludes.push("heading"),d=new f(r,o,["ref"],u,a);break}case"choose":{let{NestedToken:f}=(tn(),q(en));d=new f(r,/<(option|choicetemplate)(\s[^>]*?)?(?:\/>|>([\s\S]*?)<\/(\1)>)/gu,["option","choicetemplate"],u,a);break}case"combobox":{let{NestedToken:f}=(tn(),q(en));d=new f(r,/<(combooption)(\s[^>]*?)?(?:\/>|>([\s\S]*?)<\/(combooption\s*)>)/giu,["combooption"],u,a);break}case"gallery":{let{GalleryToken:f}=(lo(),q(ao));d=new f(r,u,a);break}case"imagemap":{let{ImagemapToken:f}=(co(),q(fo));d=new f(r,u,a);break}case"hiero":{let{CommentedToken:f}=(xo(),q(ho));d=new f(r,u,a);break}case"categorytree":{let{CategorytreeToken:f}=(To(),q(yo));d=new f(r,void 0,u,a);break}default:{let{NowikiToken:f}=(Ao(),q(vo));d=new f(r,u,a)}}d.setAttribute("name",l),d.type==="plain"&&(d.type="ext-inner"),super(t,p,d,n,i,a),this.seal("closed",!0)}lint(t=this.getAbsoluteIndex(),e){}};li=I(Gl),Ee=N(li,0,"ExtToken",Co,Ee),E(li,1,Ee)});var Qe,Xe,di,Mt,gi=x(()=>{"use strict";B();Mt=class extends v{constructor(e,r,n,i,o){super(void 0,i,o);h(this,Qe);h(this,Xe);h(this,di);this.insertAt(r),y(this,Qe,n),y(this,Xe,e)}get closing(){return g(this,Qe)}toString(e){return`<${g(this,Qe)?"/":""}${g(this,Xe)}${super.toString(e)}${this.selfClosing?"/":""}>`}text(e=""){let{closing:r}=this;return`<${r&&!e?"/":""}${g(this,Xe)}${r?"":super.text()}${e}>`}getAttribute(e){return e==="padding"?g(this,Xe).length+(g(this,Qe)?2:1):super.getAttribute(e)}findMatchingTag(){}print(){return super.print({pre:`&lt;${g(this,Qe)?"/":""}${g(this,Xe)}`,post:`${this.selfClosing?"/":""}&gt;`})}json(e,r,n=this.getAbsoluteIndex()){}};Qe=new WeakMap,Xe=new WeakMap,di=new WeakMap});var So,ui,Vl,ke,wo=x(()=>{"use strict";Oe();re();gi();_e();So=[oe(),j];ke=class extends(Vl=Mt){get type(){return"tvar"}constructor(t,e,r,n,i){let o=new ee(e,"tvar-name",n,i);super(t,o,r,n,i)}};ui=I(Vl),ke=N(ui,0,"TvarToken",So,ke),E(ui,1,ke)});var No={};W(No,{TranslateToken:()=>pi});var an,Eo,pi,Io=x(()=>{"use strict";B();Dr();_e();wo();pi=class extends he{constructor(e,r,n,i=[]){let o=new ee(e,"translate-attr",n,i);r=r==null?void 0:r.replace(/<tvar(\|[^>]+)>([\s\S]*?)<\/>/gu,(l,p,u)=>(new ke("tvar",p,!1,n,i),new ke("","",!0,n,i),`\0${i.length-2}n${u}\0${i.length}n`)).replace(/<(tvar)(\s+name\s*=(?:\s*(?:(["'])[\s\S]*?\3|[^"'\s>]+))?\s*)>([\s\S]*?)<\/(tvar)(\s*)>/giu,(l,p,u,d,f,c,m)=>(new ke(p,u,!1,n,i),new ke(c,m,!0,n,i),`\0${i.length-2}n${f}\0${i.length}n`));let a=new v(r,n,i);a.type="translate-inner";super("translate",o,a,"translate",n,i);h(this,an);this.seal("closed",!0)}get type(){return"translate"}get selfClosing(){return!1}toString(e){return e?this.lastChild.toString(!0):super.toString()}text(){return this.lastChild.text()}print(){return`<span class="wpb-ext">&lt;translate${$(this,an,Eo).call(this)?'<span class="wpb-ext-attrs"> <span class="wpb-ext-attr"><span class="wpb-attr-key">nowrap</span></span></span>':""}&gt;${this.lastChild.print({class:"ext-inner"})}&lt;/translate&gt;</span>`}};an=new WeakSet,Eo=function(){return this.firstChild.toString()===" nowrap"}});var Fo={};W(Fo,{parseCommentAndExt:()=>dt});var Lo,Hl,fi,Ql,$o,dt,hr=x(()=>{"use strict";rr();J();fs();rt();hs();Gn();ii();Lo="<onlyinclude>",Hl="</onlyinclude>",{length:fi}=Lo,Ql=[!1,!0].map(s=>{let t=s?"includeonly":"(?:no|only)include",e=s?"noinclude":"includeonly";return je(r=>new RegExp(String.raw`<!--[\s\S]*?(?:-->|$)|<${t}(?:\s[^>]*)?/?>|</${t}\s*>|<(${r})(\s[^>]*?)?(?:/>|>([\s\S]*?)</(${"\\1"}\s*)>)|<(${e})(\s[^>]*?)?(?:/>|>([\s\S]*?)(?:</(${e}\s*)>|$))`,"giu"))}),$o=s=>{let t=s.indexOf(Lo);return{i:t,j:s.indexOf(Hl,t+fi)}},dt=(s,t,e,r)=>{if(r){let{i:l,j:p}=$o(s);if(l!==-1&&p!==-1){let u="",d=f=>{new X(f,t,e),u+=`\0${e.length-1}n`};for(;l!==-1&&p!==-1;){let f=`\0${e.length}g`;new st(s.slice(l+fi,p),t,e),l>0&&d(s.slice(0,l)),u+=f,s=s.slice(p+fi+1),{i:l,j:p}=$o(s)}return s&&d(s),u}}let{ext:n}=t,i=n,o=t;if(n.includes("translate")){let{TranslateToken:l}=(Io(),q(No)),p=[];i=n.filter(u=>u!=="translate"&&u!=="tvar"),o={...t,ext:i},s=s.replace(/<nowiki>[\s\S]*?<\/nowiki>/giu,u=>(p.push(u),`\0${p.length-1}`)).replace(/<translate( nowrap)?>([\s\S]*?)<\/translate>/gu,(u,d,f)=>{let c=e.length;return new l(d,f&&ie(f,p),o,e),`\0${c}g`}),s=ie(s,p)}let a=Ql[r?1:0](i.join("|"));return a.lastIndex=0,a.test(s)?s.replace(a,(l,p,u,d,f,c,m,A,C)=>{let S=e.length,k="n";if(p)k="e",new Ee(p,u,d,f,o,c,e);else if(l.startsWith("<!--")){k="c";let b=l.endsWith("-->");new Fe(ie(l,e,1).slice(4,b?-3:void 0),b,t,e)}else c?new ot(c,m&&ie(m,e,1),A&&ie(A,e,1),C,t,e):new X(l,t,e,!0);return`\0${S}${k}`}):s}});var Ro,Ar,ci,Xl,mt,Bo=x(()=>{"use strict";zr();gi();Ro=[Lt()];mt=class extends(Xl=Mt){constructor(e,r,n,i,o,a){super(e,r,n,o,a);h(this,Ar);this.setAttribute("name",e.toLowerCase()),y(this,Ar,i)}get type(){return"html"}get selfClosing(){return g(this,Ar)}text(){let{closing:e,selfClosing:r,name:n}=this,[,,i]=this.getAttribute("config").html;return i.includes(n)?e&&n!=="br"?"":super.text("/"):super.text(r&&!e?"/":"")}lint(e=this.getAbsoluteIndex(),r){}getAttribute(e){return e==="invalid"?this.inTableAttrs()===2:super.getAttribute(e)}json(e,r,n=this.getAbsoluteIndex()){}};ci=I(Xl),Ar=new WeakMap,mt=N(ci,0,"HtmlToken",Ro,mt),E(ci,1,mt)});var Po={};W(Po,{parseHtml:()=>Jl});var Kl,Jl,jo=x(()=>{"use strict";Gr();Bo();Kl=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,Jl=(s,t,e)=>{var o;let{html:r}=t;(o=t.htmlElements)!=null||(t.htmlElements=new Set([...r[0],...r[1],...r[2]]));let n=s.split("<"),i=n.shift();for(let a of n){let l=Kl.exec(a),p=l==null?void 0:l[2],u=p==null?void 0:p.toLowerCase();if(!l||!t.htmlElements.has(u)){i+=`<${a}`;continue}let[,d,,f="",c,m]=l,{length:A}=e,C=new ze(f,"html-attrs",u,t,e),S=C.hasAttr("itemprop");if(u==="meta"&&!(S&&C.hasAttr("content"))||u==="link"&&!(S&&C.hasAttr("href"))){i+=`<${a}`,e.length=A;continue}i+=`\0${e.length}x${m}`,new mt(p,C,d==="/",c==="/>",t,e)}return i}});var qo,mi,Yl,Re,hi=x(()=>{"use strict";zr();B();_e();Gr();qo=[Lt(1)];Re=class extends(Yl=v){constructor(t,e,r,n,i,o=[],a){super(void 0,i,o,a),this.append(new ee(e,"table-syntax",i,o),new ze(n,"table-attrs",r,i,o))}escape(){}};mi=I(Yl),Re=N(mi,0,"TableBaseToken",qo,Re),E(mi,1,Re)});var Oo,_o,fe,xi,Ut,Cr,Sr,Wo=x(()=>{"use strict";Or();B();hi();Sr=class extends(_o=Re,Oo=[Ct(!1)],_o){constructor(e,r,n,i=[]){var p;let o=/\||\0\d+!\x7F/u.exec(r!=null?r:""),a=o?r.slice(0,o.index):"";/\[\[|-\{/u.test(a)&&(o=null,a="");super(/^(?:\n[^\S\n]*(?:[|!]|\|\+|\{\{\s*!\s*\}\}\+?)|(?:\||\{\{\s*!\s*\}\}){2}|!!|\{\{\s*!!\s*\}\})$/u,e,"td",a,n,i);E(xi,5,this);h(this,Ut);h(this,fe,"");o&&([Pr(this,fe)._]=o);let l=new v(r==null?void 0:r.slice(((p=o==null?void 0:o.index)!=null?p:NaN)+g(this,fe).length),n,i);l.type="td-inner",l.setAttribute("stage",4),this.insertAt(l)}get type(){return"td"}get rowspan(){}get colspan(){}get subtype(){return $(this,Ut,Cr).call(this).subtype}afterBuild(){g(this,fe).includes("\0")&&y(this,fe,this.buildFromStr(g(this,fe),0)),super.afterBuild()}toString(e){let[r,n,i]=this.childNodes;return r.toString(e)+n.toString(e)+g(this,fe)+i.toString(e)}text(){let[e,r,n]=this.childNodes;return e.text()+r.text()+g(this,fe)+n.text()}getGaps(e){return e===1?g(this,fe).length:0}lint(e=this.getAbsoluteIndex(),r){}isIndependent(){return this.firstChild.text().startsWith(`
`)}getAttr(e){}escape(){}print(){{let[e,r,n]=this.childNodes;return`<span class="wpb-td">${e.print()}${r.print()}${g(this,fe)}${n.print()}</span>`}}json(e,r,n=this.getAbsoluteIndex()){}};xi=I(_o),fe=new WeakMap,Ut=new WeakSet,Cr=function(){var a;let e=this.firstChild.text(),r=e.slice(-1),n="td";if(r==="!"?n="th":r==="+"&&(n="caption"),this.isIndependent())return{subtype:n};let{previousSibling:i}=this;return{...$(a=i,Ut,Cr).call(a)}},Cr=N(xi,17,"#getSyntax",Oo,Ut,Cr),er(xi,Sr)});var Dt,bi=x(()=>{"use strict";hi();Dt=class extends Re{lint(t=this.getAbsoluteIndex(),e){}getRowCount(){}}});var Mo,Uo,yi,zt,Do=x(()=>{"use strict";Ce();Or();bi();_e();zt=class extends(Uo=Dt,Mo=[Ct(!1)],Uo){constructor(e,r,n,i){super(/^(?:\{\||\{\{\{\s*!\s*\}\}|\{\{\s*\(!\s*\}\})$/u,e,"table",r,n,i,{});E(yi,5,this)}get type(){return"table"}get closed(){}lint(e=this.getAbsoluteIndex(),r){}close(e=`
|}`,r){se.run(()=>{let n=new ee(r?e:void 0,"table-syntax",this.getAttribute("config"),this.getAttribute("accum"));super.insertAt(n)})}getLayout(e){}getAllRows(){}getNthRow(e,r,n){}json(e,r,n=this.getAbsoluteIndex()){}};yi=I(Uo),N(yi,1,"getLayout",Mo,zt),er(yi,zt)});var ln,zo=x(()=>{"use strict";bi();ln=class extends Dt{get type(){return"tr"}constructor(t,e,r,n){super(/^\n[^\S\n]*(?:\|-+|\{\{\s*!\s*\}\}-+|\{\{\s*!-\s*\}\}-*)$/u,t,"tr",e,r,n)}}});var Gt,Ti=x(()=>{"use strict";Me();Gt=class extends Q{get indent(){}json(t,e,r=this.getAbsoluteIndex()){}}});var Vt,ki=x(()=>{"use strict";Ti();Vt=class extends Gt{get type(){return"dd"}}});var Vo={};W(Vo,{parseTable:()=>ed});var Zl,Go,ed,Ho=x(()=>{"use strict";B();Do();zo();Wo();ki();Zl=s=>s.lastChild.constructor!==v,Go=(s,t)=>s.is("td")?t.pop():s,ed=({firstChild:{data:s},type:t,name:e},r,n)=>{let i=[],o=s.split(`
`),a=t==="root"||t==="parameter-value"||t==="ext-inner"&&e==="poem"?"":`
${o.shift()}`,l,p=(u,d)=>{if(!d){a+=u;return}let{lastChild:f}=d;if(Zl(d)){let c=new v(u,r,n);c.type="table-inter",c.setAttribute("stage",3),d.insertAt(c)}else f.setText(f.toString()+u)};for(let u of o){l=i.pop();let[d]=/^(?:\s|\0\d+[cno]\x7F)*/u.exec(u),f=u.slice(d.length),c=/^(:*)((?:\s|\0\d+[cn]\x7F)*)(\{\||\{(?:\0\d+[cn]\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(f);if(c){for(;l&&!l.is("td");)l=i.pop();let[,b,T,w,F]=c;b&&new Vt(b,r,n),p(`
${d}${b&&`\0${n.length-1}d`}${T}\0${n.length}b`,l),i.push(...l?[l]:[],new zt(w,F,r,n));continue}else if(!l){a+=`
${u}`;continue}let m=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(f);if(!m){p(`
${u}`,l),i.push(l);continue}let[,A,C,S,k]=m;if(A){for(;!l.is("table");)l=i.pop();l.close(`
${d}${A}`,!0),p(k,i[i.length-1])}else if(C){l=Go(l,i),l.is("tr")&&(l=i.pop());let b=new ln(`
${d}${C}`,k,r,n);i.push(l,b),l.insertAt(b)}else{l=Go(l,i);let b=S==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu,T=b.exec(k),w=0,F=`
${d}${S}`,L=R=>{let G=new Sr(F,k.slice(w,T==null?void 0:T.index),r,n);return R.insertAt(G),G};for(;T;)L(l),{lastIndex:w}=b,[F]=T,T=b.exec(k);i.push(l,L(l))}}return a.slice(1)}});var wr,Qo=x(()=>{"use strict";wr=s=>!/^＿{2}.+＿{2}$/u.test(s)});var dn,Xo=x(()=>{"use strict";Me();dn=class extends Q{get type(){return"hr"}}});var Ko,Ht,vi,td,ht,Jo=x(()=>{"use strict";Oe();Te();Me();Ko=[oe(),Y("__")];ht=class extends(td=Q){constructor(e,r,n,i,o){var u,d;super(e,i,o);h(this,Ht);let a=e.toLowerCase(),[,,l,p]=i.doubleUnderscore;this.setAttribute("name",(d=r?(u=p==null?void 0:p[e])==null?void 0:u.toLowerCase():l==null?void 0:l[a])!=null?d:a),y(this,Ht,n)}get type(){return"double-underscore"}toString(){let e=g(this,Ht)?"＿＿":"__";return e+this.innerText+e}print(){{let e=g(this,Ht)?"＿＿":"__";return super.print({pre:e,post:e})}}};vi=I(td),Ht=new WeakMap,ht=N(vi,0,"DoubleUnderscoreToken",Ko,ht),E(vi,1,ht)});var Yo={};W(Yo,{parseHrAndDoubleUnderscore:()=>rd});var rd,Zo=x(()=>{"use strict";Qo();Xo();Jo();jn();rd=({firstChild:{data:s},type:t,name:e},r,n)=>{var p,u,d;let[i,o,a]=r.doubleUnderscore,l=[...i,...o];return(p=r.insensitiveDoubleUnderscore)!=null||(r.insensitiveDoubleUnderscore=new Set(i.filter(wr))),(u=r.sensitiveDoubleUnderscore)!=null||(r.sensitiveDoubleUnderscore=new Set(o.filter(wr))),(d=r.regexHrAndDoubleUnderscore)!=null||(r.regexHrAndDoubleUnderscore=new RegExp(String.raw`^((?:\0\d+[cno]\x7F)*)(-{4,})|__(${l.filter(wr).join("|")})__|＿{2}(${l.filter(f=>!wr(f)).map(f=>f.slice(2,-2)).join("|")})＿{2}`,"gimu")),t!=="root"&&(t!=="ext-inner"||e!=="poem")&&(s=`\0${s}`),s=s.replace(r.regexHrAndDoubleUnderscore,(f,c,m,A,C)=>{var w;if(m)return new dn(m,r,n),`${c}\0${n.length-1}r`;let S=A!=null?A:C,k=r.sensitiveDoubleUnderscore.has(S),b=S.toLowerCase(),T=r.insensitiveDoubleUnderscore.has(b);return k||T?(new ht(S,k,!!C,r,n),`\0${n.length-1}${T&&((w=a==null?void 0:a[b])!=null?w:b)==="toc"?"u":"n"}`):f}),r.excludes.includes("heading")||(s=s.replace(/^((?:\0\d+[cn]\x7F)*)(={1,6})(.+)\2((?:\s|\0\d+[cn]\x7F)*)$/gmu,(f,c,m,A,C)=>{let S=`${c}\0${n.length}h`;return new we(m.length,[A,C],r,n),S})),t==="root"||t==="ext-inner"&&e==="poem"?s:s.slice(1)}});var un,gn,ea=x(()=>{"use strict";Me();gn=class extends Q{constructor(e,r,n,i){super(e,n,i);h(this,un);y(this,un,r)}get type(){return"quote"}get bold(){return this.innerText.length!==2}get italic(){return this.innerText.length!==3}get closing(){}text(){let{parentNode:e,innerText:r}=this;return e!=null&&e.is("image-parameter")&&e.name!=="caption"?"":r}lint(e=this.getAbsoluteIndex()){}json(e,r,n=this.getAbsoluteIndex()){}};un=new WeakMap});var ta={};W(ta,{parseQuotes:()=>Ai});var Ai,Ci=x(()=>{"use strict";ea();Ai=(s,t,e,r)=>{var c;let n=s.split(/('{2,})/u),{length:i}=n;if(i===1)return s;let o=0,a=0,l,p,u;for(let m=1;m<i;m+=2){let A=n[m].length;switch(A){case 2:a++;break;case 4:n[m-1]+="'",n[m]="'''";case 3:if(o++,l!==void 0)break;n[m-1].endsWith(" ")?p===void 0&&u===void 0&&(u=m):n[m-1].slice(-2,-1)===" "?l=m:p!=null||(p=m);break;default:n[m-1]+="'".repeat(A-5),n[m]="'''''",a++,o++}}if(a%2===1&&o%2===1){let m=(c=l!=null?l:p)!=null?c:u;m!==void 0&&(n[m]="''",n[m-1]+="'")}let d=!1,f=!1;for(let m=1;m<i;m+=2){let A=n[m].length,C=A!==2,S=A!==3,k=new gn(n[m],{bold:C&&!!d,italic:S&&!!f},t,e);C&&(d=!d&&k),S&&(f=!f&&k),n[m]=`\0${e.length-1}q`}return n.join("")}});var ra={};W(ra,{parseExternalLinks:()=>Si});var Si,wi=x(()=>{"use strict";J();ti();sn();Si=(s,t,e,r)=>{var n;return(n=t.regexExternalLinks)!=null||(t.regexExternalLinks=new RegExp(String.raw`\[((?:\0\d+[cn]\x7F)*(?:\0\d+f\x7F|(?:(?:${t.protocol}|//)${Ke}|\0\d+m\x7F)${Je}(?=[[\]<>"\t${be}]|\0\d)))([${be}]*(?![${be}]))([^\]\x01-\x08\x0A-\x1F\uFFFD]*)\]`,"giu")),s.replace(t.regexExternalLinks,(i,o,a,l)=>{let{length:p}=e,u=/&[lg]t;/u.exec(o);return u&&(a="",l=o.slice(u.index)+a+l,o=o.slice(0,u.index)),r?(new Ie(o,"ext-link-url",t,e),`[\0${p}f${a}${l}]`):(new Le(o,a,l,t,e),`\0${p}w`)})}});var pn,na=x(()=>{"use strict";It();pn=class extends ne{get type(){return"category"}get sortkey(){}json(t,e,r=this.getAbsoluteIndex()){}}});var sa={};W(sa,{parseLinks:()=>ia});var nd,ia,oa=x(()=>{"use strict";J();ce();Ci();wi();Zn();Qn();na();nd=/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])+)(\||\0\d+!\x7F)([\s\S]*)$/u,ia=(s,t,e,r,n)=>{var l;(l=t.regexLinks)!=null||(t.regexLinks=new RegExp(String.raw`^\s*(?:${t.protocol}|//)`,"iu"));let i=t.inExt?/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])+)(?:(\||\0\d+!\x7F)([\s\S]*?[^\]]))?\]\]([\s\S]*)$/u:/^((?:(?!\0\d+!\x7F)[^\n[\]{}|])*)(?:(\||\0\d+!\x7F)([\s\S]*?[^\]])?)?\]\]([\s\S]*)$/u,o=s.split("[["),a=o.shift();for(let p=0;p<o.length;p++){let u=!1,d,f,c,m,A=o[p],C=i.exec(A);if(C)[,d,f,c,m]=C,m.startsWith("]")&&(c!=null&&c.includes("["))&&(c+="]",m=m.slice(1));else{let F=nd.exec(A);F&&(u=!0,[,d,f,c]=F)}if(d===void 0||t.regexLinks.test(d)||/\0\d+[exhbru]\x7F/u.test(d)){a+=`[[${A}`;continue}let S=D(d).trim(),k=S.startsWith(":");if(k&&u){a+=`[[${A}`;continue}else!S&&c&&!c.includes(`
`)&&(S=D(c).trim());let{ns:b,valid:T}=z.normalizeTitle(S,0,!1,t,{halfParsed:!0,temporary:!0,decode:!0,selfLink:!0,page:r});if(T){if(u){if(b!==6){a+=`[[${A}`;continue}let F=!1;for(p++;p<o.length;p++){let L=o[p],R=L.split("]]");if(R.length>2){F=!0,c+=`[[${R[0]}]]${R[1]}`,m=R.slice(2).join("]]");break}else if(R.length===2)c+=`[[${R[0]}]]${R[1]}`;else{c+=`[[${L}`;break}}if(c=ia(c,t,e,r,n),!F){a+=`[[${d}${f}${c}`;continue}}}else{a+=`[[${A}`;continue}c&&(c=Ai(c,t,e,n));let w=_t;k||(b===6?(c&&(c=Si(c,t,e,!0)),w=Ot):b===14&&(w=pn)),c===void 0&&f&&(c=""),a+=`\0${e.length}l${m}`,new w(d,c,t,e,f)}return a}});var ua={};W(ua,{parseMagicLinks:()=>id});var ga,aa,la,da,id,pa=x(()=>{"use strict";J();sn();ga=String.raw`[${be}\t]|&nbsp;|&#0*160;|&#x0*a0;`,aa=`(?:${ga})+`,la=`(?:${ga}|-)`,da=String.raw`(?:RFC|PMID)${aa}\d+\b|ISBN${aa}(?:97[89]${la}?)?(?:\d${la}?){9}[\dx]\b`,id=(s,t,e)=>{if(!t.regexMagicLinks)try{t.regexMagicLinks=new RegExp(String.raw`(^|[^\p{L}\p{N}_])(?:(?:${t.protocol})(${Ke}${Je})|${da})`,"giu")}catch{t.regexMagicLinks=new RegExp(String.raw`(^|\W)(?:(?:${t.protocol})(${Ke}${Je})|${da})`,"giu")}return s.replace(t.regexMagicLinks,(r,n,i)=>{let o=n?r.slice(n.length):r;if(i){let a="",l=/&(?:[lg]t|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(o);l&&(a=o.slice(l.index),o=o.slice(0,l.index));let p=o.includes("(")?/[^,;\\.:!?][,;\\.:!?]+$/u:/[^,;\\.:!?)][,;\\.:!?)]+$/u,u=p.exec(o);if(u){let d=1;u[0][1]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(o.slice(0,u.index))&&(d=2),a=o.slice(u.index+d)+a,o=o.slice(0,u.index+d)}return a.length>=i.length?r:(new Ie(o,void 0,t,e),`${n}\0${e.length-1}w${a}`)}else if(!/^(?:RFC|PMID|ISBN)/u.test(o))return r;return new Ie(o,"magic-link",t,e),`${n}\0${e.length-1}i`})}});var fa,ca=x(()=>{"use strict";fa=(s,t)=>s.startsWith(t)?t.length:[...t].findIndex((e,r)=>e!==s[r])});var fn,ma=x(()=>{"use strict";Ti();fn=class extends Gt{get type(){return"list"}lint(t=this.getAbsoluteIndex()){}}});var ha={};W(ha,{parseList:()=>sd});var sd,xa=x(()=>{"use strict";ca();ma();ki();sd=(s,t,e,r)=>{let n=/^((?:\0\d+[cno]\x7F)*)([;:*#]+)(\s*)/u.exec(s);if(!n)return t.lastPrefix="",s;let[i,o,a,l]=n,p=a.replace(/;/gu,":"),u=fa(p,t.lastPrefix),d=((u>1?a.slice(u-1):a)+l).split(/(?=;)/u),f=d[0].startsWith(";"),c=d.length-(f?0:1);if(u>1){let P=a.slice(0,u-1);if(f){let V=P.split(/(?=;)/u);d.unshift(...V),c+=P.includes(";")?V.length:0}else d[0]=P+d[0]}t.lastPrefix=p;let m=o+d.map((P,V)=>`\0${r.length+V}d`).join("")+s.slice(i.length);for(let P of d)new fn(P,e,r);if(!c)return m;let[A,,C]=e.html,S=/:+|-\{|\0\d+[xq]\x7F/gu,k=S,b=k.exec(m),T=0,w=!1,F=!1,L=0,R=(P,V)=>(new Vt(P,e,r),`${m.slice(0,V)}\0${r.length-1}d${m.slice(V+P.length)}`),G=P=>{P?T&&T--:T++};for(;b&&c;){let{0:P,index:V}=b;if(P==="-{"){if(!L){let{lastIndex:_}=k;k=/-\{|\}-/gu,k.lastIndex=_}L++}else if(P==="}-"){if(L--,!L){let{lastIndex:_}=k;k=S,k.lastIndex=_}}else if(P.endsWith("x")){let{name:_,closing:K,selfClosing:ae}=r[Number(P.slice(1,-2))];(A.includes(_)||!ae&&!C.includes(_))&&G(K)}else if(P.endsWith("q")){let{bold:_,italic:K}=r[Number(P.slice(1,-2))];_&&(G(w),w=!w),K&&(G(F),F=!F)}else if(T===0){if(P.length>=c)return R(P.slice(0,c),V);c-=P.length,k.lastIndex=V+4+String(r.length).length,m=R(P,V)}b=k.exec(m)}return m}});var od,ba,bt,Ei,ad,xt,ya=x(()=>{"use strict";gr();re();B();We();od=new Set(["A","T","R","D","-","H","N"]);ba=[Ue(),j];xt=class extends(ad=v){constructor(e,r,n=[]){super(void 0,r,n,{});h(this,bt);this.safeAppend(e.map(i=>new H(i,"converter-flag",r,n)))}get type(){return"converter-flags"}afterBuild(){y(this,bt,this.childNodes.map(e=>e.text().trim())),super.afterBuild()}toString(e){return super.toString(e,";")}text(){return super.text(";")}getUnknownFlags(){return new Set(g(this,bt).filter(e=>/\{{3}[^{}]+\}{3}/u.test(e)))}getVariantFlags(){let e=new Set(this.getAttribute("config").variants);return new Set(g(this,bt).filter(r=>e.has(r)))}isInvalidFlag(e,r,n,i){return typeof e=="object"&&(e=e.text().trim(),r=this.getVariantFlags(),n=this.getUnknownFlags(),i=new Set(g(this,bt).filter(o=>od.has(o)))),!!e&&!r.has(e)&&!n.has(e)&&(r.size>0||!i.has(e))}lint(e=this.getAbsoluteIndex(),r){}print(){return super.print({sep:";"})}};Ei=I(ad),bt=new WeakMap,xt=N(Ei,0,"ConverterFlagsToken",ba,xt),E(Ei,1,xt)});var Ni,Ta,Ii,ld,Be,ka=x(()=>{"use strict";re();ce();B();We();Ni=(s,t,e,r)=>{let n=new v(s,e,r);return n.type=`converter-rule-${t}`,n.setAttribute("stage",11),n};Ta=[j];Be=class extends(ld=v){get type(){return"converter-rule"}get variant(){}constructor(t,e=!0,r=z.getConfig(),n=[]){super(void 0,r,n,{});let i=t.indexOf(":"),o=t.slice(0,i).indexOf("=>"),a=o===-1?t.slice(0,i):t.slice(o+2,i);e&&r.variants.includes(a.trim().toLowerCase())?(super.insertAt(new H(a,"converter-rule-variant",r,n)),super.insertAt(Ni(t.slice(i+1),"to",r,n)),o!==-1&&super.insertAt(Ni(t.slice(0,o),"from",r,n),0)):super.insertAt(Ni(t,"to",r,n))}toString(t){let{childNodes:e,firstChild:r,lastChild:n}=this;return e.length===3?`${r.toString(t)}=>${e[1].toString(t)}:${n.toString(t)}`:super.toString(t,":")}text(){let{childNodes:t,firstChild:e,lastChild:r}=this;return t.length===3?`${e.text()}=>${t[1].text()}:${r.text()}`:super.text(":")}getGaps(t){return t===0&&this.length===3?2:1}print(){{let{childNodes:t}=this;if(t.length===3){let[e,r,n]=t;return`<span class="wpb-converter-rule">${e.print()}=>${r.print()}:${n.print()}</span>`}return super.print({sep:":"})}}json(t,e,r=this.getAbsoluteIndex()){}};Ii=I(ld),Be=N(Ii,0,"ConverterRuleToken",Ta,Be),E(Ii,1,Be)});var va,$i,dd,yt,Aa=x(()=>{"use strict";J();Te();re();B();ya();ka();va=[j,Y("-{")];yt=class extends(dd=v){get type(){return"converter"}constructor(t,e,r,n=[]){super(void 0,r,n),this.insertAt(new xt(t,r,n));let[i]=e,o=i.includes(":"),a=new Be(i,o,r,n);(o?a.length===1:e.length===2&&!D(e[1]).trim())?this.insertAt(new Be(e.join(";"),!1,r,n)):this.safeAppend([a,...e.slice(1).map(l=>new Be(l,!0,r,n))])}toString(t){let[e,...r]=this.childNodes;return`-{${e.toString(t)}${e.length>0?"|":""}${r.map(n=>n.toString(t)).join(";")}}-`}text(){let[t,...e]=this.childNodes;return`-{${t.text()}|${ge(e,";")}}-`}getGaps(t){return t||this.firstChild.length>0?1:0}print(){{let[t,...e]=this.childNodes;return`<span class="wpb-converter">-{${t.print()}${t.length>0?"|":""}${Ae(e,{sep:";"})}}-</span>`}}};$i=I(dd),yt=N($i,0,"ConverterToken",va,yt),E($i,1,yt)});var Ca={};W(Ca,{parseConverter:()=>gd});var gd,Sa=x(()=>{"use strict";Aa();gd=(s,t,e)=>{var l;(l=t.regexConverter)!=null||(t.regexConverter=new RegExp(String.raw`;(?=(?:[^;]*?=>)?\s*(?:${t.variants.join("|")})\s*:|(?:\s|\0\d+[cn]\x7F)*$)`,"iu"));let r=/-\{/gu,n=/-\{|\}-/gu,i=[],o=r,a=o.exec(s);for(;a;){let{0:p,index:u}=a;if(p==="}-"){let d=i.pop(),{length:f}=e,c=s.slice(d.index+2,u),m=c.indexOf("|"),[A,C]=m===-1?[[],c]:[c.slice(0,m).split(";"),c.slice(m+1)],S=C.replace(/(&[#a-z\d]+);/giu,"$1"),k=S.split(t.regexConverter).map(b=>b.replace(/\x01/gu,";"));new yt(A,k,t,e),s=`${s.slice(0,d.index)}\0${f}v${s.slice(u+2)}`,i.length===0&&(o=r),o.lastIndex=d.index+3+String(f).length}else i.push(a),o=n,o.lastIndex=u+2;a=o.exec(s)}return s}});var cn={};W(cn,{Token:()=>v});var Er,de,M,U,Qt,Xt,Nr,Kt,O,wa,Ea,Na,Ia,$a,La,Fa,Ra,Ba,Pa,ja,qa,Li,v,B=x(()=>{"use strict";J();nr();Ce();ce();es();rs();Li=class Li extends Ze{constructor(e,r=z.getConfig(),n=[],i){super();h(this,O);h(this,Er,"plain");h(this,de,0);h(this,M);h(this,U);h(this,Qt);h(this,Xt,!1);h(this,Nr);h(this,Kt);typeof e=="string"&&this.insertAt(e),y(this,M,r),y(this,U,n),n.push(this)}get type(){return g(this,Er)}set type(e){y(this,Er,e)}get pageName(){return g(this.getRootNode(),Kt)}set pageName(e){if(e){let r=this.normalizeTitle(e,0,{temporary:!0,page:""});y(this,Kt,r.valid?r.title:void 0)}else y(this,Kt,e===""?"":void 0)}parseOnce(e=g(this,de),r=!1,n){if(e<g(this,de)||this.length!==1||!this.isPlain())return this;if(g(this,de)>=11)return this;switch(e){case 0:if(this.type==="root"){g(this,U).pop();let i=$(this,O,wa).call(this);r&&(r=!i)}y(this,Qt,r),$(this,O,Ea).call(this,r);break;case 1:$(this,O,Na).call(this);break;case 2:$(this,O,Ia).call(this);break;case 3:$(this,O,$a).call(this);break;case 4:$(this,O,La).call(this);break;case 5:$(this,O,Fa).call(this,n);break;case 6:$(this,O,Ra).call(this,n);break;case 7:$(this,O,Ba).call(this);break;case 8:$(this,O,Pa).call(this);break;case 9:$(this,O,ja).call(this);break;case 10:$(this,O,qa).call(this)}if(this.type==="root")for(let i of g(this,U))i==null||i.parseOnce(e,r,n);return Pr(this,de)._++,this}buildFromStr(e,r){let n=e.split(/[\0\x7F]/u).map((i,o)=>{if(o%2===0)return i&&new lr(i);let a=Number(i.slice(0,-1));return g(this,U)[a]}).filter(i=>i!=="");return r===0?n.map(String).join(""):r===1?ge(n):n}build(){y(this,de,11);let{length:e,firstChild:r}=this,n=r==null?void 0:r.toString();if(e===1&&r.type==="text"&&n.includes("\0")&&(_r(this,0,1,this.buildFromStr(n)),this.type==="root"))for(let i of g(this,U))i==null||i.build()}afterBuild(){if(this.type==="root")for(let e of g(this,U))e==null||e.afterBuild();y(this,Xt,!0)}parse(e=11,r,n){for(e=Math.min(e,11);g(this,de)<e;)this.parseOnce(g(this,de),r,n);return e&&(this.build(),this.afterBuild()),this}isPlain(){return this.constructor===Li}getAttribute(e){var r;switch(e){case"config":return g(this,M);case"include":return(r=g(this,Qt))!=null?r:!!g(this.getRootNode(),Qt);case"accum":return g(this,U);case"built":return g(this,Xt);case"stage":return g(this,de);case"invalid":return this.type==="table-inter"&&qr(this)===2;default:return super.getAttribute(e)}}setAttribute(e,r){e==="stage"?(g(this,de)===0&&this.type==="root"&&g(this,U).shift(),y(this,de,r)):super.setAttribute(e,r)}insertAt(e,r=this.length){let n=typeof e=="string"?new lr(e):e,{length:i}=this;r+=r<0?i:0,super.insertAt(n,r);let{type:o}=n;return o==="root"&&(n.type="plain"),n}normalizeTitle(e,r=0,n){return z.normalizeTitle(e,r,this.getAttribute("include"),g(this,M),{page:this.pageName,...n})}inTableAttrs(){var e;return this.isInside("table-attrs")&&((e=this.closest("table-attrs,arg,parameter"))!=null&&e.is("table-attrs")?2:1)}inHtmlAttrs(){return this.isInside("html-attrs")?2:this.inTableAttrs()}lint(e=this.getAbsoluteIndex(),r){}toString(e,r){return e?super.toString(!0,r):qe(g(this,Nr),()=>super.toString(!1,r),n=>{let i=this.getRootNode();i.type==="root"&&g(i,Xt)&&y(this,Nr,n)})}};Er=new WeakMap,de=new WeakMap,M=new WeakMap,U=new WeakMap,Qt=new WeakMap,Xt=new WeakMap,Nr=new WeakMap,Kt=new WeakMap,O=new WeakSet,wa=function(){let{parseRedirect:e}=(us(),q(gs)),r=this.firstChild.toString(),n=e(r,g(this,M),g(this,U));return n!==!1&&this.setText(n),!!n},Ea=function(e){let{parseCommentAndExt:r}=(hr(),q(Fo));this.setText(r(this.firstChild.toString(),g(this,M),g(this,U),e))},Na=function(){let{parseBraces:e}=(Jr(),q(Zs)),r=this.type==="root"?this.firstChild.toString():`\0${this.firstChild.toString()}`,n=e(r,g(this,M),g(this,U));this.setText(this.type==="root"?n:n.slice(1))},Ia=function(){if(g(this,M).excludes.includes("html"))return;let{parseHtml:e}=(jo(),q(Po));this.setText(e(this.firstChild.toString(),g(this,M),g(this,U)))},$a=function(){if(g(this,M).excludes.includes("table"))return;let{parseTable:e}=(Ho(),q(Vo));this.setText(e(this,g(this,M),g(this,U)))},La=function(){if(g(this,M).excludes.includes("hr"))return;let{parseHrAndDoubleUnderscore:e}=(Zo(),q(Yo));this.setText(e(this,g(this,M),g(this,U)))},Fa=function(e){let{parseLinks:r}=(oa(),q(sa));this.setText(r(this.firstChild.toString(),g(this,M),g(this,U),this.pageName,e))},Ra=function(e){let{parseQuotes:r}=(Ci(),q(ta)),n=this.firstChild.toString().split(`
`);for(let i=0;i<n.length;i++)n[i]=r(n[i],g(this,M),g(this,U),e);this.setText(n.join(`
`))},Ba=function(){let{parseExternalLinks:e}=(wi(),q(ra));this.setText(e(this.firstChild.toString(),g(this,M),g(this,U)))},Pa=function(){let{parseMagicLinks:e}=(pa(),q(ua));this.setText(e(this.firstChild.toString(),g(this,M),g(this,U)))},ja=function(){if(g(this,M).excludes.includes("list"))return;let{parseList:e}=(xa(),q(ha)),{firstChild:r,type:n,name:i}=this,o=r.toString().split(`
`),a={lastPrefix:""},l=n==="root"||n==="ext-inner"&&i==="poem"?0:1;for(;l<o.length;l++)o[l]=e(o[l],a,g(this,M),g(this,U));this.setText(o.join(`
`))},qa=function(){if(g(this,M).variants.length>0){let{parseConverter:e}=(Sa(),q(Ca));this.setText(e(this.firstChild.toString(),g(this,M),g(this,U)))}};v=Li});var se,Kr,_r,Us,Ce=x(()=>{"use strict";se={running:!1,run(s,t){let{running:e}=this;this.running=!0;let r=t==null?void 0:t.internal;t&&(t.internal=!0);let n=()=>{this.running=e,t&&(t.internal=r)};try{let{Token:i}=(B(),q(cn)),o=s();return o instanceof i&&!o.getAttribute("built")&&o.afterBuild(),n(),o}catch(i){throw n(),i}},internal(s,t){let{internal:e}=t;t.internal=!0;let r=s();return t.internal=e,r},rev:0},Kr=s=>t=>t.type===s,_r=(s,t,e,r=[])=>{var o,a;let n=s.getChildNodes(),i;n.length===e?(i=n,n=r):i=Array.prototype.splice.apply(n,[t,e,...r]);for(let l=0;l<r.length;l++){let p=r[l];p.setAttribute("parentNode",s),p.setAttribute("nextSibling",n[t+l+1]),p.setAttribute("previousSibling",n[t+l-1])}return(o=n[t-1])==null||o.setAttribute("nextSibling",n[t]),(a=n[t+r.length])==null||a.setAttribute("previousSibling",n[t+r.length-1]),n===r&&s.setAttribute("childNodes",n),i},Us=(s,t)=>{let e=s.toLowerCase(),[r,n]=t,i=Object.prototype.hasOwnProperty.call(n,s);return[e,i,i?n[s]:Object.prototype.hasOwnProperty.call(r,e)&&r[e]]}});var Oa,$r,Lr,Tt,Jt,kt,mn,_a,Ir,Wa=x(()=>{"use strict";rr();J();Oa=s=>{let[,{length:t},e]=/^((?:\.\.\/)*)([\s\S]*)/u.exec(s);return[t/3,e]},Ir=class{constructor(t,e,r,{temporary:n,decode:i,selfLink:o,page:a}={}){h(this,mn);h(this,$r);h(this,Lr);h(this,Tt);h(this,Jt);h(this,kt);Z(this,"page");Z(this,"valid");Z(this,"encoded",!1);this.page=a;let l=t.trim(),p=l.startsWith("../");if(i&&t.includes("%"))try{let c=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(t);t=kn(t),this.encoded=c}catch{}if(t=bn(t).replace(/[_ ]+/gu," ").trim(),p||a&&l.startsWith("/"))y(this,Jt,0);else{let c=e;t.startsWith(":")&&(c=0,t=t.slice(1).trim());let m=t.split(":");if(m.length>1){let A=ve(m[0]),C=Object.prototype.hasOwnProperty.call(r.nsid,A)&&r.nsid[A];C&&(c=C,t=m.slice(1).join(":").trim())}y(this,Jt,c)}let u=t.indexOf("#");if(u!==-1){let c=t.slice(u).trim().slice(1);if(c.includes("%"))try{c=kn(c)}catch{}y(this,kt,c.replace(/ /gu,"_")),t=t.slice(0,u).trim()}let[d,f]=p?Oa(t):[0,t];this.valid=!!(t||o&&this.ns===0&&g(this,kt)!==void 0)&&bn(t)===t&&(d===0||a===void 0||a.split("/",d+1).length>d)&&!/^:|\0\d+[eh!+-]\x7F|[<>[\]{}|\n]|%[\da-f]{2}|(?:^|\/)\.{1,2}(?:$|\/)/iu.test(f),this.main=t,y(this,Lr,r.namespaces),y(this,Tt,r.articlePath||"/wiki/$1"),g(this,Tt).includes("$1")||y(this,Tt,g(this,Tt)+`${g(this,Tt).endsWith("/")?"":"/"}$1`)}get ns(){return g(this,Jt)}get fragment(){return g(this,kt)}get main(){return g(this,$r)}set main(t){t=t.replace(/_/gu," ").trim(),y(this,$r,t&&t[0].toUpperCase()+t.slice(1))}get prefix(){let t=g(this,Lr)[this.ns];return t+(t&&":")}get title(){return this.getRedirection()[1]}get extension(){let{main:t}=this,e=t.lastIndexOf(".");return e===-1?void 0:t.slice(e+1).toLowerCase()}getRedirection(){let{prefix:t}=this,e=t;return $(this,mn,_a).call(this,e)}setFragment(t){y(this,kt,t)}getUrl(t){throw new Error("Title.getUrl method is only available in the LSP version!")}};$r=new WeakMap,Lr=new WeakMap,Tt=new WeakMap,Jt=new WeakMap,kt=new WeakMap,mn=new WeakSet,_a=function(t){var r,n;let e=(t+this.main).replace(/ /gu,"_");if(e.startsWith("/"))e=((r=this.page)!=null?r:"")+e.replace(/(.)\/$/u,"$1");else if(e.startsWith("../")&&((n=this.page)!=null&&n.includes("/"))){let[i,o]=Oa(e),a=this.page.split("/");a.length>i&&(e=a.slice(0,-i).join("/")+(o&&"/")+o)}return[!1,e]}});var Fi,ud,Fr,Ma,pd,z,ce=x(()=>{Ce();Tn();J();Wa();Fi=!0,ud=(s,t,e)=>typeof s=="string"?[!!t,e,s]:[!!s,t,e],Fr={config:yn,get rules(){},get i18n(){},set i18n(s){},get lintConfig(){},set lintConfig(s){},get viewOnly(){return Fi},set viewOnly(s){Fi&&!s&&se.rev++,Fi=s},internal:!1,getConfig(s){let t=s!=null?s:this.config,{doubleUnderscore:e,ext:r,parserFunction:n,variable:i}=t;for(let o=0;o<2;o++)e.length>o+2&&e[o].length===0&&(e[o]=Object.keys(e[o+2]));return r.includes("translate")&&!i.includes("translationlanguage")&&(i.push("translationlanguage"),n[1].TRANSLATIONLANGUAGE="translationlanguage"),{...yn,...t,excludes:[]}},msg(s,t=""){},normalizeTitle(s,t=0,e,r=Fr.getConfig(),n){let i;if(n!=null&&n.halfParsed)i=new Ir(s,t,r,n);else{let{Token:o}=(B(),q(cn));i=se.run(()=>{let a=new o(s,r);a.type="root",a.pageName=n==null?void 0:n.page,a.parseOnce(0,e).parseOnce();let l=new Ir(a.firstChild.toString(),t,r,n);a.build();for(let p of["main","fragment"]){let u=l[p];if(u!=null&&u.includes("\0")){let d=a.buildFromStr(u,1);p==="main"?l.main=d:l.setFragment(d)}}return l},this)}return i},parse(s,t,e,r,n){s=Wi(s);let i,o,a,l;typeof t=="string"?(i=!!e,o=r,a=n,l=t):(i=!!t,o=e,a=r,l=n),o!=null||(o=11),a!=null||(a=this.getConfig());let p,{Token:u}=(B(),q(cn));return se.run(()=>{let f=new u(s,a);return f.type="root",f.pageName=l,f.parse(o,i)})},parseWithRef(s,t,e,r=t.getAttribute("include")){return this.parse(s,r,e,t.getAttribute("config"),t.pageName)},createLanguageService(s={}){},lint(s,t,e,r){},print(s,t,e,r){{let[n,i,o]=ud(t,e,r);return se.internal(()=>this.parse(s,n,void 0,i,o).print(),this)}}},Ma={},pd=new Set(["lintConfig","normalizeTitle","parse","createLanguageService"]);for(let s of Object.keys(Fr))pd.has(s)||(Ma[s]={enumerable:!1});Object.defineProperties(Fr,Ma);Object.assign(typeof globalThis=="object"?globalThis:self,{Parser:Fr});z=Fr});ce();})();
//# sourceMappingURL=bundle.min.js.map
