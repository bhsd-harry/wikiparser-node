(()=>{(()=>{"use strict";var Qt={891:(Q,D,t)=>{t.d(D,{default:()=>M});const $={minConfig:t(166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config,excludes:[]}},msg(S,m=""){var x,u;return((u=(x=this.i18n)==null?void 0:x[S])!=null?u:S).replace("$1",m)},normalizeTitle(S,m=0,x=!1,u=$.getConfig(),i=!1,r=!1,c=!1){const{Title:o}=t(599);if(i)return new o(S,m,u,r,c);const{Token:d}=t(541),s=this.run(()=>new d(S,u).parseOnce(0,x).parseOnce());return new o(String(s),m,u,r,c)},parse(S,m,x=$.MAX_STAGE,u=$.getConfig()){const{Token:i}=t(541);let r;return this.run(()=>{r=new i(S.replace(/[\0\x7F]/gu,""),u);try{r.parse(x,m)}catch(c){}}),r},run(S){return S()}},I={},U=new Set(["MAX_STAGE","minConfig"]),b=new Set(["config","normalizeTitle","parse"]);for(const S in $)U.has(S)?I[S]={enumerable:!1,writable:!1}:b.has(S)||(I[S]={enumerable:!1});Object.defineProperties($,I),typeof self=="object"?Object.assign(self,{Parser:$}):typeof globalThis=="object"&&Object.assign(globalThis,{Parser:$});const M=$},599:(Q,D,t)=>{t.r(D),t.d(D,{Title:()=>S});var $=t(467),I=t(891),U=Object.defineProperty,b=(m,x,u)=>x in m?U(m,x,{enumerable:!0,configurable:!0,writable:!0,value:u}):m[x]=u,M=(m,x,u)=>(b(m,typeof x!="symbol"?x+"":x,u),u);class S{constructor(x,u=0,i=I.default.getConfig(),r=!1,c=!1){M(this,"valid"),M(this,"ns"),M(this,"fragment"),M(this,"encoded",!1);var o;const{namespaces:d,nsid:s}=i;let l=(o=d[u])!=null?o:"";if(x=(0,$.m9)(x),r&&x.includes("%"))try{const T=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(x);x=decodeURIComponent(x),this.encoded=T}catch(T){}x=x.replace(/_/gu," ").trim(),x.startsWith(":")&&(l="",x=x.slice(1).trim());const h=x.split(":");if(h.length>1){const T=s[h[0].trim().toLowerCase()],_=T===void 0?void 0:d[T];_!==void 0&&(l=_,x=h.slice(1).join(":").trim())}this.ns=s[l.toLowerCase()];const g=x.indexOf("#");let P;g!==-1&&(P=x.slice(g+1).trim(),x=x.slice(0,g).trim()),this.valid=!!(x||c&&P!==void 0)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]|%[\da-f]{2}/iu.test(x),this.fragment=P}}},959:(Q,D,t)=>{t.d(D,{a:()=>b});var $=Object.defineProperty,I=(M,S,m)=>S in M?$(M,S,{enumerable:!0,configurable:!0,writable:!0,value:m}):M[S]=m,U=(M,S,m)=>(I(M,typeof S!="symbol"?S+"":S,m),m);const b=M=>{class S extends M{text(){return""}}return U(S,"hidden",!0),S}},313:(Q,D,t)=>{t.r(D),t.d(D,{parseBraces:()=>a});var $=t(467),I=t(891),U=t(485),b=t(169),M=t(541),S=Object.defineProperty,m=(n,e,p)=>e in n?S(n,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):n[e]=p,x=(n,e,p)=>(m(n,typeof e!="symbol"?e+"":e,p),p);const u=n=>n.toString(new Set(["comment","noinclude","include"])).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");class i extends M.Token{constructor(e,p,w=I.default.getConfig(),N=[]){super(void 0,w,N),x(this,"type","parameter");const O=new M.Token(typeof e=="number"?void 0:e,w,N,{}),W=new M.Token(p,w,N);O.type="parameter-key",W.type="parameter-value",W.setAttribute("stage",2),this.append(O,W)}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const{parentNode:e,firstChild:p}=this,w=u(p);this.setAttribute("name",w),e&&e.getArgs(w,!1,!1).add(this)}}toString(e){return this.anon?this.lastChild.toString(e):super.toString(e,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(e){return this.anon||e===1?0:1}lint(e=this.getAbsoluteIndex()){var p;const w=super.lint(e),{firstChild:N}=this,O=(p=new RegExp(`https?://${$._X}${$.Qk}$`,"iu").exec(N.toString(new Set(["comment","noinclude","include"]))))==null?void 0:p[0];if(O&&new URL(O).search){const W=(0,b.D)(N,{start:e},"unescaped query string in an anonymous parameter");w.push({...W,startIndex:W.endIndex,endIndex:W.endIndex+1,startLine:W.endLine,startCol:W.endCol,endCol:W.endCol+1})}return w}print(){return super.print({sep:this.anon?"":"="})}}var r=t(34),c=t(669),o=Object.defineProperty,d=(n,e,p)=>e in n?o(n,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):n[e]=p,s=(n,e,p)=>(d(n,typeof e!="symbol"?e+"":e,p),p),l=(n,e,p)=>{if(!e.has(n))throw TypeError("Cannot "+p)},h=(n,e,p)=>(l(n,e,"read from private field"),p?p.call(n):e.get(n)),g=(n,e,p)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,p)},P=(n,e,p,w)=>(l(n,e,"write to private field"),w?w.call(n,p):e.set(n,p),p),T=(n,e,p)=>(l(n,e,"access private method"),p),_,R,B,Y,K,A;class v extends M.Token{constructor(e,p,w=I.default.getConfig(),N=[]){var O,W;super(void 0,w,N,{}),g(this,B),g(this,K),s(this,"type","template"),s(this,"modifier",""),g(this,_,!1),g(this,R,new Map);const{parserFunction:[V,X]}=w,J=(O=/^(?:\s|\0\d+c\x7F)*\0\d+s\x7F/u.exec(e))==null?void 0:O[0];if(J)this.setAttribute("modifier",J),e=e.slice(J.length);else if(e.includes(":")){const[et,...q]=e.split(":"),[at]=/^(?:\s|\0\d+c\x7F)*/u.exec((W=q[0])!=null?W:"");this.setModifier(`${et}:${at}`)&&(e=q.join(":").slice(at.length))}if(e.includes(":")||p.length===0&&!h(this,_)){const[et,...q]=e.split(":"),at=(0,$.PN)(et),nt=at.trim(),dt=X.includes(nt),Z=V[nt.toLowerCase()];if(!(q.length>0&&/\s$/u.test(at))&&(dt||Z)){this.setAttribute("name",Z!=null?Z:nt.toLowerCase()),this.type="magic-word";const st=new RegExp(`^\\s*${nt}\\s*$`,dt?"u":"iu"),it=new c.SyntaxToken(et,st,"magic-word-name",w,N,{});if(super.insertAt(it),q.length>0&&p.unshift([q.join(":")]),this.name==="invoke")for(let lt=0;lt<2;lt++){const ut=p.shift();if(!ut)break;const ot=new r.D(ut.join("="),`invoke-${lt?"function":"module"}`,w,N);super.insertAt(ot)}}}if(this.type==="template"){const et=(0,$.PN)((0,$.m9)(e)).split("#")[0].trim();if(!et||/\0\d+[eh!+-]\x7F|[<>[\]{}\n]|%[\da-f]{2}/u.test(et))throw N.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${(0,$.jq)(et)}`);const q=new r.D(e,"template-name",w,N,{});super.insertAt(q)}const j=this.isTemplate();let tt=1;for(let et=0;et<p.length;et++){const q=p[et];!j&&!(this.name==="switch"&&et>0)&&(q[0]=q.join("="),q.length=1),q.length===1&&(q.unshift(tt),tt++),this.insertAt(new i(...q,w,N))}}setModifier(e){const{parserFunction:[,,p,w]}=this.getAttribute("config"),N=(0,$.PN)(e).trim();if(e&&!N.endsWith(":"))return!1;const O=N.slice(0,-1).toLowerCase(),W=p.includes(O),V=w.includes(O);return h(this,_)&&W||!h(this,_)&&(V||e==="")||this.length>1&&(W||V||e==="")?(this.setAttribute("modifier",e),P(this,_,W),!!e):!1}isTemplate(){return this.type==="template"||this.name==="invoke"}afterBuild(){this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,"string"))}toString(e){return`{{${this.modifier}${this.type==="magic-word"?`${this.firstChild.toString(e)}${this.length===1?"":":"}${this.childNodes.slice(1).map(p=>p.toString(e)).join("|")}`:super.toString(e,"|")}}}`}text(){const{childNodes:e,length:p,firstChild:w,modifier:N,type:O,name:W}=this;return O==="magic-word"&&W==="vardefine"?"":`{{${N}${O==="magic-word"?`${w.text()}${p===1?"":":"}${(0,$.fL)(e.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier.length+2}getGaps(e){return e<this.length-1?1:0}lint(e=this.getAbsoluteIndex()){const p=super.lint(e),{type:w,childNodes:N}=this;let O;if(!this.isTemplate())return p;const{fragment:W,valid:V}=T(this,B,Y).call(this);W!==void 0&&(O={start:e,...this.getRootNode().posFromIndex(e)},p.push((0,b.D)(N[w==="template"?0:1],O,"useless fragment"))),V?w==="magic-word"&&(O!=null||(O={start:e,...this.getRootNode().posFromIndex(e)}),p.push((0,b.Y)(this,O,"missing module name"))):(O!=null||(O={start:e,...this.getRootNode().posFromIndex(e)}),p.push((0,b.D)(N[1],O,"illegal module name")));const X=this.getDuplicatedArgs();return X.length>0&&(O!=null||(O={start:e,...this.getRootNode().posFromIndex(e)}),p.push(...X.flatMap(([,J])=>J).map(J=>(0,b.D)(J,O,"duplicated parameter")))),p}insertAt(e,p=this.length){return super.insertAt(e,p),e.anon?T(this,K,A).call(this,e):e.name&&this.getArgs(e.name,!1,!1).add(e),e}getAllArgs(){return this.childNodes.filter(e=>e.type==="parameter")}getAnonArgs(){return this.getAllArgs().filter(({anon:e})=>e)}getArgs(e,p=!1,w=!0){const N=String(e).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let O;return h(this,R).has(N)?O=h(this,R).get(N):(O=new Set(this.getAllArgs().filter(({name:W})=>N===W)),h(this,R).set(N,O)),O}getDuplicatedArgs(){return this.isTemplate()?[...h(this,R)].filter(([,{size:e}])=>e>1).map(([e,p])=>[e,[...p]]):[]}getPossibleValues(){const{type:e,name:p,childNodes:w,constructor:{name:N}}=this;if(e==="template")throw new Error(`${N}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let O;switch(p){case"if":case"ifexist":case"ifexpr":case"iferror":O=2;break;case"ifeq":O=3;break;default:throw new Error(`${N}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const W=w.slice(O,O+2).map(({childNodes:[,V]})=>V);for(let V=0;V<W.length;){const{length:X,0:J}=W[V].childNodes.filter(j=>j.text().trim());if(X===0)W.splice(V,1);else if(X>1||J.type!=="magic-word")V++;else try{const j=J.getPossibleValues();W.splice(V,1,...j),V+=j.length}catch(j){V++}}return W}print(){const{childNodes:e,length:p,firstChild:w,modifier:N,type:O}=this;return`<span class="wpb-${O}">{{${N}${O==="magic-word"?`${w.print()}${p===1?"":":"}${(0,$.S0)(e.slice(1),{sep:"|"})}`:(0,$.S0)(e,{sep:"|"})}}}</span>`}}_=new WeakMap,R=new WeakMap,B=new WeakSet,Y=function(){const n=this.type==="template";return this.normalizeTitle(this.childNodes[n?0:1].text(),n?10:828)},K=new WeakSet,A=function(n){const e=this.getAnonArgs(),p=typeof n!="number";for(let w=p?e.indexOf(n):n-1;w<e.length;w++){const N=e[w],{name:O}=N,W=String(w+1);O!==W&&(N.setAttribute("name",W),this.getArgs(W,!1,!1).add(N))}};var y=t(465),G=Object.defineProperty,z=(n,e,p)=>e in n?G(n,e,{enumerable:!0,configurable:!0,writable:!0,value:p}):n[e]=p,F=(n,e,p)=>(z(n,typeof e!="symbol"?e+"":e,p),p);class E extends M.Token{constructor(e,p=I.default.getConfig(),w=[]){super(void 0,p,w,{}),F(this,"type","arg");for(let N=0;N<e.length;N++)if(N===0){const O=new r.D(e[N],"arg-name",p,w,{});super.insertAt(O)}else if(N>1){const O=new y.R(e[N],p,w,{});super.insertAt(O)}else{const O=new M.Token(e[N],p,w);O.type="arg-default",O.setAttribute("stage",2),super.insertAt(O)}}get default(){var e,p;return(p=(e=this.childNodes[1])==null?void 0:e.text())!=null?p:!1}toString(e){return`{{{${super.toString(e,"|")}}}}`}text(){return`{{{${(0,$.fL)(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(e){return e<this.length-1?1:0}lint(e=this.getAbsoluteIndex()){if(!this.getAttribute("include"))return[(0,b.Y)(this,{start:e},"unexpected template argument")];const{childNodes:[p,w,...N]}=this,O=p.lint(e+3);if(w&&O.push(...w.lint(e+4+String(p).length)),N.length>0){const W={start:e,...this.getRootNode().posFromIndex(e)};O.push(...N.map(V=>{const X=(0,b.D)(V,W,"invisible content inside triple braces"),{startIndex:J,startCol:j}=X;return{...X,startIndex:J-1,startCol:j-1}}))}return O}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}}const a=(n,e=I.default.getConfig(),p=[])=>{var w,N,O,W,V,X;const J=`${(w=e.excludes)!=null&&w.includes("heading")?"":"^(\0\\d+c\x7F)*={1,6}|"}\\[\\[|\\{{2,}|-\\{(?!\\{)`,{parserFunction:[,,,j]}=e,tt=[],et={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},q=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"]]);let at=new RegExp(J,"gmu"),nt=at.exec(n),dt=n.includes("}}"),Z;for(;nt||Z!==void 0&&Z<=n.length&&((O=(N=tt[tt.length-1])==null?void 0:N[0])!=null&&O.startsWith("="));){if(nt!=null&&nt[1]){const[,{length:pt}]=nt;nt[0]=nt[0].slice(pt),nt.index+=pt}const{0:st,index:it}=nt!=null?nt:{0:`
`,index:n.length},lt=(W=tt.pop())!=null?W:{},{0:ut,index:ot,parts:ft,findEqual:At,pos:Ct}=lt,$t=st==="="&&At;if(st==="]]"||st==="}-")Z=it+2;else if(st===`
`){Z=it+1;const{pos:pt,findEqual:gt}=(V=tt[tt.length-1])!=null?V:{};if(pt===void 0||gt||(0,$.PN)(n.slice(pt,ot))!==""){const xt=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(n.slice(ot,it));xt&&(n=`${n.slice(0,ot)}\0${p.length}h\x7F${n.slice(it)}`,Z=ot+4+String(p.length).length,new U.D(xt[1].length,xt.slice(2),e,p))}}else if(st==="|"||$t)Z=it+1,ft[ft.length-1].push(n.slice(Ct,it)),st==="|"&&ft.push([]),lt.pos=Z,lt.findEqual=st==="|",tt.push(lt);else if(st.startsWith("}}")){const pt=st.slice(0,Math.min(ut.length,3)),gt=ut.length-pt.length,{length:xt}=p;Z=it+pt.length,ft[ft.length-1].push(n.slice(Ct,it));let St=!1,Tt="t";if(pt.length===3){const ht=ft.map(L=>L.join("=")),_t=ht.length>1&&(0,$.PN)(ht[1]).trim();new E(ht,e,p),_t&&_t.endsWith(":")&&j.includes(_t.slice(0,-1).toLowerCase())&&(Tt="s")}else try{new v(ft[0][0],ft.slice(1),e,p);const ht=(0,$.PN)(ft[0][0]).trim();q.has(ht)?Tt=q.get(ht):/^(?:filepath|(?:full|canonical)urle?):.|^server$/iu.test(ht)?Tt="m":/^#vardefine:./iu.test(ht)&&(Tt="c")}catch(ht){if(ht instanceof SyntaxError&&ht.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))Z=ot+ut.length,St=!0;else throw ht}St||(n=`${n.slice(0,ot+gt)}\0${xt}${Tt}\x7F${n.slice(Z)}`,Z=ot+gt+3+String(xt).length,gt>1?tt.push({0:ut.slice(0,gt),index:ot,pos:ot+gt,parts:[[]]}):gt===1&&n[ot-1]==="-"&&tt.push({0:"-{",index:ot-1,pos:ot+1,parts:[[]]}))}else Z=it+st.length,st.startsWith("{")&&(nt.pos=Z,nt.parts=[[]]),tt.push(..."0"in lt?[lt]:[],nt);dt&&(dt=n.slice(Z).includes("}}"));let vt=tt[tt.length-1];!dt&&((X=vt==null?void 0:vt[0])!=null&&X.startsWith("{"))&&(tt.pop(),vt=tt[tt.length-1]),at=new RegExp(J+(vt?`|${et[vt[0][0]]}${vt.findEqual?"|=":""}`:""),"gmu"),at.lastIndex=Z,nt=at.exec(n)}return n}},551:(Q,D,t)=>{t.r(D),t.d(D,{parseCommentAndExt:()=>l});var $=t(891),I=t(541),U=Object.defineProperty,b=(h,g,P)=>g in h?U(h,g,{enumerable:!0,configurable:!0,writable:!0,value:P}):h[g]=P,M=(h,g,P)=>(b(h,typeof g!="symbol"?g+"":g,P),P);class S extends I.Token{constructor(){super(...arguments),M(this,"type","onlyinclude")}toString(g){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}isPlain(){return!0}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}}var m=t(826),x=t(959),u=t(415),i=Object.defineProperty,r=(h,g,P)=>g in h?i(h,g,{enumerable:!0,configurable:!0,writable:!0,value:P}):h[g]=P,c=(h,g,P)=>(r(h,typeof g!="symbol"?g+"":g,P),P);class o extends(0,x.a)(u.m){constructor(g,P="",T,_,R=$.default.getConfig(),B=[]){super(g,P,T!=null?T:"",T===void 0||_!=null?_:"",R,B),c(this,"type","include")}}var d=t(895),s=t(976);const l=(h,g=$.default.getConfig(),P=[],T=!1)=>{const _="<onlyinclude>",R="</onlyinclude>",{length:B}=_;if(T){let y=h.indexOf(_),G=h.indexOf(R,y+B);if(y!==-1&&G!==-1){let z="";for(;y!==-1&&G!==-1;){const F=`\0${P.length}e\x7F`;new S(h.slice(y+B,G),g,P),y>0?(new m.O(h.slice(0,y),g,P),z+=`\0${P.length-1}c\x7F${F}`):z+=F,h=h.slice(G+B+1),y=h.indexOf(_),G=h.indexOf(R,y+B)}return`${z}${h}`}}const Y=g.ext.join("|"),K=T?"includeonly":"(?:no|only)include",A=T?"noinclude":"includeonly",v=new RegExp(`<!--.*?(?:-->|$)|<${K}(?:\\s[^>]*?)?>|</${K}\\s*>|<(${Y})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${A})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return h.replace(v,(y,G,z,F,E,a,n,e,p)=>{const w=`\0${P.length}${G?"e":"c"}\x7F`;if(G)new d.$(G,z,F,E,g,P);else if(y.startsWith("<!--")){const N=y.endsWith("-->");new s.T(y.slice(4,N?-3:void 0),N,g,P)}else a?new o(a,n,e,p,g,P):new m.O(y,g,P);return w})}},295:(Q,D,t)=>{t.r(D),t.d(D,{parseConverter:()=>Y});var $=t(891),I=t(467),U=t(541),b=t(169),M=t(34),S=Object.defineProperty,m=(K,A,v)=>A in K?S(K,A,{enumerable:!0,configurable:!0,writable:!0,value:v}):K[A]=v,x=(K,A,v)=>(m(K,typeof A!="symbol"?A+"":A,v),v),u=(K,A,v)=>{if(!A.has(K))throw TypeError("Cannot "+v)},i=(K,A,v)=>(u(K,A,"read from private field"),v?v.call(K):A.get(K)),r=(K,A,v)=>{if(A.has(K))throw TypeError("Cannot add the same private member more than once");A instanceof WeakSet?A.add(K):A.set(K,v)},c=(K,A,v,y)=>(u(K,A,"write to private field"),y?y.call(K,v):A.set(K,v),v),o;const d=new Set(["A","T","R","D","-","H","N"]);class s extends U.Token{constructor(A,v=$.default.getConfig(),y=[]){super(void 0,v,y,{}),x(this,"type","converter-flags"),r(this,o,void 0),this.append(...A.map(G=>new M.D(G,"converter-flag",v,y)))}afterBuild(){c(this,o,this.childNodes.map(A=>A.text().trim()))}toString(A){return super.toString(A,";")}text(){return super.text(";")}getGaps(A){return A<this.length-1?1:0}getUnknownFlags(){return new Set(i(this,o).filter(A=>/\{{3}[^{}]+\}{3}/u.test(A)))}getVariantFlags(){const A=new Set(this.getAttribute("config").variants);return new Set(i(this,o).filter(v=>A.has(v)))}lint(A=this.getAbsoluteIndex()){const v=this.getVariantFlags(),y=this.getUnknownFlags(),G=new Set(i(this,o).filter(p=>d.has(p))),{length:z}=i(this,o).filter(p=>!p),F=i(this,o).length-y.size-z,E=super.lint(A);if(v.size===F||G.size===F)return E;const a={start:A,...this.getRootNode().posFromIndex(A)},{childNodes:n,length:e}=this;for(let p=0;p<e;p++){const w=n[p],N=w.text().trim();if(N&&!v.has(N)&&!y.has(N)&&(v.size>0||!G.has(N))){const O=(0,b.D)(w,a,"invalid conversion flag");E.push(O)}}return E}print(){return super.print({sep:";"})}}o=new WeakMap;var l=Object.defineProperty,h=(K,A,v)=>A in K?l(K,A,{enumerable:!0,configurable:!0,writable:!0,value:v}):K[A]=v,g=(K,A,v)=>(h(K,typeof A!="symbol"?A+"":A,v),v);class P extends U.Token{constructor(A,v=!0,y=$.default.getConfig(),G=[]){if(super(void 0,y,G),g(this,"type","converter-rule"),v){const z=A.indexOf(":"),F=A.slice(0,z).indexOf("=>"),E=F===-1?A.slice(0,z):A.slice(F+2,z);y.variants.includes(E.trim())?(super.insertAt(new M.D(E,"converter-rule-variant",y,G)),super.insertAt(new M.D(A.slice(z+1),"converter-rule-to",y,G)),F!==-1&&super.insertAt(new M.D(A.slice(0,F),"converter-rule-from",y,G),0)):super.insertAt(new M.D(A,"converter-rule-noconvert",y,G))}else super.insertAt(new M.D(A,"converter-rule-noconvert",y,G))}toString(A){const{childNodes:v}=this;if(v.length===3){const[y,G,z]=v;return`${y.toString(A)}=>${G.toString(A)}:${z.toString(A)}`}return super.toString(A,":")}text(){const{childNodes:A}=this;if(A.length===3){const[v,y,G]=A;return`${v.text()}=>${y.text()}:${G.text()}`}return super.text(":")}getGaps(A){return A===0&&this.length===3?2:1}print(){const{childNodes:A}=this;if(A.length===3){const[v,y,G]=A;return`<span class="wpb-converter-rule">${v.print()}=>${y.print()}:${G.print()}</span>`}return super.print({sep:":"})}}var T=Object.defineProperty,_=(K,A,v)=>A in K?T(K,A,{enumerable:!0,configurable:!0,writable:!0,value:v}):K[A]=v,R=(K,A,v)=>(_(K,typeof A!="symbol"?A+"":A,v),v);class B extends U.Token{constructor(A,v,y=$.default.getConfig(),G=[]){super(void 0,y,G),R(this,"type","converter"),this.append(new s(A,y,G));const[z]=v,F=z.includes(":"),E=new P(z,F,y,G);F&&E.length===1?this.insertAt(new P(v.join(";"),!1,y,G)):this.append(E,...v.slice(1).map(a=>new P(a,!0,y,G)))}toString(A){const{childNodes:[v,...y]}=this;return`-{${v.toString()}${v.length>0?"|":""}${y.map(G=>G.toString()).join(";")}}-`}text(){const{childNodes:[A,...v]}=this;return`-{${A.text()}|${(0,I.fL)(v,";")}}-`}getPadding(){return 2}getGaps(A){return A||this.firstChild.length>0?1:0}print(){const{childNodes:[A,...v]}=this;return`<span class="wpb-converter">-{${A.print()}${A.length>0?"|":""}${(0,I.S0)(v,{sep:";"})}}-</span>`}}const Y=(K,A=$.default.getConfig(),v=[])=>{const y=/-\{/gu,G=/-\{|\}-/gu,z=[];let F=y,E=F.exec(K);for(;E;){const{0:a,index:n}=E;if(a==="}-"){const e=z.pop(),{length:p}=v,w=K.slice(e.index+2,n),N=w.indexOf("|"),[O,W]=N===-1?[[],w]:[w.slice(0,N).split(";"),w.slice(N+1)],V=W.replace(/(&[#a-z\d]+);/giu,"$1"),X=`(?:${A.variants.join("|")})`,J=V.split(new RegExp(`;(?=\\s*(?:${X}|[^;]*?=>\\s*${X})\\s*:)`,"u")).map(j=>j.replace(/\x01/gu,";"));new B(O,J,A,v),K=`${K.slice(0,e.index)}\0${p}v\x7F${K.slice(n+2)}`,z.length===0&&(F=y),F.lastIndex=e.index+3+String(p).length}else z.push(E),F=G,F.lastIndex=n+2;E=F.exec(K)}return K}},418:(Q,D,t)=>{t.r(D),t.d(D,{parseExternalLinks:()=>b});var $=t(467),I=t(891),U=t(944);const b=(M,S=I.default.getConfig(),m=[])=>{const x=new RegExp(`\\[((?:(?:${S.protocol}|//)${$._X}|\0\\d+m\x7F)${$.Qk})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return M.replace(x,(u,i,r,c)=>{const{length:o}=m,d=/&[lg]t;/u.exec(i);return d&&(i=i.slice(0,d.index),r="",c=`${i.slice(d.index)}${r}${c}`),new U.a(i,r,c,S,m),`\0${o}w\x7F`})}},362:(Q,D,t)=>{t.r(D),t.d(D,{parseHrAndDoubleUnderscore:()=>o});var $=t(891),I=t(439),U=Object.defineProperty,b=(d,s,l)=>s in d?U(d,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[s]=l,M=(d,s,l)=>(b(d,typeof s!="symbol"?s+"":s,l),l);class S extends I.h{constructor(){super(...arguments),M(this,"type","hr")}}var m=t(959),x=Object.defineProperty,u=(d,s,l)=>s in d?x(d,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[s]=l,i=(d,s,l)=>(u(d,typeof s!="symbol"?s+"":s,l),l);class r extends(0,m.a)(I.h){constructor(s,l,h=$.default.getConfig(),g=[]){super(s,h,g),i(this,"type","double-underscore")}getPadding(){return 2}toString(s){return`__${this.innerText}__`}print(){return super.print({pre:"__",post:"__"})}}var c=t(485);const o=({firstChild:{data:d},type:s,name:l},h=$.default.getConfig(),g=[])=>{const{doubleUnderscore:P}=h,T=new Set(P[0]),_=new Set(P[1]);return s!=="root"&&(s!=="ext-inner"||l!=="poem")&&(d=`\0${d}`),d=d.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(R,B,Y)=>(new S(Y,h,g),`${B}\0${g.length-1}r\x7F`)).replace(new RegExp(`__(${P.flat().join("|")})__`,"giu"),(R,B)=>{const Y=_.has(B);return Y||T.has(B.toLowerCase())?(new r(B,Y,h,g),`\0${g.length-1}u\x7F`):R}).replace(/^((?:\0\d+c\x7F)*)(={1,6})(.+)\2((?:[^\S\n]|\0\d+c\x7F)*)$/gmu,(R,B,Y,K,A)=>{const v=`${B}\0${g.length}h\x7F`;return new c.D(Y.length,[K,A],h,g),v}),s==="root"||s==="ext-inner"&&l==="poem"?d:d.slice(1)}},980:(Q,D,t)=>{t.r(D),t.d(D,{parseHtml:()=>g});var $=t(891),I=t(83),U=t(169),b=t(467),M=t(541),S=Object.defineProperty,m=(P,T,_)=>T in P?S(P,T,{enumerable:!0,configurable:!0,writable:!0,value:_}):P[T]=_,x=(P,T,_)=>(m(P,typeof T!="symbol"?T+"":T,_),_),u=(P,T,_)=>{if(!T.has(P))throw TypeError("Cannot "+_)},i=(P,T,_)=>(u(P,T,"read from private field"),_?_.call(P):T.get(P)),r=(P,T,_)=>{if(T.has(P))throw TypeError("Cannot add the same private member more than once");T instanceof WeakSet?T.add(P):T.set(P,_)},c=(P,T,_,R)=>(u(P,T,"write to private field"),R?R.call(P,_):T.set(P,_),_),o,d,s;const l=new Set(["if","ifeq","ifexpr","ifexist","iferror","switch"]);class h extends M.Token{constructor(T,_,R,B,Y=$.default.getConfig(),K=[]){super(void 0,Y,K),x(this,"type","html"),r(this,o,void 0),r(this,d,void 0),r(this,s,void 0),this.insertAt(_),this.setAttribute("name",T.toLowerCase()),c(this,o,R),c(this,d,B),c(this,s,T)}get closing(){return i(this,o)}toString(T){return`<${i(this,o)?"/":""}${i(this,s)}${super.toString()}${i(this,d)?"/":""}>`}text(){return`<${i(this,o)?"/":""}${i(this,s)}${i(this,o)?"":super.text()}${i(this,d)?"/":""}>`}getPadding(){return i(this,s).length+(i(this,o)?2:1)}lint(T=this.getAbsoluteIndex()){const _=super.lint(T);let R;this.name==="h1"&&!i(this,o)&&(R=(0,U.Y)(this,{start:T},"<h1>"),_.push(R)),this.closest("table-attrs")&&(R!=null||(R=(0,U.Y)(this,{start:T},"")),_.push({...R,message:$.default.msg("HTML tag in table attributes")}));try{this.findMatchingTag()}catch(B){if(B instanceof SyntaxError){const{message:Y}=B;R!=null||(R=(0,U.Y)(this,{start:T},""));const[K]=Y.split(":"),A={...R,message:$.default.msg(K)};if(K==="unclosed tag")A.severity="warning";else if(K==="unmatched closing tag"){const v=this.closest("magic-word");v&&l.has(v.name)&&(A.severity="warning")}_.push(A)}}return _}findMatchingTag(){const{html:T}=this.getAttribute("config"),{name:_,parentNode:R}=this,B=(0,b.jq)(String(this));if(i(this,o)&&(i(this,d)||T[2].includes(_)))throw new SyntaxError(`tag that is both closing and self-closing: ${B}`);if(T[2].includes(_)||i(this,d)&&T[1].includes(_))return this;if(i(this,d)&&T[0].includes(_))throw new SyntaxError(`invalid self-closing tag: ${B}`);if(!R)return;const{childNodes:Y}=R,K=Y.indexOf(this),A=i(this,o)?Y.slice(0,K).reverse().filter(({type:y,name:G})=>y==="html"&&G===_):Y.slice(K+1).filter(({type:y,name:G})=>y==="html"&&G===_);let v=i(this,o)?-1:1;for(const y of A)if(i(y,o)?v--:v++,v===0)return y;throw new SyntaxError(`${i(this,o)?"unmatched closing":"unclosed"} tag: ${B}`)}print(){return super.print({pre:`&lt;${i(this,o)?"/":""}${i(this,s)}`,post:`${i(this,d)?"/":""}&gt;`})}}o=new WeakMap,d=new WeakMap,s=new WeakMap;const g=(P,T=$.default.getConfig(),_=[])=>{const R=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,B=new Set(T.html.flat()),Y=P.split("<");let K=Y.shift();for(const A of Y){const v=R.exec(A),y=v==null?void 0:v[2],G=y==null?void 0:y.toLowerCase();if(!v||!B.has(G)){K+=`<${A}`;continue}const[,z,,F="",E,a]=v,n=new I.x(F,"html-attrs",G,T,_),e=n.getAttr("itemprop");if(G==="meta"&&(e===void 0||n.getAttr("content")===void 0)||G==="link"&&(e===void 0||n.getAttr("href")===void 0)){K+=`<${A}`,_.pop();continue}K+=`\0${_.length}x\x7F${a}`,new h(y,n,z==="/",E==="/>",T,_)}return K}},106:(Q,D,t)=>{t.r(D),t.d(D,{parseLinks:()=>x});var $=t(891),I=t(524),U=t(533),b=Object.defineProperty,M=(u,i,r)=>i in u?b(u,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[i]=r,S=(u,i,r)=>(M(u,typeof i!="symbol"?i+"":i,r),r);class m extends I.h{constructor(){super(...arguments),S(this,"type","category")}}const x=(u,i=$.default.getConfig(),r=[])=>{const{parseQuotes:c}=t(704),o=i.inExt?/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su:/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]])?)?\]\](.*)$/su,d=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,s=new RegExp(`^\\s*(?:${i.protocol})`,"iu"),l=u.split("[[");let h=l.shift();for(let g=0;g<l.length;g++){let P=!1,T,_,R,B;const Y=l[g],K=o.exec(Y);if(K)[,T,_,R,B]=K,B.startsWith("]")&&(R!=null&&R.includes("["))&&(R+="]",B=B.slice(1));else{const F=d.exec(Y);F&&(P=!0,[,T,_,R]=F)}if(T===void 0||s.test(T)||/\0\d+[exhbru]\x7F/u.test(T)){h+=`[[${Y}`;continue}const A=T.trim().startsWith(":");if(A&&P){h+=`[[${Y}`;continue}const v=$.default.normalizeTitle(T,0,!1,i,!0,!0,!0),{ns:y,valid:G}=v;if(G){if(P){if(y!==6){h+=`[[${Y}`;continue}let F=!1;for(g++;g<l.length;g++){const E=l[g],a=E.split("]]");if(a.length>2){F=!0,R+=`[[${a[0]}]]${a[1]}`,B=a.slice(2).join("]]");break}else if(a.length===2)R+=`[[${a[0]}]]${a[1]}`;else{R+=`[[${E}`;break}}if(R=x(R,i,r),!F){h+=`[[${T}${_}${R}`;continue}}}else{h+=`[[${Y}`;continue}R&&(R=c(R,i,r)),h+=`\0${r.length}l\x7F${B}`;let z=I.h;A||(y===6?z=U.q:y===14&&(z=m)),R===void 0&&_&&(R=""),new z(T,R,i,r,_)}return h}},904:(Q,D,t)=>{t.r(D),t.d(D,{parseList:()=>x});var $=t(891),I=t(933),U=Object.defineProperty,b=(u,i,r)=>i in u?U(u,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[i]=r,M=(u,i,r)=>(b(u,typeof i!="symbol"?i+"":i,r),r);class S extends I.T{constructor(){super(...arguments),M(this,"type","list")}}var m=t(461);const x=(u,i=$.default.getConfig(),r=[])=>{const c=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(u);if(!c)return u;const[o,d,s]=c;let l=`${d}\0${r.length}d\x7F${u.slice(o.length)}`,h=s.split(";").length-1;if(new S(s,i,r),!h)return l;let g=/:+|-\{/gu,P=g.exec(l),T=0;for(;P&&h;){const{0:_,index:R}=P;if(_.startsWith(":")){if(_.length>=h)return new m.k(":".repeat(h),i,r),`${l.slice(0,R)}\0${r.length-1}d\x7F${l.slice(R+h)}`;l=`${l.slice(0,R)}\0${r.length}d\x7F${l.slice(g.lastIndex)}`,h-=_.length,g.lastIndex=R+4+String(r.length).length,new m.k(_,i,r)}else if(_==="-{"){if(!T){const{lastIndex:B}=g;g=/-\{|\}-/gu,g.lastIndex=B}T++}else if(T--,!T){const{lastIndex:B}=g;g=/:+|-\{/gu,g.lastIndex=B}P=g.exec(l)}return l}},311:(Q,D,t)=>{t.r(D),t.d(D,{parseMagicLinks:()=>b});var $=t(467),I=t(891),U=t(686);const b=(M,S=I.default.getConfig(),m=[])=>{const x=new RegExp(`(^|[^\\p{L}\\d_])(?:${S.protocol})(${$._X}${$.Qk})`,"giu");return M.replace(x,(u,i,r)=>{let c="",o=i?u.slice(1):u;const d=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(o);d&&(c=o.slice(d.index),o=o.slice(0,d.index));const s=new RegExp(`[,;.:!?${o.includes("(")?"":")"}]+$`,"u"),l=s.exec(o);if(l){let h=0;l[0].startsWith(";")&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(o.slice(0,l.index))&&(h=1),c=`${o.slice(l.index+h)}${c}`,o=o.slice(0,l.index+h)}return c.length>=r.length?u:(new U.k(o,!1,S,m),`${i}\0${m.length-1}w\x7F${c}`)})}},704:(Q,D,t)=>{t.r(D),t.d(D,{parseQuotes:()=>x});var $=t(891),I=t(169),U=t(439),b=Object.defineProperty,M=(u,i,r)=>i in u?b(u,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[i]=r,S=(u,i,r)=>(M(u,typeof i!="symbol"?i+"":i,r),r);class m extends U.h{constructor(){super(...arguments),S(this,"type","quote")}lint(i=this.getAbsoluteIndex()){const{previousSibling:r,nextSibling:c}=this,o=$.default.msg('lonely "$1"',"'"),d=[];let s;if((r==null?void 0:r.type)==="text"&&r.data.endsWith("'")){s=(0,I.Y)(this,{start:i},o);const{startIndex:l,startLine:h,startCol:g}=s,[,{length:P}]=r.data.match(/(?:^|[^'])('+)$/u),T=i-P;d.push({...s,startIndex:T,endIndex:l,startCol:g-P,endLine:h,endCol:g})}if((c==null?void 0:c.type)==="text"&&c.data.startsWith("'")){s!=null||(s=(0,I.Y)(this,{start:i},o));const{endIndex:l,endLine:h,endCol:g}=s,[{length:P}]=c.data.match(/^'+/u),T=l+P;d.push({...s,startIndex:l,endIndex:T,startLine:h,startCol:g,endCol:g+P})}return d}}const x=(u,i=$.default.getConfig(),r=[])=>{var c;const o=u.split(/('{2,})/u),{length:d}=o;if(d===1)return u;let s=0,l=0,h,g,P;for(let T=1;T<d;T+=2){const{length:_}=o[T];switch(_){case 2:l++;break;case 4:o[T-1]+="'",o[T]="'''";case 3:if(s++,h!==void 0)break;o[T-1].endsWith(" ")?g===void 0&&P===void 0&&(P=T):o[T-1].slice(-2,-1)===" "?h=T:g!=null||(g=T);break;default:o[T-1]+="'".repeat(_-5),o[T]="'''''",l++,s++}}if(l%2===1&&s%2===1){const T=(c=h!=null?h:g)!=null?c:P;T!==void 0&&(o[T]="''",o[T-1]+="'")}for(let T=1;T<d;T+=2)new m(o[T],i,r),o[T]=`\0${r.length-1}q\x7F`;return o.join("")}},508:(Q,D,t)=>{t.r(D),t.d(D,{parseTable:()=>F});var $=t(891),I=t(541),U=t(169),b=t(669),M=t(83);class S extends I.Token{constructor(a,n,e,p=$.default.getConfig(),w=[],N={}){super(void 0,p,w,N),this.append(new b.SyntaxToken(n,a,"table-syntax",p,w,{}),new M.x(e,"table-attrs",this.type,p,w))}}class m extends S{lint(a=this.getAbsoluteIndex()){const n=super.lint(a),e=this.childNodes.find(({type:O})=>O==="table-inter");if(!e)return n;const p=e.childNodes.find(O=>O.text().trim()),w=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!p||w.test(String(p))||p.type==="arg"&&w.test(p.default||""))return n;if(p.type==="magic-word")try{if(p.getPossibleValues().every(O=>w.test(O.text())))return n}catch(O){}const N=(0,U.D)(e,{start:a},"content to be moved out from the table");return n.push({...N,startIndex:N.startIndex+1,startLine:N.startLine+1,startCol:0}),n}text(){const a=super.text();return this.type==="tr"&&!a.trim().includes(`
`)?"":a}}var x=Object.defineProperty,u=(E,a,n)=>a in E?x(E,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):E[a]=n,i=(E,a,n)=>(u(E,typeof a!="symbol"?a+"":a,n),n);const r=/^\n[^\S\n]*(?:\|\}|\{\{\s*!\s*\}\}\}|\{\{\s*!\)\s*\}\})$/u;class c extends m{constructor(a,n,e=$.default.getConfig(),p=[]){super(/^(?:\{\||\{\{\{\s*!\s*\}\}|\{\{\s*\(!\s*\}\})$/u,a,n,e,p,{}),i(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(a=this.getAbsoluteIndex()){const n=super.lint(a);if(!this.closed){const{firstChild:e}=this,p=(0,U.D)(e,{start:a},"unclosed table");n.push(p)}return n}close(a=`
|}`,n=!1){const e=this.getAttribute("config"),p=this.getAttribute("accum"),w=[a],N=super.insertAt($.default.run(()=>new b.SyntaxToken(void 0,r,"table-syntax",e,p,{})));this.lastChild.replaceChildren(...w)}}var o=Object.defineProperty,d=(E,a,n)=>a in E?o(E,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):E[a]=n,s=(E,a,n)=>(d(E,typeof a!="symbol"?a+"":a,n),n);class l extends m{constructor(a,n,e=$.default.getConfig(),p=[]){super(/^\n[^\S\n]*(?:\|-+|\{\{\s*!\s*\}\}-+|\{\{\s*!-\s*\}\}-*)$/u,a,n,e,p,{}),s(this,"type","tr")}}var h=Object.defineProperty,g=(E,a,n)=>a in E?h(E,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):E[a]=n,P=(E,a,n)=>(g(E,typeof a!="symbol"?a+"":a,n),n),T=(E,a,n)=>{if(!a.has(E))throw TypeError("Cannot "+n)},_=(E,a,n)=>(T(E,a,"read from private field"),n?n.call(E):a.get(E)),R=(E,a,n)=>{if(a.has(E))throw TypeError("Cannot add the same private member more than once");a instanceof WeakSet?a.add(E):a.set(E,n)},B=(E,a,n,e)=>(T(E,a,"write to private field"),e?e.call(E,n):a.set(E,n),n),Y=(E,a,n,e)=>({set _(p){B(E,a,p,n)},get _(){return _(E,a,e)}}),K=(E,a,n)=>(T(E,a,"access private method"),n),A,v,y;class G extends S{constructor(a,n,e=$.default.getConfig(),p=[]){var w;let N=n==null?void 0:n.match(/\||\0\d+!\x7F/u),O=N?n.slice(0,N.index):"";/\[\[|-\{/u.test(O)&&(N=void 0,O=""),super(/^(?:\n[^\S\n]*(?:[|!]|\|\+|\{\{\s*!\s*\}\}\+?)|(?:\||\{\{\s*!\s*\}\}){2}|!!|\{\{\s*!!\s*\}\})$/u,a,O,e,p),R(this,v),P(this,"type","td"),R(this,A,""),N&&([Y(this,A)._]=N);const W=new I.Token(n==null?void 0:n.slice(((w=N==null?void 0:N.index)!=null?w:NaN)+_(this,A).length),e,p);W.type="td-inner",W.setAttribute("stage",4),this.insertAt(W)}get subtype(){return K(this,v,y).call(this).subtype}afterBuild(){_(this,A).includes("\0")&&B(this,A,this.buildFromStr(_(this,A),"string"))}toString(a){const{childNodes:[n,e,p]}=this;return`${n.toString()}${e.toString()}${_(this,A)}${p.toString()}`}text(){const{childNodes:[a,n,e]}=this;return`${a.text()}${n.text()}${_(this,A)}${e.text()}`}getGaps(a){return a===1?_(this,A).length:0}lint(a=this.getAbsoluteIndex()){const n=super.lint(a);a+=this.getRelativeIndex(this.length-1);for(const e of this.lastChild.childNodes)e.type==="text"&&e.data.includes("|")&&n.push((0,U.D)(e,{start:a},'additional "|" in a table cell',"warning"));return n}print(){const{childNodes:[a,n,e]}=this;return`<span class="wpb-td">${a.print()}${n.print()}${_(this,A)}${e.print()}</span>`}}A=new WeakMap,v=new WeakSet,y=function(){const E=this.firstChild.text(),a=E[E.length-1];let n="td";return a==="!"?n="th":a==="+"&&(n="caption"),{subtype:n}};var z=t(461);const F=({firstChild:{data:E},type:a,name:n},e=$.default.getConfig(),p=[])=>{const w=[],N=E.split(`
`);let O=a==="root"||a==="parameter-value"||a==="ext-inner"&&n==="poem"?"":`
${N.shift()}`;const W=(V,X)=>{if(!X){O+=V;return}const{lastChild:J}=X;if(J.constructor===I.Token)J.setText(String(J)+V);else{const j=new I.Token(V,e,p);j.type="table-inter",j.setAttribute("stage",3),X.insertAt(j)}};for(const V of N){let X=w.pop();const[J]=/^(?:\s|\0\d+c\x7F)*/u.exec(V),j=V.slice(J.length),tt=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{(?:\0\d+c\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(j);if(tt){for(;X&&X.type!=="td";)X=w.pop();const[,Z,st,it,lt]=tt;Z&&new z.k(Z,e,p),W(`
${J}${Z&&`\0${p.length-1}d\x7F`}${st}\0${p.length}b\x7F`,X),w.push(...X?[X]:[],new c(it,lt,e,p));continue}else if(!X){O+=`
${V}`;continue}const et=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(j);if(!et){W(`
${V}`,X),w.push(X);continue}const[,q,at,nt,dt]=et;if(q){for(;X.type!=="table";)X=w.pop();X.close(`
${J}${q}`,!0),W(dt,w[w.length-1])}else if(at){X.type==="td"&&(X=w.pop()),X.type==="tr"&&(X=w.pop());const Z=new l(`
${J}${at}`,dt,e,p);w.push(X,Z),X.insertAt(Z)}else{X.type==="td"&&(X=w.pop());const Z=nt==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let st=Z.exec(dt),it=0,lt=`
${J}${nt}`;for(;st;)X.insertAt(new G(lt,dt.slice(it,st.index),e,p)),{lastIndex:it}=Z,[lt]=st,st=Z.exec(dt);const ut=new G(lt,dt.slice(it),e,p);w.push(X,ut),X.insertAt(ut)}}return O.slice(1)}},34:(Q,D,t)=>{t.d(D,{D:()=>U});var $=t(891),I=t(541);class U extends I.Token{constructor(M,S,m=$.default.getConfig(),x=[],u){super(M,m,x,u),this.type=S}}},83:(Q,D,t)=>{t.d(D,{x:()=>K});var $=t(169),I=t(467),U=t(891),b=t(541),M=t(34),S=(A,v,y)=>{if(!v.has(A))throw TypeError("Cannot "+y)},m=(A,v,y)=>(S(A,v,"read from private field"),y?y.call(A):v.get(A)),x=(A,v,y)=>{if(v.has(A))throw TypeError("Cannot add the same private member more than once");v instanceof WeakSet?v.add(A):v.set(A,y)},u=(A,v,y,G)=>(S(A,v,"write to private field"),G?G.call(A,y):v.set(A,y),y),i,r,c;const o=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),d=new Set(["align"]),s=new Set(["cite"]),l=new Set(["cite","datetime"]),h=new Set(["width"]),g=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),P=new Set(["type"]),T={div:d,h1:d,h2:d,h3:d,h4:d,h5:d,h6:d,blockquote:s,q:s,p:d,br:new Set(["clear"]),pre:h,ins:l,del:l,ul:P,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:d,tr:new Set(["bgcolor","align","valign"]),td:g,th:g,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:h,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline","align"])},_=new Set,R={nowiki:_,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:_,inputbox:_,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:_,poll:new Set(["id","show-results-before-voting"]),sm2:P,flashmp3:P,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},B=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class Y extends b.Token{constructor(v,y,G,z="",F,E=[],a=U.default.getConfig(),n=[]){const e=new M.D(G,"attr-key",a,n,{});let p;if(G==="title"||y==="img"&&G==="alt")p=new b.Token(F,a,n,{}),p.type="attr-value",p.setAttribute("stage",U.default.MAX_STAGE-1);else if(y==="gallery"&&G==="caption"){const w={...a,excludes:[...a.excludes,"quote","extLink","magicLink","list"]};p=new b.Token(F,w,n,{}),p.type="attr-value",p.setAttribute("stage",5)}else if(y==="choose"&&(G==="before"||G==="after")){const w={...a,excludes:[...a.excludes,"heading","html","table","hr","list"]};p=new b.Token(F,w,n,{}),p.type="attr-value",p.setAttribute("stage",1)}else p=new M.D(F,"attr-value",a,n,{});super(void 0,a,n),x(this,i,void 0),x(this,r,void 0),x(this,c,void 0),this.type=v,this.append(e,p),u(this,i,z),u(this,r,E),u(this,c,y),this.setAttribute("name",(0,I.PN)(G).trim().toLowerCase())}get tag(){return m(this,c)}get balanced(){return!m(this,i)||m(this,r)[0]===m(this,r)[1]}afterBuild(){m(this,i).includes("\0")&&u(this,i,this.buildFromStr(m(this,i),"string")),this.parentNode&&u(this,c,this.parentNode.name),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(v){const[y="",G=""]=m(this,r);return m(this,i)?`${super.toString(v,`${m(this,i)}${y}`)}${G}`:this.firstChild.toString(v)}text(){return m(this,i)?`${super.text(`${m(this,i).trim()}"`)}"`:this.firstChild.text()}getGaps(v){var y,G;return m(this,i)&&v===0?m(this,i).length+((G=(y=m(this,r)[0])==null?void 0:y.length)!=null?G:0):0}lint(v=this.getAbsoluteIndex()){var y;const G=super.lint(v),{balanced:z,firstChild:F,lastChild:E,type:a,name:n}=this,e=this.getValue(),p=m(this,c);let w;if(!z){const N=this.getRootNode();w={start:v,...N.posFromIndex(v)};const O=(0,$.D)(E,w,"unclosed quotes","warning"),W=O.startIndex-1;G.push({...O,startIndex:W,startCol:O.startCol-1})}return R[p]&&!R[p].has(n)||(a!=="ext-attr"&&!/\{\{[^{]+\}\}/u.test(n)||p in T)&&!((y=T[p])!=null&&y.has(n))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(n)&&(p==="meta"||p==="link"||!o.has(n))?(w!=null||(w={start:v,...this.getRootNode().posFromIndex(v)}),G.push((0,$.D)(F,w,"illegal attribute name"))):n==="style"&&typeof e=="string"&&B.test(e)?(w!=null||(w={start:v,...this.getRootNode().posFromIndex(v)}),G.push((0,$.D)(E,w,"insecure style"))):n==="tabindex"&&typeof e=="string"&&e.trim()!=="0"&&(w!=null||(w={start:v,...this.getRootNode().posFromIndex(v)}),G.push((0,$.D)(E,w,"nonzero tabindex"))),G}getValue(){if(m(this,i)){const v=this.lastChild.text();return m(this,r)[1]?v:v.trim()}return this.type==="ext-attr"||""}print(){const[v="",y=""]=m(this,r);return m(this,i)?super.print({sep:`${m(this,i)}${v}`,post:y}):super.print()}}i=new WeakMap,r=new WeakMap,c=new WeakMap;class K extends b.Token{constructor(v,y,G,z=U.default.getConfig(),F=[]){if(super(void 0,z,F,{}),this.type=y,this.setAttribute("name",G),v){const E=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let a="",n=E.exec(v),e=0;const p=()=>{a&&(super.insertAt(new M.D(a,`${y.slice(0,-1)}-dirty`,z,F)),a="")};for(;n;){const{index:w,0:N,1:O,2:W,3:V,4:X,5:J,6:j}=n;if(a+=v.slice(e,w),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test((0,I.PN)(O).trim())){const tt=X!=null?X:j,et=[V,J],q=new Y(y.slice(0,-1),G,O,W,tt,et,z,F);p(),super.insertAt(q)}else a+=N;({lastIndex:e}=E),n=E.exec(v)}a+=v.slice(e),p()}}afterBuild(){if(this.type==="table-attrs"){const{parentNode:v}=this;this.setAttribute("name",(v==null?void 0:v.type)==="td"&&v.subtype==="caption"?"caption":v==null?void 0:v.type)}}getAttrTokens(v){return this.childNodes.filter(y=>y instanceof Y&&(!v||y.name===v.toLowerCase().trim()))}getAttrToken(v){const y=this.getAttrTokens(v);return y[y.length-1]}getAttr(v){var y;return(y=this.getAttrToken(v))==null?void 0:y.getValue()}lint(v=this.getAbsoluteIndex()){const y=super.lint(v),{parentNode:G,length:z,childNodes:F}=this,E=new Map,a=new Set;let n;(G==null?void 0:G.type)==="html"&&G.closing&&this.text().trim()&&(n={start:v,...this.getRootNode().posFromIndex(v)},y.push((0,$.Y)(this,n,"attributes of a closing tag")));for(let e=0;e<z;e++){const p=F[e];if(p instanceof M.D&&p.text().trim())n!=null||(n={start:v,...this.getRootNode().posFromIndex(v)}),y.push((0,$.D)(p,n,"containing invalid attribute"));else if(p instanceof Y){const{name:w}=p;E.has(w)?(a.add(w),E.get(w).push(p)):w!=="class"&&E.set(w,[p])}}if(a.size>0){n!=null||(n={start:v,...this.getRootNode().posFromIndex(v)});for(const e of a)y.push(...E.get(e).map(p=>(0,$.D)(p,n,U.default.msg("duplicated $1 attribute",e))))}return y}print(){return String(this)?`<span class="wpb-${this.type}">${this.childNodes.map(v=>v.print(v instanceof M.D&&v.text().trim()?{class:"hidden"}:void 0)).join("")}</span>`:""}}},944:(Q,D,t)=>{t.d(D,{a:()=>c});var $=t(891),I=t(541),U=t(686),b=Object.defineProperty,M=(o,d,s)=>d in o?b(o,d,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[d]=s,S=(o,d,s)=>(M(o,typeof d!="symbol"?d+"":d,s),s),m=(o,d,s)=>{if(!d.has(o))throw TypeError("Cannot "+s)},x=(o,d,s)=>(m(o,d,"read from private field"),s?s.call(o):d.get(o)),u=(o,d,s)=>{if(d.has(o))throw TypeError("Cannot add the same private member more than once");d instanceof WeakSet?d.add(o):d.set(o,s)},i=(o,d,s,l)=>(m(o,d,"write to private field"),l?l.call(o,s):d.set(o,s),s),r;class c extends I.Token{constructor(d,s="",l="",h=$.default.getConfig(),g=[]){if(super(void 0,h,g,{}),S(this,"type","ext-link"),u(this,r,void 0),this.insertAt(new U.k(d,!0,h,g)),i(this,r,s),l){const P=new I.Token(l,h,g,{});P.type="ext-link-text",P.setAttribute("stage",$.default.MAX_STAGE-1),this.insertAt(P)}}toString(d){return this.length===1?`[${super.toString(d)}${x(this,r)}]`:`[${super.toString(d,x(this,r))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(d){return d===0?x(this,r).length:0}print(){return super.print(this.length===1?{pre:"[",post:`${x(this,r)}]`}:{pre:"[",sep:x(this,r),post:"]"})}}r=new WeakMap},420:(Q,D,t)=>{t.r(D),t.d(D,{GalleryToken:()=>o});var $=t(891),I=t(541),U=t(39),b=t(465),M=Object.defineProperty,S=(d,s,l)=>s in d?M(d,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[s]=l,m=(d,s,l)=>(S(d,typeof s!="symbol"?s+"":s,l),l),x=(d,s,l)=>{if(!s.has(d))throw TypeError("Cannot "+l)},u=(d,s,l)=>{if(s.has(d))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(d):s.set(d,l)},i=(d,s,l)=>(x(d,s,"access private method"),l),r,c;class o extends I.Token{constructor(s,l=$.default.getConfig(),h=[]){var g;super(void 0,l,h,{}),u(this,r),m(this,"type","ext-inner");for(const P of(g=s==null?void 0:s.split(`
`))!=null?g:[]){const T=/^([^|]+)(?:\|(.*))?/u.exec(P);if(!T){super.insertAt(P.trim()?new b.R(P,l,[],{}):P);continue}const[,_,R]=T;i(this,r,c).call(this,_)?super.insertAt(new U._("gallery",_,R,l,h)):super.insertAt(new b.R(P,l,[],{}))}}toString(s){return super.toString(s,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(s){return s<this.length-1?1:0}lint(s=this.getAbsoluteIndex()){const{top:l,left:h}=this.getRootNode().posFromIndex(s),g=[];for(let P=0;P<this.length;P++){const T=this.childNodes[P],_=String(T),{length:R}=_,B=_.trim(),Y=l+P,K=P?0:h;T.type==="hidden"&&B&&!/^<!--.*-->$/u.test(B)?g.push({message:$.default.msg("invalid content in <$1>","gallery"),severity:"error",startIndex:s,endIndex:s+R,startLine:Y,endLine:Y,startCol:K,endCol:K+R}):T.type!=="hidden"&&T.type!=="text"&&g.push(...T.lint(s)),s+=R+1}return g}print(){return super.print({sep:`
`})}}r=new WeakSet,c=function(d){return this.normalizeTitle(d,6,!0,!0).valid}},485:(Q,D,t)=>{t.d(D,{D:()=>o});var $=t(169),I=t(891),U=t(541),b=t(669),M=Object.defineProperty,S=(d,s,l)=>s in d?M(d,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):d[s]=l,m=(d,s,l)=>(S(d,typeof s!="symbol"?s+"":s,l),l),x=(d,s,l)=>{if(!s.has(d))throw TypeError("Cannot "+l)},u=(d,s,l)=>(x(d,s,"read from private field"),l?l.call(d):s.get(d)),i=(d,s,l)=>{if(s.has(d))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(d):s.set(d,l)},r,c;class o extends U.Token{constructor(s,l,h=I.default.getConfig(),g=[]){super(void 0,h,g),i(this,r),m(this,"type","heading"),this.setAttribute("name",String(s));const P=new U.Token(l[0],h,g);P.type="heading-title",P.setAttribute("stage",2);const T=new b.SyntaxToken(l[1],/^[^\S\n]*$/u,"heading-trail",h,g,{});this.append(P,T)}get level(){return Number(this.name)}toString(s){const l=u(this,r,c);return`${l}${this.firstChild.toString()}${l}${this.lastChild.toString()}`}text(){const s=u(this,r,c);return`${s}${this.firstChild.text()}${s}`}getPadding(){return super.getPadding()+this.level}getGaps(s){return s===0?this.level:0}lint(s=this.getAbsoluteIndex()){const l=super.lint(s),h=String(this.firstChild);let g;return this.name==="1"&&(g=(0,$.Y)(this,{start:s},"<h1>"),l.push(g)),(h.startsWith("=")||h.endsWith("="))&&(g!=null||(g=(0,$.Y)(this,{start:s},"")),l.push({...g,message:I.default.msg('unbalanced "=" in a section header')})),this.closest("html-attrs, table-attrs")&&(g!=null||(g=(0,$.Y)(this,{start:s},"")),l.push({...g,message:I.default.msg("section header in a HTML tag")})),l}print(){const s=u(this,r,c);return super.print({pre:s,sep:s})}}r=new WeakSet,c=function(){return"=".repeat(this.level)}},465:(Q,D,t)=>{t.d(D,{R:()=>S});var $=t(959),I=t(541),U=Object.defineProperty,b=(m,x,u)=>x in m?U(m,x,{enumerable:!0,configurable:!0,writable:!0,value:u}):m[x]=u,M=(m,x,u)=>(b(m,typeof x!="symbol"?x+"":x,u),u);class S extends(0,$.a)(I.Token){constructor(){super(...arguments),M(this,"type","hidden")}}},842:(Q,D,t)=>{t.r(D),t.d(D,{ImagemapToken:()=>s});var $=t(169),I=t(891),U=t(541),b=t(826),M=t(39),S=t(524),m=t(944),x=Object.defineProperty,u=(l,h,g)=>h in l?x(l,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):l[h]=g,i=(l,h,g)=>(u(l,typeof h!="symbol"?h+"":h,g),g);class r extends U.Token{constructor(h,g,P,T=I.default.getConfig(),_=[]){super(void 0,T,_),i(this,"type","imagemap-link"),this.append(h,g.length===2?new S.h(...g,T,_):new m.a(...g,T,_),new b.O(P,T,_))}}var c=Object.defineProperty,o=(l,h,g)=>h in l?c(l,h,{enumerable:!0,configurable:!0,writable:!0,value:g}):l[h]=g,d=(l,h,g)=>(o(l,typeof h!="symbol"?h+"":h,g),g);class s extends U.Token{constructor(h,g=I.default.getConfig(),P=[]){if(super(void 0,g,P,{}),d(this,"type","ext-inner"),!h)return;const T=h.split(`
`),_=new Set(g.protocol.split("|")),R=b.O;let B=!0,Y=!1;for(const K of T){const A=K.trim();if(!(Y||!A||A.startsWith("#"))){if(B){const[v,...y]=K.split("|"),G=this.normalizeTitle(v,0,!0);if(G.valid&&G.ns===6){const z=new M._("imagemap",v,y.length>0?y.join("|"):void 0,g,P);super.insertAt(z),B=!1;continue}else Y=!0}else if(K.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(K);continue}else if(K.includes("[")){const v=K.indexOf("["),y=K.slice(v),G=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(y);if(G){if(this.normalizeTitle(G[1],0,!0,!1,!0).valid){super.insertAt(new r(K.slice(0,v),G.slice(1),y.slice(y.indexOf("]]")+2),g,P));continue}}else if(_.has(y.slice(1,y.indexOf(":")+1))||_.has(y.slice(1,y.indexOf("//")+2))){const z=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(y);if(z){super.insertAt(new r(K.slice(0,v),z.slice(1),y.slice(y.indexOf("]")+1),g,P));continue}}}}super.insertAt(new R(K,g,P))}}get image(){return this.childNodes.find(({type:h})=>h==="imagemap-image")}toString(h){return super.toString(h,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(h){return h<this.length-1?1:0}lint(h=this.getAbsoluteIndex()){const g=super.lint(h),P={start:h,...this.getRootNode().posFromIndex(h)};return this.image?g.push(...this.childNodes.filter(T=>{const _=String(T).trim();return T.type==="noinclude"&&_&&!_.startsWith("#")}).map(T=>(0,$.D)(T,P,"invalid link in <imagemap>"))):g.push((0,$.Y)(this,P,"<imagemap> without an image")),g}print(){return super.print({sep:`
`})}}},541:(Q,D,t)=>{t.r(D),t.d(D,{Token:()=>_t});var $=t(467),I=t(891),U=Object.defineProperty,b=(L,f,C)=>f in L?U(L,f,{enumerable:!0,configurable:!0,writable:!0,value:C}):L[f]=C,M=(L,f,C)=>(b(L,typeof f!="symbol"?f+"":f,C),C),S=(L,f,C)=>{if(!f.has(L))throw TypeError("Cannot "+C)},m=(L,f,C)=>(S(L,f,"read from private field"),C?C.call(L):f.get(L)),x=(L,f,C)=>{if(f.has(L))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(L):f.set(L,C)},u=(L,f,C,H)=>(S(L,f,"write to private field"),H?H.call(L,C):f.set(L,C),C),i=(L,f,C)=>(S(L,f,"access private method"),C),r,c,o;class d{constructor(){x(this,c),M(this,"childNodes",[]),x(this,r,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return m(this,r)}get nextSibling(){var f;const C=(f=m(this,r))==null?void 0:f.childNodes;return C&&C[C.indexOf(this)+1]}get previousSibling(){var f;const C=(f=m(this,r))==null?void 0:f.childNodes;return C&&C[C.indexOf(this)-1]}get offsetHeight(){return i(this,c,o).call(this).height}get offsetWidth(){return i(this,c,o).call(this).width}getAttribute(f){return f in this?String(this[f]):void 0}setAttribute(f,C){f==="parentNode"?u(this,r,C):this[f]=C}getRootNode(){let{parentNode:f}=this;for(;f!=null&&f.parentNode;)({parentNode:f}=f);return f!=null?f:this}posFromIndex(f){const C=String(this);if(f>=-C.length&&f<=C.length){const H=C.slice(0,f).split(`
`);return{top:H.length-1,left:H[H.length-1].length}}}getPadding(){return 0}getGaps(f){return 0}getRelativeIndex(f){let C;const H=(k,rt)=>C.slice(0,k).reduce((mt,It,bt)=>mt+String(It).length+rt.getGaps(bt),0)+rt.getPadding();if(f===void 0){const{parentNode:k}=this;return k?({childNodes:C}=k,H(C.indexOf(this),k)):0}return{childNodes:C}=this,H(f,this)}getAbsoluteIndex(){const{parentNode:f}=this;return f?f.getAbsoluteIndex()+this.getRelativeIndex():0}}r=new WeakMap,c=new WeakSet,o=function(){const L=String(this).split(`
`);return{height:L.length,width:L[L.length-1].length}};const s=new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"]);class l extends d{get length(){return this.childNodes.length}text(f){return(0,$.fL)(this.childNodes,f)}normalize(){const{childNodes:f}=this;for(let C=f.length-1;C>=0;C--){const{type:H,data:k}=f[C],rt=f[C-1];H!=="text"||this.getGaps(C-1)||(k===""?f.splice(C,1):(rt==null?void 0:rt.type)==="text"&&(rt.setAttribute("data",rt.data+k),f.splice(C,1)))}}removeAt(f){const{childNodes:C}=this,[H]=C.splice(f,1);return H}insertAt(f,C=this.length){const{childNodes:H}=this;return f.setAttribute("parentNode",this),H.splice(C,0,f),f}closest(f){let{parentNode:C}=this,H;const k=new Set(f.split(",").map(rt=>rt.trim()));for(H=({type:rt})=>k.has(rt);C;){if(H(C))return C;({parentNode:C}=C)}}append(...f){for(const C of f)this.insertAt(C)}replaceChildren(...f){this.childNodes.length=0,this.append(...f)}setText(f,C=0){const H=this.childNodes[C],{data:k}=H;return H.replaceData(f),k}toString(f,C=""){return this.childNodes.map(H=>H.toString()).join(C)}lint(f=this.getAbsoluteIndex()){const{SyntaxToken:C}=t(669);if(this instanceof C||this.constructor.hidden||this.type==="ext-inner"&&s.has(this.name))return[];const H=[];for(let k=0,rt=f+this.getPadding();k<this.length;k++){const mt=this.childNodes[k];H.push(...mt.lint(rt)),rt+=String(mt).length+this.getGaps(k)}return H}print(f={}){var C;return String(this)?`<span class="wpb-${(C=f.class)!=null?C:this.type}">${(0,$.S0)(this.childNodes,f)}</span>`:""}}var h=Object.defineProperty,g=(L,f,C)=>f in L?h(L,f,{enumerable:!0,configurable:!0,writable:!0,value:C}):L[f]=C,P=(L,f,C)=>(g(L,typeof f!="symbol"?f+"":f,C),C),T=(L,f,C)=>{if(!f.has(L))throw TypeError("Cannot "+C)},_=(L,f,C)=>{if(f.has(L))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(L):f.set(L,C)},R=(L,f,C)=>(T(L,f,"access private method"),C),B,Y;const K=/https?:\/\/|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,A=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,v=["html","head","style","title","body","a","audio","img","video","embed","iframe","object","canvas","script","col","colgroup","tbody","tfoot","thead","button","input","label","option","select","textarea"];class y extends d{constructor(f){super(),_(this,B),P(this,"type","text"),P(this,"data",""),this.data=f}toString(){return this.data}text(){return this.data}lint(f=this.getAbsoluteIndex()){const{data:C,parentNode:H,nextSibling:k,previousSibling:rt}=this,mt=H==null?void 0:H.type,It=H==null?void 0:H.name,bt=k==null?void 0:k.type,Vt=rt==null?void 0:rt.type,yt=mt==="free-ext-link"||mt==="ext-link-url"||mt==="image-parameter"&&It==="link"?A:K,Bt=[],{ext:Jt,html:Zt}=this.getRootNode().getAttribute("config");if(C.search(yt)!==-1){yt.lastIndex=0;const Ut=this.getRootNode(),{top:kt,left:jt}=Ut.posFromIndex(f),qt=new Set([Jt,Zt,v].flat(2));for(let Ot=yt.exec(C);Ot;Ot=yt.exec(C)){const[,Ft,te]=Ot;let{0:Dt,index:Pt}=Ot;Ft&&Ft!=="]"&&(Pt+=Ft.length,Dt=Dt.slice(Ft.length));const Nt=f+Pt,Mt=C.slice(0,Pt).split(`
`),Kt=Mt.length+kt-1,Gt=Mt[Mt.length-1],zt=Mt.length===1?jt+Gt.length:Gt.length,{0:ct,length:Wt}=Dt,Ht=Nt+Wt,Yt=String(Ut),wt=Yt[Ht],Lt=Yt[Nt-1],ee=Wt>1&&(ct!=="<"||/[\s/>]/u.test(wt!=null?wt:""))||ct==="{"&&(wt===ct||Lt==="-")||ct==="}"&&(Lt===ct||wt==="-")||ct==="["&&(wt===ct||mt==="ext-link-text"||!C.slice(Pt+1).trim()&&bt==="free-ext-link")||ct==="]"&&(Lt===ct||!C.slice(0,Pt).trim()&&Vt==="free-ext-link")?"error":"warning";(ct!=="h"||Pt>0)&&(ct!=="<"||qt.has(te.toLowerCase()))&&Bt.push({message:I.default.msg('lonely "$1"',ct==="h"?Dt:ct),severity:ee,startIndex:Nt,endIndex:Ht,startLine:Kt,endLine:Kt,startCol:zt,endCol:zt+Wt})}return Bt}return[]}replaceData(f){R(this,B,Y).call(this,f)}}B=new WeakSet,Y=function(L){this.setAttribute("data",L)};var G=Object.defineProperty,z=(L,f,C)=>f in L?G(L,f,{enumerable:!0,configurable:!0,writable:!0,value:C}):L[f]=C,F=(L,f,C)=>(z(L,typeof f!="symbol"?f+"":f,C),C),E=(L,f,C)=>{if(!f.has(L))throw TypeError("Cannot "+C)},a=(L,f,C)=>(E(L,f,"read from private field"),C?C.call(L):f.get(L)),n=(L,f,C)=>{if(f.has(L))throw TypeError("Cannot add the same private member more than once");f instanceof WeakSet?f.add(L):f.set(L,C)},e=(L,f,C,H)=>(E(L,f,"write to private field"),H?H.call(L,C):f.set(L,C),C),p=(L,f,C,H)=>({set _(k){e(L,f,k,C)},get _(){return a(L,f,H)}}),w=(L,f,C)=>(E(L,f,"access private method"),C),N,O,W,V,X,J,j,tt,et,q,at,nt,dt,Z,st,it,lt,ut,ot,ft,At,Ct,$t,vt,pt,gt,xt,St;const{MAX_STAGE:Tt}=I.default,ht=class Xt extends l{constructor(f,C=I.default.getConfig(),H=[],k){super(),n(this,X),n(this,j),n(this,et),n(this,at),n(this,dt),n(this,st),n(this,lt),n(this,ot),n(this,At),n(this,$t),n(this,pt),n(this,xt),F(this,"type","root"),n(this,N,0),n(this,O,void 0),n(this,W,void 0),n(this,V,void 0),typeof f=="string"&&this.insertAt(f),e(this,O,C),e(this,W,H),H.push(this)}parseOnce(f=a(this,N),C=!1){if(f<a(this,N)||!this.isPlain()||this.length===0)return this;switch(f){case 0:this.type==="root"&&a(this,W).shift(),e(this,V,C),w(this,j,tt).call(this,C);break;case 1:w(this,et,q).call(this);break;case 2:w(this,at,nt).call(this);break;case 3:w(this,dt,Z).call(this);break;case 4:w(this,st,it).call(this);break;case 5:w(this,lt,ut).call(this);break;case 6:w(this,ot,ft).call(this);break;case 7:w(this,At,Ct).call(this);break;case 8:w(this,$t,vt).call(this);break;case 9:w(this,pt,gt).call(this);break;case 10:w(this,xt,St).call(this)}if(this.type==="root")for(const H of a(this,W))H.parseOnce(f,C);return p(this,N)._++,this}buildFromStr(f,C){const H=f.split(/[\0\x7F]/u).map((k,rt)=>{if(rt%2===0)return new y(k);if(isNaN(k[k.lengtht-1]))return a(this,W)[Number(k.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${k}`)});return C==="string"?H.map(String).join(""):C==="text"?(0,$.fL)(H):H}afterBuild(){if(this.type==="root")for(const f of a(this,W))f.afterBuild()}parse(f=Tt,C=!1){for(;a(this,N)<f;)this.parseOnce(a(this,N),C);return f&&(w(this,X,J).call(this),this.afterBuild()),this}getAttribute(f){switch(f){case"config":return JSON.parse(JSON.stringify(a(this,O)));case"accum":return a(this,W);case"include":{if(a(this,V)!==void 0)return a(this,V);const C=this.getRootNode();return C!==this?C.getAttribute("include"):!1}default:return super.getAttribute(f)}}setAttribute(f,C){switch(f){case"stage":a(this,N)===0&&this.type==="root"&&a(this,W).shift(),e(this,N,C);break;default:super.setAttribute(f,C)}}isPlain(){return this.constructor===Xt}insertAt(f,C=this.length){const H=typeof f=="string"?new y(f):f;return super.insertAt(H,C),H.type==="root"&&(H.type="plain"),H}normalizeTitle(f,C=0,H=!1,k=!1,rt=!1){return I.default.normalizeTitle(f,C,a(this,V),a(this,O),H,k,rt)}};N=new WeakMap,O=new WeakMap,W=new WeakMap,V=new WeakMap,X=new WeakSet,J=function(){var L;e(this,N,Tt);const{length:f,firstChild:C}=this,H=String(C);if(f===1&&C.type==="text"&&H.includes("\0")&&(this.replaceChildren(...this.buildFromStr(H)),this.normalize(),this.type==="root"))for(const k of a(this,W))w(L=k,X,J).call(L)},j=new WeakSet,tt=function(L){const{parseCommentAndExt:f}=t(551);this.setText(f(String(this.firstChild),a(this,O),a(this,W),L))},et=new WeakSet,q=function(){const{parseBraces:L}=t(313),f=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,C=L(f,a(this,O),a(this,W));this.setText(this.type==="root"?C:C.slice(1))},at=new WeakSet,nt=function(){var L;if((L=a(this,O).excludes)!=null&&L.includes("html"))return;const{parseHtml:f}=t(980);this.setText(f(String(this.firstChild),a(this,O),a(this,W)))},dt=new WeakSet,Z=function(){var L;if((L=a(this,O).excludes)!=null&&L.includes("table"))return;const{parseTable:f}=t(508);this.setText(f(this,a(this,O),a(this,W)))},st=new WeakSet,it=function(){var L;if((L=a(this,O).excludes)!=null&&L.includes("hr"))return;const{parseHrAndDoubleUnderscore:f}=t(362);this.setText(f(this,a(this,O),a(this,W)))},lt=new WeakSet,ut=function(){const{parseLinks:L}=t(106);this.setText(L(String(this.firstChild),a(this,O),a(this,W)))},ot=new WeakSet,ft=function(){var L;if((L=a(this,O).excludes)!=null&&L.includes("quote"))return;const{parseQuotes:f}=t(704),C=String(this.firstChild).split(`
`);for(let H=0;H<C.length;H++)C[H]=f(C[H],a(this,O),a(this,W));this.setText(C.join(`
`))},At=new WeakSet,Ct=function(){var L;if((L=a(this,O).excludes)!=null&&L.includes("extLink"))return;const{parseExternalLinks:f}=t(418);this.setText(f(String(this.firstChild),a(this,O),a(this,W)))},$t=new WeakSet,vt=function(){var L;if((L=a(this,O).excludes)!=null&&L.includes("magicLink"))return;const{parseMagicLinks:f}=t(311);this.setText(f(String(this.firstChild),a(this,O),a(this,W)))},pt=new WeakSet,gt=function(){var L;if((L=a(this,O).excludes)!=null&&L.includes("list"))return;const{parseList:f}=t(904),C=String(this.firstChild).split(`
`);let H=this.type==="root"||this.type==="ext-inner"&&this.name==="poem"?0:1;for(;H<C.length;H++)C[H]=f(C[H],a(this,O),a(this,W));this.setText(C.join(`
`))},xt=new WeakSet,St=function(){if(a(this,O).variants.length>0){const{parseConverter:L}=t(295);this.setText(L(String(this.firstChild),a(this,O),a(this,W)))}};let _t=ht},299:(Q,D,t)=>{t.d(D,{o:()=>d});var $=t(169),I=t(891),U=t(541),b=t(34),M=(s,l,h)=>{if(!l.has(s))throw TypeError("Cannot "+h)},S=(s,l,h)=>(M(s,l,"read from private field"),h?h.call(s):l.get(s)),m=(s,l,h)=>{if(l.has(s))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(s):l.set(s,h)},x=(s,l,h,g)=>(M(s,l,"write to private field"),g?g.call(s,h):l.set(s,h),h),u=(s,l,h)=>(M(s,l,"access private method"),h),i,r,c,o;class d extends U.Token{constructor(l,h,g=I.default.getConfig(),P=[],T="|"){if(super(void 0,g,P,{}),m(this,c),m(this,i,!0),m(this,r,void 0),this.insertAt(new b.D(l,"link-target",g,P,{})),h!==void 0){const _=new U.Token(h,g,P,{});_.type="link-text",_.setAttribute("stage",I.default.MAX_STAGE-1),this.insertAt(_)}x(this,r,T)}afterBuild(){S(this,r).includes("\0")&&x(this,r,this.buildFromStr(S(this,r),"string"))}setAttribute(l,h){l==="bracket"?x(this,i,!!h):super.setAttribute(l,h)}toString(l){const h=super.toString(l,S(this,r));return S(this,i)?`[[${h}]]`:h}text(){const l=super.text("|");return S(this,i)?`[[${l}]]`:l}getPadding(){return 2}getGaps(l){return l>=this.length-1?0:l===0?S(this,r).length:1}lint(l=this.getAbsoluteIndex()){const h=super.lint(l),{childNodes:[g,P],type:T}=this,{encoded:_,fragment:R}=u(this,c,o).call(this);let B;return T==="link"&&g.childNodes.some(({type:Y})=>Y==="template")&&(B={start:l,...this.getRootNode().posFromIndex(l)},h.push((0,$.D)(g,B,"template in an internal link target","warning"))),_&&(B!=null||(B={start:l,...this.getRootNode().posFromIndex(l)}),h.push((0,$.D)(g,B,"unnecessary URL encoding in an internal link"))),T==="link"&&(P!=null&&P.childNodes.some(({type:Y,data:K})=>Y==="text"&&K.includes("|")))?(B!=null||(B={start:l,...this.getRootNode().posFromIndex(l)}),h.push((0,$.D)(P,B,'additional "|" in the link text',"warning"))):T!=="link"&&R!==void 0&&(B!=null||(B={start:l,...this.getRootNode().posFromIndex(l)}),h.push((0,$.D)(g,B,"useless fragment"))),h}print(){return super.print(S(this,i)?{pre:"[[",post:"]]",sep:S(this,r)}:{sep:S(this,r)})}}i=new WeakMap,r=new WeakMap,c=new WeakSet,o=function(){return this.normalizeTitle(this.firstChild.text(),0,!1,!0,!0)}},533:(Q,D,t)=>{t.d(D,{q:()=>G});var $=t(467),I=t(169),U=t(891),b=t(299),M=t(541),S=Object.defineProperty,m=(z,F,E)=>F in z?S(z,F,{enumerable:!0,configurable:!0,writable:!0,value:E}):z[F]=E,x=(z,F,E)=>(m(z,typeof F!="symbol"?F+"":F,E),E),u=(z,F,E)=>{if(!F.has(z))throw TypeError("Cannot "+E)},i=(z,F,E)=>(u(z,F,"read from private field"),E?E.call(z):F.get(z)),r=(z,F,E)=>{if(F.has(z))throw TypeError("Cannot add the same private member more than once");F instanceof WeakSet?F.add(z):F.set(z,E)},c=(z,F,E,a)=>(u(z,F,"write to private field"),a?a.call(z,E):F.set(z,E),E),o;const d=new Set(["alt","link","lang","page","caption"]);function s(z,F,E=U.default.getConfig(),a=!1){F=F.trim();let n=F.replace(/\0\d+t\x7F/gu,"").trim();switch(z){case"width":return!n||/^(?:\d+x?|\d*x\d+)$/u.test(n);case"link":{if(!n||new RegExp(`^(?:(?:${E.protocol}|//)${$._X}|\0\\d+m\x7F)${$.Qk}$`,"iu").test(n))return F;n.startsWith("[[")&&n.endsWith("]]")&&(n=n.slice(2,-2));const p=U.default.normalizeTitle(n,0,!1,E,a,!0,!0);return p.valid&&p}case"lang":return!n||E.variants.includes(n);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(n)}}class l extends M.Token{constructor(F,E=U.default.getConfig(),a=[]){var n=(...O)=>{super(...O),x(this,"type","image-parameter"),r(this,o,"")},e;let p;const w=Object.entries(E.img).map(([O,W])=>[O,W,new RegExp(`^(\\s*)${O.replace("$1","(.*)")}(\\s*)$`,"u")]),N=w.find(([,O,W])=>(p=W.exec(F),p&&(p.length!==4||s(O,p[2],E,!0)!==!1)));if(N&&p){p.length===3?(n(void 0,E,a),c(this,o,F)):(n(p[2],E,a,{}),c(this,o,`${p[1]}${N[0]}${p[3]}`)),this.setAttribute("name",N[1]);return}n(F,{...E,excludes:[...(e=E.excludes)!=null?e:[],"list"]},a),this.setAttribute("name","caption"),this.setAttribute("stage",7)}get link(){return this.name==="link"?s("link",super.text(),this.getAttribute("config")):void 0}afterBuild(){var F;((F=this.parentNode)==null?void 0:F.type)==="gallery-image"&&!d.has(this.name)&&this.setAttribute("name","invalid")}isPlain(){return this.name==="caption"}toString(F){return i(this,o)?i(this,o).replace("$1",super.toString(F)):super.toString(F)}text(){return i(this,o)?i(this,o).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,i(this,o).indexOf("$1"))}lint(F=this.getAbsoluteIndex()){const E=super.lint(F),{link:a,name:n}=this;return n==="invalid"?E.push((0,I.Y)(this,{start:F},"invalid gallery image parameter")):typeof a=="object"&&a.encoded&&E.push((0,I.Y)(this,{start:F},"unnecessary URL encoding in an internal link")),E}print(){return i(this,o)?`<span class="wpb-image-parameter">${i(this,o).replace("$1",`<span class="wpb-image-caption">${(0,$.S0)(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}}o=new WeakMap;var h=Object.defineProperty,g=(z,F,E)=>F in z?h(z,F,{enumerable:!0,configurable:!0,writable:!0,value:E}):z[F]=E,P=(z,F,E)=>(g(z,typeof F!="symbol"?F+"":F,E),E),T=(z,F,E)=>{if(!F.has(z))throw TypeError("Cannot "+E)},_=(z,F,E)=>{if(F.has(z))throw TypeError("Cannot add the same private member more than once");F instanceof WeakSet?F.add(z):F.set(z,E)},R=(z,F,E)=>(T(z,F,"access private method"),E),B,Y;const K=new Set(["manualthumb","frameless","framed","thumbnail"]),A=new Set(["left","right","center","none"]),v=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]),y=(z,F,E,a)=>{if(a===void 0)return[];const n=new RegExp(`${[z,F,E].map($.hr).join("|")}`,"gu"),e=[];let p=n.exec(a),w=0,N=0;for(;p;){const{0:O,index:W}=p;O!==E?w+=O===z?1:-1:w===0&&(e.push(a.slice(N,W)),{lastIndex:N}=n),p=n.exec(a)}return e.push(a.slice(N)),e};class G extends b.o{constructor(F,E,a=U.default.getConfig(),n=[],e="|"){super(F,void 0,a,n,e),_(this,B),P(this,"type","file"),this.append(...y("-{","}-","|",E).map(p=>new l(p,a,n)))}lint(F=this.getAbsoluteIndex()){const E=super.lint(F),a=this.getAllArgs().filter(({childNodes:W})=>{const V=W.filter(X=>X.text().trim());return V.length!==1||V[0].type!=="arg"}),n=[...new Set(a.map(({name:W})=>W))].filter(W=>W!=="invalid"),e=n.filter(W=>K.has(W)),p=n.filter(W=>A.has(W)),w=n.filter(W=>v.has(W));if(a.length===n.length&&e.length<2&&p.length<2&&w.length<2)return E;const N={start:F,...this.getRootNode().posFromIndex(F)},O=(W,V)=>X=>(0,I.D)(X,N,U.default.msg(`${W} image $1 parameter`,V));for(const W of n){let V=a.filter(({name:X})=>X===W);W==="caption"&&(V=[...V.slice(0,-1).filter(X=>X.text()),...V.slice(-1)]),V.length>1&&E.push(...V.map(O("duplicated",W)))}return e.length>1&&E.push(...a.filter(({name:W})=>K.has(W)).map(O("conflicting","frame"))),p.length>1&&E.push(...a.filter(({name:W})=>A.has(W)).map(O("conflicting","horizontal-alignment"))),w.length>1&&E.push(...a.filter(({name:W})=>v.has(W)).map(O("conflicting","vertical-alignment"))),E}getAllArgs(){return this.childNodes.slice(1)}getArgs(F){return this.getAllArgs().filter(({name:E})=>F===E)}getFrameArgs(){return R(this,B,Y).call(this,K,"\u6846\u67B6")}getHorizAlignArgs(){return R(this,B,Y).call(this,A,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return R(this,B,Y).call(this,v,"\u5782\u76F4\u5BF9\u9F50")}}B=new WeakSet,Y=function(z,F){return this.getAllArgs().filter(({name:a})=>z.has(a))}},39:(Q,D,t)=>{t.d(D,{_:()=>i});var $=t(169),I=t(891),U=t(541),b=t(533),M=(r,c,o)=>{if(!c.has(r))throw TypeError("Cannot "+o)},S=(r,c,o)=>{if(c.has(r))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(r):c.set(r,o)},m=(r,c,o)=>(M(r,c,"access private method"),o),x,u;class i extends b.q{constructor(c,o,d,s=I.default.getConfig(),l=[]){let h;if(d!==void 0){h=new U.Token(d,s,l),h.type="plain";for(let g=1;g<I.default.MAX_STAGE;g++)h.parseOnce();l.splice(l.indexOf(h),1)}super(o,h==null?void 0:h.toString(),s,l),S(this,x),this.setAttribute("bracket",!1),this.type=`${c}-image`}getPadding(){return 0}lint(c=this.getAbsoluteIndex()){const o=super.lint(c),{ns:d}=m(this,x,u).call(this);return d!==6&&o.push((0,$.Y)(this,{start:c},"invalid gallery image")),o}}x=new WeakSet,u=function(){const r=this.type==="imagemap-image";return this.normalizeTitle(String(this.firstChild),r?0:6,!0,!r)}},524:(Q,D,t)=>{t.d(D,{h:()=>M});var $=t(299),I=Object.defineProperty,U=(S,m,x)=>m in S?I(S,m,{enumerable:!0,configurable:!0,writable:!0,value:x}):S[m]=x,b=(S,m,x)=>(U(S,typeof m!="symbol"?m+"":m,x),x);class M extends $.o{constructor(){super(...arguments),b(this,"type","link")}}},686:(Q,D,t)=>{t.d(D,{k:()=>b});var $=t(169),I=t(891),U=t(541);class b extends U.Token{constructor(S,m=!1,x=I.default.getConfig(),u=[]){super(S,x,u,{}),this.type=m?"ext-link-url":"free-ext-link"}lint(S=this.getAbsoluteIndex()){const m=super.lint(S),x=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`,u=new RegExp(x,"u"),i=new RegExp(x,"gu");let r;for(const c of this.childNodes){const{type:o,data:d}=c;if(o!=="text"||!u.test(d))continue;r!=null||(r={start:S,...this.getRootNode().posFromIndex(S)});const s=(0,$.D)(c,r,"","warning");i.lastIndex=0;for(let l=i.exec(d);l;l=i.exec(d)){const{index:h,0:g}=l,P=d.slice(0,h).split(`
`),{length:T}=P,{length:_}=P[P.length-1],R=S+h,B=s.startLine+T-1,Y=T===1?s.startCol+_:_;m.push({...s,message:I.default.msg("$1 in URL",g.startsWith("|")?'"|"':I.default.msg("full-width punctuation")),startIndex:R,endIndex:R+g.length,startLine:B,endLine:B,startCol:Y,endCol:Y+g.length})}}return m}}},57:(Q,D,t)=>{t.r(D),t.d(D,{NestedToken:()=>i});var $=t(169),I=t(891),U=t(541),b=t(895),M=t(826),S=t(976),m=Object.defineProperty,x=(r,c,o)=>c in r?m(r,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[c]=o,u=(r,c,o)=>(x(r,typeof c!="symbol"?c+"":c,o),o);class i extends U.Token{constructor(c,o,d,s=I.default.getConfig(),l=[]){var h;c=(h=c==null?void 0:c.replace(o,(g,P,T,_,R)=>{const B=`\0${l.length+1}${P?"e":"c"}\x7F`;if(P)new b.$(P,T,_,R,s,l);else{const Y=g.endsWith("-->");new S.T(g.slice(4,Y?-3:void 0),Y,s,l)}return B}))==null?void 0:h.replace(/(^|\0\d+[ce]\x7F)([^\0]+)(?=$|\0\d+[ce]\x7F)/gu,(g,P,T)=>(new M.O(T,s,l),`${P}\0${l.length}c\x7F`)),super(c,s,l,{}),u(this,"type","ext-inner")}lint(c=this.getAbsoluteIndex()){let o;return[...super.lint(c),...this.childNodes.filter(d=>{if(d.type==="ext"||d.type==="comment")return!1;const s=String(d).trim();return s&&!/^<!--.*-->$/su.test(s)}).map(d=>(o!=null||(o={start:c,...this.getRootNode().posFromIndex(c)}),(0,$.D)(d,o,I.default.msg("invalid content in <$1>",this.name))))]}}},439:(Q,D,t)=>{t.d(D,{h:()=>U});var $=t(891),I=t(541);class U extends I.Token{get innerText(){return this.firstChild.data}constructor(M="",S=$.default.getConfig(),m=[]){super(M,S,m)}}},976:(Q,D,t)=>{t.d(D,{T:()=>x});var $=t(169),I=t(959),U=t(891),b=t(439),M=Object.defineProperty,S=(u,i,r)=>i in u?M(u,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[i]=r,m=(u,i,r)=>(S(u,typeof i!="symbol"?i+"":i,r),r);class x extends(0,I.a)(b.h){constructor(i,r=!0,c=U.default.getConfig(),o=[]){super(i,c,o),m(this,"type","comment"),m(this,"closed"),this.closed=r}getPadding(){return 4}lint(i=this.getAbsoluteIndex()){return this.closed?[]:[(0,$.Y)(this,{start:i},"unclosed HTML comment")]}toString(i){return`<!--${this.innerText}${this.closed?"-->":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}}},461:(Q,D,t)=>{t.d(D,{k:()=>M});var $=t(933),I=Object.defineProperty,U=(S,m,x)=>m in S?I(S,m,{enumerable:!0,configurable:!0,writable:!0,value:x}):S[m]=x,b=(S,m,x)=>(U(S,typeof m!="symbol"?m+"":m,x),x);class M extends $.T{constructor(){super(...arguments),b(this,"type","dd")}}},491:(Q,D,t)=>{t.r(D),t.d(D,{NowikiToken:()=>m});var $=t(169),I=t(891),U=t(439),b=Object.defineProperty,M=(x,u,i)=>u in x?b(x,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):x[u]=i,S=(x,u,i)=>(M(x,typeof u!="symbol"?u+"":u,i),i);class m extends U.h{constructor(){super(...arguments),S(this,"type","ext-inner")}lint(u=this.getAbsoluteIndex()){const{name:i,firstChild:{data:r}}=this;return(i==="templatestyles"||i==="section")&&r?[(0,$.Y)(this,{start:u},I.default.msg("nothing should be in <$1>",i))]:super.lint(u)}}},933:(Q,D,t)=>{t.d(D,{T:()=>I});var $=t(439);class I extends $.h{}},826:(Q,D,t)=>{t.d(D,{O:()=>S});var $=t(959),I=t(439),U=Object.defineProperty,b=(m,x,u)=>x in m?U(m,x,{enumerable:!0,configurable:!0,writable:!0,value:u}):m[x]=u,M=(m,x,u)=>(b(m,typeof x!="symbol"?x+"":x,u),u);class S extends(0,$.a)(I.h){constructor(){super(...arguments),M(this,"type","noinclude")}}},160:(Q,D,t)=>{t.r(D),t.d(D,{ParamTagToken:()=>x});var $=t(169),I=t(891),U=t(541),b=t(34),M=Object.defineProperty,S=(u,i,r)=>i in u?M(u,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):u[i]=r,m=(u,i,r)=>(S(u,typeof i!="symbol"?i+"":i,r),r);class x extends U.Token{constructor(i,r=I.default.getConfig(),c=[],o={}){if(super(void 0,r,c,{}),m(this,"type","ext-inner"),i){const d=b.D;this.append(...i.split(`
`).map(s=>new d(s,"param-line",r,c,{})))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`)}getGaps(i){return i<this.length-1?1:0}lint(i=this.getAbsoluteIndex()){let r;return this.childNodes.filter(c=>{const{childNodes:o}=c,d=o.findIndex(({type:l})=>l!=="text"),s=(d>=0?o.slice(0,d).map(String).join(""):String(c)).trim();return s&&!(d>=0?/^[a-z]+(?:\[\])?\s*(?:=|$)/iu:/^[a-z]+(?:\[\])?\s*=/iu).test(s)}).map(c=>(r!=null||(r={start:i,...this.getRootNode().posFromIndex(i)}),(0,$.D)(c,r,I.default.msg("invalid parameter of $1",this.name))))}print(){return super.print({sep:`
`})}}},504:(Q,D,t)=>{t.r(D),t.d(D,{InputboxToken:()=>b});var $=t(313),I=t(891),U=t(160);class b extends U.ParamTagToken{constructor(S,m=I.default.getConfig(),x=[]){const u=Symbol("InputboxToken");x.push(u),S&&(S=(0,$.parseBraces)(S,m,x)),x.splice(x.indexOf(u),1),super(S,m,x,{})}}},435:(Q,D,t)=>{t.r(D),t.d(D,{PreToken:()=>m});var $=t(891),I=t(541),U=t(826),b=Object.defineProperty,M=(x,u,i)=>u in x?b(x,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):x[u]=i,S=(x,u,i)=>(M(x,typeof u!="symbol"?u+"":u,i),i);class m extends I.Token{constructor(u,i=$.default.getConfig(),r=[]){if(u){const c="<nowiki>",o="</nowiki>",{length:d}=c;let s=u.indexOf(c),l=u.indexOf(o,s+d),h="";for(;s!==-1&&l!==-1;)new U.O(c,i,r),new U.O(o,i,r),h+=`${u.slice(0,s)}\0${r.length-1}c\x7F${u.slice(s+d,l)}\0${r.length}c\x7F`,u=u.slice(l+d+1),s=u.indexOf(c),l=u.indexOf(o,s+d);u=`${h}${u}`}super(u,i,r,{}),S(this,"type","ext-inner"),this.setAttribute("stage",$.default.MAX_STAGE-1)}isPlain(){return!0}}},669:(Q,D,t)=>{t.r(D),t.d(D,{SyntaxToken:()=>U});var $=t(891),I=t(541);class U extends I.Token{constructor(M,S,m="plain",x=$.default.getConfig(),u=[],i){super(M,x,u,i),this.type=m}}},895:(Q,D,t)=>{t.d(D,{$:()=>i});var $=t(169),I=t(891),U=t(541),b=t(415),M=t(83),S=Object.defineProperty,m=(r,c,o)=>c in r?S(r,c,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[c]=o,x=(r,c,o)=>(m(r,typeof c!="symbol"?c+"":c,o),o);const u=(r,c)=>{const o=new Set(r);return o.delete(c),[...o]};class i extends b.m{constructor(c,o,d,s,l=I.default.getConfig(),h=[]){var g;const P=c.toLowerCase(),T=new M.x(!o||/^\s/u.test(o)?o:` ${o}`,"ext-attrs",P,l,h),_={...l,ext:u(l.ext,P),excludes:[...(g=l.excludes)!=null?g:[]]};let R;switch(_.inExt=!0,P){case"tab":_.ext=u(_.ext,"tabs");case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":P==="poem"&&_.excludes.push("heading"),R=new U.Token(d,_,h);break;case"pre":{const{PreToken:B}=t(435);R=new B(d,_,h);break}case"dynamicpagelist":{const{ParamTagToken:B}=t(160);R=new B(d,_,h);break}case"inputbox":{_.excludes.push("heading");const{InputboxToken:B}=t(504);R=new B(d,_,h);break}case"references":{const{NestedToken:B}=t(57);R=new B(d,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],_,h);break}case"choose":{const{NestedToken:B}=t(57);R=new B(d,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],_,h);break}case"combobox":{const{NestedToken:B}=t(57);R=new B(d,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],_,h);break}case"gallery":{const{GalleryToken:B}=t(420);R=new B(d,_,h);break}case"imagemap":{const{ImagemapToken:B}=t(842);R=new B(d,_,h);break}default:{const{NowikiToken:B}=t(491);R=new B(d,_)}}R.setAttribute("name",P),R.type="ext-inner",super(c,T,R,s,l,h),x(this,"type","ext")}lint(c=this.getAbsoluteIndex()){const o=super.lint(c);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const d=this.getRootNode(),s={start:c,...d.posFromIndex(c)};o.push((0,$.Y)(this,s,"extension tag in HTML tag attributes"))}return o}}},415:(Q,D,t)=>{t.d(D,{m:()=>i});var $=t(891),I=t(541),U=(r,c,o)=>{if(!c.has(r))throw TypeError("Cannot "+o)},b=(r,c,o)=>(U(r,c,"read from private field"),o?o.call(r):c.get(r)),M=(r,c,o)=>{if(c.has(r))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(r):c.set(r,o)},S=(r,c,o,d)=>(U(r,c,"write to private field"),d?d.call(r,o):c.set(r,o),o),m,x,u;class i extends I.Token{constructor(c,o,d,s,l=$.default.getConfig(),h=[]){super(void 0,l),M(this,m,void 0),M(this,x,void 0),M(this,u,void 0),this.setAttribute("name",c.toLowerCase()),S(this,u,[c,s||c]),S(this,m,s===void 0),S(this,x,s!==""),this.append(o,d);const g=typeof o=="string"?-1:h.indexOf(o);h.splice(g===-1?1/0:g,0,this)}get closed(){return b(this,x)}toString(c){const{firstChild:o,lastChild:d}=this,[s,l]=b(this,u);return b(this,m)?`<${s}${o.toString(c)}/>`:`<${s}${o.toString(c)}>${d.toString(c)}${this.closed?`</${l}>`:""}`}text(){const[c,o]=b(this,u);return b(this,m)?`<${c}${this.firstChild.text()}/>`:`<${c}${super.text(">")}${this.closed?`</${o}>`:""}`}getPadding(){return b(this,u)[0].length+1}getGaps(c){return 1}print(){const[c,o]=b(this,u);return super.print(b(this,m)?{pre:`&lt;${c}`,post:"/&gt;"}:{pre:`&lt;${c}`,sep:"&gt;",post:this.closed?`&lt;/${o}&gt;`:""})}}m=new WeakMap,x=new WeakMap,u=new WeakMap},169:(Q,D,t)=>{t.d(D,{D:()=>I,Y:()=>U});var $=t(891);const I=(b,M,S,m="error")=>{const x=b.getRelativeIndex(),{offsetHeight:u,offsetWidth:i,parentNode:r}=b,{top:c,left:o}=r.posFromIndex(x),{start:d}=M,{top:s,left:l}="top"in M?M:b.getRootNode().posFromIndex(d),h=String(b),g=d+x,P=s+c,T=c?o:l+o;return{message:$.default.msg(S),severity:m,startIndex:g,endIndex:g+h.length,startLine:P,endLine:P+u-1,startCol:T,endCol:u===1?T+i:i}},U=(b,M,S,m="error")=>{const{start:x}=M,{offsetHeight:u,offsetWidth:i}=b,r=String(b),{top:c,left:o}="top"in M?M:b.getRootNode().posFromIndex(x);return{message:$.default.msg(S),severity:m,startIndex:x,endIndex:x+r.length,startLine:c,endLine:c+u-1,startCol:o,endCol:u===1?o+i:i}}},467:(Q,D,t)=>{t.d(D,{PN:()=>U,Qk:()=>I,S0:()=>x,_X:()=>$,fL:()=>M,hr:()=>b,jq:()=>m,m9:()=>S});const $='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])',I='(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',U=u=>u.replace(/\0\d+c\x7F/gu,""),b=u=>u.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),M=(u,i="")=>u.map(r=>typeof r=="string"?r:r.text()).join(i),S=u=>u.replace(/&#(\d+|x[\da-f]+);/giu,(i,r)=>String.fromCodePoint(+`${r[0].toLowerCase()==="x"?"0":""}${r}`)),m=u=>u.replace(/\n/gu,"\\n"),x=(u,i={})=>{const{pre:r="",post:c="",sep:o=""}=i,d={"&":"amp","<":"lt",">":"gt"};return`${r}${u.map(s=>s.type==="text"?s.data.replace(/[&<>]/gu,l=>`&${d[l]};`):s.print()).join(o)}${c}`}},166:Q=>{Q.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"6":"File","10":"Template"},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#regex":"regex","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":[]}')}},Rt={};function Et(Q){var D=Rt[Q];if(D!==void 0)return D.exports;var t=Rt[Q]={exports:{}};return Qt[Q](t,t.exports,Et),t.exports}Et.d=(Q,D)=>{for(var t in D)Et.o(D,t)&&!Et.o(Q,t)&&Object.defineProperty(Q,t,{enumerable:!0,get:D[t]})},Et.o=(Q,D)=>Object.prototype.hasOwnProperty.call(Q,D),Et.r=Q=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var ne=Et(891)})();})();
