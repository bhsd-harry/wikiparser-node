(()=>{"use strict";var t={9823:t=>{t.exports={ext:["nowiki","pre","gallery","indicator","poem","ref","references","categorytree","charinsert","choose","imagemap","inputbox","templatestyles","dynamicpagelist","poll","modernsoundmanager","flashmp3","sm2","score","tab","tabs","combobox","combooption"],html:[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],namespaces:{"-2":"Media","-1":"Special",0:"",1:"Talk",2:"User",3:"User talk",4:"Project",5:"Project talk",6:"File",7:"File talk",8:"MediaWiki",9:"MediaWiki talk",10:"Template",11:"Template talk",12:"Help",13:"Help talk",14:"Category",15:"Category talk",274:"Widget",275:"Widget talk",828:"Module",829:"Module talk"},nsid:{"":0,media:-2,媒体:-2,媒体文件:-2,媒體:-2,メディア:-2,special:-1,特殊:-1,特別:-1,talk:1,对话:1,對話:1,讨论:1,討論:1,トーク:1,ノート:1,user:2,u:2,使用者:2,用戶:2,用户:2,利用者:2,"user talk":3,使用者討論:3,用戶對話:3,用戶討論:3,用户对话:3,用户讨论:3,"利用者‐会話":3,"利用者・トーク":3,llwiki:4,mgp:4,moegirlpedia:4,萌娘百科:4,萌えっ娘百科事典:4,project:4,"llwiki talk":5,llwiki讨论:5,llwiki討論:5,"萌娘百科 talk":5,萌娘百科讨论:5,萌娘百科討論:5,"moegirlpedia talk":5,"萌えっ娘百科事典‐ノート":5,"萌えっ娘百科事典・トーク":5,"project talk":5,file:6,image:6,图像:6,圖像:6,文件:6,档案:6,檔案:6,ファイル:6,画像:6,"file talk":7,"image talk":7,图像对话:7,图像讨论:7,圖像對話:7,圖像討論:7,文件对话:7,文件讨论:7,文件對話:7,文件討論:7,档案对话:7,档案讨论:7,檔案對話:7,檔案討論:7,"ファイル‐ノート":7,"ファイル・トーク":7,"画像‐ノート":7,mediawiki:8,"mediawiki talk":9,mediawiki讨论:9,mediawiki討論:9,"mediawiki‐ノート":9,"mediawiki・トーク":9,template:10,t:10,样板:10,模板:10,樣板:10,テンプレート:10,"template talk":11,样板对话:11,样板讨论:11,模板对话:11,模板讨论:11,模板對話:11,模板討論:11,樣板對話:11,樣板討論:11,"template‐ノート":11,"テンプレート・トーク":11,h:12,help:12,使用說明:12,帮助:12,幫助:12,ヘルプ:12,"help talk":13,使用說明討論:13,帮助对话:13,帮助讨论:13,幫助對話:13,幫助討論:13,"help‐ノート":13,"ヘルプ・トーク":13,category:14,cat:14,分类:14,分類:14,カテゴリ:14,"category talk":15,分类对话:15,分类讨论:15,分類對話:15,分類討論:15,"category‐ノート":15,"カテゴリ・トーク":15,widget:274,"widget talk":275,module:828,模块:828,模組:828,モジュール:828,"module talk":829,模块讨论:829,模組討論:829,"モジュール・トーク":829},parserFunction:[["名称空间","ns","名称空间e","nse","url编码","urlencode","小写首字","lcfirst","大写首字","ucfirst","小写","lc","大写","uc","本地url","localurl","本地urle","localurle","完整url","fullurl","完整url等同","fullurle","规范url","canonicalurl","规范url等同","canonicalurle","格式化数字","formatnum","语法","grammar","性别","gender","复数","plural","bidi","#语言","#language","左填充","padleft","右填充","padright","锚编码","anchorencode","文件路径","filepath","页面id","pageid","界面","int","#特殊","#special","#特殊等同","#speciale","#标记","#tag","#格式化日期","#日期格式化","#formatdate","#dateformat","#invoke","#while","#dowhile","#loop","#forargs","#fornumargs","#非空式","#若","#如果","#if","#相同式","#匹配式","#若相等","#如果相等","#ifeq","#多选式","#多条件式","#双射式","#开关","#转换","#switch","#存在式","#若有","#如有","#ifexist","#若表达式","#ifexpr","#错误式","#如果错误","#iferror","#时间","#time","#时间l","#timel","#计算式","#表达式","#expr","#rel2abs","#标题组成部分","#titleparts","#categorytree","#url解码","#urldecode","#choose","#调用","#var","#varexists","#var_final","#vardefine","#vardefineecho","#小工具","#widget","条目路径","articlepath","服务器","server","服务器名","servername","脚本路径","scriptpath","样式路径","stylepath","msgnw","#related","#cscore","#regex","#regex_var","#regexquote","#regexall","#长度","#len","#位置","#终端","#pos","#最近位置","#反终端","#rpos","#截取","#pf子","#sub","#计数","#count","#替换","#取代","#replace","#爆炸","#炸开","#粉碎","#explode","#tab"],["页面数","NUMBEROFPAGES","用户数","NUMBEROFUSERS","活跃用户数","NUMBEROFACTIVEUSERS","条目数","NUMBEROFARTICLES","文件数","NUMBEROFFILES","管理员数","NUMBEROFADMINS","组中用户数","NUMBERINGROUP","NUMINGROUP","编辑数","NUMBEROFEDITS","默认排序","默认排序关键字","默认分类排序","DEFAULTSORT","DEFAULTSORTKEY","DEFAULTCATEGORYSORT","分类中页面数","PAGESINCATEGORY","PAGESINCAT","页面大小","PAGESIZE","保护级别","PROTECTIONLEVEL","PROTECTIONEXPIRY","名字空间等同","NAMESPACEE","名字空间编号","NAMESPACENUMBER","讨论空间","讨论名字空间","TALKSPACE","讨论空间等同","讨论名字空间等同","TALKSPACEE","主名字空间","条目名字空间","SUBJECTSPACE","ARTICLESPACE","主名字空间等同","条目名字空间等同","SUBJECTSPACEE","ARTICLESPACEE","页名","页面名","页面名称","PAGENAME","页面名等同","页面名称等同","PAGENAMEE","页面全称","完整页面名称","FULLPAGENAME","完整页面名称等同","FULLPAGENAMEE","根页面名称","ROOTPAGENAME","根页面名称等同","ROOTPAGENAMEE","基础页面名称","BASEPAGENAME","基础页面名称等同","BASEPAGENAMEE","子页面名称","SUBPAGENAME","子页面名称等同","SUBPAGENAMEE","讨论页面名称","对话页面名称","TALKPAGENAME","讨论页面名称等同","对话页面名称等同","TALKPAGENAMEE","主名字空间页面名称","条目页面名称","SUBJECTPAGENAME","ARTICLEPAGENAME","主名字空间页面名称等同","条目页面名称等同","SUBJECTPAGENAMEE","ARTICLEPAGENAMEE","修订ID","REVISIONID","修订日","REVISIONDAY","修订日2","REVISIONDAY2","修订月","REVISIONMONTH","修订月1","REVISIONMONTH1","修订年","REVISIONYEAR","修订时间戳","REVISIONTIMESTAMP","修订用户","REVISIONUSER","级联来源","CASCADINGSOURCES","名字空间","NAMESPACE","显示标题","DISPLAYTITLE","!","本月","本月2","CURRENTMONTH","CURRENTMONTH2","本月1","CURRENTMONTH1","本月名","本月名称","CURRENTMONTHNAME","本月名属格","本月名称属格","CURRENTMONTHNAMEGEN","本月简称","CURRENTMONTHABBREV","今天","CURRENTDAY","今天2","CURRENTDAY2","星期","今天名","今天名称","CURRENTDAYNAME","今年","CURRENTYEAR","当前时间","此时","CURRENTTIME","当前小时","CURRENTHOUR","本地月","本地月2","LOCALMONTH","LOCALMONTH2","本地月1","LOCALMONTH1","本地月份名","LOCALMONTHNAME","本地月历","LOCALMONTHNAMEGEN","本地月缩写","LOCALMONTHABBREV","本地日","LOCALDAY","本地日2","LOCALDAY2","本地日名","LOCALDAYNAME","本地年","LOCALYEAR","本地时间","LOCALTIME","本地小时","LOCALHOUR","站点名称","SITENAME","本周","CURRENTWEEK","当前DOW","CURRENTDOW","本地周","LOCALWEEK","本地DOW","LOCALDOW","修订大小","REVISIONSIZE","当前版本","CURRENTVERSION","当前时间戳","CURRENTTIMESTAMP","本地时间戳","LOCALTIMESTAMP","方向标记","DIRECTIONMARK","DIRMARK","内容语言","CONTENTLANGUAGE","CONTENTLANG","PAGELANGUAGE"],["msg","原始","raw"],["替代","subst","安全替代","safesubst"]],doubleUnderscore:[["forcetoc","强显目录","nocc","nocontentconvert","不转换内容","noeditsection","无段落编辑","无编辑段落","nogallery","无图库","notc","notitleconvert","不转换标题","notoc","无目录","toc","目录"],["EXPECTUNUSEDCATEGORY","DISAMBIG","消除歧义","HIDDENCAT","隐藏分类","INDEX","索引","NEWSECTIONLINK","新段落链接","NOINDEX","无索引","NONEWSECTIONLINK","无新段落链接","STATICREDIRECT","静态重定向"]],protocol:"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:",interwiki:["arxiv","aswiki","cache","cmoegirl","commons","doi","google","googlegroups","gsnews","imdb","jawiki","komica","mediawikiwiki","metawikimedia","moegirl","mw","sifaswiki","sifwiki","wikia","wikibooks","wikidata","wikimedia","wikinews","wikiinfo","wikipedia","wikiquote","wikisource","wikispecies","wikiversity","wikivoyage","wikt","wiktionary","zhwiki","cc","cm","enmoe","enwp","fandom","ghia","huiji","jamoe","jawp","library","meta","phab","pmid","shoutwiki","translatewiki","zhmoe","zhmoegirl","zhtest","zhwp","文库","萌娘共享","萌娘文库","萌百"],img:{thumbnail:"thumbnail",thumb:"thumbnail",缩略图:"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","缩略图=$1":"manualthumb",left:"left",左:"left",right:"right",右:"right",none:"none",无:"none",$1px:"width",$1像素:"width",center:"center",centre:"center",居中:"center",framed:"framed",enframed:"framed",frame:"framed",有框:"framed",frameless:"frameless",无框:"frameless",upright:"upright",右上:"upright","upright=$1":"manual-upright","upright $1":"manual-upright","右上=$1":"manual-upright",右上$1:"manual-upright",border:"border",边框:"border","alt=$1":"alt","替代=$1":"alt","替代文本=$1":"alt","class=$1":"class","类=$1":"class","link=$1":"link","链接=$1":"link",baseline:"baseline",基线:"baseline",sub:"sub",子:"sub",super:"super",sup:"super",超:"super",top:"top",顶部:"top","text-top":"text-top",文字顶部:"text-top",middle:"middle",中间:"middle",bottom:"bottom",底部:"bottom","text-bottom":"text-bottom",文字底部:"text-bottom"},variants:["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}},6010:(t,e,s)=>{const i={running:!1,run(t){const{running:e}=this;this.running=!0;try{const s=t();return this.running=e,s}catch(t){throw this.running=e,t}},config:s(9823),getConfig(){return this.config},isInterwiki:(t,{interwiki:e}=i.getConfig())=>(t=String(t)).replaceAll("_"," ").replace(/^\s*:?\s*/,"").match(new RegExp(`^(${e.join("|")})\\s*:`,"i")),normalizeTitle:(t,e=0,n=i.getConfig())=>new(s(6986))(String(t),e,n),MAX_STAGE:11,parse(t,e=!1,n=i.MAX_STAGE,r=i.getConfig()){const o=s(8138);let l;return this.run((()=>{if("string"==typeof t)l=new o(t,r);else{if(!(t instanceof o))throw new TypeError("待解析的内容应为 String 或 Token！");l=t,t=l.toString()}l.parse(n,e)})),l},print(t,e=!1,s=i.getConfig()){return`<div class="wikiparser">${this.parse(t,e,this.MAX_STAGE,s).print()} </div>`}},n={};for(const t in i)["MAX_STAGE"].includes(t)?n[t]={enumerable:!1,writable:!1}:["config","isInterwiki","normalizeTitle","parse","print"].includes(t)||(n[t]={enumerable:!1});Object.defineProperties(i,n),globalThis.Parser=i,t.exports=i},9205:(t,e,s)=>{const i=s(3853);class n extends i{type;name;get children(){return this.childNodes.filter((t=>t instanceof n))}get firstElementChild(){return this.childNodes.find((t=>t instanceof n))}get lastElementChild(){return this.children.at(-1)}append(...t){for(const e of t)this.appendChild(e)}replaceChildren(...t){for(let t=this.childNodes.length-1;t>=0;t--)this.removeAt(t);this.append(...t)}}t.exports=n},3853:(t,e,s)=>{const{print:i}=s(231);class n{childNodes=[];#t;get firstChild(){return this.childNodes[0]}get parentNode(){return this.#t}constructor(){Object.defineProperty(this,"childNodes",{writable:!1}),Object.freeze(this.childNodes)}hasAttribute(t){return t in this}getAttribute(t){return this.hasAttribute(t)?String(this[t]):void 0}setAttribute(t,e){if("parentNode"===t)this.#t=e;else if(this.hasAttribute(t)){const s=Object.getOwnPropertyDescriptor(this,t),i=this[t],n=null!==i&&"object"==typeof i&&Object.isFrozen(i);Object.defineProperty(this,t,{...s,value:e}),n&&null!==e&&"object"==typeof e&&Object.freeze(e)}else this[t]=e;return this}toString(t=""){return this.childNodes.map(String).join(t)}print(t={}){return`<span class="wpb-${t.class??this.type}">${i(this.childNodes,t)}</span>`}removeAt(t){const e=[...this.childNodes],[s]=e.splice(t,1);return s instanceof n&&s.setAttribute("parentNode"),this.setAttribute("childNodes",e),s}insertAt(t,e=this.childNodes.length){const s=[...this.childNodes];return t instanceof n&&t.setAttribute("parentNode",this),s.splice(e,0,t),this.setAttribute("childNodes",s),t}appendChild(t){return this.insertAt(t)}setText(t,e=0){const s=this.childNodes.at(e),i=[...this.childNodes];return i.splice(e,1,t),this.setAttribute("childNodes",i),s}normalize(){const t=[...this.childNodes];for(let e=t.length-1;e>=0;e--){const s=t[e];""===s?t.splice(e,1):"string"==typeof s&&"string"==typeof t[e-1]&&(t[e-1]+=s,t.splice(e,1))}this.setAttribute("childNodes",t)}}t.exports=n},6986:(t,e,s)=>{const i=s(6010);t.exports=class{ns=0;interwiki="";valid=!0;constructor(t,e=0,s=i.getConfig()){const{namespaces:n,nsid:r}=s;let o=n[e];":"===(t=t.replaceAll("_"," ").trim())[0]&&(o="",t=t.slice(1).trim());const l=e?null:i.isInterwiki(t,s);l&&(this.interwiki=l[1].toLowerCase(),t=t.slice(l[0].length));const c=t.split(":");if(c.length>1){const e=n[r[c[0].trim().toLowerCase()]];void 0!==e&&(o=e,t=c.slice(1).join(":").trim())}this.ns=r[o.toLowerCase()];const a=t.indexOf("#");let p;-1!==a&&(p=t.slice(a+1).trimEnd(),t=t.slice(0,a).trim()),this.valid=Boolean(t||p)&&!/\x00\d+[eh!+-]\x7f|[<>[\]{}|]/.test(t)}}},8275:(t,e,s)=>{const{removeComment:i}=s(231),n=s(6010);t.exports=(t,e=n.getConfig(),r=[])=>{const o="^(\0\\d+c)*={1,6}|\\[\\[|{{2,}|-{(?!{)",l=[],c={"=":"\n","{":"}{2,}|\\|","-":"}-","[":"]]"},a={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let p,h=new RegExp(o,"gm"),d=h.exec(t),u=t.includes("}}");for(;d||p<=t.length&&"="===l.at(-1)?.[0]?.[0];){if(d?.[1]){const[,{length:t}]=d;d[0]=d[0].slice(t),d.index+=t}const{0:n,index:g}=d??{0:"\n",index:t.length},f=l.pop()??{},{0:x,index:m,parts:E}=f,C="="===n&&f.findEqual;if(["]]","}-"].includes(n))p=g+2;else if("\n"===n){p=g+1;const{pos:n,findEqual:o}=l.at(-1)??{};if(!n||o||""!==i(t.slice(n,m))){const i=t.slice(m,g).match(/^(={1,6})(.+)\1((?:\s|\x00\d+c\x7f)*)$/);i&&(t=`${t.slice(0,m)}\0${r.length}h${t.slice(g)}`,p=m+4+String(r.length).length,new(s(9450))(i[1].length,i.slice(2),e,r))}}else if("|"===n||C)p=g+1,E.at(-1).push(t.slice(f.pos,g)),"|"===n&&E.push([]),f.pos=p,f.findEqual="|"===n,l.push(f);else if(n.startsWith("}}")){const o=n.slice(0,Math.min(x.length,3)),c=x.length-o.length,{length:h}=r;p=g+o.length,E.at(-1).push(t.slice(f.pos,g));const d=2===o.length?a[i(E[0][0])]??"t":"t";let u=!1;if(3===o.length)new(s(9544))(E.map((t=>t.join("="))),e,r);else try{new(s(1782))(E[0][0],E.slice(1),e,r)}catch(t){t instanceof Error&&t.message.startsWith("非法的模板名称：")&&(p=m+x.length,u=!0)}u||(t=`${t.slice(0,m+c)}\0${h}${d}${t.slice(p)}`,p=m+c+3+String(h).length,c>1?l.push({0:x.slice(0,c),index:m,pos:m+c,parts:[[]]}):1===c&&"-"===t[m-1]&&l.push({0:"-{",index:m-1,pos:m+1,parts:[[]]}))}else p=g+n.length,"{"===n[0]&&(d.pos=p,d.parts=[[]]),l.push(..."0"in f?[f]:[],d);u&&=t.slice(p).includes("}}");let $=l.at(-1);u||"{"!==$?.[0]?.[0]||(l.pop(),$=l.at(-1)),h=new RegExp(o+($?`|${c[$[0][0]]}${$.findEqual?"|=":""}`:""),"gm"),h.lastIndex=p,d=h.exec(t)}return t}},4907:(t,e,s)=>{const i=s(6010);t.exports=(t,e=i.getConfig(),n=[],r=!1)=>{const o=/<onlyinclude>(.*?)<\/onlyinclude>/gs;if(r&&o.test(t))return t.replace(o,((t,i)=>{const r=`\0${n.length}e`;return new(s(851))(i,e,n),r})).replace(/(^|\x00\d+e\x7f)(.*?)(?=$|\x00\d+e\x7f)/gs,((t,i,r)=>""===r?i:(new(s(3423))(r,e,n),`${i}\0${n.length-1}c`)));const l=e.ext.join("|"),c=r?"includeonly":"(?:no|only)include",a=new RegExp(`\x3c!--.*?(?:--\x3e|$)|<${c}(?:\\s.*?)?>|</${c}\\s*>|<(${l})(\\s.*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${r?"noinclude":"includeonly"})(\\s.*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gis");return t.replace(a,((t,i,r,o,l,c,a,p,h)=>{const d=`\0${n.length}${i?"e":"c"}`;if(i)new(s(7267))(i,r,o,l,e,n);else if(t.startsWith("\x3c!--")){const i=s(5749),r=t.endsWith("--\x3e");new i(t.slice(4,r?-3:void 0),r,e,n)}else c?new(s(8655))(c,a,p,h,e,n):new(s(3423))(t,e,n);return d}))}},3765:(t,e,s)=>{const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=s(9910),o=/-{/g,l=/-{|}-/g,c=[];let a=o,p=a.exec(t);for(;p;){const{0:s,index:i}=p;if("}-"===s){const s=c.pop(),{length:l}=n,p=t.slice(s.index+2,i),h=p.indexOf("|"),[d,u]=-1===h?[[],p]:[p.slice(0,h).split(";"),p.slice(h+1)],g=u.replace(/(&[#a-z0-9]+);/i,"$1"),f=`(?:${e.variants.join("|")})`;new r(d,g.split(new RegExp(`;(?=\\s*(?:${f}|[^;]*?=>\\s*${f})\\s*:)`)).map((t=>t.replaceAll("",";"))),e,n),t=`${t.slice(0,s.index)}\0${l}v${t.slice(i+2)}`,0===c.length&&(a=o),a.lastIndex=s.index+3+String(l).length}else c.push(p),a=l;p=a.exec(t)}return t}},7513:(t,e,s)=>{const{extUrlChar:i}=s(231),n=s(6010);t.exports=(t,e=n.getConfig(),r=[])=>{const o=s(741),l=new RegExp(`\\[((?:${e.protocol}|//)${i})(\\p{Zs}*)([^\\]-\b\n-�]*)\\]`,"gui");return t.replace(l,((t,s,i,n)=>{const{length:l}=r,c=s.match(/&[lg]t;/);return c&&(i="",n=`${(s=s.slice(0,c.index)).slice(c.index)}${i}${n}`),new o(s,i,n,e,r),`\0${l}w`}))}},2937:(t,e,s)=>{const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=s(2582),o=s(7815),{doubleUnderscore:l}=e;return t.replace(/(^(?:\x00\d+c\x7f)*)(-{4,})/gm,((t,s,i)=>(new r(i.length,e,n),`${s}\0${n.length-1}r`))).replace(new RegExp(`__(${l.flat().join("|")})__`,"ig"),((t,s)=>l[0].includes(s.toLowerCase())||l[1].includes(s)?(new o(s,e,n),`\0${n.length-1}u`):t))}},5130:(t,e,s)=>{const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=/^(\/?)([a-z][^\s/>]*)([^>]*?)(\/?>)([^<]*)$/i,o=e.html.flat(),l=t.split("<");let c=l.shift();for(const t of l){const i=t.match(r),l=i?.[2],a=l?.toLowerCase();if(!i||!o.includes(a)){c+=`<${t}`;continue}const[,p,,h,d,u]=i,g=new(s(5037))(h,"html-attr",a,e,n),f=g.getAttr("itemprop");("meta"!==a||void 0!==f&&void 0!==g.getAttr("content"))&&("link"!==a||void 0!==f&&void 0!==g.getAttr("href"))?(c+=`\0${n.length}x${u}`,new(s(2350))(l,g,"/"===p,"/>"===d,e,n)):(c+=`<${t}`,n.pop())}return c}},1452:(t,e,s)=>{const i=s(6010),n=(s(8138),(t,e=i.getConfig(),r=[])=>{const o=s(3360),l=/^([^\n<>[\]{}|]+)(?:\|(.+?))?]](.*)/s,c=/^([^\n<>[\]{}|]+)\|(.*)/s,a=new RegExp(`^\\s*(?:${e.protocol})`,"i"),p=t.split("[[");let h=p.shift();for(let t=0;t<p.length;t++){let d,u,g,f;const x=p[t],m=x.match(l);if(m)[,u,g,f]=m,f.startsWith("]")&&g?.includes("[")&&(g+="]",f=f.slice(1));else{const t=x.match(c);t&&(d=!0,[,u,g]=t)}if(void 0===u||a.test(u)||/\x00\d+[exhbru]\x7f/.test(u)){h+=`[[${x}`;continue}let E=u;if(u.includes("%"))try{E=decodeURIComponent(u)}catch{}const C=u.trim().startsWith(":");if(C&&d){h+=`[[${x}`;continue}const $=i.normalizeTitle(E,0,e),{ns:A,interwiki:w,valid:b}=$;if(!b){h+=`[[${x}`;continue}if(d){if(w||6!==A){h+=`[[${x}`;continue}let s;for(t++;t<p.length;t++){const e=p[t],i=e.split("]]");if(i.length>2){s=!0,g+=`[[${i[0]}]]${i[1]}`,f=i.slice(2).join("]]");break}if(2!==i.length){g+=`[[${e}`;break}g+=`[[${i[0]}]]${i[1]}`}if(g=n(g,e,r),!s){h+=`[[${u}|${g}`;continue}}g&&=o(g,e,r),h+=`\0${r.length}l${f}`;let N=s(3905);C||(w||6!==A?w||14!==A||(N=s(337)):N=s(7625)),new N(u,g,$,e,r)}return h});t.exports=n},6622:(t,e,s)=>{const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=t.match(/^((?:\x00\d+c\x7f)*)([;:*#]+)/);if(!r)return t;const o=s(962),[l,c,a]=r;t=`${c}\0${n.length}d${t.slice(l.length)}`,new o(a,e,n);let p=a.split(";").length-1;if(!p)return t;const h=s(3434);let d=/:+|-{/g,u=d.exec(t),g=0;for(;u&&p;){const{0:s,index:i}=u;if(":"===s[0]){if(s.length>=p)return new h(":".repeat(p),e,n),`${t.slice(0,i)}\0${n.length-1}d${t.slice(i+p)}`;t=`${t.slice(0,i)}\0${n.length}d${t.slice(d.lastIndex)}`,p-=s.length,d.lastIndex=i+4+String(n.length).length,new h(s,e,n)}else if("-{"===s){if(!g){const{lastIndex:t}=d;d=/-{|}-/g,d.lastIndex=t}g++}else if(g--,!g){const{lastIndex:t}=d;d=/:+|-{/g,d.lastIndex=t}u=d.exec(t)}return t}},4737:(t,e,s)=>{const{extUrlChar:i}=s(231),n=s(6010);t.exports=(t,e=n.getConfig(),r=[])=>{const o=s(8962),l=new RegExp(`\\b(?:${e.protocol})(${i})`,"gui");return t.replace(l,((t,s)=>{let i="",n=t;const l=n.match(/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/i);l&&(i=n.slice(l.index),n=n.slice(0,l.index));const c=new RegExp(`[,;.:!?${n.includes("(")?"":")"}]+$`),a=n.match(c);if(a){let t=0;a[0].startsWith(";")&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/i.test(n.slice(0,a.index))&&(t=1),i=`${n.slice(a.index+t)}${i}`,n=n.slice(0,a.index+t)}return i.length>=s.length?t:(new o(n,!1,e,r),`\0${r.length-1}w${i}`)}))}},3360:(t,e,s)=>{const i=s(6010);t.exports=(t,e=i.getConfig(),n=[])=>{const r=t.split(/('{2,})/),{length:o}=r;if(1===o)return t;let l,c,a,p=0,h=0;for(let t=1;t<o;t+=2){const e=r[t].length;switch(e){case 2:h++;break;case 4:r[t-1]+="'",r[t]="'''";case 3:if(p++,l)break;" "===r[t-1].at(-1)?c||a||(a=t):" "===r[t-1].at(-2)?l=t:c||=t;break;default:r[t-1]+="'".repeat(e-5),r[t]="'''''",h++,p++}}if(h%2==1&&p%2==1){const t=l??c??a;r[t]="''",r[t-1]+="'"}const d=s(6714);for(let t=1;t<o;t+=2)new d(r[t].length,e,n),r[t]=`\0${n.length-1}q`;return r.join("")}},4624:(t,e,s)=>{const i=s(6010);t.exports=({firstChild:t,type:e},n=i.getConfig(),r=[])=>{const o=s(8138),l=s(2840),c=s(3125),a=s(5567),p=s(3434),h=[],d=t.split("\n");let u="root"===e?"":`\n${d.shift()}`;const g=(t,e)=>{if(!e)return void(u+=t);const{lastElementChild:s}=e;if(s.isPlain())s.setText(s.firstChild+t,0);else{const s=new o(t,n,!0,r);s.type="table-inter",e.appendChild(s.setAttribute("stage",3))}};for(const t of d){let e=h.pop();const[s]=t.match(/^(?:\s|\x00\d+c\x7f)*/),i=t.slice(s.length),o=i.match(/^(:*)((?:\s|\x00\d+c\x7f)*)({\||{\x00\d+!\x7f|\x00\d+{\x7f)(.*)/);if(o){const[,t,i,c,a]=o;t&&new p(t,n,r),g(`\n${s}${t&&`\0${r.length-1}d`}${i}\0${r.length}b`,e);const d=new l(c,a,n,r);h.push(...e?[e]:[],d);continue}if(!e){u+=`\n${t}`;continue}const d=i.match(/^(?:(\|}|\x00\d+!\x7f}|\x00\d+}\x7f)|(\|-+|\x00\d+!\x7f-+|\x00\d+-\x7f-*)|(!|(?:\||\x00\d+!\x7f)\+?))(.*)/);if(!d){g(`\n${t}`,e),h.push(...e?[e]:[]);continue}const[,f,x,m,E]=d;if(f){for(;!(e instanceof l);)e=h.pop();e.close(`\n${s}${f}`,!0),g(E,h.at(-1))}else if(x){"td"===e.type&&(e=h.pop()),"tr"===e.type&&(e=h.pop());const t=new c(`\n${s}${x}`,E,n,r);h.push(e,t),e.appendChild(t)}else{"td"===e.type&&(e=h.pop());const t="!"===m?/!!|(?:\||\x00\d+!\x7f){2}|\x00\d+\+\x7f/g:/(?:\||\x00\d+!\x7f){2}|\x00\d+\+\x7f/g;let i=t.exec(E),o=0,l=`\n${s}${m}`;for(;i;){const s=new a(l,E.slice(o,i.index),n,r);e.appendChild(s),({lastIndex:o}=t),[l]=i,i=t.exec(E)}const c=new a(l,E.slice(o),n,r);h.push(e,c),e.appendChild(c)}}return u.slice(1)}},9544:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{type="arg";constructor(t,e=i.getConfig(),r=[]){super(void 0,e,!0,r);for(const[i,o]of t.entries())if(0===i||i>1){const t=new(s(9237))(o,"arg-"+(0===i?"name":"redundant"),e,r);this.appendChild(t)}else{const t=new n(o,e,!0,r);t.type="arg-default",this.appendChild(t.setAttribute("stage",2))}}toString(){return`{{{${super.toString("|")}}}}`}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}}},9237:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{constructor(t,e="plain",s=i.getConfig(),n=[],r=null){super(t,s,!0,n,r),this.type=e}}},5037:(t,e,s)=>{const{removeComment:i}=s(231),n=s(6010),r=s(8138);t.exports=class extends r{#e=new Map;#s(){let t=this.toString();t=i(t).replace(/\x00\d+~\x7f/g,"=");for(const[,e,,s,i]of t.matchAll(/([^\s/][^\s/=]*)(?:\s*=\s*(?:(["'])(.*?)(?:\2|$)|(\S*)))?/gs))this.setAttr(e,s??i??!0,!0)}constructor(t,e,s,i=n.getConfig(),r=[]){super(t,i,!0,r),this.type=e,this.#s()}getAttr(t){return this.#e.get(t.toLowerCase().trim())}setAttr(t,e){t=t.toLowerCase().trim(),/^(?:[\w:]|\x00\d+[t!~{}+-]\x7f)(?:[\w:.-]|\x00\d+[t!~{}+-]\x7f)*$/.test(t)&&this.#e.set(t,!0===e||e.replace(/\s/g," ").trim())}}},9910:(t,e,s)=>{const{print:i}=s(231),n=s(6010),r=s(8138),o=s(6719),l=s(8683);t.exports=class extends r{type="converter";constructor(t,e,s=n.getConfig(),i=[]){if(super(void 0,s,!0,i),this.append(new o(t,s,i)),e.length){const[t]=e,n=t.includes(":"),r=new l(t,n,s,i);n&&1===r.childNodes.length?this.appendChild(new l(e.join(";"),!1,s,i)):this.append(r,...e.slice(1).map((t=>new l(t,!0,s,i))))}}toString(){const[t,...e]=this.children;return`-{${t.toString()}${t.childNodes.length?"|":""}${e.map(String).join(";")}}-`}print(){const[t,...e]=this.children;return`<span class="wpb-converter">-{${t.print()}${t.childNodes.length?"|":""}${i(e,{sep:";"})}}-</span>`}}},6719:(t,e,s)=>{const i=s(6010),n=s(8138),r=s(9237);t.exports=class extends n{type="converter-flags";constructor(t,e=i.getConfig(),s=[]){super(void 0,e,!0,s),this.append(...t.map((t=>new r(t,"converter-flag",e,s))))}toString(){return super.toString(";")}print(){return super.print({sep:";"})}}},8683:(t,e,s)=>{const i=s(6010),n=s(8138),r=s(9237);t.exports=class extends n{type="converter-rule";constructor(t,e=!0,s=i.getConfig(),n=[]){if(super(void 0,s,!0,n),e){const e=t.indexOf(":"),i=t.slice(0,e).indexOf("=>"),o=(-1===i?t.slice(0,e):t.slice(i+2,e)).trim(),{variants:l}=s;l.includes(o)?(super.insertAt(new r(o,"converter-rule-variant",s,n)),super.insertAt(new r(t.slice(e+1),"converter-rule-to",s,n)),-1!==i&&super.insertAt(new r(t.slice(0,i),"converter-rule-from",s,n),0)):super.insertAt(new r(t,"converter-rule-noconvert",s,n))}else super.insertAt(new r(t,"converter-rule-noconvert",s,n))}toString(){if(3===this.childNodes.length){const[t,e,s]=this.children;return`${t.toString()}=>${e.toString()}:${s.toString()}`}return super.toString(":")}print(){if(3===this.childNodes.length){const[t,e,s]=this.children;return`<span class="wpb-converter-rule">${t.print()}=>${e.print()}:${s.print()}</span>`}return super.print({sep:":"})}}},741:(t,e,s)=>{const i=s(6010),n=s(8138),r=s(8962);t.exports=class extends n{type="ext-link";#i;constructor(t,e,s,o=i.getConfig(),l=[]){if(super(void 0,o,!0,l),this.appendChild(new r(t,!0,o,l)),this.#i=e,s){const t=new n(s,o,!0,l);t.type="ext-link-text",this.appendChild(t.setAttribute("stage",i.MAX_STAGE-1))}}toString(){return`[${this.firstElementChild.toString()}${this.#i}${this.children[1]?.toString()??""}]`}print(){const{childNodes:{length:t}}=this;return super.print({pre:"[",sep:t>1?this.#i:"",post:t>1?"]":`${this.#i}]`})}}},1891:(t,e,s)=>{const i=s(6010),n=s(8138),r=s(1031);t.exports=class extends n{type="ext-inner";name="gallery";constructor(t,e=i.getConfig(),s=[]){super(void 0,e,!0,s);for(const i of t?.split("\n")??[]){const t=i.match(/^([^|]+)(?:\|(.*))?/);if(!t){this.appendChild(i);continue}const[,n,o]=t;let l;try{l=this.normalizeTitle(decodeURIComponent(n),6)}catch{l=this.normalizeTitle(n,6)}l.valid?this.appendChild(new r(n,o,l,e,s)):this.appendChild(i)}}toString(){return super.toString("\n")}print(){return super.print({sep:"\n",wrap:t=>`<span class="wpb-error">${t}</span>`})}}},9450:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{type="heading";constructor(t,e,r=i.getConfig(),o=[]){super(void 0,r,!0,o),this.setAttribute("name",String(t));const l=new n(e[0],r,!0,o);l.type="heading-title",l.setAttribute("stage",2);const c=new(s(8058))(e[1],/^[^\S\n]*$/,"heading-trail",r,o);this.append(l,c)}toString(){const t="=".repeat(Number(this.name));return`${t}${this.firstElementChild.toString()}${t}${this.lastElementChild.toString()}`}print(){const t=Number(this.name),e="=".repeat(t);return super.print({pre:e,sep:e})}}},2350:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{type="html";closing;selfClosing;#n;constructor(t,e,s,n,r=i.getConfig(),o=[]){super(void 0,r,!0,o),this.appendChild(e),this.closing=s,this.selfClosing=n,this.#n=t}toString(){return`<${this.closing?"/":""}${this.#n}${super.toString()}${this.selfClosing?"/":""}>`}print(){return super.print({pre:`&lt;${this.closing?"/":""}${this.#n}`,post:(this.selfClosing?"/":"")+"&gt;"})}}},1874:(t,e,s)=>{const{print:i,extUrlChar:n}=s(231),r=s(6986),o=s(6010),l=s(8138);class c extends l{type="image-parameter";#r="";static#o(t,e,s=o.getConfig()){if(e=e.replace(/\x00\d+t\x7f/g,"").trim(),"width"===t)return/^\d*(?:x\d*)?$/.test(e);if(["alt","class","manualthumb","frameless","framed","thumbnail"].includes(t))return!0;if("link"===t){if(!e)return!0;if(new RegExp(`(?:${s.protocol}|//)${n}(?=\0\\d+t|$)`,"ui").test(e))return!0;if(/^\[\[.+]]$/.test(e)&&(e=e.slice(2,-2)),e.includes("%"))try{e=decodeURIComponent(e)}catch{}const{valid:t}=new r(e,0,s);return t}return!isNaN(e)}constructor(t,e=o.getConfig(),s=[]){const i=Object.entries(e.img).map((([t,e])=>[t,e,new RegExp(`^(\\s*)${t.replace("$1","(.*)")}(\\s*)$`)])),n=i.find((([,,e])=>e.test(t)));if(n){const i=t.match(n[2]);if(4!==i.length||c.#o(n[1],i[2],e))return 3===i.length?(super(void 0,e,!0,s),this.#r=t):(super(i[2],e,!0,s),this.#r=`${i[1]}${n[0]}${i[3]}`),void this.setAttribute("stage",o.MAX_STAGE)}super(t,e,!0,s),this.setAttribute("stage",7)}isPlain(){return!0}toString(){return this.#r?this.#r.replace("$1",super.toString()):super.toString()}print(){return this.#r?`<span class="wpb-image-parameter">${this.#r.replace("$1",i(this.childNodes))}</span>`:super.print({class:"image-caption"})}}t.exports=c},8138:(t,e,s)=>{const i=s(9205),n=s(6010),{MAX_STAGE:r}=n;class o extends i{type="root";#l=0;#c;#a;constructor(t,e=n.getConfig(),s=!1,i=[]){super(),"string"==typeof t&&this.appendChild(s?t:t.replace(/[\x00\x7f]/g,"")),this.#c=e,this.#a=i,i.push(this)}getAttribute(t){switch(t){case"config":return JSON.parse(JSON.stringify(this.#c));case"accum":return this.#a;default:return super.getAttribute(t)}}setAttribute(t,e){return"stage"===t?(0===this.#l&&"root"===this.type&&this.#a.shift(),this.#l=e,this):super.setAttribute(t,e)}isPlain(){return this.constructor===o}insertAt(t,e=this.childNodes.length){return super.insertAt(t,e),t instanceof o&&"root"===t.type&&(t.type="plain"),t}normalizeTitle(t,e=0){return n.normalizeTitle(t,e,this.#c)}parseOnce(t=this.#l,e=!1){if(t<this.#l||!this.isPlain()||0===this.childNodes.length)return this;switch(t){case 0:"root"===this.type&&this.#a.shift(),this.#p(e);break;case 1:this.#h();break;case 2:this.#d();break;case 3:this.#u();break;case 4:this.#g();break;case 5:this.#f();break;case 6:this.#x();break;case 7:this.#m();break;case 8:this.#E();break;case 9:this.#C();break;case 10:this.#$()}if("root"===this.type)for(const s of this.#a)s.parseOnce(t,e);return this.#l++,this}buildFromStr(t){return t.split(/[\x00\x7f]/).map(((t,e)=>e%2==0?t:this.#a[Number(t.slice(0,-1))]))}build(){this.#l=r;const{childNodes:{length:t},firstChild:e}=this;if(1!==t||"string"!=typeof e||!e.includes("\0"))return this;if(this.replaceChildren(...this.buildFromStr(e)),this.normalize(),"root"===this.type)for(const t of this.#a)t.build();return this}afterBuild(){if("root"===this.type)for(const t of this.#a)t.afterBuild();return this}parse(t=r,e=!1){for(;this.#l<t;)this.parseOnce(this.#l,e);return t?this.build().afterBuild():this}#p(t=!1){const e=s(4907);this.setText(e(this.firstChild,this.#c,this.#a,t))}#h(){const t=s(8275);this.setText(t(this.firstChild,this.#c,this.#a))}#d(){const t=s(5130);this.setText(t(this.firstChild,this.#c,this.#a))}#u(){const t=s(4624),e=s(2840);this.setText(t(this,this.#c,this.#a));for(const t of this.#a)if(t instanceof e&&"td"!==t.type){t.normalize();const[,e]=t.childNodes;if("string"==typeof e&&e.includes("\0")){t.removeAt(1);const s=new o(e,this.#c,!0,this.#a);t.insertAt(s,1),s.setAttribute("stage",4)}}}#g(){const t=s(2937);this.setText(t(this.firstChild,this.#c,this.#a))}#f(){const t=s(1452);this.setText(t(this.firstChild,this.#c,this.#a))}#x(){const t=s(3360),e=this.firstChild.split("\n");for(let s=0;s<e.length;s++)e[s]=t(e[s],this.#c,this.#a);this.setText(e.join("\n"))}#m(){const t=s(7513);this.setText(t(this.firstChild,this.#c,this.#a))}#E(){const t=s(4737);this.setText(t(this.firstChild,this.#c,this.#a))}#C(){const t=s(6622),e=this.firstChild.split("\n");for(let s="root"===this.type?0:1;s<e.length;s++)e[s]=t(e[s],this.#c,this.#a);this.setText(e.join("\n"))}#$(){const t=s(3765);this.setText(t(this.firstChild,this.#c,this.#a))}}t.exports=o},337:(t,e,s)=>{const i=s(3905);t.exports=class extends i{type="category"}},7625:(t,e,s)=>{const{explode:i}=s(231),n=s(6010),r=s(3905),o=s(1874);t.exports=class extends r{type="file";constructor(t,e,s,r=n.getConfig(),l=[]){super(t,void 0,s,r,l),this.append(...i("-{","}-","|",e).map((t=>new o(t,r,l))))}}},1031:(t,e,s)=>{const i=s(6010),n=s(8138),r=s(7625);t.exports=class extends r{type="gallery-image";constructor(t,e,s,r=i.getConfig(),o=[]){let l;if(void 0!==e){l=new n(e,r,!0,o),l.type="temp",l.setAttribute("stage",1);for(let t=1;t<i.MAX_STAGE;t++)l.parseOnce();o.splice(o.indexOf(l),1)}const c=structuredClone(r);c.img=Object.fromEntries(Object.entries(r.img).filter((([,t])=>"width"!==t))),super(t,l?.toString(),s,c,o)}}},3905:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{type="link";constructor(t,e,r,o=i.getConfig(),l=[]){super(void 0,o,!0,l);const c=s(9237);if(this.appendChild(new c(t,"link-target",o,l)),void 0!==e){const t=new n(e,o,!0,l);t.type="link-text",this.appendChild(t.setAttribute("stage",i.MAX_STAGE-1))}}toString(){const t=super.toString("|");return"gallery-image"===this.type?t:`[[${t}]]`}print(){return super.print("gallery-image"===this.type?{sep:"|"}:{pre:"[[",post:"]]",sep:"|"})}}},8962:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{type="free-ext-link";constructor(t,e=!1,s=i.getConfig(),n=[]){super(t,s,!0,n),e&&(this.type="ext-link-url")}}},5749:(t,e,s)=>{const i=s(6010),n=s(6935);t.exports=class extends n{type="comment";closed;constructor(t,e=!0,s=i.getConfig(),n=[]){super(t,s,n),this.closed=e}toString(){return`\x3c!--${this.firstChild}${this.closed?"--\x3e":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}}},3434:(t,e,s)=>{const i=s(6935);t.exports=class extends i{type="dd"}},7815:(t,e,s)=>{const i=s(6935);t.exports=class extends i{type="double-underscore";toString(){return`__${this.firstChild}__`}print(){return super.print({pre:"__",post:"__"})}}},2582:(t,e,s)=>{const i=s(6010),n=s(6935);t.exports=class extends n{type="hr";constructor(t,e=i.getConfig(),s=[]){super("-".repeat(t),e,s)}}},6935:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{type="ext-inner";constructor(t,e=i.getConfig(),s=[]){super(t,e,!0,s)}}},962:(t,e,s)=>{const i=s(3434);t.exports=class extends i{type="list"}},3423:(t,e,s)=>{const i=s(6935);t.exports=class extends i{type="noinclude"}},6714:(t,e,s)=>{const i=s(6010),n=s(6935);t.exports=class extends n{type="quote";constructor(t,e=i.getConfig(),s=[]){super("'".repeat(t),e,s)}}},851:(t,e,s)=>{const i=s(6010),n=s(8138);class r extends n{type="onlyinclude";constructor(t,e=i.getConfig(),s=[]){super(t,e,!0,s)}toString(){return`<onlyinclude>${super.toString()}</onlyinclude>`}print(){return super.print({pre:"&lt;onlyinclude&gt;",post:"&lt;/onlyinclude&gt;"})}isPlain(){return this.constructor===r}}t.exports=r},9799:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{type="parameter";anon;constructor(t,e,r=i.getConfig(),o=[]){super(void 0,r,!0,o),this.anon="number"==typeof t;const l=new(s(9237))(this.anon?void 0:t,"parameter-key",r,o),c=new n(e,r,!0,o);c.type="parameter-value",this.append(l,c.setAttribute("stage",2))}toString(){return this.anon?this.lastElementChild.toString():super.toString("=")}print(){return this.anon?`<span class="wpb-parameter">${this.lastElementChild.print()}</span>`:super.print({sep:"="})}}},8058:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{constructor(t,e,s="plain",n=i.getConfig(),r=[],o=null){super(t,n,!0,r,o),this.type=s}}},2840:(t,e,s)=>{const i=s(6010),n=s(3125),r=s(8058);class o extends n{type="table";static openingPattern=/^(?:{\||{{{\s*!\s*}}|{{\s*\(!\s*}})$/;static closingPattern=/^\n[^\S\n]*(?:\|}|{{\s*!\s*}}}|{{\s*!\)\s*}})$/;constructor(t,e="",s=i.getConfig(),n=[]){super(t,e,s,n,o.openingPattern)}close(t="\n|}"){const e=this.getAttribute("config"),s=this.getAttribute("accum"),{closingPattern:i}=o;this.appendChild(new r(t,i,"table-syntax",e,s))}}t.exports=o},5567:(t,e,s)=>{const i=s(6010),n=s(8138),r=s(3125);class o extends r{type="td";#A="";static openingPattern=/^(?:\n[\S\n]*(?:[|!]|\|\+|{{\s*!\s*}}\+?)|(?:\||{{\s*!\s*}}){2}|!!|{{\s*!!\s*}})$/;constructor(t,e,s=i.getConfig(),r=[]){let l=e?.match(/\||\x00\d+!\x7f/),c=l?e.slice(0,l.index):"";/\[\[|-{/.test(c)&&(l=null,c=""),super(t,c,s,r,o.openingPattern),l&&([this.#A]=l);const a=new n(e?.slice(l?.index+this.#A.length),s,!0,r);a.type="td-inner",this.appendChild(a.setAttribute("stage",4))}afterBuild(){return this.#A.includes("\0")&&(this.#A=this.buildFromStr(this.#A).map(String).join("")),this}toString(){const[t,e,s]=this.children;return`${t.toString()}${e.toString()}${this.#A}${s.toString()}`}print(){const[t,e,s]=this.children;return`<span class="wpb-td">${t.print()}${e.print()}${this.#A}${s.print()}</span>`}}t.exports=o},3125:(t,e,s)=>{const i=s(6010),n=s(8138),r=s(8058),o=s(5037);class l extends n{type="tr";static openingPattern=/^\n[^\S\n]*(?:\|-+|{{\s*!\s*}}-+|{{\s*!-\s*}}-*)$/;constructor(t,e="",s=i.getConfig(),n=[],c=l.openingPattern){super(void 0,s,!0,n),this.append(new r(t,c,"table-syntax",s,n),new o(e,"table-attr","tr",s,n))}}t.exports=l},7267:(t,e,s)=>{const i=s(6010),n=s(1074);t.exports=class extends n{type="ext";constructor(t,e="",n="",r,o=i.getConfig(),l=[]){e=!e||/^\s/.test(e)?e:` ${e}`;const c=t.toLowerCase(),a=new(s(5037))(e,"ext-attr",c,o,l),p=JSON.parse(JSON.stringify(o)),h=new Set(p.ext);let d;switch(c){case"choose":h.add("option");case"ref":case"option":case"poem":case"indicator":case"tab":case"tabs":case"pre":h.delete(c),p.ext=[...h],d=new(s(8138))(n,p,!1,l);break;case"gallery":h.delete(c),p.ext=[...h],d=new(s(1891))(n,p,l);break;default:d=new(s(6935))(n,o)}d.type="ext-inner","pre"===c&&d.setAttribute("stage",i.MAX_STAGE-1),super(t,a,d,r,o,l),Object.defineProperty(this,"closed",{value:!0,enumerable:!1,writable:!1,configurable:!1})}}},8655:(t,e,s)=>{const i=s(6010),n=s(1074);t.exports=class extends n{type="include";constructor(t,e="",s,n,r=i.getConfig(),o=[]){super(t,e,s??"",void 0!==s?n??"":n,r,o)}}},1074:(t,e,s)=>{const i=s(6010),n=s(8138);t.exports=class extends n{selfClosing;closed;#w;constructor(t,e,s,n,r=i.getConfig(),o=[]){super(void 0,r,!0),this.#w=[t,n||t],this.selfClosing=void 0===n,this.closed=""!==n,this.append(e,s);let l=o.indexOf(e);-1===l&&(l=o.indexOf(s)),-1===l&&(l=1/0),o.splice(l,0,this)}toString(){const{closed:t,firstChild:e,selfClosing:s}=this,[i,n]=this.#w;return s?`<${i}${String(e)}/>`:`<${i}${super.toString(">")}${t?`</${n}>`:""}`}print(){const{closed:t,selfClosing:e}=this,[s,i]=this.#w;return e?super.print({pre:`&lt;${s}`,post:"/&gt;"}):super.print({pre:`&lt;${s}`,sep:"&gt;",post:t?`&lt;/${i}&gt;`:""})}}},1782:(t,e,s)=>{const{removeComment:i,print:n}=s(231),r=s(6010),o=s(8138),l=s(9799);t.exports=class extends o{type="template";modifier="";setModifier(t=""){const[,,e,s]=this.getAttribute("config").parserFunction,i=t.trim().toLowerCase(),n=e.includes(i),r=s.includes(i);return!(!n&&!r&&""!==t)&&(this.setAttribute("modifier",t),Boolean(t))}constructor(t,e,n=r.getConfig(),o=[]){super(void 0,n,!0,o);const c=s(9237),a=s(8058),{parserFunction:[p,h,d]}=n;if(t.includes(":")){const[e,...s]=t.split(":");this.setModifier(e)&&(t=s.join(":"))}if(t.includes(":")||0===e.length&&!d.includes(this.modifier.toLowerCase())){const[s,...r]=t.split(":"),l=i(s),d=h.includes(l);if(d||p.includes(l.toLowerCase())){this.setAttribute("name",l.toLowerCase().replace(/^#/,"")).type="magic-word";const t=new a(s,new RegExp(`^\\s*${l}\\s*$`,d?"":"i"),"magic-word-name",n,o);if(this.appendChild(t),r.length&&e.unshift([r.join(":")]),"invoke"===this.name)for(let t=0;t<2;t++){const s=e.shift();if(!s)break;const i=new c(s.join("="),"invoke-"+(t?"function":"module"),n,o);this.appendChild(i)}}}if("template"===this.type){const[e]=i(t).split("#");if(/\x00\d+[eh!+-]\x7f|[<>[\]{}]/.test(e))throw o.pop(),new SyntaxError(`非法的模板名称：${e}`);const s=new c(t,"template-name",n,o);this.appendChild(s)}const u="magic-word"===this.type&&"invoke"!==this.name;let g=1;for(const t of e)u&&(t[0]=t.join("="),t.length=1),1===t.length&&(t.unshift(g),g++),this.appendChild(new l(...t,n,o))}toString(){const{children:t,childNodes:{length:e},firstChild:s}=this;return`{{${this.modifier}${this.modifier&&":"}${"magic-word"===this.type?`${String(s)}${e>1?":":""}${t.slice(1).map(String).join("|")}`:super.toString("|")}}}`}print(){const{children:t,childNodes:{length:e},firstElementChild:s}=this;return`<span class="wpb-${this.type}">{{${this.modifier}${this.modifier&&":"}${"magic-word"===this.type?`${s.print()}${e>1?":":""}${n(t.slice(1),{sep:"|"})}`:n(t,{sep:"|"})}}}</span>`}}},231:(t,e,s)=>{t.exports={removeComment:t=>t.replace(/\x00\d+c\x7f/g,""),print:(t,e={})=>{s(3853);const{pre:i="",post:n="",sep:r="",wrap:o=(t=>t)}=e;return`${i}${t.map((t=>"string"==typeof t?o(t.replaceAll("<","&lt;").replaceAll(">","&gt;")):t.print())).join(r)}${n}`},explode:(t,e,s,i)=>{if(void 0===i)return[];const n=new RegExp(`${[t,e,s].map((t=>t.replace(/[\\{}()|.?*+\-^$[\]]/g,"\\$&"))).join("|")}`,"g"),r=[];let o=n.exec(i),l=0,c=0;for(;o;){const{0:e,index:a}=o;e!==s?l+=e===t?1:-1:0===l&&(r.push(i.slice(c,a)),({lastIndex:c}=n)),o=n.exec(i)}return r.push(i.slice(c)),r},extUrlChar:'(?:[\\d.]+|\\[[\\da-f:.]+\\]|[^[\\]<>"\\x00-\\x20\\x7f\\p{Zs}\\ufffd])(?:[^[\\]<>"\\x00-\\x20\\x7f\\p{Zs}\\ufffd]|\\x00\\d+c\\x7f)*'}}},e={};!function s(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}(6010)})();