(()=>{var Tt=Object.defineProperty;var yt=(U,M,W)=>M in U?Tt(U,M,{enumerable:!0,configurable:!0,writable:!0,value:W}):U[M]=W;var v=(U,M,W)=>(yt(U,typeof M!="symbol"?M+"":M,W),W),st=(U,M,W)=>{if(!M.has(U))throw TypeError("Cannot "+W)};var $=(U,M,W)=>(st(U,M,"read from private field"),W?W.call(U):M.get(U)),E=(U,M,W)=>{if(M.has(U))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(U):M.set(U,W)},H=(U,M,W,_)=>(st(U,M,"write to private field"),_?_.call(U,W):M.set(U,W),W),nt=(U,M,W,_)=>({set _(y){H(U,M,y,W)},get _(){return $(U,M,_)}}),J=(U,M,W)=>(st(U,M,"access private method"),W);(()=>{var U={6010:(y,k,e)=>{"use strict";const f={config:void 0,minConfig:e(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(p,g=0,r=!1,i=f.getConfig(),n=!1,t=!1){let s;if(!n){const h=e(8138);s=this.run(()=>{const a=new h(String(p),i),d=a.getAttribute("parseOnce");return d(0,r),d()}),p=s.firstChild}const o=e(6986);return new o(String(p),g,i,t)},parse(p,g,r=f.MAX_STAGE,i=f.getConfig()){if(typeof p!="string")throw new TypeError("\u5F85\u89E3\u6790\u7684\u5185\u5BB9\u5E94\u4E3A String\uFF01");const n=e(8138);let t;return this.run(()=>{t=new n(p,i);try{t.parse(r,g)}catch(s){}}),t},run(p){return p()}},T={},S=new Set(["MAX_STAGE","minConfig"]),u=new Set(["config","normalizeTitle","parse"]);for(const p in f)S.has(p)?T[p]={enumerable:!1,writable:!1}:u.has(p)||(T[p]={enumerable:!1});Object.defineProperties(f,T),typeof self=="object"&&(self.Parser=f),y.exports=f},9205:(y,k,e)=>{"use strict";const{print:f}=e(231),T=e(3853),S=e(7507),p=class extends T{constructor(){super(...arguments);v(this,"name")}get length(){return this.childNodes.length}closest(i){const n=new Set(i.split(",").map(s=>s.trim()));let{parentNode:t}=this;for(;t;){if(n.has(t.type))return t;({parentNode:t}=t)}}append(...i){for(const n of i)this.insertAt(n)}replaceChildren(...i){this.childNodes.length=0,this.append(...i)}setText(i,n=0){const t=this.childNodes[n],{type:s,data:o}=t;if(s==="text")return t.replaceData(i),o}toString(i,n=""){return this.childNodes.map(t=>t.toString()).join(n)}lint(i=0){const n=e(8058);if(this instanceof n||this.constructor.hidden||this.type==="ext-inner"&&p.lintIgnoredExt.has(this.name))return[];const t=[];for(let s=0,o=i+this.getPadding();s<this.length;s++){const l=this.childNodes[s];t.push(...l.lint(o)),o+=String(l).length+this.getGaps(s)}return t}print(i={}){return String(this)?`<span class="wpb-${i.class||this.type}">${f(this.childNodes,i)}</span>`:""}json(i){const{childNodes:n,...t}=this;return{...t,childNodes:n.map(o=>o.type==="text"?String(o):o.json())}}};let u=p;v(u,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),y.exports=u},3853:(y,k,e)=>{var S,u,rt;"use strict";const{text:f}=e(231);class T{constructor(){E(this,u);v(this,"type");v(this,"childNodes",[]);E(this,S,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return $(this,S)}get nextSibling(){var i;const r=(i=$(this,S))==null?void 0:i.childNodes;return r&&r[r.indexOf(this)+1]}get previousSibling(){var i;const r=(i=$(this,S))==null?void 0:i.childNodes;return r&&r[r.indexOf(this)-1]}hasAttribute(r){const i=typeof r;return i==="string"||i==="number"||i==="symbol"?r in this:!1}getAttribute(r){return this.hasAttribute(r)?String(this[r]):void 0}setAttribute(r,i){return r==="parentNode"?H(this,S,i):this[r]=i,this}text(r=""){return f(this.childNodes,r)}removeAt(r){const{childNodes:i}=this,[n]=i.splice(r,1);return n}insertAt(r,i=this.childNodes.length){const{childNodes:n}=this;return-1===-1&&r.setAttribute("parentNode",this),n.splice(i,0,r),r}normalize(){var n;const r=e(7507),{childNodes:i}=this;for(let t=i.length-1;t>=0;t--){const{type:s,data:o}=i[t];this.getGaps(t-1)||(o===""?i.splice(t,1):s==="text"&&((n=i[t-1])==null?void 0:n.type)==="text"&&(i[t-1].setAttribute("data",i[t-1].data+o),i.splice(t,1)))}}getRootNode(){let{parentNode:r}=this;for(;r!=null&&r.parentNode;)({parentNode:r}=r);return r!=null?r:this}posFromIndex(r){const i=String(this);if(r>=-i.length&&r<=i.length){const n=i.slice(0,r).split(`
`);return{top:n.length-1,left:n[n.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(r){let i;const n=(t,s)=>i.slice(0,t).reduce((o,l,h)=>o+String(l).length+s.getGaps(h),0)+s.getPadding();if(r===void 0){const{parentNode:t}=this;return t?({childNodes:i}=t,n(i.indexOf(this),t)):0}return{childNodes:i}=this,n(r,this)}get offsetHeight(){return J(this,u,rt).call(this).height}get offsetWidth(){return J(this,u,rt).call(this).width}}S=new WeakMap,u=new WeakSet,rt=function(){const r=String(this).split(`
`);return{height:r.length,width:r[r.length-1].length}},y.exports=T},7507:(y,k,e)=>{var r,i,it;"use strict";const f=e(6010),T=e(3853),S=e(9205),u=/https?:|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?([a-z]\w*)[\s/>])/giu,p=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?([a-z]\w*)[\s/>])/giu;class g extends T{constructor(o="",l=f.getConfig()){super();E(this,i);E(this,r,void 0);v(this,"type","text");v(this,"data");H(this,r,l),this.data=o}toString(){return this.data}text(){return this.data}lint(o=0){var m;const{data:l,parentNode:h}=this,a=h==null?void 0:h.type,d=h==null?void 0:h.name,c=a==="free-ext-link"||a==="ext-link-url"||a==="image-parameter"&&d==="link"?p:u,x=[];if(l.search(c)!==-1){c.lastIndex=0;const A=this.getRootNode(),{top:F,left:C}=A.posFromIndex(o),w=new Set([$(this,r).ext,$(this,r).html].flat(2));for(let b=c.exec(l);b;b=c.exec(l)){const[,P,R]=b;let{0:L,index:I}=b;P&&(I+=P.length,L=L.slice(P.length));const D=o+I,O=l.slice(0,I).split(`
`),X=O.length+F-1,G=O[O.length-1],V=O.length>1?G.length:C+G.length,{0:B,length:Q}=L,Y=D+Q;let q=B==="{"||B==="}"||Q>1?"error":"warning";if(B==="h")switch(h==null?void 0:h.type){case"ext-link-text":q="warning";break;case"attr-value":{const{parentNode:K}=h;if(((K==null?void 0:K.name)==="src"||(K==null?void 0:K.name)==="srcset")&&((m=K==null?void 0:K.parentNode)==null?void 0:m.name)==="img")continue;break}case"ext-inner":if(d==="sm2"||d==="flashmp3")continue}else if(B==="<"&&!w.has(R.toLowerCase()))continue;x.push({message:`\u5B64\u7ACB\u7684"${B==="h"?L:B}"`,severity:q,startIndex:D,endIndex:Y,startLine:X,endLine:X,startCol:V,endCol:V+Q})}}return x}replaceData(o=""){J(this,i,it).call(this,o)}}r=new WeakMap,i=new WeakSet,it=function(o){o=String(o),this.setAttribute("data",o)},y.exports=g},6986:(y,k,e)=>{"use strict";const f=e(6010);class T{constructor(u,p=0,g=f.getConfig(),r=!1){v(this,"valid",!0);v(this,"ns",0);const{namespaces:i,nsid:n}=g;let t=i[p];if(r&&u.includes("%"))try{u=decodeURIComponent(u)}catch(h){}u=u.replace(/_/gu," ").trim(),u[0]===":"&&(t="",u=u.slice(1).trim());const s=u.split(":");if(s.length>1){const h=i[n[s[0].trim().toLowerCase()]];h!==void 0&&(t=h,u=s.slice(1).join(":").trim())}this.ns=n[t.toLowerCase()];const o=u.indexOf("#");let l="";o!==-1&&(l=u.slice(o+1).trim(),u=u.slice(0,o).trim()),this.valid=Boolean(u||l)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(u)}}y.exports=T},2308:y=>{"use strict";const k=e=>{var f;return f=class extends e{text(){return""}},v(f,"hidden",!0),f};y.exports=k},8275:(y,k,e)=>{"use strict";const{removeComment:f}=e(231),T=e(6010),S=e(9450),u=e(1782),p=e(9544),g=(r,i=T.getConfig(),n=[])=>{var x,m,A,F,C;const t="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",s=[],o={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},l={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let h=new RegExp(t,"gmu"),a=h.exec(r),d=r.includes("}}"),c;for(;a||c<=r.length&&((m=(x=s[s.length-1])==null?void 0:x[0])==null?void 0:m[0])==="=";){if(a!=null&&a[1]){const[,{length:V}]=a;a[0]=a[0].slice(V),a.index+=V}const{0:w,index:b}=a!=null?a:{0:`
`,index:r.length},P=(A=s.pop())!=null?A:{},{0:R,index:L,parts:I,findEqual:D,pos:O}=P,X=w==="="&&D;if(w==="]]"||w==="}-")c=b+2;else if(w===`
`){c=b+1;const{pos:V,findEqual:B}=(F=s[s.length-1])!=null?F:{};if(!V||B||f(r.slice(V,L))!==""){const Q=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(r.slice(L,b));Q&&(r=`${r.slice(0,L)}\0${n.length}h\x7F${r.slice(b)}`,c=L+4+String(n.length).length,new S(Q[1].length,Q.slice(2),i,n))}}else if(w==="|"||X)c=b+1,I[I.length-1].push(r.slice(O,b)),w==="|"&&I.push([]),P.pos=c,P.findEqual=w==="|",s.push(P);else if(w.startsWith("}}")){const V=w.slice(0,Math.min(R.length,3)),B=R.length-V.length,{length:Q}=n;c=b+V.length,I[I.length-1].push(r.slice(O,b));let Y=!1,q="t";if(V.length===3)new p(I.map(K=>K.join("=")),i,n);else{const K=f(I[0][0]).trim();K in l?q=l[K]:/^(?:fullurl|canonicalurl|filepath):.|^server$/iu.test(K)&&(q="m");try{new u(I[0][0],I.slice(1),i,n)}catch(N){if(N instanceof Error&&N.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))c=L+R.length,Y=!0;else throw N}}Y||(r=`${r.slice(0,L+B)}\0${Q}${q}\x7F${r.slice(c)}`,c=L+B+3+String(Q).length,B>1?s.push({0:R.slice(0,B),index:L,pos:L+B,parts:[[]]}):B===1&&r[L-1]==="-"&&s.push({0:"-{",index:L-1,pos:L+1,parts:[[]]}))}else c=b+w.length,w[0]==="{"&&(a.pos=c,a.parts=[[]]),s.push(..."0"in P?[P]:[],a);d&&(d=r.slice(c).includes("}}"));let G=s[s.length-1];!d&&((C=G==null?void 0:G[0])==null?void 0:C[0])==="{"&&(s.pop(),G=s[s.length-1]),h=new RegExp(t+(G?`|${o[G[0][0]]}${G.findEqual?"|=":""}`:""),"gmu"),h.lastIndex=c,a=h.exec(r)}return r};y.exports=g},4907:(y,k,e)=>{"use strict";const f=e(6010),T=e(851),S=e(3423),u=e(8655),p=e(7267),g=e(5749),r=(i,n=f.getConfig(),t=[],s=!1)=>{const o=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(s&&i.search(o)!==-1)return i.replace(o,(c,x)=>{const m=`\0${t.length}e\x7F`;return new T(x,n,t),m}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(c,x,m)=>m===""?x:(new S(m,n,t),`${x}\0${t.length-1}c\x7F`));const l=n.ext.join("|"),h=s?"includeonly":"(?:no|only)include",a=s?"noinclude":"includeonly",d=new RegExp(`<!--.*?(?:-->|$)|<${h}(?:\\s[^>]*?)?>|</${h}\\s*>|<(${l})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${a})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return i.replace(d,(c,x,m,A,F,C,w,b,P)=>{const R=`\0${t.length}${x?"e":"c"}\x7F`;if(x)new p(x,m,A,F,n,t);else if(c.startsWith("<!--")){const L=c.endsWith("-->");new g(c.slice(4,L?-3:void 0),L,n,t)}else C?new u(C,w,b,P,n,t):new S(c,n,t);return R})};y.exports=r},3765:(y,k,e)=>{"use strict";const f=e(6010),T=e(9910),S=(u,p=f.getConfig(),g=[])=>{const r=/-\{/gu,i=/-\{|\}-/gu,n=[];let t=r,s=t.exec(u);for(;s;){const{0:o,index:l}=s;if(o==="}-"){const h=n.pop(),{length:a}=g,d=u.slice(h.index+2,l),c=d.indexOf("|"),[x,m]=c===-1?[[],d]:[d.slice(0,c).split(";"),d.slice(c+1)],A=m.replace(/(&[#a-z\d]+);/giu,"$1"),F=`(?:${p.variants.join("|")})`,C=A.split(new RegExp(`;(?=\\s*(?:${F}|[^;]*?=>\\s*${F})\\s*:)`,"u")).map(w=>w.replace(/\x01/gu,";"));new T(x,C,p,g),u=`${u.slice(0,h.index)}\0${a}v\x7F${u.slice(l+2)}`,n.length===0&&(t=r),t.lastIndex=h.index+3+String(a).length}else n.push(s),t=i,t.lastIndex=l+2;s=t.exec(u)}return u};y.exports=S},7513:(y,k,e)=>{"use strict";const{extUrlChar:f,extUrlCharFirst:T}=e(231),S=e(6010),u=e(741),p=(g,r=S.getConfig(),i=[])=>{const n=new RegExp(`\\[((?:(?:${r.protocol}|//)${T}|\0\\d+m\x7F)${f})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return g.replace(n,(t,s,o,l)=>{const{length:h}=i,a=/&[lg]t;/u.exec(s);return a&&(s=s.slice(0,a.index),o="",l=`${s.slice(a.index)}${o}${l}`),new u(s,o,l,r,i),`\0${h}w\x7F`})};y.exports=p},2937:(y,k,e)=>{"use strict";const f=e(6010),T=e(7507),S=e(8138),u=e(2582),p=e(7815),g=({firstChild:{data:r},type:i,name:n},t=f.getConfig(),s=[])=>{const{doubleUnderscore:o}=t,l=new Set(o[0]),h=new Set(o[1]);return i!=="root"&&(i!=="ext-inner"||n!=="poem")&&(r=`\0${r}`),r=r.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(a,d,c)=>(new u(c.length,t,s),`${d}\0${s.length-1}r\x7F`)).replace(new RegExp(`__(${o.flat().join("|")})__`,"giu"),(a,d)=>l.has(d.toLowerCase())||h.has(d)?(new p(d,t,s),`\0${s.length-1}u\x7F`):a),i==="root"||i==="ext-inner"&&n==="poem"?r:r.slice(1)};y.exports=g},5130:(y,k,e)=>{"use strict";const f=e(6010),T=e(5649),S=e(2350),u=(p,g=f.getConfig(),r=[])=>{const i=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,n=new Set(g.html.flat()),t=p.split("<");let s=t.shift();for(const o of t){const l=i.exec(o),h=l==null?void 0:l[2],a=h==null?void 0:h.toLowerCase();if(!l||!n.has(a)){s+=`<${o}`;continue}const[,d,,c="",x,m]=l,A=new T(c,"html-attrs",a,g,r),F=A.getAttr("itemprop");if(a==="meta"&&(F===void 0||A.getAttr("content")===void 0)||a==="link"&&(F===void 0||A.getAttr("href")===void 0)){s+=`<${o}`,r.pop();continue}s+=`\0${r.length}x\x7F${m}`,new S(h,A,d==="/",x==="/>",g,r)}return s};y.exports=u},1452:(y,k,e)=>{"use strict";const f=e(6010),T=e(3905),S=e(7625),u=e(337),p=(g,r=f.getConfig(),i=[])=>{const n=e(3360),t=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,s=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,o=new RegExp(`^\\s*(?:${r.protocol})`,"iu"),l=g.split("[[");let h=l.shift();for(let a=0;a<l.length;a++){let d,c,x,m,A;const F=l[a],C=t.exec(F);if(C)[,c,x,m,A]=C,A[0]==="]"&&(m==null?void 0:m.includes("["))&&(m+="]",A=A.slice(1));else{const I=s.exec(F);I&&(d=!0,[,c,x,m]=I)}if(c===void 0||o.test(c)||/\0\d+[exhbru]\x7F/u.test(c)){h+=`[[${F}`;continue}const w=c.trim()[0]===":";if(w&&d){h+=`[[${F}`;continue}const b=f.normalizeTitle(c,0,!1,r,!0,!0),{ns:P,valid:R}=b;if(R){if(d){if(P!==6){h+=`[[${F}`;continue}let I;for(a++;a<l.length;a++){const D=l[a],O=D.split("]]");if(O.length>2){I=!0,m+=`[[${O[0]}]]${O[1]}`,A=O.slice(2).join("]]");break}else if(O.length===2)m+=`[[${O[0]}]]${O[1]}`;else{m+=`[[${D}`;break}}if(m=p(m,r,i),!I){h+=`[[${c}${x}${m}`;continue}}}else{h+=`[[${F}`;continue}m&&(m=n(m,r,i)),h+=`\0${i.length}l\x7F${A}`;let L=T;w||(P===6?L=S:P===14&&(L=u)),new L(c,m,b,r,i,x)}return h};y.exports=p},6622:(y,k,e)=>{"use strict";const f=e(6010),T=e(962),S=e(3434),u=(p,g=f.getConfig(),r=[])=>{const i=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(p);if(!i)return p;const[n,t,s]=i;p=`${t}\0${r.length}d\x7F${p.slice(n.length)}`,new T(s,g,r);let o=s.split(";").length-1;if(!o)return p;let l=/:+|-\{/gu,h=l.exec(p),a=0;for(;h&&o;){const{0:d,index:c}=h;if(d[0]===":"){if(d.length>=o)return new S(":".repeat(o),g,r),`${p.slice(0,c)}\0${r.length-1}d\x7F${p.slice(c+o)}`;p=`${p.slice(0,c)}\0${r.length}d\x7F${p.slice(l.lastIndex)}`,o-=d.length,l.lastIndex=c+4+String(r.length).length,new S(d,g,r)}else if(d==="-{"){if(!a){const{lastIndex:x}=l;l=/-\{|\}-/gu,l.lastIndex=x}a++}else if(a--,!a){const{lastIndex:x}=l;l=/:+|-\{/gu,l.lastIndex=x}h=l.exec(p)}return p};y.exports=u},4737:(y,k,e)=>{"use strict";const{extUrlChar:f,extUrlCharFirst:T}=e(231),S=e(6010),u=e(8962),p=(g,r=S.getConfig(),i=[])=>{const n=new RegExp(`(^|[^\\p{L}\\d_])(?:${r.protocol})(${T}${f})`,"giu");return g.replace(n,(t,s,o)=>{let l="",h=s?t.slice(1):t;const a=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(h);a&&(l=h.slice(a.index),h=h.slice(0,a.index));const d=new RegExp(`[,;.:!?${h.includes("(")?"":")"}]+$`,"u"),c=d.exec(h);if(c){let x=0;c[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(h.slice(0,c.index))&&(x=1),l=`${h.slice(c.index+x)}${l}`,h=h.slice(0,c.index+x)}return l.length>=o.length?t:(new u(h,!1,r,i),`${s}\0${i.length-1}w\x7F${l}`)})};y.exports=p},3360:(y,k,e)=>{"use strict";const f=e(6010),T=e(6714),S=(u,p=f.getConfig(),g=[])=>{var h;const r=u.split(/('{2,})/u),{length:i}=r;if(i===1)return u;let n=0,t=0,s,o,l;for(let a=1;a<i;a+=2){const{length:d}=r[a];switch(d){case 2:t++;break;case 4:r[a-1]+="'",r[a]="'''";case 3:if(n++,s)break;r[a-1].endsWith(" ")?!o&&!l&&(l=a):r[a-1].slice(-2,-1)===" "?s=a:o||(o=a);break;default:r[a-1]+="'".repeat(d-5),r[a]="'''''",t++,n++}}if(t%2===1&&n%2===1){const a=(h=s!=null?s:o)!=null?h:l;r[a]="''",r[a-1]+="'"}for(let a=1;a<i;a+=2)new T(r[a].length,p,g),r[a]=`\0${g.length-1}q\x7F`;return r.join("")};y.exports=S},4624:(y,k,e)=>{"use strict";const f=e(6010),T=e(7507),S=e(8138),u=e(2840),p=e(3125),g=e(5567),r=e(3434),i=({firstChild:{data:n},type:t,name:s},o=f.getConfig(),l=[])=>{const h=[],a=n.split(`
`);let d=t==="root"||t==="parameter-value"||t==="ext-inner"&&s==="poem"?"":`
${a.shift()}`;const c=(x,m)=>{if(!m){d+=x;return}const{lastChild:A}=m;if(A.constructor===S)A.setText(String(A)+x);else{const F=new S(x,o,!0,l);F.type="table-inter",m.insertAt(F.setAttribute("stage",3))}};for(const x of a){let m=h.pop();const[A]=/^(?:\s|\0\d+c\x7F)*/u.exec(x),F=x.slice(A.length),C=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{(?:\0\d+c\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(F);if(C){for(;m&&m.type!=="td";)m=h.pop();const[,I,D,O,X]=C;I&&new r(I,o,l),c(`
${A}${I&&`\0${l.length-1}d\x7F`}${D}\0${l.length}b\x7F`,m);const G=new u(O,X,o,l);h.push(...m?[m]:[],G);continue}else if(!m){d+=`
${x}`;continue}const w=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(F);if(!w){c(`
${x}`,m),h.push(...m?[m]:[]);continue}const[,b,P,R,L]=w;if(b){for(;!(m instanceof u);)m=h.pop();m.close(`
${A}${b}`,!0),c(L,h[h.length-1])}else if(P){m.type==="td"&&(m=h.pop()),m.type==="tr"&&(m=h.pop());const I=new p(`
${A}${P}`,L,o,l);h.push(m,I),m.insertAt(I)}else{m.type==="td"&&(m=h.pop());const I=R==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let D=I.exec(L),O=0,X=`
${A}${R}`;for(;D;){const V=new g(X,L.slice(O,D.index),o,l);m.insertAt(V),{lastIndex:O}=I,[X]=D,D=I.exec(L)}const G=new g(X,L.slice(O),o,l);h.push(m,G),m.insertAt(G)}}return d.slice(1)};y.exports=i},9544:(y,k,e)=>{"use strict";const{text:f}=e(231),{generateForSelf:T,generateForChild:S}=e(8277),u=e(6010),p=e(8138);class g extends p{constructor(n,t=u.getConfig(),s=[]){super(void 0,t,!0,s,{});v(this,"type","arg");for(let o=0;o<n.length;o++)if(o===0||o>1){const l=e(o===0?9237:9263),h=new l(n[o],o===0?"arg-name":void 0,t,s,{});super.insertAt(h)}else{const l=new p(n[o],t,!0,s);l.type="arg-default",super.insertAt(l.setAttribute("stage",2))}}get default(){var n,t;return(t=(n=this.childNodes[1])==null?void 0:n.text())!=null?t:!1}toString(n){return`{{{${super.toString(n,"|")}}}}`}text(){return`{{{${f(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|",class:!this.getAttribute("include")&&"arg wpb-error"})}lint(n=0){if(!this.getAttribute("include"))return[T(this,{start:n},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[t,s,...o]}=this,l=t.lint(n+3);if(s&&l.push(...s.lint(n+4+String(t).length)),o.length>0){const h={start:n,...this.getRootNode().posFromIndex(n)};l.push(...o.map(a=>S(a,h,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return l}}y.exports=g},9263:(y,k,e)=>{"use strict";const f=e(2308),T=e(9237);class S extends f(T){constructor(){super(...arguments);v(this,"type","hidden")}}y.exports=S},9237:(y,k,e)=>{"use strict";const f=e(6010),T=e(8138);class S extends T{constructor(g,r,i=f.getConfig(),n=[],t=void 0){super(g,i,!0,n,t);v(this,"type","plain");r&&(this.type=r)}}y.exports=S},5037:(y,k,e)=>{var x,m;"use strict";const{generateForChild:f}=e(8277),{removeComment:T}=e(231),S=e(6010),u=e(8138),p=e(9237),g=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),r=new Set(["align"]),i=new Set(["cite"]),n=new Set(["cite","datetime"]),t=new Set(["width"]),s=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),o=new Set(["type"]),l={div:r,h1:r,h2:r,h3:r,h4:r,h5:r,h6:r,blockquote:i,q:i,p:r,br:new Set(["clear"]),pre:t,ins:n,del:n,ul:o,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:r,tr:new Set(["bgcolor","align","valign"]),td:s,th:s,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:t,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix"]),combooption:new Set(["name","for","inline","align"])},h=new Set,a={nowiki:h,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:h,inputbox:h,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:h,poll:new Set(["id","show-results-before-voting"]),sm2:o,flashmp3:o,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},d=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class c extends u{constructor(C,w,b="",P="",R=[],L=S.getConfig(),I=[]){const D=new p(w,"attr-key",L,I,{}),O=w==="title"?new u(P,L,!0,I,{}).setAttribute("type","attr-value").setAttribute("stage",S.MAX_STAGE-1):new p(P,"attr-value",L,I,{});super(void 0,L,!0,I);E(this,x,void 0);E(this,m,void 0);this.type=C,this.append(D,O),H(this,x,b),H(this,m,R),this.setAttribute("name",T(w).trim().toLowerCase())}get balanced(){return!$(this,x)||$(this,m)[0]===$(this,m)[1]}get value(){return this.getValue()}afterBuild(){$(this,x).includes("\0")&&H(this,x,this.getAttribute("buildFromStr")($(this,x),"string")),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(C){const[w="",b=""]=$(this,m);return $(this,x)?`${super.toString(C,`${$(this,x)}${w}`)}${b}`:this.firstChild.toString(C)}text(){return $(this,x)?`${super.text(`${$(this,x).trim()}"`)}"`:this.firstChild.text()}getGaps(){var C,w;return $(this,x)?$(this,x).length+((w=(C=$(this,m)[0])==null?void 0:C.length)!=null?w:0):0}print(){const[C="",w=""]=$(this,m);return $(this,x)?super.print({sep:`${$(this,x)}${C}`,post:w}):super.print()}lint(C=0){var V;const w=super.lint(C),{balanced:b,firstChild:P,lastChild:R,type:L,name:I,parentNode:D,value:O}=this,X=D==null?void 0:D.name;let G;if(!b){const B=this.getRootNode();G={start:C,...B.posFromIndex(C)};const Q=f(R,G,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning"),Y=Q.startIndex-1,q=Q.startCol-1;w.push({...Q,startIndex:Y,startCol:q})}return!/\{\{[^{]+\}\}/u.test(I)&&(L==="ext-attr"&&!(X in l)&&a[X]&&!a[X].has(I)||(L==="html-attr"||L==="table-attr"||X in l)&&!((V=l[X])!=null&&V.has(I))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(I)&&(X==="meta"||X==="link"||!g.has(I)))?(G||(G={start:C,...this.getRootNode().posFromIndex(C)}),w.push(f(P,G,"\u975E\u6CD5\u7684\u5C5E\u6027\u540D"))):I==="style"&&typeof O=="string"&&d.test(O)&&(G||(G={start:C,...this.getRootNode().posFromIndex(C)}),w.push(f(R,G,"\u4E0D\u5B89\u5168\u7684\u6837\u5F0F"))),w}getValue(){return $(this,x)?this.lastChild.text():!0}}x=new WeakMap,m=new WeakMap,y.exports=c},5649:(y,k,e)=>{"use strict";const{generateForSelf:f,generateForChild:T}=e(8277),{removeComment:S}=e(231),u=e(6010),p=e(8138),g=e(9237),r=e(5037);class i extends p{constructor(t,s,o,l=u.getConfig(),h=[]){if(super(void 0,l,!0,h,{}),this.type=s,this.setAttribute("name",o),t){const a=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let d="",c=a.exec(t),x=0;const m=()=>{d&&(super.insertAt(new g(d,`${s.slice(0,-1)}-dirty`,l,h,{})),d="")};for(;c;){const{index:A,0:F,1:C,2:w,3:b,4:P,5:R,6:L}=c;if(d+=t.slice(x,A),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(S(C).trim())){const I=P!=null?P:L,D=[b,R],O=new r(s.slice(0,-1),C,w,I,D,l,h);m(),super.insertAt(O)}else d+=F;({lastIndex:x}=a),c=a.exec(t)}d+=t.slice(x),m()}}afterBuild(){var s,o;const t=e(5567);this.type==="table-attrs"&&this.setAttribute("name",((s=this.parentNode)==null?void 0:s.subtype)==="caption"?"caption":(o=this.parentNode)==null?void 0:o.type)}getAttrTokens(t){return this.childNodes.filter(s=>s instanceof r&&s.name===t.toLowerCase().trim())}getAttrToken(t){const s=this.getAttrTokens(t);return s[s.length-1]}getAttr(t){var s;return(s=this.getAttrToken(t))==null?void 0:s.getValue()}lint(t=0){const s=e(2350),o=super.lint(t),{parentNode:{closing:l},length:h,childNodes:a}=this,d={},c=new Set;let x;l&&this.text().trim()&&(x={start:t,...this.getRootNode().posFromIndex(t)},o.push(f(this,x,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027")));for(let m=0;m<h;m++){const A=a[m];if(A instanceof g&&A.text().trim())x||(x={start:t,...this.getRootNode().posFromIndex(t)}),o.push(T(A,x,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"));else if(A instanceof r){const{name:F}=A;F in d?(c.add(F),d[F].push(A)):F!=="class"&&(d[F]=[A])}}if(c.size>0){x||(x={start:t,...this.getRootNode().posFromIndex(t)});for(const m of c)o.push(...d[m].map(A=>T(A,x,`\u91CD\u590D\u7684${m}\u5C5E\u6027`)))}return o}print(){const t=e(2350);return String(this)?`<span class="wpb-${this.type}${this.parentNode.closing&&this.text().trim()?" wpb-error":""}">${this.childNodes.map(s=>s.print({class:s instanceof g&&s.text().trim()&&"hidden"})).join("")}</span>`:""}}y.exports=i},8103:(y,k,e)=>{"use strict";const f=e(6010),T=e(8138),S=e(2158);class u extends T{constructor(r,i=f.getConfig(),n=[]){super(void 0,i,!0,n,{});v(this,"type","ext-inner");v(this,"name","charinsert");const t=S;this.append(...r.split(`
`).map(s=>new t(s,"charinsert-line",i,n)))}toString(r){return super.toString(r,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}y.exports=u},9910:(y,k,e)=>{"use strict";const{text:f,print:T}=e(231),S=e(6010),u=e(8138),p=e(6719),g=e(8683);class r extends u{constructor(t,s,o=S.getConfig(),l=[]){super(void 0,o,!0,l);v(this,"type","converter");this.append(new p(t,o,l));const[h]=s,a=h.includes(":"),d=new g(h,a,o,l);a&&d.length===1?this.insertAt(new g(s.join(";"),!1,o,l)):this.append(d,...s.slice(1).map(c=>new g(c,!0,o,l)))}toString(t){const{childNodes:[s,...o]}=this;return`-{${s.toString()}${s.length>0?"|":""}${o.map(String).join(";")}}-`}text(){const{childNodes:[t,...s]}=this;return`-{${t.text()}|${f(s,";")}}-`}getPadding(){return 2}getGaps(t=0){return t=t<0?t+this.length:t,t||this.firstChild.length>0?1:0}print(){const{childNodes:[t,...s]}=this;return`<span class="wpb-converter">-{${t.print()}${t.length>0?"|":""}${T(s,{sep:";"})}}-</span>`}}y.exports=r},6719:(y,k,e)=>{var r;"use strict";const{generateForChild:f}=e(8277),T=e(6010),S=e(8138),u=e(9237),p=new Set(["A","T","R","D","-","H","N"]);class g extends S{constructor(t,s=T.getConfig(),o=[]){super(void 0,s,!0,o,{});v(this,"type","converter-flags");E(this,r,void 0);this.append(...t.map(l=>new u(l,"converter-flag",s,o)))}afterBuild(){H(this,r,this.childNodes.map(t=>t.text().trim()))}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t=0){const s=this.getVariantFlags(),o=this.getUnknownFlags(),l=new Set($(this,r).filter(A=>p.has(A))),{length:h}=$(this,r).filter(A=>!A),a=$(this,r).length-o.size-h,d=super.lint(t);if(s.size===a||l.size===a)return d;const c={start:t,...this.getRootNode().posFromIndex(t)},{childNodes:x,length:m}=this;for(let A=0;A<m;A++){const F=x[A],C=F.text().trim();if(C&&!s.has(C)&&!o.has(C)&&(s.size>0||!l.has(C))){const w=f(F,c,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");d.push(w)}}return d}getUnknownFlags(){return new Set($(this,r).filter(t=>/\{\{[^{}]+\}\}/u.test(t)))}getVariantFlags(){const t=new Set(this.getAttribute("config").variants);return new Set($(this,r).filter(s=>t.has(s)))}}r=new WeakMap,y.exports=g},8683:(y,k,e)=>{"use strict";const f=e(6010),T=e(8138),S=e(9237);class u extends T{constructor(r,i=!0,n=f.getConfig(),t=[]){super(void 0,n,!0,t);v(this,"type","converter-rule");if(i){const s=r.indexOf(":"),o=r.slice(0,s).indexOf("=>"),l=o===-1?r.slice(0,s):r.slice(o+2,s),{variants:h}=n;h.includes(l.trim())?(super.insertAt(new S(l,"converter-rule-variant",n,t)),super.insertAt(new S(r.slice(s+1),"converter-rule-to",n,t)),o!==-1&&super.insertAt(new S(r.slice(0,o),"converter-rule-from",n,t),0)):super.insertAt(new S(r,"converter-rule-noconvert",n,t))}else super.insertAt(new S(r,"converter-rule-noconvert",n,t))}toString(r){if(this.length===3){const{childNodes:[i,n,t]}=this;return`${i.toString(r)}=>${n.toString(r)}:${t.toString(r)}`}return super.toString(r,":")}text(){if(this.length===3){const{childNodes:[r,i,n]}=this;return`${r.text()}=>${i.text()}:${n.text()}`}return super.text(":")}getGaps(r=0){const{length:i}=this;return r=r<0?r+i:r,r===0&&i===3?2:1}print(){if(this.length===3){const{childNodes:[r,i,n]}=this;return`<span class="wpb-converter-rule">${r.print()}=>${i.print()}:${n.print()}</span>`}return super.print({sep:":"})}}y.exports=u},741:(y,k,e)=>{var p;"use strict";const f=e(6010),T=e(8138),S=e(8962);class u extends T{constructor(i,n,t,s=f.getConfig(),o=[]){super(void 0,s,!0,o,{});v(this,"type","ext-link");E(this,p,void 0);if(this.insertAt(new S(i,!0,s,o)),H(this,p,n),t){const l=new T(t,s,!0,o,{});l.type="ext-link-text",this.insertAt(l.setAttribute("stage",f.MAX_STAGE-1))}}toString(i){return this.length===1?`[${super.toString(i)}${$(this,p)}]`:`[${super.toString(i,$(this,p))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return $(this,p).length}print(){const{length:i}=this;return super.print(i>1?{pre:"[",sep:$(this,p),post:"]"}:{pre:"[",post:`${$(this,p)}]`})}}p=new WeakMap,y.exports=u},1891:(y,k,e)=>{"use strict";const f=e(6010),T=e(8138),S=e(1031),u=e(9263);class p extends T{constructor(i,n=f.getConfig(),t=[]){var o;super(void 0,n,!0,t,{});v(this,"type","ext-inner");v(this,"name","gallery");const s=JSON.parse(JSON.stringify(n));for(const[l,h]of Object.entries(n.img))h==="width"&&delete s.img[l];for(const l of(o=i==null?void 0:i.split(`
`))!=null?o:[]){const h=/^([^|]+)(?:\|(.*))?/u.exec(l);if(!h){super.insertAt(l.trim()?new u(l,void 0,n,[],{}):l);continue}const[,a,d]=h,c=this.normalizeTitle(a,6,!0,!0);c.valid?super.insertAt(new S(a,d,c,s,t)):super.insertAt(new u(l,void 0,n,[],{}))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i=0){const{top:n,left:t}=this.getRootNode().posFromIndex(i),s=[];for(let o=0,l=i;o<this.length;o++){const h=this.childNodes[o],a=String(h),{length:d}=a,c=a.trim(),x=n+o,m=o?0:t;h.type==="hidden"&&c&&!/^<!--.*-->$/u.test(c)?s.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startIndex:l,endIndex:l+d,startLine:x,endLine:x,startCol:m,endCol:m+d}):h.type!=="hidden"&&h.type!=="text"&&s.push(...h.lint(l)),l+=d+1}return s}}y.exports=p},2158:(y,k,e)=>{"use strict";const f=e(6010),T=e(8138),S=e(3423);class u extends T{constructor(g,r,i=f.getConfig(),n=[]){g=g.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(t,s,o,l)=>(new S(s,i,n),new S(l,i,n),`\0${n.length-1}c\x7F${o}\0${n.length}c\x7F`)),super(g,i,!0,n,{}),this.type=r}}y.exports=u},428:(y,k,e)=>{"use strict";const f=e(6010),T=e(2158);class S extends T{constructor(g,r=f.getConfig(),i=[]){super(g,"ext-inner",r,i);v(this,"name","pre");this.setAttribute("stage",f.MAX_STAGE-1)}isPlain(){return!0}}y.exports=S},9450:(y,k,e)=>{"use strict";const{generateForSelf:f}=e(8277),T=e(6010),S=e(8138),u=e(8058);class p extends S{constructor(i,n,t=T.getConfig(),s=[]){super(void 0,t,!0,s);v(this,"type","heading");this.setAttribute("name",String(i));const o=new S(n[0],t,!0,s);o.type="heading-title",o.setAttribute("stage",2);const l=new u(n[1],/^[^\S\n]*$/u,"heading-trail",t,s,{});this.append(o,l)}toString(i){const n="=".repeat(Number(this.name));return`${n}${this.firstChild.toString()}${n}${this.lastChild.toString()}`}text(){const i="=".repeat(Number(this.name));return`${i}${this.firstChild.text()}${i}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const i="=".repeat(Number(this.name)),n=String(this.firstChild);return super.print({pre:i,sep:i,class:(n[0]==="="||n.endsWith("=")||this.closest("html-attrs, table-attrs"))&&"heading wpb-error"})}lint(i=0){const n=super.lint(i),t=String(this.firstChild);let s;return this.name==="1"&&(s=f(this,{start:i},"<h1>"),n.push(s)),(t[0]==="="||t.endsWith("="))&&(s||(s=f(this,{start:i},"")),n.push({...s,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(s||(s=f(this,{start:i},"")),n.push({...s,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),n}}y.exports=p},2350:(y,k,e)=>{var p,g,r;"use strict";const{generateForSelf:f}=e(8277),T=e(6010),S=e(8138);class u extends S{constructor(t,s,o,l,h=T.getConfig(),a=[]){super(void 0,h,!0,a);v(this,"type","html");E(this,p,void 0);E(this,g,void 0);E(this,r,void 0);this.insertAt(s),this.setAttribute("name",t.toLowerCase()),H(this,p,o),H(this,g,l),H(this,r,t)}get closing(){return $(this,p)}toString(t){return`<${$(this,p)?"/":""}${$(this,r)}${super.toString()}${$(this,g)?"/":""}>`}text(){return`<${$(this,p)?"/":""}${$(this,r)}${$(this,p)?"":super.text()}${$(this,g)?"/":""}>`}getPadding(){return $(this,r).length+($(this,p)?2:1)}print(){return super.print({pre:`&lt;${$(this,p)?"/":""}${$(this,r)}`,post:`${$(this,g)?"/":""}&gt;`,class:this.closest("table-attrs")&&"html wpb-error"})}lint(t=0){const s=super.lint(t);let o;this.name==="h1"&&!$(this,p)&&(o=f(this,{start:t},"<h1>"),s.push(o)),this.closest("table-attrs")&&(o||(o=f(this,{start:t},"")),s.push({...o,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:l}){o||(o=f(this,{start:t},""));const[h]=l.split("\uFF1A"),a={...o,message:h,severity:h==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};s.push(a)}return s}findMatchingTag(){const{html:t}=this.getAttribute("config"),{name:s,parentNode:o}=this,l=String(this);if($(this,p)&&($(this,g)||t[2].includes(s)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${l}`);if(t[2].includes(s)||$(this,g)&&t[1].includes(s))return this;if($(this,g)&&t[0].includes(s))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${l}`);if(!o)return;const{childNodes:h}=o,a=h.indexOf(this),d=$(this,p)?h.slice(0,a).reverse().filter(({type:x,name:m})=>x==="html"&&m===s):h.slice(a+1).filter(({type:x,name:m})=>x==="html"&&m===s);let c=$(this,p)?-1:1;for(const x of d)if(x.closing?c--:c++,c===0)return x;throw new SyntaxError(`\u672A${$(this,p)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${l}`)}}p=new WeakMap,g=new WeakMap,r=new WeakMap,y.exports=u},1874:(y,k,e)=>{var r,ot,n;"use strict";const{print:f,extUrlChar:T,extUrlCharFirst:S}=e(231),u=e(6010),p=e(8138),s=class extends p{constructor(h,a=u.getConfig(),d=[]){var l=(...t)=>{super(...t);v(this,"type","image-parameter");E(this,n,"")};var m;const c=Object.entries(a.img).map(([A,F])=>[A,F,new RegExp(`^(\\s*)${A.replace("$1","(.*)")}(\\s*)$`,"u")]),x=c.find(([,,A])=>A.test(h));if(x){const A=x[2].exec(h);if(A.length!==4||J(m=s,r,ot).call(m,x[1],A[2],a,!0)){A.length===3?(l(void 0,a,!0,d),H(this,n,h)):(l(A[2],a,!0,d,{}),H(this,n,`${A[1]}${x[0]}${A[3]}`)),this.setAttribute("name",x[1]);return}}l(h,a,!0,d),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(h){return $(this,n)?$(this,n).replace("$1",super.toString(h)):super.toString(h)}text(){return $(this,n)?$(this,n).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,$(this,n).indexOf("$1"))}print(){return $(this,n)?`<span class="wpb-image-parameter">${$(this,n).replace("$1",`<span class="wpb-image-caption">${f(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let g=s;r=new WeakSet,ot=function(h,a,d=u.getConfig(),c=!1){switch(a=a.replace(/\0\d+t\x7F/gu,"").trim(),h){case"width":return/^\d*(?:x\d*)?$/u.test(a);case"link":return!a||new RegExp(`(?:(?:${d.protocol}|//)${S}|\0\\d+m\x7F)${T}(?=\0\\d+t\x7F|$)`,"iu").test(a)?!0:(a.startsWith("[[")&&a.endsWith("]]")&&(a=a.slice(2,-2)),u.normalizeTitle(a,0,!1,d,c,!0).valid);case"lang":return d.variants.includes(a);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(a)}},n=new WeakMap,E(g,r),y.exports=g},2641:(y,k,e)=>{"use strict";const{generateForSelf:f,generateForChild:T}=e(8277),S=e(6010),u=e(8138),p=e(3423),g=e(1031),r=e(2571);class i extends u{constructor(s,o=S.getConfig(),l=[]){super(void 0,o,!0,l,{});v(this,"type","ext-inner");v(this,"name","imagemap");if(!s)return;const h=s.split(`
`),a=new Set(o.protocol.split("|")),d=p,c=A=>{super.insertAt(new d(A,o,l))};let x=!0,m=!1;for(const A of h){const F=A.trim();if(!(m||!F||F[0]==="#")){if(x){const[C,...w]=A.split("|"),b=this.normalizeTitle(C,0,!0);if(b.valid&&!b.interwiki&&b.ns===6){const P=new g(C,w.length>0?w.join("|"):void 0,b,o,l);P.type="imagemap-image",super.insertAt(P),x=!1;continue}else m=!0}else if(A.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(A);continue}else if(A.includes("[")){const C=A.indexOf("["),w=A.slice(C),b=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(w);if(b){const P=this.normalizeTitle(b[1],0,!0);if(P.valid){super.insertAt(new r(A.slice(0,C),[...b.slice(1),P],w.slice(w.indexOf("]]")+2),o,l));continue}}else if(a.has(w.slice(1,w.indexOf(":")+1))||a.has(w.slice(1,w.indexOf("//")+2))){const P=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(w);if(P){super.insertAt(new r(A.slice(0,C),P.slice(1),w.slice(w.indexOf("]")+1),o,l));continue}}}}c(A)}}get image(){return this.childNodes.find(({type:s})=>s==="imagemap-image")}toString(s){return super.toString(s,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`,class:!this.image&&"ext-inner wpb-error"})}lint(s=0){const o=super.lint(s),l={start:s,...this.getRootNode().posFromIndex(s)};return this.image?o.push(...this.childNodes.filter(h=>{const a=String(h).trim();return h.type==="noinclude"&&a&&a[0]!=="#"}).map(h=>T(h,l,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):o.push(f(this,l,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),o}}y.exports=i},2571:(y,k,e)=>{"use strict";const f=e(6986),T=e(8138),S=e(3423),u=e(3905),p=e(741);class g extends T{constructor(n,t,s,o,l){const h=t[2]instanceof f?u:p;super(void 0,o,!0,l);v(this,"type","imagemap-link");this.append(n,new h(...t,o,l),new S(s,o,l))}}y.exports=g},8138:(y,k,e)=>{var r,i,n,t,s,o,l,h,lt,d,ht,x,at,A,dt,C,pt,b,ut,R,ct,I,gt,O,ft,G,xt,B,mt;"use strict";const{text:f}=e(231),T=e(6010),S=e(9205),u=e(7507),{MAX_STAGE:p}=T,Y=class extends S{constructor(N,j=T.getConfig(),z=!1,Z=[],tt=void 0){super();E(this,h);E(this,d);E(this,x);E(this,A);E(this,C);E(this,b);E(this,R);E(this,I);E(this,O);E(this,G);E(this,B);v(this,"type","root");E(this,r,0);E(this,i,void 0);E(this,n,void 0);E(this,t,void 0);E(this,s,(N=$(this,r),j=!1)=>{if(N<$(this,r)||!this.isPlain()||this.length===0)return this;switch(N){case 0:this.type==="root"&&$(this,n).shift(),H(this,t,Boolean(j)),J(this,h,lt).call(this,j);break;case 1:J(this,d,ht).call(this);break;case 2:J(this,x,at).call(this);break;case 3:J(this,A,dt).call(this);break;case 4:J(this,C,pt).call(this);break;case 5:J(this,b,ut).call(this);break;case 6:J(this,R,ct).call(this);break;case 7:J(this,I,gt).call(this);break;case 8:J(this,O,ft).call(this);break;case 9:J(this,G,xt).call(this);break;case 10:J(this,B,mt).call(this)}if(this.type==="root")for(const z of $(this,n))z.getAttribute("parseOnce")(N,j);return nt(this,r)._++,this});E(this,o,(N,j)=>{const z=N.split(/[\0\x7F]/u).map((Z,tt)=>{if(tt%2===0)return new u(Z,$(this,i));if(isNaN(Z[Z.length-1]))return $(this,n)[Number(Z.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${Z}`)});return j==="string"?z.map(String).join(""):j==="text"?f(z):z});E(this,l,()=>{H(this,r,p);const{length:N,firstChild:j}=this,z=String(j);if(N===1&&j.type==="text"&&z.includes("\0")&&(this.replaceChildren(...$(this,o).call(this,z)),this.normalize(),this.type==="root"))for(const Z of $(this,n))Z.getAttribute("build")()});typeof N=="string"&&this.insertAt(z?N:N.replace(/[\0\x7F]/gu,"")),H(this,i,j),H(this,n,Z),Z.push(this)}getAttribute(N){switch(N){case"config":return JSON.parse(JSON.stringify($(this,i)));case"accum":return $(this,n);case"parseOnce":return $(this,s);case"buildFromStr":return $(this,o);case"build":return $(this,l);case"include":{if($(this,t)!==void 0)return $(this,t);const j=this.getRootNode();return j.type==="root"&&j!==this?j.getAttribute("include"):!1}default:return super.getAttribute(N)}}setAttribute(N,j){switch(N){case"stage":return $(this,r)===0&&this.type==="root"&&$(this,n).shift(),H(this,r,j),this;default:return super.setAttribute(N,j)}}isPlain(){return this.constructor===Y}insertAt(N,j=this.length){return typeof N=="string"&&(N=new u(N,$(this,i))),super.insertAt(N,j),N.type==="root"&&(N.type="plain"),N}normalizeTitle(N,j=0,z=!1,Z=!1){return T.normalizeTitle(N,j,$(this,t),$(this,i),z,Z)}afterBuild(){if(this.type==="root")for(const N of $(this,n))N.afterBuild()}parse(N=p,j=!1){for(;$(this,r)<N;)$(this,s).call(this,$(this,r),j);return N&&($(this,l).call(this),this.afterBuild()),this}};let g=Y;r=new WeakMap,i=new WeakMap,n=new WeakMap,t=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakSet,lt=function(N){const j=e(4907);this.setText(j(String(this.firstChild),$(this,i),$(this,n),N))},d=new WeakSet,ht=function(){const N=e(8275),j=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,z=N(j,$(this,i),$(this,n));this.setText(this.type==="root"?z:z.slice(1))},x=new WeakSet,at=function(){const N=e(5130);this.setText(N(String(this.firstChild),$(this,i),$(this,n)))},A=new WeakSet,dt=function(){const N=e(4624),j=e(2840);this.setText(N(this,$(this,i),$(this,n)));for(const z of $(this,n))if(z instanceof j&&z.type!=="td"){z.normalize();const{childNodes:[,Z]}=z;if(typeof Z=="string"&&Z.includes("\0")){z.removeAt(1);const tt=new Y(Z,$(this,i),!0,$(this,n));z.insertAt(tt,1),tt.setAttribute("stage",4)}}},C=new WeakSet,pt=function(){const N=e(2937);this.setText(N(this,$(this,i),$(this,n)))},b=new WeakSet,ut=function(){const N=e(1452);this.setText(N(String(this.firstChild),$(this,i),$(this,n)))},R=new WeakSet,ct=function(){const N=e(3360),j=String(this.firstChild).split(`
`);for(let z=0;z<j.length;z++)j[z]=N(j[z],$(this,i),$(this,n));this.setText(j.join(`
`))},I=new WeakSet,gt=function(){const N=e(7513);this.setText(N(String(this.firstChild),$(this,i),$(this,n)))},O=new WeakSet,ft=function(){const N=e(4737);this.setText(N(String(this.firstChild),$(this,i),$(this,n)))},G=new WeakSet,xt=function(){if(this.type==="image-parameter")return;const N=e(6622),j=String(this.firstChild).split(`
`);let z=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;z<j.length;z++)j[z]=N(j[z],$(this,i),$(this,n));this.setText(j.join(`
`))},B=new WeakSet,mt=function(){const N=e(3765);this.setText(N(String(this.firstChild),$(this,i),$(this,n)))},y.exports=g},337:(y,k,e)=>{"use strict";const f=e(3905);class T extends f{constructor(){super(...arguments);v(this,"type","category")}}y.exports=T},7625:(y,k,e)=>{var t,et;"use strict";const{explode:f}=e(231),{generateForChild:T}=e(8277),S=e(6010),u=e(3905),p=e(1874),g=new Set(["manualthumb","frameless","framed","thumbnail"]),r=new Set(["left","right","center","none"]),i=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class n extends u{constructor(h,a,d,c=S.getConfig(),x=[],m="|"){super(h,void 0,d,c,x,m);E(this,t);v(this,"type","file");this.append(...f("-{","}-","|",a).map(A=>new p(A,c,x)))}lint(h=0){const a=super.lint(h),d=this.getAllArgs(),c=[...new Set(d.map(({name:C})=>C))],x=c.filter(C=>g.has(C)),m=c.filter(C=>r.has(C)),A=c.filter(C=>i.has(C));if(d.length===c.length&&x.length<2&&m.length<2&&A.length<2)return a;const F={start:h,...this.getRootNode().posFromIndex(h)};for(const C of c){let w=d.filter(({name:b})=>b===C);C==="caption"&&(w=[...w.slice(0,-1).filter(b=>b.text()),w[w.length-1]]),w.length>1&&a.push(...w.map(b=>T(b,F,`\u91CD\u590D\u7684\u56FE\u7247${C}\u53C2\u6570`)))}return x.size>1&&a.push(...d.filter(({name:C})=>g.has(C)).map(C=>T(C,F,"\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),m.size>1&&a.push(...d.filter(({name:C})=>r.has(C)).map(C=>T(C,F,"\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),A.size>1&&a.push(...d.filter(({name:C})=>i.has(C)).map(C=>T(C,F,"\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),a}getAllArgs(){return this.childNodes.slice(1)}getArgs(h){return this.getAllArgs().filter(({name:a})=>h===a)}getFrameArgs(){return J(this,t,et).call(this,g,"\u6846\u67B6")}getHorizAlignArgs(){return J(this,t,et).call(this,r,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return J(this,t,et).call(this,i,"\u5782\u76F4\u5BF9\u9F50")}}t=new WeakSet,et=function(h,a){return this.getAllArgs().filter(({name:c})=>h.has(c))},y.exports=n},1031:(y,k,e)=>{var g;"use strict";const{generateForSelf:f}=e(8277),T=e(6010),S=e(8138),u=e(7625);class p extends u{constructor(n,t,s,o=T.getConfig(),l=[]){let h;if(t!==void 0){h=new S(t,o,!0,l),h.type="temp";for(let a=1;a<T.MAX_STAGE;a++)h.getAttribute("parseOnce")();l.splice(l.indexOf(h),1)}super(n,h==null?void 0:h.toString(),s,o,l);v(this,"type","gallery-image");E(this,g,!1);this.setAttribute("bracket",!1)}afterBuild(){const n=this.type==="imagemap-image",{interwiki:t,ns:s}=this.normalizeTitle(String(this.firstChild),n?0:6,!0,!n);H(this,g,t||s!==6)}getPadding(){return 0}lint(n=0){const t=super.lint(n);return $(this,g)&&t.push(f(this,{start:n},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),t}print(){return super.print({class:$(this,g)&&"gallery-image wpb-error"})}}g=new WeakMap,y.exports=p},3905:(y,k,e)=>{var r,i;"use strict";const{generateForChild:f}=e(8277),T=e(6010),S=e(7507),u=e(8138),p=e(9237);class g extends u{constructor(s,o,l,h=T.getConfig(),a=[],d="|"){super(void 0,h,!0,a,{});v(this,"type","link");E(this,r,!0);E(this,i,void 0);if(this.insertAt(new p(s,"link-target",h,a,{})),o!==void 0){const c=new u(o,h,!0,a,{});c.type="link-text",this.insertAt(c.setAttribute("stage",T.MAX_STAGE-1))}H(this,i,d)}afterBuild(){var s;(s=$(this,i))!=null&&s.includes("\0")&&H(this,i,this.getAttribute("buildFromStr")($(this,i),"string"))}setAttribute(s,o){return s==="bracket"?(H(this,r,Boolean(o)),this):super.setAttribute(s,o)}toString(s){const o=super.toString(s,$(this,i));return $(this,r)?`[[${o}]]`:o}text(){const s=super.text("|");return $(this,r)?`[[${s}]]`:s}getPadding(){return 2}getGaps(){return $(this,i).length}print(){return super.print($(this,r)?{pre:"[[",post:"]]",sep:$(this,i)}:{sep:$(this,i)})}lint(s=0){var h;const o=super.lint(s),{childNodes:[,l]}=this;return(h=l==null?void 0:l.childNodes)!=null&&h.some(({type:a,data:d})=>a==="text"&&d.includes("|"))&&o.push(f(l,{token:this,start:s},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"',"warning")),o}}r=new WeakMap,i=new WeakMap,y.exports=g},8962:(y,k,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(6010),S=e(8138);class u extends S{constructor(r,i,n=T.getConfig(),t=[]){super(r,n,!0,t,{});v(this,"type","free-ext-link");i&&(this.type="ext-link-url")}lint(r=0){const i=super.lint(r),n=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`;let t;for(const s of this.childNodes){const o=String(s);if(s.type!=="text"||!new RegExp(n,"u").test(o))continue;t||(t={start:r,...this.getRootNode().posFromIndex(r)});const l=f(s,t,"","warning"),h=new RegExp(n,"gu");for(let a=h.exec(o);a;a=h.exec(o)){const{index:d,0:{0:c,length:x}}=a,m=o.slice(0,d).split(`
`),{length:A}=m,{length:F}=m[A-1],C=r+d,w=l.startLine+A-1,b=(A>1?0:l.startCol)+F;i.push({...l,message:`URL\u4E2D\u7684${c==="|"?'"|"':"\u5168\u89D2\u6807\u70B9"}`,startIndex:C,endIndex:C+x,startLine:w,endLine:w,startCol:b,endCol:b+x})}}return i}}y.exports=u},9389:(y,k,e)=>{"use strict";const f=e(6010),T=e(8889);class S extends T{constructor(g,r=f.getConfig(),i=[]){super(g,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],r,i);v(this,"name","choose")}}y.exports=S},9269:(y,k,e)=>{"use strict";const f=e(6010),T=e(8889);class S extends T{constructor(g,r=f.getConfig(),i=[]){super(g,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],r,i);v(this,"name","combobox")}}y.exports=S},8889:(y,k,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(6010),S=e(8138),u=e(7267),p=e(3423),g=e(5749);class r extends S{constructor(t,s,o,l=T.getConfig(),h=[]){var d;const a=(d=t==null?void 0:t.replace(s,(c,x,m,A,F)=>{const C=`\0${h.length+1}${x?"e":"c"}\x7F`;if(x)new u(x,m,A,F,l,h);else{const w=c.endsWith("-->");new g(c.slice(4,w?-3:void 0),w,l,h)}return C}))==null?void 0:d.replace(/(^|\0\d+[ce]\x7F)(.*?)(?=$|\0\d+[ce]\x7F)/gsu,(c,x,m)=>m===""?x:(new p(m,l,h),`${x}\0${h.length}c\x7F`));super(a,l,!0,h,{});v(this,"type","ext-inner")}lint(t=0){let s;return[...super.lint(t),...this.childNodes.filter(o=>{if(o.type==="ext"||o.type==="comment")return!1;const l=String(o).trim();return l&&!/^<!--.*-->$/u.test(l)}).map(o=>(s||(s={start:t,...this.getRootNode().posFromIndex(t)}),f(o,s,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}y.exports=r},5937:(y,k,e)=>{"use strict";const f=e(6010),T=e(8889);class S extends T{constructor(g,r=f.getConfig(),i=[]){super(g,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],r,i);v(this,"name","references")}}y.exports=S},7033:(y,k,e)=>{var f={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function T(u){var p=S(u);return e(p)}function S(u){if(!e.o(f,u)){var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}return f[u]}T.keys=function(){return Object.keys(f)},T.resolve=S,y.exports=T,T.id=7033},5749:(y,k,e)=>{"use strict";const f=e(2308),{generateForSelf:T}=e(8277),S=e(6010),u=e(6935);class p extends f(u){constructor(i,n=!0,t=S.getConfig(),s=[]){super(i,t,s);v(this,"type","comment");v(this,"closed");this.closed=n}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":"",class:!this.closed&&"comment wpb-error"})}lint(i=0){return this.closed?[]:[T(this,{start:i},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(i){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}y.exports=p},3434:(y,k,e)=>{"use strict";const f=e(6935);class T extends f{constructor(){super(...arguments);v(this,"type","dd")}}y.exports=T},7815:(y,k,e)=>{"use strict";const f=e(2308),T=e(6935);class S extends f(T){constructor(){super(...arguments);v(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(g){return`__${String(this.firstChild)}__`}}y.exports=S},2582:(y,k,e)=>{"use strict";const f=e(6010),T=e(6935);class S extends T{constructor(g,r=f.getConfig(),i=[]){super("-".repeat(g),r,i);v(this,"type","hr")}}y.exports=S},6935:(y,k,e)=>{"use strict";const{generateForSelf:f}=e(8277),T=e(6010),S=e(8138);class u extends S{constructor(r,i=T.getConfig(),n=[]){super(r,i,!0,n);v(this,"type","ext-inner")}lint(r=0){const{type:i,name:n}=this;return i==="ext-inner"&&(n==="templatestyles"||n==="section")&&String(this)?[f(this,{start:r},`<${n}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(r)}}y.exports=u},962:(y,k,e)=>{"use strict";const f=e(3434);class T extends f{constructor(){super(...arguments);v(this,"type","list")}}y.exports=T},3423:(y,k,e)=>{"use strict";const f=e(2308),T=e(6935);class S extends f(T){constructor(){super(...arguments);v(this,"type","noinclude")}}y.exports=S},6714:(y,k,e)=>{"use strict";const{generateForSelf:f}=e(8277),T=e(6010),S=e(7507),u=e(6935);class p extends u{constructor(i,n=T.getConfig(),t=[]){super("'".repeat(i),n,t);v(this,"type","quote")}lint(i=0){const{previousSibling:n,nextSibling:t}=this,s=`\u5B64\u7ACB\u7684"'"`,o=[];let l;if((n==null?void 0:n.type)==="text"&&n.data.endsWith("'")){l=f(this,{start:i},s);const{startIndex:h,startLine:a,startCol:d}=l,[,{length:c}]=n.data.match(/(?:^|[^'])('+)$/u),x=i-c;o.push({...l,startIndex:x,endIndex:h,startCol:d-c,endLine:a,endCol:d})}if((t==null?void 0:t.type)==="text"&&t.data[0]==="'"){l||(l=f(this,{start:i},s));const{endIndex:h,endLine:a,endCol:d}=l,[{length:c}]=t.data.match(/^'+/u),x=h+c;o.push({...l,startIndex:h,endIndex:x,startLine:a,startCol:d,endCol:d+c})}return o}}y.exports=p},851:(y,k,e)=>{"use strict";const f=e(6010),T=e(8138);class S extends T{constructor(g,r=f.getConfig(),i=[]){super(g,r,!0,i);v(this,"type","onlyinclude")}toString(g){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}y.exports=S},9380:(y,k,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(6010),S=e(8138),u=e(9237);class p extends S{constructor(i,n=T.getConfig(),t=[]){super(void 0,n,!0,t,{});v(this,"type","ext-inner");if(i){const s=u;this.append(...i.split(`
`).map(o=>new s(o,"param-line",n,t,{})))}}toString(i){return super.toString(i,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(i=0){let n;return this.childNodes.filter(t=>{const{childNodes:s}=t,o=s.findIndex(({type:h})=>h!=="text"),l=(o>=0?s.slice(0,o).map(String).join(""):String(t)).trim();return l&&!(o>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(l)}).map(t=>(n||(n={start:i,...this.getRootNode().posFromIndex(i)}),f(t,n,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}y.exports=p},9799:(y,k,e)=>{"use strict";const{extUrlChar:f,extUrlCharFirst:T}=e(231),{generateForChild:S}=e(8277),u=e(6010),p=e(8138);class g extends p{constructor(n,t,s=u.getConfig(),o=[]){super(void 0,s,!0,o);v(this,"type","parameter");const l=new p(typeof n=="number"?void 0:n,s,!0,o,{}),h=new p(t,s,!0,o);l.type="parameter-key",h.type="parameter-value",this.append(l,h.setAttribute("stage",2))}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const n=e(1782),t=String(this.firstChild).replace(/<!--.*?-->/gu,"").replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1"),{parentNode:s}=this;this.setAttribute("name",t),s instanceof n&&s.getArgs(t,!1,!1).add(this)}}toString(n){return this.anon?this.lastChild.toString(n):super.toString(n,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(n=0){var l;const t=super.lint(n),{firstChild:s}=this,o=(l=new RegExp(`https?://${T}${f}$`,"iu").exec(String(s).replace(/<!--.*?-->/gu,"")))==null?void 0:l[0];if(o&&new URL(o).search){const h=S(s,{token:this,start:n},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");t.push({...h,startIndex:h.endIndex,endIndex:h.endIndex+1,startLine:h.endLine,startCol:h.endCol,endCol:h.endCol+1})}return t}}y.exports=g},8058:(y,k,e)=>{"use strict";const f=e(6010),T=e(8138);class S extends T{constructor(p,g,r="plain",i=f.getConfig(),n=[],t=void 0){super(p,i,!0,n,t),this.type=r}}y.exports=S},2840:(y,k,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(3125),S=e(8058);class u extends T{constructor(){super(...arguments);v(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(r=0){const i=super.lint(r);if(!this.closed){const{firstChild:n}=this,t=f(n,{token:this,start:r},"\u672A\u95ED\u5408\u7684\u8868\u683C");i.push(t)}return i}close(r=`
|}`,i=!1){const n=this.getAttribute("config"),t=this.getAttribute("accum");super.insertAt(new S(r,void 0,"table-syntax",n,t))}}y.exports=u},5567:(y,k,e)=>{var g;"use strict";const{generateForChild:f}=e(8277),T=e(6010),S=e(8138),u=e(3125);class p extends u{constructor(n,t,s=T.getConfig(),o=[]){let l=t==null?void 0:t.match(/\||\0\d+!\x7F/u),h=l?t.slice(0,l.index):"";/\[\[|-\{/u.test(h)&&(l=void 0,h="");super(n,h,s,o);v(this,"type","td");E(this,g,"");l&&([nt(this,g)._]=l);const a=new S(t==null?void 0:t.slice((l==null?void 0:l.index)+$(this,g).length),s,!0,o);a.type="td-inner",this.insertAt(a.setAttribute("stage",4))}get subtype(){return this.getSyntax().subtype}getSyntax(){const n=this.firstChild.text(),t=n[n.length-1];let s="td";return t==="!"?s="th":t==="+"&&(s="caption"),{subtype:s}}afterBuild(){$(this,g).includes("\0")&&H(this,g,this.getAttribute("buildFromStr")($(this,g),"string"))}toString(n){const{childNodes:[t,s,o]}=this;return`${t.toString()}${s.toString()}${$(this,g)}${o.toString()}`}text(){const{childNodes:[n,t,s]}=this;return`${n.text()}${t.text()}${$(this,g)}${s.text()}`}getGaps(n=0){return n=n<0?n+this.length:n,n===1?$(this,g).length:0}lint(n=0){const t=super.lint(n),{lastChild:s}=this;n+=this.getRelativeIndex(-1);for(const o of s.childNodes)o.type==="text"&&o.data.includes("|")&&t.push(f(o,{token:s,start:n},'\u8868\u683C\u5355\u5143\u683C\u4E2D\u591A\u4F59\u7684"|"',"warning"));return t}print(){const{childNodes:[n,t,s]}=this;return`<span class="wpb-td">${n.print()}${t.print()}${$(this,g)}${s.print()}</span>`}}g=new WeakMap,y.exports=p},3125:(y,k,e)=>{"use strict";const{generateForChild:f}=e(8277),T=e(6010),S=e(8138),u=e(8058),p=e(5649);class g extends S{constructor(n,t="",s=T.getConfig(),o=[],l=void 0){super(void 0,s,!0,o,{});v(this,"type","tr");this.append(new u(n,l,"table-syntax",s,o,{}),new p(t,"table-attrs",this.type,s,o))}lint(n=0){const t=e(1782),s=e(9544),o=super.lint(n),l=this.childNodes.find(({type:c})=>c==="table-inter");if(!l)return o;const h=l.childNodes.find(c=>c.text().trim()),a=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!h||h.type==="arg"&&a.test(h.default||""))return o;if(h.type==="magic-word")try{if(h.getPossibleValues().every(x=>a.test(x.text())))return o}catch(c){}const d=f(l,{token:this,start:n},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return o.push({...d,startIndex:d.startIndex+1,startLine:d.startLine+1,startCol:0}),o}text(){const n=super.text();return this.type==="tr"&&!n.trim().includes(`
`)?"":n}}y.exports=g},7267:(y,k,e)=>{"use strict";const{generateForSelf:f}=e(8277),T=e(6010),S=e(8138),u=e(1074),p=e(5649);class g extends u{constructor(n,t="",s="",o=void 0,l=T.getConfig(),h=[]){t=!t||/^\s/u.test(t)?t:` ${t}`;const a=n.toLowerCase(),d=new p(t,"ext-attrs",a,l,h),c=JSON.parse(JSON.stringify(l)),x=new Set(c.ext);let m;switch(x.delete(a),c.ext=[...x],a){case"tab":x.delete("tabs"),c.ext=[...x];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":m=new S(s,c,!0,h);break;case"gallery":{const A=e(1891);m=new A(s,c,h);break}case"pre":{const A=e(428);m=new A(s,c,h);break}case"charinsert":{const A=e(8103);m=new A(s,c,h);break}case"references":case"choose":case"combobox":{const A=e(8889),F=e(7033)(`./${a}`);m=new F(s,c,h);break}case"imagemap":{const A=e(2641);m=new A(s,l,h);break}case"dynamicpagelist":{const A=e(9380);m=new A(s,c,h);break}default:{const A=e(6935);m=new A(s,l)}}m.setAttribute("name",a).type="ext-inner";super(n,d,m,o,l,h);v(this,"type","ext");v(this,"closed",!0)}lint(n=0){const t=super.lint(n);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const s=this.getRootNode(),o={start:n,...s.posFromIndex(n)};t.push(f(this,o,"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6269\u5C55\u6807\u7B7E"))}return t}print(){return super.print({class:this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")&&"ext wpb-error"})}}y.exports=g},8655:(y,k,e)=>{"use strict";const f=e(2308),{generateForSelf:T}=e(8277),S=e(6010),u=e(1074);class p extends f(u){constructor(i,n="",t=void 0,s=void 0,o=S.getConfig(),l=[]){super(i,n,t!=null?t:"",t===void 0||s!=null?s:"",o,l);v(this,"type","include")}lint(i=0){return this.closed?[]:[T(this,{start:i},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}print(){return super.print({class:!this.closed&&`${this.type} wpb-error`})}}y.exports=p},1074:(y,k,e)=>{var u,p,g;"use strict";const f=e(6010),T=e(8138);class S extends T{constructor(n,t,s,o,l=f.getConfig(),h=[]){super(void 0,l,!0);E(this,u,void 0);E(this,p,void 0);E(this,g,void 0);H(this,g,[n,o||n]),H(this,u,o===void 0),H(this,p,o!==""),this.append(t,s);let a=h.indexOf(t);a===-1&&(a=h.indexOf(s)),a===-1&&(a=1/0),h.splice(a,0,this)}get closed(){return $(this,p)}toString(n){const{firstChild:t,lastChild:s}=this,[o,l]=$(this,g);return $(this,u)?`<${o}${String(t)}/>`:`<${o}${String(t)}>${String(s)}${$(this,p)?`</${l}>`:""}`}text(){const[n,t]=$(this,g);return $(this,u)?`<${n}${this.firstChild.text()}/>`:`<${n}${super.text(">")}${$(this,p)?`</${t}>`:""}`}getPadding(){return $(this,g)[0].length+1}getGaps(){return 1}print(){const[n,t]=$(this,g);return super.print($(this,u)?{pre:`&lt;${n}`,post:"/&gt;"}:{pre:`&lt;${n}`,sep:"&gt;",post:$(this,p)?`&lt;/${t}&gt;`:""})}}u=new WeakMap,p=new WeakMap,g=new WeakMap,y.exports=S},1782:(y,k,e)=>{var s,o,$t;"use strict";const{removeComment:f,print:T,text:S}=e(231),{generateForChild:u}=e(8277),p=e(6010),g=e(8138),r=e(9799),i=e(9237),n=e(8058);class t extends g{constructor(d,c,x=p.getConfig(),m=[]){super(void 0,x,!0,m,{});E(this,o);v(this,"type","template");v(this,"modifier","");E(this,s,{});const{parserFunction:[A,F,C]}=x;if(d.includes(":")){const[P,...R]=d.split(":");this.setModifier(P)&&(d=R.join(":"))}if(d.includes(":")||c.length===0&&!C.includes(this.modifier.toLowerCase())){const[P,...R]=d.split(":"),L=f(P),I=L.trim(),D=F.includes(I),O=A[I.toLowerCase()];if(!(R.length>0&&/\s$/u.test(L))&&(D||O)){this.setAttribute("name",O||I.toLowerCase()).type="magic-word";const X=new RegExp(`^\\s*${I}\\s*$`,D?"u":"iu"),G=new n(P,X,"magic-word-name",x,m,{});if(this.insertAt(G),R.length>0&&c.unshift([R.join(":")]),this.name==="invoke")for(let V=0;V<2;V++){const B=c.shift();if(!B)break;const Q=new i(B.join("="),`invoke-${V?"function":"module"}`,x,m,{});this.insertAt(Q)}}}if(this.type==="template"){const P=f(d).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test(P))throw m.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${P}`);const R=new i(d,"template-name",x,m,{});this.insertAt(R)}const w=this.isTemplate();let b=1;for(let P=0;P<c.length;P++){const R=c[P];!w&&!(this.name==="switch"||P>0)&&(R[0]=R.join("="),R.length=1),R.length===1&&(R.unshift(b),b++),this.insertAt(new r(...R,x,m))}}setModifier(d=""){if(/\s$/u.test(d))return!1;const{parserFunction:[,,c,x]}=this.getAttribute("config"),m=d.trim().toLowerCase(),A=c.includes(m),F=x.includes(m);return A||F||d===""?(this.setAttribute("modifier",d),Boolean(d)):!1}toString(d){const{childNodes:c,firstChild:x,modifier:m}=this;return`{{${m}${m&&":"}${this.type==="magic-word"?`${String(x)}${c.length>1?":":""}${c.slice(1).map(String).join("|")}`:super.toString(d,"|")}}}`}text(){const{childNodes:d,firstChild:c,modifier:x}=this;return`{{${x}${x&&":"}${this.type==="magic-word"?`${c.text()}${d.length>1?":":""}${S(d.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:d,firstChild:c,modifier:x}=this;return`<span class="wpb-${this.type}">{{${x}${x&&":"}${this.type==="magic-word"?`${c.print()}${d.length>1?":":""}${T(d.slice(1),{sep:"|"})}`:T(d,{sep:"|"})}}}</span>`}lint(d=0){const c=super.lint(d);if(!this.isTemplate())return c;const x=this.getDuplicatedArgs();if(x.length>0){const m={start:d,...this.getRootNode().posFromIndex(d)};c.push(...x.flatMap(([,A])=>A).map(A=>u(A,m,"\u91CD\u590D\u53C2\u6570")))}return c}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(d,c=this.length){return super.insertAt(d,c),d.anon?J(this,o,$t).call(this,d):d.name&&this.getArgs(d.name,!1,!1).add(d),d}getAllArgs(){return this.childNodes.filter(d=>d instanceof r)}getAnonArgs(){return this.getAllArgs().filter(({anon:d})=>d)}getArgs(d,c,x=!0){const m=String(d).trim();let A;return Object.prototype.hasOwnProperty.call($(this,s),m)?A=$(this,s)[m]:(A=new Set(this.getAllArgs().filter(({name:F})=>m===F)),$(this,s)[m]=A),A}getDuplicatedArgs(){return this.isTemplate()?Object.entries($(this,s)).filter(([,{size:d}])=>d>1).map(([d,c])=>[d,[...c]]):[]}getPossibleValues(){const{type:d,name:c,childNodes:x,constructor:{name:m}}=this;if(d==="template")throw new Error(`${m}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let A;switch(c){case"if":case"ifexist":case"ifexpr":case"iferror":A=2;break;case"ifeq":A=3;break;default:throw new Error(`${m}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const F=x.slice(A,A+2).map(({childNodes:[,C]})=>C);for(let C=0;C<F.length;){const{length:w,0:b}=F[C].childNodes.filter(P=>P.text().trim());if(w===0)F.splice(C,1);else if(w>1||b.type!=="magic-word")C++;else try{const P=b.getPossibleValues();F.splice(C,1,...P),C+=P.length}catch(P){C++}}return F}}s=new WeakMap,o=new WeakSet,$t=function(d){const c=this.getAnonArgs(),x=c.indexOf(d);for(let m=x;m<c.length;m++){const A=c[m],{name:F}=A,C=String(m+1);F!==C&&this.getArgs(C,!1,!1).add(A.setAttribute("name",C))}},y.exports=t},8277:(y,k,e)=>{"use strict";const f=e(8138),T=(u,p,g,r="error")=>{const i=u.getRelativeIndex(),{offsetHeight:n,offsetWidth:t,parentNode:s,length:o}=u,{top:l,left:h}=s.posFromIndex(i),{token:a,start:d}=p,{top:c,left:x}=a?a.getRootNode().posFromIndex(d):p,m=d+i,A=m+o,F=c+l,C=F+n-1,w=l?h:x+h,b=n>1?t:w+t;return{message:g,severity:r,startIndex:m,endIndex:A,startLine:F,endLine:C,startCol:w,endCol:b}},S=(u,p,g,r="error")=>{const{start:i}=p,{offsetHeight:n,offsetWidth:t,length:s}=u,{top:o,left:l}="top"in p?p:u.getRootNode().posFromIndex(i);return{message:g,severity:r,startIndex:i,endIndex:i+s,startLine:o,endLine:o+n-1,startCol:l,endCol:n>1?t:l+t}};y.exports={generateForChild:T,generateForSelf:S}},231:(y,k,e)=>{"use strict";const f='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])',T='(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',S=i=>i.replace(/\0\d+c\x7F/gu,""),u=(i,n={})=>{const t=e(7507),s=e(9205),{pre:o="",post:l="",sep:h=""}=n,a={"&":"amp","<":"lt",">":"gt"};return`${o}${i.map(d=>d instanceof s?d.print():String(d).replace(/[&<>]/gu,c=>`&${a[c]};`)).join(h)}${l}`},p=i=>i.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),g=(i,n,t,s)=>{if(s===void 0)return[];const o=new RegExp(`${[i,n,t].map(p).join("|")}`,"gu"),l=[];let h=o.exec(s),a=0,d=0;for(;h;){const{0:c,index:x}=h;c!==t?a+=c===i?1:-1:a===0&&(l.push(s.slice(d,x)),{lastIndex:d}=o),h=o.exec(s)}return l.push(s.slice(d)),l},r=(i,n="")=>{const t=e(3853);return i.map(s=>typeof s=="string"?s:s.text()).join(n)};y.exports={extUrlCharFirst:f,extUrlChar:T,removeComment:S,print:u,escapeRegExp:p,explode:g,text:r}},8166:y=>{"use strict";y.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},M={};function W(y){var k=M[y];if(k!==void 0)return k.exports;var e=M[y]={exports:{}};return U[y](e,e.exports,W),e.exports}W.o=(y,k)=>Object.prototype.hasOwnProperty.call(y,k);var _=W(6010)})();})();
