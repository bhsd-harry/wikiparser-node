(()=>{var Tt=Object.defineProperty;var yt=(D,G,W)=>G in D?Tt(D,G,{enumerable:!0,configurable:!0,writable:!0,value:W}):D[G]=W;var v=(D,G,W)=>(yt(D,typeof G!="symbol"?G+"":G,W),W),st=(D,G,W)=>{if(!G.has(D))throw TypeError("Cannot "+W)};var S=(D,G,W)=>(st(D,G,"read from private field"),W?W.call(D):G.get(D)),E=(D,G,W)=>{if(G.has(D))throw TypeError("Cannot add the same private member more than once");G instanceof WeakSet?G.add(D):G.set(D,W)},B=(D,G,W,q)=>(st(D,G,"write to private field"),q?q.call(D,W):G.set(D,W),W),nt=(D,G,W,q)=>({set _(m){B(D,G,m,W)},get _(){return S(D,G,q)}}),J=(D,G,W)=>(st(D,G,"access private method"),W);(()=>{var D={6010:(m,k,e)=>{"use strict";const x={config:void 0,minConfig:e(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(d,c=0,n=!1,r=x.getConfig(),i=!1,t=!1){let s;if(!i){const h=e(8138);s=this.run(()=>{const a=new h(String(d),r),p=a.getAttribute("parseOnce");return p(0,n),p()}),d=s.firstChild}const o=e(6986);return new o(String(d),c,r,t)},parse(d,c,n=x.MAX_STAGE,r=x.getConfig()){if(typeof d!="string")throw new TypeError("\u5F85\u89E3\u6790\u7684\u5185\u5BB9\u5E94\u4E3A String\uFF01");const i=e(8138);let t;return this.run(()=>{t=new i(d,r);try{t.parse(n,c)}catch(s){}}),t},run(d){return d()}},$={},T=new Set(["MAX_STAGE","minConfig"]),u=new Set(["config","normalizeTitle","parse"]);for(const d in x)T.has(d)?$[d]={enumerable:!1,writable:!1}:u.has(d)||($[d]={enumerable:!1});Object.defineProperties(x,$),typeof self=="object"&&(self.Parser=x),m.exports=x},9205:(m,k,e)=>{"use strict";const{print:x}=e(231),$=e(3853),T=e(7507),d=class extends ${constructor(){super(...arguments);v(this,"name")}get length(){return this.childNodes.length}closest(r){const i=new Set(r.split(",").map(s=>s.trim()));let{parentNode:t}=this;for(;t;){if(i.has(t.type))return t;({parentNode:t}=t)}}append(...r){for(const i of r)this.insertAt(i)}replaceChildren(...r){this.childNodes.length=0,this.append(...r)}setText(r,i=0){const t=this.childNodes[i],{type:s,data:o}=t;if(s==="text")return t.replaceData(r),o}toString(r,i=""){return this.childNodes.map(t=>t.toString()).join(i)}lint(r=0){const i=e(8058);if(this instanceof i||this.constructor.hidden||this.type==="ext-inner"&&d.lintIgnoredExt.has(this.name))return[];const t=[];for(let s=0,o=r+this.getPadding();s<this.length;s++){const l=this.childNodes[s];t.push(...l.lint(o)),o+=String(l).length+this.getGaps(s)}return t}print(r={}){return String(this)?`<span class="wpb-${r.class||this.type}">${x(this.childNodes,r)}</span>`:""}json(r){const{childNodes:i,...t}=this;return{...t,childNodes:i.map(o=>o.type==="text"?String(o):o.json())}}};let u=d;v(u,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),m.exports=u},3853:(m,k,e)=>{var T,u,rt;"use strict";const{text:x}=e(231);class ${constructor(){E(this,u);v(this,"type");v(this,"childNodes",[]);E(this,T,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return S(this,T)}get nextSibling(){var r;const n=(r=S(this,T))==null?void 0:r.childNodes;return n&&n[n.indexOf(this)+1]}get previousSibling(){var r;const n=(r=S(this,T))==null?void 0:r.childNodes;return n&&n[n.indexOf(this)-1]}hasAttribute(n){const r=typeof n;return r==="string"||r==="number"||r==="symbol"?n in this:!1}getAttribute(n){return this.hasAttribute(n)?String(this[n]):void 0}setAttribute(n,r){return n==="parentNode"?B(this,T,r):this[n]=r,this}text(n=""){return x(this.childNodes,n)}removeAt(n){const{childNodes:r}=this,[i]=r.splice(n,1);return i}insertAt(n,r=this.childNodes.length){const{childNodes:i}=this;return-1===-1&&n.setAttribute("parentNode",this),i.splice(r,0,n),n}normalize(){var i;const n=e(7507),{childNodes:r}=this;for(let t=r.length-1;t>=0;t--){const{type:s,data:o}=r[t];this.getGaps(t-1)||(o===""?r.splice(t,1):s==="text"&&((i=r[t-1])==null?void 0:i.type)==="text"&&(r[t-1].setAttribute("data",r[t-1].data+o),r.splice(t,1)))}}getRootNode(){let{parentNode:n}=this;for(;n!=null&&n.parentNode;)({parentNode:n}=n);return n!=null?n:this}posFromIndex(n){const r=String(this);if(n>=-r.length&&n<=r.length){const i=r.slice(0,n).split(`
`);return{top:i.length-1,left:i[i.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(n){let r;const i=(t,s)=>r.slice(0,t).reduce((o,l,h)=>o+String(l).length+s.getGaps(h),0)+s.getPadding();if(n===void 0){const{parentNode:t}=this;return t?({childNodes:r}=t,i(r.indexOf(this),t)):0}return{childNodes:r}=this,i(n,this)}get offsetHeight(){return J(this,u,rt).call(this).height}get offsetWidth(){return J(this,u,rt).call(this).width}}T=new WeakMap,u=new WeakSet,rt=function(){const n=String(this).split(`
`);return{height:n.length,width:n[n.length-1].length}},m.exports=$},7507:(m,k,e)=>{var c,it;"use strict";const x=e(3853),$=e(9205),T=/https?:|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu,u=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu;class d extends x{constructor(t=""){super();E(this,c);v(this,"type","text");v(this,"data");this.data=t}toString(){return this.data}text(){return this.data}lint(t=0){var g;const{data:s,parentNode:o}=this,l=o==null?void 0:o.type,h=o==null?void 0:o.name,a=l==="free-ext-link"||l==="ext-link-url"||l==="image-parameter"&&h==="link"?u:T,p=[];if(s.search(a)!==-1){a.lastIndex=0;const y=this.getRootNode(),{top:f,left:A}=y.posFromIndex(t);for(let F=a.exec(s);F;F=a.exec(s)){const[,C]=F;let{0:w,index:b}=F;C&&(b+=C.length,w=w.slice(C.length));const P=t+b,O=s.slice(0,b).split(`
`),L=O.length+f-1,I=O[O.length-1],U=O.length>1?I.length:A+I.length,{0:j,length:V}=w,M=P+V;let X=j==="{"||j==="}"||V>1?"error":"warning";if(j==="h")switch(o==null?void 0:o.type){case"ext-link-text":X="warning";break;case"attr-value":{const{parentNode:H}=o;if(((H==null?void 0:H.name)==="src"||(H==null?void 0:H.name)==="srcset")&&((g=H==null?void 0:H.parentNode)==null?void 0:g.name)==="img")continue;break}case"ext-inner":if(h==="sm2"||h==="flashmp3")continue}p.push({message:`\u5B64\u7ACB\u7684"${j==="h"?w:j}"`,severity:X,startIndex:P,endIndex:M,startLine:L,endLine:L,startCol:U,endCol:U+V})}}return p}replaceData(t=""){J(this,c,it).call(this,t)}}c=new WeakSet,it=function(t){t=String(t),this.setAttribute("data",t)},m.exports=d},6986:(m,k,e)=>{"use strict";const x=e(6010);class ${constructor(u,d=0,c=x.getConfig(),n=!1){v(this,"valid",!0);v(this,"ns",0);const{namespaces:r,nsid:i}=c;let t=r[d];if(n&&u.includes("%"))try{u=decodeURIComponent(u)}catch(h){}u=u.replace(/_/gu," ").trim(),u[0]===":"&&(t="",u=u.slice(1).trim());const s=u.split(":");if(s.length>1){const h=r[i[s[0].trim().toLowerCase()]];h!==void 0&&(t=h,u=s.slice(1).join(":").trim())}this.ns=i[t.toLowerCase()];const o=u.indexOf("#");let l="";o!==-1&&(l=u.slice(o+1).trim(),u=u.slice(0,o).trim()),this.valid=Boolean(u||l)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(u)}}m.exports=$},2308:m=>{"use strict";const k=e=>{var x;return x=class extends e{text(){return""}},v(x,"hidden",!0),x};m.exports=k},8275:(m,k,e)=>{"use strict";const{removeComment:x}=e(231),$=e(6010),T=e(9450),u=e(1782),d=e(9544),c=(n,r=$.getConfig(),i=[])=>{var y,f,A,F,C;const t="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",s=[],o={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},l={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let h=new RegExp(t,"gmu"),a=h.exec(n),p=n.includes("}}"),g;for(;a||g<=n.length&&((f=(y=s[s.length-1])==null?void 0:y[0])==null?void 0:f[0])==="=";){if(a!=null&&a[1]){const[,{length:X}]=a;a[0]=a[0].slice(X),a.index+=X}const{0:w,index:b}=a!=null?a:{0:`
`,index:n.length},P=(A=s.pop())!=null?A:{},{0:O,index:L,parts:I,findEqual:U,pos:j}=P,V=w==="="&&U;if(w==="]]"||w==="}-")g=b+2;else if(w===`
`){g=b+1;const{pos:X,findEqual:H}=(F=s[s.length-1])!=null?F:{};if(!X||H||x(n.slice(X,L))!==""){const K=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(n.slice(L,b));K&&(n=`${n.slice(0,L)}\0${i.length}h\x7F${n.slice(b)}`,g=L+4+String(i.length).length,new T(K[1].length,K.slice(2),r,i))}}else if(w==="|"||V)g=b+1,I[I.length-1].push(n.slice(j,b)),w==="|"&&I.push([]),P.pos=g,P.findEqual=w==="|",s.push(P);else if(w.startsWith("}}")){const X=w.slice(0,Math.min(O.length,3)),H=O.length-X.length,{length:K}=i;g=b+X.length,I[I.length-1].push(n.slice(j,b));let Z=!1,_="t";if(X.length===3)new d(I.map(Y=>Y.join("=")),r,i);else{const Y=x(I[0][0]).trim();Y in l?_=l[Y]:/^(?:fullurl|canonicalurl|filepath):.|^server$/iu.test(Y)&&(_="m");try{new u(I[0][0],I.slice(1),r,i)}catch(N){if(N instanceof Error&&N.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))g=L+O.length,Z=!0;else throw N}}Z||(n=`${n.slice(0,L+H)}\0${K}${_}\x7F${n.slice(g)}`,g=L+H+3+String(K).length,H>1?s.push({0:O.slice(0,H),index:L,pos:L+H,parts:[[]]}):H===1&&n[L-1]==="-"&&s.push({0:"-{",index:L-1,pos:L+1,parts:[[]]}))}else g=b+w.length,w[0]==="{"&&(a.pos=g,a.parts=[[]]),s.push(..."0"in P?[P]:[],a);p&&(p=n.slice(g).includes("}}"));let M=s[s.length-1];!p&&((C=M==null?void 0:M[0])==null?void 0:C[0])==="{"&&(s.pop(),M=s[s.length-1]),h=new RegExp(t+(M?`|${o[M[0][0]]}${M.findEqual?"|=":""}`:""),"gmu"),h.lastIndex=g,a=h.exec(n)}return n};m.exports=c},4907:(m,k,e)=>{"use strict";const x=e(6010),$=e(851),T=e(3423),u=e(8655),d=e(7267),c=e(5749),n=(r,i=x.getConfig(),t=[],s=!1)=>{const o=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(s&&r.search(o)!==-1)return r.replace(o,(g,y)=>{const f=`\0${t.length}e\x7F`;return new $(y,i,t),f}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(g,y,f)=>f===""?y:(new T(f,i,t),`${y}\0${t.length-1}c\x7F`));const l=i.ext.join("|"),h=s?"includeonly":"(?:no|only)include",a=s?"noinclude":"includeonly",p=new RegExp(`<!--.*?(?:-->|$)|<${h}(?:\\s[^>]*?)?>|</${h}\\s*>|<(${l})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${a})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return r.replace(p,(g,y,f,A,F,C,w,b,P)=>{const O=`\0${t.length}${y?"e":"c"}\x7F`;if(y)new d(y,f,A,F,i,t);else if(g.startsWith("<!--")){const L=g.endsWith("-->");new c(g.slice(4,L?-3:void 0),L,i,t)}else C?new u(C,w,b,P,i,t):new T(g,i,t);return O})};m.exports=n},3765:(m,k,e)=>{"use strict";const x=e(6010),$=e(9910),T=(u,d=x.getConfig(),c=[])=>{const n=/-\{/gu,r=/-\{|\}-/gu,i=[];let t=n,s=t.exec(u);for(;s;){const{0:o,index:l}=s;if(o==="}-"){const h=i.pop(),{length:a}=c,p=u.slice(h.index+2,l),g=p.indexOf("|"),[y,f]=g===-1?[[],p]:[p.slice(0,g).split(";"),p.slice(g+1)],A=f.replace(/(&[#a-z\d]+);/giu,"$1"),F=`(?:${d.variants.join("|")})`,C=A.split(new RegExp(`;(?=\\s*(?:${F}|[^;]*?=>\\s*${F})\\s*:)`,"u")).map(w=>w.replace(/\x01/gu,";"));new $(y,C,d,c),u=`${u.slice(0,h.index)}\0${a}v\x7F${u.slice(l+2)}`,i.length===0&&(t=n),t.lastIndex=h.index+3+String(a).length}else i.push(s),t=r,t.lastIndex=l+2;s=t.exec(u)}return u};m.exports=T},7513:(m,k,e)=>{"use strict";const{extUrlChar:x}=e(231),$=e(6010),T=e(741),u=(d,c=$.getConfig(),n=[])=>{const r=new RegExp(`\\[((?:${c.protocol}|//|\0\\d+m\x7F)${x})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return d.replace(r,(i,t,s,o)=>{const{length:l}=n,h=/&[lg]t;/u.exec(t);return h&&(t=t.slice(0,h.index),s="",o=`${t.slice(h.index)}${s}${o}`),new T(t,s,o,c,n),`\0${l}w\x7F`})};m.exports=u},2937:(m,k,e)=>{"use strict";const x=e(6010),$=e(7507),T=e(8138),u=e(2582),d=e(7815),c=({firstChild:{data:n},type:r,name:i},t=x.getConfig(),s=[])=>{const{doubleUnderscore:o}=t,l=new Set(o[0]),h=new Set(o[1]);return r!=="root"&&(r!=="ext-inner"||i!=="poem")&&(n=`\0${n}`),n=n.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(a,p,g)=>(new u(g.length,t,s),`${p}\0${s.length-1}r\x7F`)).replace(new RegExp(`__(${o.flat().join("|")})__`,"giu"),(a,p)=>l.has(p.toLowerCase())||h.has(p)?(new d(p,t,s),`\0${s.length-1}u\x7F`):a),r==="root"||r==="ext-inner"&&i==="poem"?n:n.slice(1)};m.exports=c},5130:(m,k,e)=>{"use strict";const x=e(6010),$=e(5649),T=e(2350),u=(d,c=x.getConfig(),n=[])=>{const r=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,i=new Set(c.html.flat()),t=d.split("<");let s=t.shift();for(const o of t){const l=r.exec(o),h=l==null?void 0:l[2],a=h==null?void 0:h.toLowerCase();if(!l||!i.has(a)){s+=`<${o}`;continue}const[,p,,g="",y,f]=l,A=new $(g,"html-attrs",a,c,n),F=A.getAttr("itemprop");if(a==="meta"&&(F===void 0||A.getAttr("content")===void 0)||a==="link"&&(F===void 0||A.getAttr("href")===void 0)){s+=`<${o}`,n.pop();continue}s+=`\0${n.length}x\x7F${f}`,new T(h,A,p==="/",y==="/>",c,n)}return s};m.exports=u},1452:(m,k,e)=>{"use strict";const x=e(6010),$=e(3905),T=e(7625),u=e(337),d=(c,n=x.getConfig(),r=[])=>{const i=e(3360),t=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,s=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,o=new RegExp(`^\\s*(?:${n.protocol})`,"iu"),l=c.split("[[");let h=l.shift();for(let a=0;a<l.length;a++){let p,g,y,f,A;const F=l[a],C=t.exec(F);if(C)[,g,y,f,A]=C,A[0]==="]"&&(f==null?void 0:f.includes("["))&&(f+="]",A=A.slice(1));else{const I=s.exec(F);I&&(p=!0,[,g,y,f]=I)}if(g===void 0||o.test(g)||/\0\d+[exhbru]\x7F/u.test(g)){h+=`[[${F}`;continue}const w=g.trim()[0]===":";if(w&&p){h+=`[[${F}`;continue}const b=x.normalizeTitle(g,0,!1,n,!0,!0),{ns:P,valid:O}=b;if(O){if(p){if(P!==6){h+=`[[${F}`;continue}let I;for(a++;a<l.length;a++){const U=l[a],j=U.split("]]");if(j.length>2){I=!0,f+=`[[${j[0]}]]${j[1]}`,A=j.slice(2).join("]]");break}else if(j.length===2)f+=`[[${j[0]}]]${j[1]}`;else{f+=`[[${U}`;break}}if(f=d(f,n,r),!I){h+=`[[${g}${y}${f}`;continue}}}else{h+=`[[${F}`;continue}f&&(f=i(f,n,r)),h+=`\0${r.length}l\x7F${A}`;let L=$;w||(P===6?L=T:P===14&&(L=u)),new L(g,f,b,n,r,y)}return h};m.exports=d},6622:(m,k,e)=>{"use strict";const x=e(6010),$=e(962),T=e(3434),u=(d,c=x.getConfig(),n=[])=>{const r=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(d);if(!r)return d;const[i,t,s]=r;d=`${t}\0${n.length}d\x7F${d.slice(i.length)}`,new $(s,c,n);let o=s.split(";").length-1;if(!o)return d;let l=/:+|-\{/gu,h=l.exec(d),a=0;for(;h&&o;){const{0:p,index:g}=h;if(p[0]===":"){if(p.length>=o)return new T(":".repeat(o),c,n),`${d.slice(0,g)}\0${n.length-1}d\x7F${d.slice(g+o)}`;d=`${d.slice(0,g)}\0${n.length}d\x7F${d.slice(l.lastIndex)}`,o-=p.length,l.lastIndex=g+4+String(n.length).length,new T(p,c,n)}else if(p==="-{"){if(!a){const{lastIndex:y}=l;l=/-\{|\}-/gu,l.lastIndex=y}a++}else if(a--,!a){const{lastIndex:y}=l;l=/:+|-\{/gu,l.lastIndex=y}h=l.exec(d)}return d};m.exports=u},4737:(m,k,e)=>{"use strict";const{extUrlChar:x}=e(231),$=e(6010),T=e(8962),u=(d,c=$.getConfig(),n=[])=>{const r=new RegExp(`(^|[^\\p{L}\\d_])(?:${c.protocol})(${x})`,"giu");return d.replace(r,(i,t,s)=>{let o="",l=t?i.slice(1):i;const h=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(l);h&&(o=l.slice(h.index),l=l.slice(0,h.index));const a=new RegExp(`[,;.:!?${l.includes("(")?"":")"}]+$`,"u"),p=a.exec(l);if(p){let g=0;p[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(l.slice(0,p.index))&&(g=1),o=`${l.slice(p.index+g)}${o}`,l=l.slice(0,p.index+g)}return o.length>=s.length?i:(new T(l,!1,c,n),`${t}\0${n.length-1}w\x7F${o}`)})};m.exports=u},3360:(m,k,e)=>{"use strict";const x=e(6010),$=e(6714),T=(u,d=x.getConfig(),c=[])=>{var h;const n=u.split(/('{2,})/u),{length:r}=n;if(r===1)return u;let i=0,t=0,s,o,l;for(let a=1;a<r;a+=2){const{length:p}=n[a];switch(p){case 2:t++;break;case 4:n[a-1]+="'",n[a]="'''";case 3:if(i++,s)break;n[a-1].endsWith(" ")?!o&&!l&&(l=a):n[a-1].slice(-2,-1)===" "?s=a:o||(o=a);break;default:n[a-1]+="'".repeat(p-5),n[a]="'''''",t++,i++}}if(t%2===1&&i%2===1){const a=(h=s!=null?s:o)!=null?h:l;n[a]="''",n[a-1]+="'"}for(let a=1;a<r;a+=2)new $(n[a].length,d,c),n[a]=`\0${c.length-1}q\x7F`;return n.join("")};m.exports=T},4624:(m,k,e)=>{"use strict";const x=e(6010),$=e(7507),T=e(8138),u=e(2840),d=e(3125),c=e(5567),n=e(3434),r=({firstChild:{data:i},type:t,name:s},o=x.getConfig(),l=[])=>{const h=[],a=i.split(`
`);let p=t==="root"||t==="parameter-value"||t==="ext-inner"&&s==="poem"?"":`
${a.shift()}`;const g=(y,f)=>{if(!f){p+=y;return}const{lastChild:A}=f;if(A.constructor===T)A.setText(String(A)+y);else{const F=new T(y,o,!0,l);F.type="table-inter",f.insertAt(F.setAttribute("stage",3))}};for(const y of a){let f=h.pop();const[A]=/^(?:\s|\0\d+c\x7F)*/u.exec(y),F=y.slice(A.length),C=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(F);if(C){for(;f&&f.type!=="td";)f=h.pop();const[,I,U,j,V]=C;I&&new n(I,o,l),g(`
${A}${I&&`\0${l.length-1}d\x7F`}${U}\0${l.length}b\x7F`,f);const M=new u(j,V,o,l);h.push(...f?[f]:[],M);continue}else if(!f){p+=`
${y}`;continue}const w=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(F);if(!w){g(`
${y}`,f),h.push(...f?[f]:[]);continue}const[,b,P,O,L]=w;if(b){for(;!(f instanceof u);)f=h.pop();f.close(`
${A}${b}`,!0),g(L,h[h.length-1])}else if(P){f.type==="td"&&(f=h.pop()),f.type==="tr"&&(f=h.pop());const I=new d(`
${A}${P}`,L,o,l);h.push(f,I),f.insertAt(I)}else{f.type==="td"&&(f=h.pop());const I=O==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let U=I.exec(L),j=0,V=`
${A}${O}`;for(;U;){const X=new c(V,L.slice(j,U.index),o,l);f.insertAt(X),{lastIndex:j}=I,[V]=U,U=I.exec(L)}const M=new c(V,L.slice(j),o,l);h.push(f,M),f.insertAt(M)}}return p.slice(1)};m.exports=r},9544:(m,k,e)=>{"use strict";const{text:x}=e(231),{generateForSelf:$,generateForChild:T}=e(8277),u=e(6010),d=e(8138);class c extends d{constructor(i,t=u.getConfig(),s=[]){super(void 0,t,!0,s,{});v(this,"type","arg");for(let o=0;o<i.length;o++)if(o===0||o>1){const l=e(o===0?9237:9263),h=new l(i[o],o===0?"arg-name":void 0,t,s,{});super.insertAt(h)}else{const l=new d(i[o],t,!0,s);l.type="arg-default",super.insertAt(l.setAttribute("stage",2))}}get default(){var i,t;return(t=(i=this.childNodes[1])==null?void 0:i.text())!=null?t:!1}toString(i){return`{{{${super.toString(i,"|")}}}}`}text(){return`{{{${x(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|",class:!this.getAttribute("include")&&"arg wpb-error"})}lint(i=0){if(!this.getAttribute("include"))return[$(this,{start:i},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[t,s,...o]}=this,l=t.lint(i+3);if(s&&l.push(...s.lint(i+4+String(t).length)),o.length>0){const h={start:i,...this.getRootNode().posFromIndex(i)};l.push(...o.map(a=>T(a,h,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return l}}m.exports=c},9263:(m,k,e)=>{"use strict";const x=e(2308),$=e(9237);class T extends x($){constructor(){super(...arguments);v(this,"type","hidden")}}m.exports=T},9237:(m,k,e)=>{"use strict";const x=e(6010),$=e(8138);class T extends ${constructor(c,n,r=x.getConfig(),i=[],t=void 0){super(c,r,!0,i,t);v(this,"type","plain");n&&(this.type=n)}}m.exports=T},5037:(m,k,e)=>{var y,f;"use strict";const{generateForChild:x}=e(8277),{removeComment:$}=e(231),T=e(6010),u=e(8138),d=e(9237),c=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),n=new Set(["align"]),r=new Set(["cite"]),i=new Set(["cite","datetime"]),t=new Set(["width"]),s=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),o=new Set(["type"]),l={div:n,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,blockquote:r,q:r,p:n,br:new Set(["clear"]),pre:t,ins:i,del:i,ul:o,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:n,tr:new Set(["bgcolor","align","valign"]),td:s,th:s,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:t,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix"]),combooption:new Set(["name","for","inline","align"])},h=new Set,a={nowiki:h,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:h,inputbox:h,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:h,poll:new Set(["id","show-results-before-voting"]),sm2:o,flashmp3:o,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},p=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class g extends u{constructor(C,w,b="",P="",O=[],L=T.getConfig(),I=[]){const U=new d(w,"attr-key",L,I,{}),j=w==="title"?new u(P,L,!0,I,{}).setAttribute("type","attr-value").setAttribute("stage",T.MAX_STAGE-1):new d(P,"attr-value",L,I,{});super(void 0,L,!0,I);E(this,y,void 0);E(this,f,void 0);this.type=C,this.append(U,j),B(this,y,b),B(this,f,O),this.setAttribute("name",$(w).trim().toLowerCase())}get balanced(){return!S(this,y)||S(this,f)[0]===S(this,f)[1]}get value(){return this.getValue()}afterBuild(){S(this,y).includes("\0")&&B(this,y,this.getAttribute("buildFromStr")(S(this,y),"string")),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(C){const[w="",b=""]=S(this,f);return S(this,y)?`${super.toString(C,`${S(this,y)}${w}`)}${b}`:this.firstChild.toString(C)}text(){return S(this,y)?`${super.text(`${S(this,y).trim()}"`)}"`:this.firstChild.text()}getGaps(){var C,w;return S(this,y)?S(this,y).length+((w=(C=S(this,f)[0])==null?void 0:C.length)!=null?w:0):0}print(){const[C="",w=""]=S(this,f);return S(this,y)?super.print({sep:`${S(this,y)}${C}`,post:w}):super.print()}lint(C=0){var X;const w=super.lint(C),{balanced:b,firstChild:P,lastChild:O,type:L,name:I,parentNode:U,value:j}=this,V=U==null?void 0:U.name;let M;if(!b){const H=this.getRootNode();M={start:C,...H.posFromIndex(C)};const K=x(O,M,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning"),Z=K.startIndex-1,_=K.startCol-1;w.push({...K,startIndex:Z,startCol:_})}return!/\{\{[^{]+\}\}/u.test(I)&&(L==="ext-attr"&&!(V in l)&&a[V]&&!a[V].has(I)||(L==="html-attr"||L==="table-attr"||V in l)&&!((X=l[V])!=null&&X.has(I))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(I)&&(V==="meta"||V==="link"||!c.has(I)))?(M||(M={start:C,...this.getRootNode().posFromIndex(C)}),w.push(x(P,M,"\u975E\u6CD5\u7684\u5C5E\u6027\u540D"))):I==="style"&&typeof j=="string"&&p.test(j)&&(M||(M={start:C,...this.getRootNode().posFromIndex(C)}),w.push(x(O,M,"\u4E0D\u5B89\u5168\u7684\u6837\u5F0F"))),w}getValue(){return S(this,y)?this.lastChild.text():!0}}y=new WeakMap,f=new WeakMap,m.exports=g},5649:(m,k,e)=>{"use strict";const{generateForSelf:x,generateForChild:$}=e(8277),{removeComment:T}=e(231),u=e(6010),d=e(8138),c=e(9237),n=e(5037);class r extends d{constructor(t,s,o,l=u.getConfig(),h=[]){if(super(void 0,l,!0,h,{}),this.type=s,this.setAttribute("name",o),t){const a=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let p="",g=a.exec(t),y=0;const f=()=>{p&&(super.insertAt(new c(p,`${s.slice(0,-1)}-dirty`,l,h,{})),p="")};for(;g;){const{index:A,0:F,1:C,2:w,3:b,4:P,5:O,6:L}=g;if(p+=t.slice(y,A),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(T(C).trim())){const I=P!=null?P:L,U=[b,O],j=new n(s.slice(0,-1),C,w,I,U,l,h);f(),super.insertAt(j)}else p+=F;({lastIndex:y}=a),g=a.exec(t)}p+=t.slice(y),f()}}afterBuild(){var s,o;const t=e(5567);this.type==="table-attrs"&&this.setAttribute("name",((s=this.parentNode)==null?void 0:s.subtype)==="caption"?"caption":(o=this.parentNode)==null?void 0:o.type)}getAttrTokens(t){return this.childNodes.filter(s=>s instanceof n&&s.name===t.toLowerCase().trim())}getAttrToken(t){const s=this.getAttrTokens(t);return s[s.length-1]}getAttr(t){var s;return(s=this.getAttrToken(t))==null?void 0:s.getValue()}lint(t=0){const s=e(2350),o=super.lint(t),{parentNode:{closing:l},length:h,childNodes:a}=this,p={},g=new Set;let y;l&&this.text().trim()&&(y={start:t,...this.getRootNode().posFromIndex(t)},o.push(x(this,y,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027")));for(let f=0;f<h;f++){const A=a[f];if(A instanceof c&&A.text().trim())y||(y={start:t,...this.getRootNode().posFromIndex(t)}),o.push($(A,y,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"));else if(A instanceof n){const{name:F}=A;F in p?(g.add(F),p[F].push(A)):F!=="class"&&(p[F]=[A])}}if(g.size>0){y||(y={start:t,...this.getRootNode().posFromIndex(t)});for(const f of g)o.push(...p[f].map(A=>$(A,y,`\u91CD\u590D\u7684${f}\u5C5E\u6027`)))}return o}print(){const t=e(2350);return String(this)?`<span class="wpb-${this.type}${this.parentNode.closing&&this.text().trim()?" wpb-error":""}">${this.childNodes.map(s=>s.print({class:s instanceof c&&s.text().trim()&&"hidden"})).join("")}</span>`:""}}m.exports=r},8103:(m,k,e)=>{"use strict";const x=e(6010),$=e(8138),T=e(2158);class u extends ${constructor(n,r=x.getConfig(),i=[]){super(void 0,r,!0,i,{});v(this,"type","ext-inner");v(this,"name","charinsert");const t=T;this.append(...n.split(`
`).map(s=>new t(s,"charinsert-line",r,i)))}toString(n){return super.toString(n,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}m.exports=u},9910:(m,k,e)=>{"use strict";const{text:x,print:$}=e(231),T=e(6010),u=e(8138),d=e(6719),c=e(8683);class n extends u{constructor(t,s,o=T.getConfig(),l=[]){super(void 0,o,!0,l);v(this,"type","converter");this.append(new d(t,o,l));const[h]=s,a=h.includes(":"),p=new c(h,a,o,l);a&&p.length===1?this.insertAt(new c(s.join(";"),!1,o,l)):this.append(p,...s.slice(1).map(g=>new c(g,!0,o,l)))}toString(t){const{childNodes:[s,...o]}=this;return`-{${s.toString()}${s.length>0?"|":""}${o.map(String).join(";")}}-`}text(){const{childNodes:[t,...s]}=this;return`-{${t.text()}|${x(s,";")}}-`}getPadding(){return 2}getGaps(t=0){return t=t<0?t+this.length:t,t||this.firstChild.length>0?1:0}print(){const{childNodes:[t,...s]}=this;return`<span class="wpb-converter">-{${t.print()}${t.length>0?"|":""}${$(s,{sep:";"})}}-</span>`}}m.exports=n},6719:(m,k,e)=>{var n;"use strict";const{generateForChild:x}=e(8277),$=e(6010),T=e(8138),u=e(9237),d=new Set(["A","T","R","D","-","H","N"]);class c extends T{constructor(t,s=$.getConfig(),o=[]){super(void 0,s,!0,o,{});v(this,"type","converter-flags");E(this,n,void 0);this.append(...t.map(l=>new u(l,"converter-flag",s,o)))}afterBuild(){B(this,n,this.childNodes.map(t=>t.text().trim()))}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t=0){const s=this.getVariantFlags(),o=this.getUnknownFlags(),l=new Set(S(this,n).filter(A=>d.has(A))),{length:h}=S(this,n).filter(A=>!A),a=S(this,n).length-o.size-h,p=super.lint(t);if(s.size===a||l.size===a)return p;const g={start:t,...this.getRootNode().posFromIndex(t)},{childNodes:y,length:f}=this;for(let A=0;A<f;A++){const F=y[A],C=F.text().trim();if(C&&!s.has(C)&&!o.has(C)&&(s.size>0||!l.has(C))){const w=x(F,g,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");p.push(w)}}return p}getUnknownFlags(){return new Set(S(this,n).filter(t=>/\{\{[^{}]+\}\}/u.test(t)))}getVariantFlags(){const t=new Set(this.getAttribute("config").variants);return new Set(S(this,n).filter(s=>t.has(s)))}}n=new WeakMap,m.exports=c},8683:(m,k,e)=>{"use strict";const x=e(6010),$=e(8138),T=e(9237);class u extends ${constructor(n,r=!0,i=x.getConfig(),t=[]){super(void 0,i,!0,t);v(this,"type","converter-rule");if(r){const s=n.indexOf(":"),o=n.slice(0,s).indexOf("=>"),l=o===-1?n.slice(0,s):n.slice(o+2,s),{variants:h}=i;h.includes(l.trim())?(super.insertAt(new T(l,"converter-rule-variant",i,t)),super.insertAt(new T(n.slice(s+1),"converter-rule-to",i,t)),o!==-1&&super.insertAt(new T(n.slice(0,o),"converter-rule-from",i,t),0)):super.insertAt(new T(n,"converter-rule-noconvert",i,t))}else super.insertAt(new T(n,"converter-rule-noconvert",i,t))}toString(n){if(this.length===3){const{childNodes:[r,i,t]}=this;return`${r.toString(n)}=>${i.toString(n)}:${t.toString(n)}`}return super.toString(n,":")}text(){if(this.length===3){const{childNodes:[n,r,i]}=this;return`${n.text()}=>${r.text()}:${i.text()}`}return super.text(":")}getGaps(n=0){const{length:r}=this;return n=n<0?n+r:n,n===0&&r===3?2:1}print(){if(this.length===3){const{childNodes:[n,r,i]}=this;return`<span class="wpb-converter-rule">${n.print()}=>${r.print()}:${i.print()}</span>`}return super.print({sep:":"})}}m.exports=u},741:(m,k,e)=>{var d;"use strict";const x=e(6010),$=e(8138),T=e(8962);class u extends ${constructor(r,i,t,s=x.getConfig(),o=[]){super(void 0,s,!0,o,{});v(this,"type","ext-link");E(this,d,void 0);if(this.insertAt(new T(r,!0,s,o)),B(this,d,i),t){const l=new $(t,s,!0,o,{});l.type="ext-link-text",this.insertAt(l.setAttribute("stage",x.MAX_STAGE-1))}}toString(r){return this.length===1?`[${super.toString(r)}${S(this,d)}]`:`[${super.toString(r,S(this,d))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return S(this,d).length}print(){const{length:r}=this;return super.print(r>1?{pre:"[",sep:S(this,d),post:"]"}:{pre:"[",post:`${S(this,d)}]`})}}d=new WeakMap,m.exports=u},1891:(m,k,e)=>{"use strict";const x=e(6010),$=e(8138),T=e(1031),u=e(9263);class d extends ${constructor(r,i=x.getConfig(),t=[]){var o;super(void 0,i,!0,t,{});v(this,"type","ext-inner");v(this,"name","gallery");const s=JSON.parse(JSON.stringify(i));for(const[l,h]of Object.entries(i.img))h==="width"&&delete s.img[l];for(const l of(o=r==null?void 0:r.split(`
`))!=null?o:[]){const h=/^([^|]+)(?:\|(.*))?/u.exec(l);if(!h){super.insertAt(l.trim()?new u(l,void 0,i,[],{}):l);continue}const[,a,p]=h,g=this.normalizeTitle(a,6,!0,!0);g.valid?super.insertAt(new T(a,p,g,s,t)):super.insertAt(new u(l,void 0,i,[],{}))}}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(r=0){const{top:i,left:t}=this.getRootNode().posFromIndex(r),s=[];for(let o=0,l=r;o<this.length;o++){const h=this.childNodes[o],a=String(h),{length:p}=a,g=a.trim(),y=i+o,f=o?0:t;h.type==="hidden"&&g&&!/^<!--.*-->$/u.test(g)?s.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startIndex:l,endIndex:l+p,startLine:y,endLine:y,startCol:f,endCol:f+p}):h.type!=="hidden"&&h.type!=="text"&&s.push(...h.lint(l)),l+=p+1}return s}}m.exports=d},2158:(m,k,e)=>{"use strict";const x=e(6010),$=e(8138),T=e(3423);class u extends ${constructor(c,n,r=x.getConfig(),i=[]){c=c.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(t,s,o,l)=>(new T(s,r,i),new T(l,r,i),`\0${i.length-1}c\x7F${o}\0${i.length}c\x7F`)),super(c,r,!0,i,{}),this.type=n}}m.exports=u},428:(m,k,e)=>{"use strict";const x=e(6010),$=e(2158);class T extends ${constructor(c,n=x.getConfig(),r=[]){super(c,"ext-inner",n,r);v(this,"name","pre");this.setAttribute("stage",x.MAX_STAGE-1)}isPlain(){return!0}}m.exports=T},9450:(m,k,e)=>{"use strict";const{generateForSelf:x}=e(8277),$=e(6010),T=e(8138),u=e(8058);class d extends T{constructor(r,i,t=$.getConfig(),s=[]){super(void 0,t,!0,s);v(this,"type","heading");this.setAttribute("name",String(r));const o=new T(i[0],t,!0,s);o.type="heading-title",o.setAttribute("stage",2);const l=new u(i[1],/^[^\S\n]*$/u,"heading-trail",t,s,{});this.append(o,l)}toString(r){const i="=".repeat(Number(this.name));return`${i}${this.firstChild.toString()}${i}${this.lastChild.toString()}`}text(){const r="=".repeat(Number(this.name));return`${r}${this.firstChild.text()}${r}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const r="=".repeat(Number(this.name)),i=String(this.firstChild);return super.print({pre:r,sep:r,class:(i[0]==="="||i.endsWith("=")||this.closest("html-attrs, table-attrs"))&&"heading wpb-error"})}lint(r=0){const i=super.lint(r),t=String(this.firstChild);let s;return this.name==="1"&&(s=x(this,{start:r},"<h1>"),i.push(s)),(t[0]==="="||t.endsWith("="))&&(s||(s=x(this,{start:r},"")),i.push({...s,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(s||(s=x(this,{start:r},"")),i.push({...s,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),i}}m.exports=d},2350:(m,k,e)=>{var d,c,n;"use strict";const{generateForSelf:x}=e(8277),$=e(6010),T=e(8138);class u extends T{constructor(t,s,o,l,h=$.getConfig(),a=[]){super(void 0,h,!0,a);v(this,"type","html");E(this,d,void 0);E(this,c,void 0);E(this,n,void 0);this.insertAt(s),this.setAttribute("name",t.toLowerCase()),B(this,d,o),B(this,c,l),B(this,n,t)}get closing(){return S(this,d)}toString(t){return`<${S(this,d)?"/":""}${S(this,n)}${super.toString()}${S(this,c)?"/":""}>`}text(){return`<${S(this,d)?"/":""}${S(this,n)}${S(this,d)?"":super.text()}${S(this,c)?"/":""}>`}getPadding(){return S(this,n).length+(S(this,d)?2:1)}print(){return super.print({pre:`&lt;${S(this,d)?"/":""}${S(this,n)}`,post:`${S(this,c)?"/":""}&gt;`,class:this.closest("table-attrs")&&"html wpb-error"})}lint(t=0){const s=super.lint(t);let o;this.name==="h1"&&!S(this,d)&&(o=x(this,{start:t},"<h1>"),s.push(o)),this.closest("table-attrs")&&(o||(o=x(this,{start:t},"")),s.push({...o,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:l}){o||(o=x(this,{start:t},""));const[h]=l.split("\uFF1A"),a={...o,message:h,severity:h==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};s.push(a)}return s}findMatchingTag(){const{html:t}=this.getAttribute("config"),{name:s,parentNode:o}=this,l=String(this);if(S(this,d)&&(S(this,c)||t[2].includes(s)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${l}`);if(t[2].includes(s)||S(this,c)&&t[1].includes(s))return this;if(S(this,c)&&t[0].includes(s))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${l}`);if(!o)return;const{childNodes:h}=o,a=h.indexOf(this),p=S(this,d)?h.slice(0,a).reverse().filter(({type:y,name:f})=>y==="html"&&f===s):h.slice(a+1).filter(({type:y,name:f})=>y==="html"&&f===s);let g=S(this,d)?-1:1;for(const y of p)if(y.closing?g--:g++,g===0)return y;throw new SyntaxError(`\u672A${S(this,d)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${l}`)}}d=new WeakMap,c=new WeakMap,n=new WeakMap,m.exports=u},1874:(m,k,e)=>{var c,ot,r;"use strict";const{print:x,extUrlChar:$}=e(231),T=e(6010),u=e(8138),t=class extends u{constructor(l,h=T.getConfig(),a=[]){var o=(...i)=>{super(...i);v(this,"type","image-parameter");E(this,r,"")};var y;const p=Object.entries(h.img).map(([f,A])=>[f,A,new RegExp(`^(\\s*)${f.replace("$1","(.*)")}(\\s*)$`,"u")]),g=p.find(([,,f])=>f.test(l));if(g){const f=g[2].exec(l);if(f.length!==4||J(y=t,c,ot).call(y,g[1],f[2],h,!0)){f.length===3?(o(void 0,h,!0,a),B(this,r,l)):(o(f[2],h,!0,a,{}),B(this,r,`${f[1]}${g[0]}${f[3]}`)),this.setAttribute("name",g[1]);return}}o(l,h,!0,a),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(l){return S(this,r)?S(this,r).replace("$1",super.toString(l)):super.toString(l)}text(){return S(this,r)?S(this,r).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,S(this,r).indexOf("$1"))}print(){return S(this,r)?`<span class="wpb-image-parameter">${S(this,r).replace("$1",`<span class="wpb-image-caption">${x(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let d=t;c=new WeakSet,ot=function(l,h,a=T.getConfig(),p=!1){switch(h=h.replace(/\0\d+t\x7F/gu,"").trim(),l){case"width":return/^\d*(?:x\d*)?$/u.test(h);case"link":return!h||new RegExp(`(?:${a.protocol}|//)${$}(?=\0\\d+t\x7F|$)`,"iu").test(h)?!0:(h.startsWith("[[")&&h.endsWith("]]")&&(h=h.slice(2,-2)),T.normalizeTitle(h,0,!1,a,p,!0).valid);case"lang":return a.variants.includes(h);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(h)}},r=new WeakMap,E(d,c),m.exports=d},2641:(m,k,e)=>{"use strict";const{generateForSelf:x,generateForChild:$}=e(8277),T=e(6010),u=e(8138),d=e(3423),c=e(1031),n=e(2571);class r extends u{constructor(s,o=T.getConfig(),l=[]){super(void 0,o,!0,l,{});v(this,"type","ext-inner");v(this,"name","imagemap");if(!s)return;const h=s.split(`
`),a=new Set(o.protocol.split("|")),p=d,g=A=>{super.insertAt(new p(A,o,l))};let y=!0,f=!1;for(const A of h){const F=A.trim();if(!(f||!F||F[0]==="#")){if(y){const[C,...w]=A.split("|"),b=this.normalizeTitle(C,0,!0);if(b.valid&&!b.interwiki&&b.ns===6){const P=new c(C,w.length>0?w.join("|"):void 0,b,o,l);P.type="imagemap-image",super.insertAt(P),y=!1;continue}else f=!0}else if(A.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(A);continue}else if(A.includes("[")){const C=A.indexOf("["),w=A.slice(C),b=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(w);if(b){const P=this.normalizeTitle(b[1],0,!0);if(P.valid){super.insertAt(new n(A.slice(0,C),[...b.slice(1),P],w.slice(w.indexOf("]]")+2),o,l));continue}}else if(a.has(w.slice(1,w.indexOf(":")+1))||a.has(w.slice(1,w.indexOf("//")+2))){const P=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(w);if(P){super.insertAt(new n(A.slice(0,C),P.slice(1),w.slice(w.indexOf("]")+1),o,l));continue}}}}g(A)}}get image(){return this.childNodes.find(({type:s})=>s==="imagemap-image")}toString(s){return super.toString(s,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`,class:!this.image&&"ext-inner wpb-error"})}lint(s=0){const o=super.lint(s),l={start:s,...this.getRootNode().posFromIndex(s)};return this.image?o.push(...this.childNodes.filter(h=>{const a=String(h).trim();return h.type==="noinclude"&&a&&a[0]!=="#"}).map(h=>$(h,l,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):o.push(x(this,l,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),o}}m.exports=r},2571:(m,k,e)=>{"use strict";const x=e(6986),$=e(8138),T=e(3423),u=e(3905),d=e(741);class c extends ${constructor(i,t,s,o,l){const h=t[2]instanceof x?u:d;super(void 0,o,!0,l);v(this,"type","imagemap-link");this.append(i,new h(...t,o,l),new T(s,o,l))}}m.exports=c},8138:(m,k,e)=>{var n,r,i,t,s,o,l,h,lt,p,ht,y,at,A,dt,C,pt,b,ut,O,ct,I,gt,j,ft,M,xt,H,mt;"use strict";const{text:x}=e(231),$=e(6010),T=e(9205),u=e(7507),{MAX_STAGE:d}=$,Z=class extends T{constructor(N,R=$.getConfig(),z=!1,Q=[],tt=void 0){super();E(this,h);E(this,p);E(this,y);E(this,A);E(this,C);E(this,b);E(this,O);E(this,I);E(this,j);E(this,M);E(this,H);v(this,"type","root");E(this,n,0);E(this,r,void 0);E(this,i,void 0);E(this,t,void 0);E(this,s,(N=S(this,n),R=!1)=>{if(N<S(this,n)||!this.isPlain()||this.length===0)return this;switch(N){case 0:this.type==="root"&&S(this,i).shift(),B(this,t,Boolean(R)),J(this,h,lt).call(this,R);break;case 1:J(this,p,ht).call(this);break;case 2:J(this,y,at).call(this);break;case 3:J(this,A,dt).call(this);break;case 4:J(this,C,pt).call(this);break;case 5:J(this,b,ut).call(this);break;case 6:J(this,O,ct).call(this);break;case 7:J(this,I,gt).call(this);break;case 8:J(this,j,ft).call(this);break;case 9:J(this,M,xt).call(this);break;case 10:J(this,H,mt).call(this)}if(this.type==="root")for(const z of S(this,i))z.getAttribute("parseOnce")(N,R);return nt(this,n)._++,this});E(this,o,(N,R)=>{const z=N.split(/[\0\x7F]/u).map((Q,tt)=>{if(tt%2===0)return new u(Q);if(isNaN(Q[Q.length-1]))return S(this,i)[Number(Q.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${Q}`)});return R==="string"?z.map(String).join(""):R==="text"?x(z):z});E(this,l,()=>{B(this,n,d);const{length:N,firstChild:R}=this,z=String(R);if(N===1&&R.type==="text"&&z.includes("\0")&&(this.replaceChildren(...S(this,o).call(this,z)),this.normalize(),this.type==="root"))for(const Q of S(this,i))Q.getAttribute("build")()});typeof N=="string"&&this.insertAt(z?N:N.replace(/[\0\x7F]/gu,"")),B(this,r,R),B(this,i,Q),Q.push(this)}getAttribute(N){switch(N){case"config":return JSON.parse(JSON.stringify(S(this,r)));case"accum":return S(this,i);case"parseOnce":return S(this,s);case"buildFromStr":return S(this,o);case"build":return S(this,l);case"include":{if(S(this,t)!==void 0)return S(this,t);const R=this.getRootNode();return R.type==="root"&&R!==this?R.getAttribute("include"):!1}default:return super.getAttribute(N)}}setAttribute(N,R){switch(N){case"stage":return S(this,n)===0&&this.type==="root"&&S(this,i).shift(),B(this,n,R),this;default:return super.setAttribute(N,R)}}isPlain(){return this.constructor===Z}insertAt(N,R=this.length){return typeof N=="string"&&(N=new u(N)),super.insertAt(N,R),N.type==="root"&&(N.type="plain"),N}normalizeTitle(N,R=0,z=!1,Q=!1){return $.normalizeTitle(N,R,S(this,t),S(this,r),z,Q)}afterBuild(){if(this.type==="root")for(const N of S(this,i))N.afterBuild()}parse(N=d,R=!1){for(;S(this,n)<N;)S(this,s).call(this,S(this,n),R);return N&&(S(this,l).call(this),this.afterBuild()),this}};let c=Z;n=new WeakMap,r=new WeakMap,i=new WeakMap,t=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakSet,lt=function(N){const R=e(4907);this.setText(R(String(this.firstChild),S(this,r),S(this,i),N))},p=new WeakSet,ht=function(){const N=e(8275),R=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,z=N(R,S(this,r),S(this,i));this.setText(this.type==="root"?z:z.slice(1))},y=new WeakSet,at=function(){const N=e(5130);this.setText(N(String(this.firstChild),S(this,r),S(this,i)))},A=new WeakSet,dt=function(){const N=e(4624),R=e(2840);this.setText(N(this,S(this,r),S(this,i)));for(const z of S(this,i))if(z instanceof R&&z.type!=="td"){z.normalize();const{childNodes:[,Q]}=z;if(typeof Q=="string"&&Q.includes("\0")){z.removeAt(1);const tt=new Z(Q,S(this,r),!0,S(this,i));z.insertAt(tt,1),tt.setAttribute("stage",4)}}},C=new WeakSet,pt=function(){const N=e(2937);this.setText(N(this,S(this,r),S(this,i)))},b=new WeakSet,ut=function(){const N=e(1452);this.setText(N(String(this.firstChild),S(this,r),S(this,i)))},O=new WeakSet,ct=function(){const N=e(3360),R=String(this.firstChild).split(`
`);for(let z=0;z<R.length;z++)R[z]=N(R[z],S(this,r),S(this,i));this.setText(R.join(`
`))},I=new WeakSet,gt=function(){const N=e(7513);this.setText(N(String(this.firstChild),S(this,r),S(this,i)))},j=new WeakSet,ft=function(){const N=e(4737);this.setText(N(String(this.firstChild),S(this,r),S(this,i)))},M=new WeakSet,xt=function(){if(this.type==="image-parameter")return;const N=e(6622),R=String(this.firstChild).split(`
`);let z=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;z<R.length;z++)R[z]=N(R[z],S(this,r),S(this,i));this.setText(R.join(`
`))},H=new WeakSet,mt=function(){const N=e(3765);this.setText(N(String(this.firstChild),S(this,r),S(this,i)))},m.exports=c},337:(m,k,e)=>{"use strict";const x=e(3905);class $ extends x{constructor(){super(...arguments);v(this,"type","category")}}m.exports=$},7625:(m,k,e)=>{var t,et;"use strict";const{explode:x}=e(231),{generateForChild:$}=e(8277),T=e(6010),u=e(3905),d=e(1874),c=new Set(["manualthumb","frameless","framed","thumbnail"]),n=new Set(["left","right","center","none"]),r=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class i extends u{constructor(h,a,p,g=T.getConfig(),y=[],f="|"){super(h,void 0,p,g,y,f);E(this,t);v(this,"type","file");this.append(...x("-{","}-","|",a).map(A=>new d(A,g,y)))}lint(h=0){const a=super.lint(h),p=this.getAllArgs(),g=[...new Set(p.map(({name:C})=>C))],y=g.filter(C=>c.has(C)),f=g.filter(C=>n.has(C)),A=g.filter(C=>r.has(C));if(p.length===g.length&&y.length<2&&f.length<2&&A.length<2)return a;const F={start:h,...this.getRootNode().posFromIndex(h)};for(const C of g){let w=p.filter(({name:b})=>b===C);C==="caption"&&(w=[...w.slice(0,-1).filter(b=>b.text()),w[w.length-1]]),w.length>1&&a.push(...w.map(b=>$(b,F,`\u91CD\u590D\u7684\u56FE\u7247${C}\u53C2\u6570`)))}return y.size>1&&a.push(...p.filter(({name:C})=>c.has(C)).map(C=>$(C,F,"\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),f.size>1&&a.push(...p.filter(({name:C})=>n.has(C)).map(C=>$(C,F,"\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),A.size>1&&a.push(...p.filter(({name:C})=>r.has(C)).map(C=>$(C,F,"\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),a}getAllArgs(){return this.childNodes.slice(1)}getArgs(h){return this.getAllArgs().filter(({name:a})=>h===a)}getFrameArgs(){return J(this,t,et).call(this,c,"\u6846\u67B6")}getHorizAlignArgs(){return J(this,t,et).call(this,n,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return J(this,t,et).call(this,r,"\u5782\u76F4\u5BF9\u9F50")}}t=new WeakSet,et=function(h,a){return this.getAllArgs().filter(({name:g})=>h.has(g))},m.exports=i},1031:(m,k,e)=>{var c;"use strict";const{generateForSelf:x}=e(8277),$=e(6010),T=e(8138),u=e(7625);class d extends u{constructor(i,t,s,o=$.getConfig(),l=[]){let h;if(t!==void 0){h=new T(t,o,!0,l),h.type="temp";for(let a=1;a<$.MAX_STAGE;a++)h.getAttribute("parseOnce")();l.splice(l.indexOf(h),1)}super(i,h==null?void 0:h.toString(),s,o,l);v(this,"type","gallery-image");E(this,c,!1);this.setAttribute("bracket",!1)}afterBuild(){const i=this.type==="imagemap-image",{interwiki:t,ns:s}=this.normalizeTitle(String(this.firstChild),i?0:6,!0,!i);B(this,c,t||s!==6)}getPadding(){return 0}lint(i=0){const t=super.lint(i);return S(this,c)&&t.push(x(this,{start:i},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),t}print(){return super.print({class:S(this,c)&&"gallery-image wpb-error"})}}c=new WeakMap,m.exports=d},3905:(m,k,e)=>{var n,r;"use strict";const{generateForChild:x}=e(8277),$=e(6010),T=e(7507),u=e(8138),d=e(9237);class c extends u{constructor(s,o,l,h=$.getConfig(),a=[],p="|"){super(void 0,h,!0,a,{});v(this,"type","link");E(this,n,!0);E(this,r,void 0);if(this.insertAt(new d(s,"link-target",h,a,{})),o!==void 0){const g=new u(o,h,!0,a,{});g.type="link-text",this.insertAt(g.setAttribute("stage",$.MAX_STAGE-1))}B(this,r,p)}afterBuild(){var s;(s=S(this,r))!=null&&s.includes("\0")&&B(this,r,this.getAttribute("buildFromStr")(S(this,r),"string"))}setAttribute(s,o){return s==="bracket"?(B(this,n,Boolean(o)),this):super.setAttribute(s,o)}toString(s){const o=super.toString(s,S(this,r));return S(this,n)?`[[${o}]]`:o}text(){const s=super.text("|");return S(this,n)?`[[${s}]]`:s}getPadding(){return 2}getGaps(){return S(this,r).length}print(){return super.print(S(this,n)?{pre:"[[",post:"]]",sep:S(this,r)}:{sep:S(this,r)})}lint(s=0){var h;const o=super.lint(s),{childNodes:[,l]}=this;return(h=l==null?void 0:l.childNodes)!=null&&h.some(({type:a,data:p})=>a==="text"&&p.includes("|"))&&o.push(x(l,{token:this,start:s},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"',"warning")),o}}n=new WeakMap,r=new WeakMap,m.exports=c},8962:(m,k,e)=>{"use strict";const{generateForChild:x}=e(8277),$=e(6010),T=e(8138);class u extends T{constructor(n,r,i=$.getConfig(),t=[]){super(n,i,!0,t,{});v(this,"type","free-ext-link");r&&(this.type="ext-link-url")}lint(n=0){const r=super.lint(n),i=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`;let t;for(const s of this.childNodes){const o=String(s);if(s.type!=="text"||!new RegExp(i,"u").test(o))continue;t||(t={start:n,...this.getRootNode().posFromIndex(n)});const l=x(s,t,"","warning"),h=new RegExp(i,"gu");for(let a=h.exec(o);a;a=h.exec(o)){const{index:p,0:{0:g,length:y}}=a,f=o.slice(0,p).split(`
`),{length:A}=f,{length:F}=f[A-1],C=n+p,w=l.startLine+A-1,b=(A>1?0:l.startCol)+F;r.push({...l,message:`URL\u4E2D\u7684${g==="|"?'"|"':"\u5168\u89D2\u6807\u70B9"}`,startIndex:C,endIndex:C+y,startLine:w,endLine:w,startCol:b,endCol:b+y})}}return r}}m.exports=u},9389:(m,k,e)=>{"use strict";const x=e(6010),$=e(8889);class T extends ${constructor(c,n=x.getConfig(),r=[]){super(c,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],n,r);v(this,"name","choose")}}m.exports=T},9269:(m,k,e)=>{"use strict";const x=e(6010),$=e(8889);class T extends ${constructor(c,n=x.getConfig(),r=[]){super(c,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],n,r);v(this,"name","combobox")}}m.exports=T},8889:(m,k,e)=>{"use strict";const{generateForChild:x}=e(8277),$=e(6010),T=e(8138),u=e(7267),d=e(3423),c=e(5749);class n extends T{constructor(t,s,o,l=$.getConfig(),h=[]){var p;const a=(p=t==null?void 0:t.replace(s,(g,y,f,A,F)=>{const C=`\0${h.length+1}${y?"e":"c"}\x7F`;if(y)new u(y,f,A,F,l,h);else{const w=g.endsWith("-->");new c(g.slice(4,w?-3:void 0),w,l,h)}return C}))==null?void 0:p.replace(/(^|\0\d+[ce]\x7F)(.*?)(?=$|\0\d+[ce]\x7F)/gsu,(g,y,f)=>f===""?y:(new d(f,l,h),`${y}\0${h.length}c\x7F`));super(a,l,!0,h,{});v(this,"type","ext-inner")}lint(t=0){let s;return[...super.lint(t),...this.childNodes.filter(o=>{if(o.type==="ext"||o.type==="comment")return!1;const l=String(o).trim();return l&&!/^<!--.*-->$/u.test(l)}).map(o=>(s||(s={start:t,...this.getRootNode().posFromIndex(t)}),x(o,s,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}m.exports=n},5937:(m,k,e)=>{"use strict";const x=e(6010),$=e(8889);class T extends ${constructor(c,n=x.getConfig(),r=[]){super(c,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],n,r);v(this,"name","references")}}m.exports=T},7033:(m,k,e)=>{var x={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function $(u){var d=T(u);return e(d)}function T(u){if(!e.o(x,u)){var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}return x[u]}$.keys=function(){return Object.keys(x)},$.resolve=T,m.exports=$,$.id=7033},5749:(m,k,e)=>{"use strict";const x=e(2308),{generateForSelf:$}=e(8277),T=e(6010),u=e(6935);class d extends x(u){constructor(r,i=!0,t=T.getConfig(),s=[]){super(r,t,s);v(this,"type","comment");v(this,"closed");this.closed=i}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":"",class:!this.closed&&"comment wpb-error"})}lint(r=0){return this.closed?[]:[$(this,{start:r},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(r){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}m.exports=d},3434:(m,k,e)=>{"use strict";const x=e(6935);class $ extends x{constructor(){super(...arguments);v(this,"type","dd")}}m.exports=$},7815:(m,k,e)=>{"use strict";const x=e(2308),$=e(6935);class T extends x($){constructor(){super(...arguments);v(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(c){return`__${String(this.firstChild)}__`}}m.exports=T},2582:(m,k,e)=>{"use strict";const x=e(6010),$=e(6935);class T extends ${constructor(c,n=x.getConfig(),r=[]){super("-".repeat(c),n,r);v(this,"type","hr")}}m.exports=T},6935:(m,k,e)=>{"use strict";const{generateForSelf:x}=e(8277),$=e(6010),T=e(8138);class u extends T{constructor(n,r=$.getConfig(),i=[]){super(n,r,!0,i);v(this,"type","ext-inner")}lint(n=0){const{type:r,name:i}=this;return r==="ext-inner"&&(i==="templatestyles"||i==="section")&&String(this)?[x(this,{start:n},`<${i}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(n)}}m.exports=u},962:(m,k,e)=>{"use strict";const x=e(3434);class $ extends x{constructor(){super(...arguments);v(this,"type","list")}}m.exports=$},3423:(m,k,e)=>{"use strict";const x=e(2308),$=e(6935);class T extends x($){constructor(){super(...arguments);v(this,"type","noinclude")}}m.exports=T},6714:(m,k,e)=>{"use strict";const{generateForSelf:x}=e(8277),$=e(6010),T=e(7507),u=e(6935);class d extends u{constructor(r,i=$.getConfig(),t=[]){super("'".repeat(r),i,t);v(this,"type","quote")}lint(r=0){const{previousSibling:i,nextSibling:t}=this,s=`\u5B64\u7ACB\u7684"'"`,o=[];let l;if((i==null?void 0:i.type)==="text"&&i.data.endsWith("'")){l=x(this,{start:r},s);const{startIndex:h,startLine:a,startCol:p}=l,[,{length:g}]=i.data.match(/(?:^|[^'])('+)$/u),y=r-g;o.push({...l,startIndex:y,endIndex:h,startCol:p-g,endLine:a,endCol:p})}if((t==null?void 0:t.type)==="text"&&t.data[0]==="'"){l||(l=x(this,{start:r},s));const{endIndex:h,endLine:a,endCol:p}=l,[{length:g}]=t.data.match(/^'+/u),y=h+g;o.push({...l,startIndex:h,endIndex:y,startLine:a,startCol:p,endCol:p+g})}return o}}m.exports=d},851:(m,k,e)=>{"use strict";const x=e(6010),$=e(8138);class T extends ${constructor(c,n=x.getConfig(),r=[]){super(c,n,!0,r);v(this,"type","onlyinclude")}toString(c){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}m.exports=T},9380:(m,k,e)=>{"use strict";const{generateForChild:x}=e(8277),$=e(6010),T=e(8138),u=e(9237);class d extends T{constructor(r,i=$.getConfig(),t=[]){super(void 0,i,!0,t,{});v(this,"type","ext-inner");if(r){const s=u;this.append(...r.split(`
`).map(o=>new s(o,"param-line",i,t,{})))}}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(r=0){let i;return this.childNodes.filter(t=>{const{childNodes:s}=t,o=s.findIndex(({type:h})=>h!=="text"),l=(o>=0?s.slice(0,o).map(String).join(""):String(t)).trim();return l&&!(o>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(l)}).map(t=>(i||(i={start:r,...this.getRootNode().posFromIndex(r)}),x(t,i,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}m.exports=d},9799:(m,k,e)=>{"use strict";const{extUrlChar:x}=e(231),{generateForChild:$}=e(8277),T=e(6010),u=e(8138);class d extends u{constructor(r,i,t=T.getConfig(),s=[]){super(void 0,t,!0,s);v(this,"type","parameter");const o=new u(typeof r=="number"?void 0:r,t,!0,s,{}),l=new u(i,t,!0,s);o.type="parameter-key",l.type="parameter-value",this.append(o,l.setAttribute("stage",2))}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const r=e(1782),i=String(this.firstChild).replace(/<!--.*?-->/gu,"").replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1"),{parentNode:t}=this;this.setAttribute("name",i),t instanceof r&&t.getArgs(i,!1,!1).add(this)}}toString(r){return this.anon?this.lastChild.toString(r):super.toString(r,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(r=0){var o;const i=super.lint(r),{firstChild:t}=this,s=(o=new RegExp(`https?://${x}$`,"iu").exec(String(t).replace(/<!--.*?-->/gu,"")))==null?void 0:o[0];if(s&&new URL(s).search){const l=$(t,{token:this,start:r},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");i.push({...l,startIndex:l.endIndex,endIndex:l.endIndex+1,startLine:l.endLine,startCol:l.endCol,endCol:l.endCol+1})}return i}}m.exports=d},8058:(m,k,e)=>{"use strict";const x=e(6010),$=e(8138);class T extends ${constructor(d,c,n="plain",r=x.getConfig(),i=[],t=void 0){super(d,r,!0,i,t),this.type=n}}m.exports=T},2840:(m,k,e)=>{"use strict";const{generateForChild:x}=e(8277),$=e(3125),T=e(8058);class u extends ${constructor(){super(...arguments);v(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(n=0){const r=super.lint(n);if(!this.closed){const{firstChild:i}=this,t=x(i,{token:this,start:n},"\u672A\u95ED\u5408\u7684\u8868\u683C");r.push(t)}return r}close(n=`
|}`,r=!1){const i=this.getAttribute("config"),t=this.getAttribute("accum");super.insertAt(new T(n,void 0,"table-syntax",i,t))}}m.exports=u},5567:(m,k,e)=>{var c;"use strict";const{generateForChild:x}=e(8277),$=e(6010),T=e(8138),u=e(3125);class d extends u{constructor(i,t,s=$.getConfig(),o=[]){let l=t==null?void 0:t.match(/\||\0\d+!\x7F/u),h=l?t.slice(0,l.index):"";/\[\[|-\{/u.test(h)&&(l=void 0,h="");super(i,h,s,o);v(this,"type","td");E(this,c,"");l&&([nt(this,c)._]=l);const a=new T(t==null?void 0:t.slice((l==null?void 0:l.index)+S(this,c).length),s,!0,o);a.type="td-inner",this.insertAt(a.setAttribute("stage",4))}get subtype(){return this.getSyntax().subtype}getSyntax(){const i=this.firstChild.text(),t=i[i.length-1];let s="td";return t==="!"?s="th":t==="+"&&(s="caption"),{subtype:s}}afterBuild(){S(this,c).includes("\0")&&B(this,c,this.getAttribute("buildFromStr")(S(this,c),"string"))}toString(i){const{childNodes:[t,s,o]}=this;return`${t.toString()}${s.toString()}${S(this,c)}${o.toString()}`}text(){const{childNodes:[i,t,s]}=this;return`${i.text()}${t.text()}${S(this,c)}${s.text()}`}getGaps(i=0){return i=i<0?i+this.length:i,i===1?S(this,c).length:0}lint(i=0){const t=super.lint(i),{lastChild:s}=this;i+=this.getRelativeIndex(-1);for(const o of s.childNodes)o.type==="text"&&o.data.includes("|")&&t.push(x(o,{token:s,start:i},'\u8868\u683C\u5355\u5143\u683C\u4E2D\u591A\u4F59\u7684"|"',"warning"));return t}print(){const{childNodes:[i,t,s]}=this;return`<span class="wpb-td">${i.print()}${t.print()}${S(this,c)}${s.print()}</span>`}}c=new WeakMap,m.exports=d},3125:(m,k,e)=>{"use strict";const{generateForChild:x}=e(8277),$=e(6010),T=e(8138),u=e(8058),d=e(5649);class c extends T{constructor(i,t="",s=$.getConfig(),o=[],l=void 0){super(void 0,s,!0,o,{});v(this,"type","tr");this.append(new u(i,l,"table-syntax",s,o,{}),new d(t,"table-attrs",this.type,s,o))}lint(i=0){const t=e(1782),s=e(9544),o=super.lint(i),l=this.childNodes.find(({type:g})=>g==="table-inter");if(!l)return o;const h=l.childNodes.find(g=>g.text().trim()),a=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!h||h.type==="arg"&&a.test(h.default||""))return o;if(h.type==="magic-word")try{if(h.getPossibleValues().every(y=>a.test(y.text())))return o}catch(g){}const p=x(l,{token:this,start:i},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return o.push({...p,startIndex:p.startIndex+1,startLine:p.startLine+1,startCol:0}),o}text(){const i=super.text();return this.type==="tr"&&!i.trim().includes(`
`)?"":i}}m.exports=c},7267:(m,k,e)=>{"use strict";const{generateForSelf:x}=e(8277),$=e(6010),T=e(8138),u=e(1074),d=e(5649);class c extends u{constructor(i,t="",s="",o=void 0,l=$.getConfig(),h=[]){t=!t||/^\s/u.test(t)?t:` ${t}`;const a=i.toLowerCase(),p=new d(t,"ext-attrs",a,l,h),g=JSON.parse(JSON.stringify(l)),y=new Set(g.ext);let f;switch(y.delete(a),g.ext=[...y],a){case"tab":y.delete("tabs"),g.ext=[...y];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":f=new T(s,g,!0,h);break;case"gallery":{const A=e(1891);f=new A(s,g,h);break}case"pre":{const A=e(428);f=new A(s,g,h);break}case"charinsert":{const A=e(8103);f=new A(s,g,h);break}case"references":case"choose":case"combobox":{const A=e(8889),F=e(7033)(`./${a}`);f=new F(s,g,h);break}case"imagemap":{const A=e(2641);f=new A(s,l,h);break}case"dynamicpagelist":{const A=e(9380);f=new A(s,g,h);break}default:{const A=e(6935);f=new A(s,l)}}f.setAttribute("name",a).type="ext-inner";super(i,p,f,o,l,h);v(this,"type","ext");v(this,"closed",!0)}lint(i=0){const t=super.lint(i);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const s=this.getRootNode(),o={start:i,...s.posFromIndex(i)};t.push(x(this,o,"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6269\u5C55\u6807\u7B7E"))}return t}print(){return super.print({class:this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")&&"ext wpb-error"})}}m.exports=c},8655:(m,k,e)=>{"use strict";const x=e(2308),{generateForSelf:$}=e(8277),T=e(6010),u=e(1074);class d extends x(u){constructor(r,i="",t=void 0,s=void 0,o=T.getConfig(),l=[]){super(r,i,t!=null?t:"",t===void 0||s!=null?s:"",o,l);v(this,"type","include")}lint(r=0){return this.closed?[]:[$(this,{start:r},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}print(){return super.print({class:!this.closed&&`${this.type} wpb-error`})}}m.exports=d},1074:(m,k,e)=>{var u,d,c;"use strict";const x=e(6010),$=e(8138);class T extends ${constructor(i,t,s,o,l=x.getConfig(),h=[]){super(void 0,l,!0);E(this,u,void 0);E(this,d,void 0);E(this,c,void 0);B(this,c,[i,o||i]),B(this,u,o===void 0),B(this,d,o!==""),this.append(t,s);let a=h.indexOf(t);a===-1&&(a=h.indexOf(s)),a===-1&&(a=1/0),h.splice(a,0,this)}get closed(){return S(this,d)}toString(i){const{firstChild:t,lastChild:s}=this,[o,l]=S(this,c);return S(this,u)?`<${o}${String(t)}/>`:`<${o}${String(t)}>${String(s)}${S(this,d)?`</${l}>`:""}`}text(){const[i,t]=S(this,c);return S(this,u)?`<${i}${this.firstChild.text()}/>`:`<${i}${super.text(">")}${S(this,d)?`</${t}>`:""}`}getPadding(){return S(this,c)[0].length+1}getGaps(){return 1}print(){const[i,t]=S(this,c);return super.print(S(this,u)?{pre:`&lt;${i}`,post:"/&gt;"}:{pre:`&lt;${i}`,sep:"&gt;",post:S(this,d)?`&lt;/${t}&gt;`:""})}}u=new WeakMap,d=new WeakMap,c=new WeakMap,m.exports=T},1782:(m,k,e)=>{var s,o,$t;"use strict";const{removeComment:x,print:$,text:T}=e(231),{generateForChild:u}=e(8277),d=e(6010),c=e(8138),n=e(9799),r=e(9237),i=e(8058);class t extends c{constructor(p,g,y=d.getConfig(),f=[]){super(void 0,y,!0,f,{});E(this,o);v(this,"type","template");v(this,"modifier","");E(this,s,{});const{parserFunction:[A,F,C]}=y;if(p.includes(":")){const[P,...O]=p.split(":");this.setModifier(P)&&(p=O.join(":"))}if(p.includes(":")||g.length===0&&!C.includes(this.modifier.toLowerCase())){const[P,...O]=p.split(":"),L=x(P),I=L.trim(),U=F.includes(I),j=A[I.toLowerCase()];if(!(O.length>0&&/\s$/u.test(L))&&(U||j)){this.setAttribute("name",j||I.toLowerCase()).type="magic-word";const V=new RegExp(`^\\s*${I}\\s*$`,U?"u":"iu"),M=new i(P,V,"magic-word-name",y,f,{});if(this.insertAt(M),O.length>0&&g.unshift([O.join(":")]),this.name==="invoke")for(let X=0;X<2;X++){const H=g.shift();if(!H)break;const K=new r(H.join("="),`invoke-${X?"function":"module"}`,y,f,{});this.insertAt(K)}}}if(this.type==="template"){const P=x(p).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test(P))throw f.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${P}`);const O=new r(p,"template-name",y,f,{});this.insertAt(O)}const w=this.isTemplate();let b=1;for(const P of g)w||(P[0]=P.join("="),P.length=1),P.length===1&&(P.unshift(b),b++),this.insertAt(new n(...P,y,f))}setModifier(p=""){if(/\s$/u.test(p))return!1;const{parserFunction:[,,g,y]}=this.getAttribute("config"),f=p.trim().toLowerCase(),A=g.includes(f),F=y.includes(f);return A||F||p===""?(this.setAttribute("modifier",p),Boolean(p)):!1}toString(p){const{childNodes:g,firstChild:y,modifier:f}=this;return`{{${f}${f&&":"}${this.type==="magic-word"?`${String(y)}${g.length>1?":":""}${g.slice(1).map(String).join("|")}`:super.toString(p,"|")}}}`}text(){const{childNodes:p,firstChild:g,modifier:y}=this;return`{{${y}${y&&":"}${this.type==="magic-word"?`${g.text()}${p.length>1?":":""}${T(p.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:p,firstChild:g,modifier:y}=this;return`<span class="wpb-${this.type}">{{${y}${y&&":"}${this.type==="magic-word"?`${g.print()}${p.length>1?":":""}${$(p.slice(1),{sep:"|"})}`:$(p,{sep:"|"})}}}</span>`}lint(p=0){const g=super.lint(p);if(!this.isTemplate())return g;const y=this.getDuplicatedArgs();if(y.length>0){const f={start:p,...this.getRootNode().posFromIndex(p)};g.push(...y.flatMap(([,A])=>A).map(A=>u(A,f,"\u91CD\u590D\u53C2\u6570")))}return g}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(p,g=this.length){return super.insertAt(p,g),p.anon?J(this,o,$t).call(this,p):p.name&&this.getArgs(p.name,!1,!1).add(p),p}getAllArgs(){return this.childNodes.filter(p=>p instanceof n)}getAnonArgs(){return this.getAllArgs().filter(({anon:p})=>p)}getArgs(p,g,y=!0){const f=String(p).trim();let A;return Object.prototype.hasOwnProperty.call(S(this,s),f)?A=S(this,s)[f]:(A=new Set(this.getAllArgs().filter(({name:F})=>f===F)),S(this,s)[f]=A),A}getDuplicatedArgs(){return this.isTemplate()?Object.entries(S(this,s)).filter(([,{size:p}])=>p>1).map(([p,g])=>[p,[...g]]):[]}getPossibleValues(){const{type:p,name:g,childNodes:y,constructor:{name:f}}=this;if(p==="template")throw new Error(`${f}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let A;switch(g){case"if":case"ifexist":case"ifexpr":case"iferror":A=2;break;case"ifeq":A=3;break;default:throw new Error(`${f}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const F=y.slice(A,A+2).map(({childNodes:[,C]})=>C);for(let C=0;C<F.length;){const{length:w,0:b}=F[C].childNodes.filter(P=>P.text().trim());if(w===0)F.splice(C,1);else if(w>1||b.type!=="magic-word")C++;else try{const P=b.getPossibleValues();F.splice(C,1,...P),C+=P.length}catch(P){C++}}return F}}s=new WeakMap,o=new WeakSet,$t=function(p){const g=this.getAnonArgs(),y=g.indexOf(p);for(let f=y;f<g.length;f++){const A=g[f],{name:F}=A,C=String(f+1);F!==C&&this.getArgs(C,!1,!1).add(A.setAttribute("name",C))}},m.exports=t},8277:(m,k,e)=>{"use strict";const x=e(8138),$=(u,d,c,n="error")=>{const r=u.getRelativeIndex(),{offsetHeight:i,offsetWidth:t,parentNode:s,length:o}=u,{top:l,left:h}=s.posFromIndex(r),{token:a,start:p}=d,{top:g,left:y}=a?a.getRootNode().posFromIndex(p):d,f=p+r,A=f+o,F=g+l,C=F+i-1,w=l?h:y+h,b=i>1?t:w+t;return{message:c,severity:n,startIndex:f,endIndex:A,startLine:F,endLine:C,startCol:w,endCol:b}},T=(u,d,c,n="error")=>{const{start:r}=d,{offsetHeight:i,offsetWidth:t,length:s}=u,{top:o,left:l}="top"in d?d:u.getRootNode().posFromIndex(r);return{message:c,severity:n,startIndex:r,endIndex:r+s,startLine:o,endLine:o+i-1,startCol:l,endCol:i>1?t:l+t}};m.exports={generateForChild:$,generateForSelf:T}},231:(m,k,e)=>{"use strict";const x='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',$=n=>n.replace(/\0\d+c\x7F/gu,""),T=(n,r={})=>{const i=e(7507),t=e(9205),{pre:s="",post:o="",sep:l=""}=r,h={"&":"amp","<":"lt",">":"gt"};return`${s}${n.map(a=>a instanceof t?a.print():String(a).replace(/[&<>]/gu,p=>`&${h[p]};`)).join(l)}${o}`},u=n=>n.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),d=(n,r,i,t)=>{if(t===void 0)return[];const s=new RegExp(`${[n,r,i].map(u).join("|")}`,"gu"),o=[];let l=s.exec(t),h=0,a=0;for(;l;){const{0:p,index:g}=l;p!==i?h+=p===n?1:-1:h===0&&(o.push(t.slice(a,g)),{lastIndex:a}=s),l=s.exec(t)}return o.push(t.slice(a)),o},c=(n,r="")=>{const i=e(3853);return n.map(t=>typeof t=="string"?t:t.text()).join(r)};m.exports={extUrlChar:x,removeComment:$,print:T,escapeRegExp:u,explode:d,text:c}},8166:m=>{"use strict";m.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},G={};function W(m){var k=G[m];if(k!==void 0)return k.exports;var e=G[m]={exports:{}};return D[m](e,e.exports,W),e.exports}W.o=(m,k)=>Object.prototype.hasOwnProperty.call(m,k);var q=W(6010)})();})();
