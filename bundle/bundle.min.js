(()=>{var Tt=Object.defineProperty;var At=(z,j,M)=>j in z?Tt(z,j,{enumerable:!0,configurable:!0,writable:!0,value:M}):z[j]=M;var F=(z,j,M)=>(At(z,typeof j!="symbol"?j+"":j,M),M),et=(z,j,M)=>{if(!j.has(z))throw TypeError("Cannot "+M)};var A=(z,j,M)=>(et(z,j,"read from private field"),M?M.call(z):j.get(z)),L=(z,j,M)=>{if(j.has(z))throw TypeError("Cannot add the same private member more than once");j instanceof WeakSet?j.add(z):j.set(z,M)},G=(z,j,M,Z)=>(et(z,j,"write to private field"),Z?Z.call(z,M):j.set(z,M),M),st=(z,j,M,Z)=>({set _(m){G(z,j,m,M)},get _(){return A(z,j,Z)}}),U=(z,j,M)=>(et(z,j,"access private method"),M);(()=>{var z={6010:(m,S,e)=>{"use strict";const c={config:void 0,minConfig:e(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(h,g=0,o=!1,r=c.getConfig(),s=!1,t=!1){let n;if(!s){const a=e(8138);n=this.run(()=>{const d=new a(String(h),r),p=d.getAttribute("parseOnce");return p(0,o),p()}),h=n.firstChild}const i=e(6986);return new i(String(h),g,r,t)},parse(h,g,o=c.MAX_STAGE,r=c.getConfig()){const s=e(8138);let t;return this.run(()=>{typeof h=="string"?t=new s(h,r):h instanceof s&&(t=h,h=String(t)),t.parse(o,g)}),t},run(h){return h()},print(h,g=!1,o=c.getConfig()){return`<div class="wikiparser">${this.parse(h,g,this.MAX_STAGE,o).print()} </div>`},lint(h,g=!1,o=c.getConfig()){return this.parse(h,g,this.MAX_STAGE,o).lint()}},T={},$=new Set(["MAX_STAGE","minConfig"]),u=new Set(["config","normalizeTitle","parse","print","lint"]);for(const h in c)$.has(h)?T[h]={enumerable:!1,writable:!1}:u.has(h)||(T[h]={enumerable:!1});Object.defineProperties(c,T),typeof self=="object"?self.Parser=c:typeof window=="object"&&(window.Parser=c),m.exports=c},9205:(m,S,e)=>{"use strict";const{print:c}=e(231),T=e(3853),$=e(7507),h=class extends T{constructor(){super(...arguments);F(this,"name")}get length(){return this.childNodes.length}closest(r){const s=new Set(r.split(",").map(n=>n.trim()));let{parentNode:t}=this;for(;t;){if(s.has(t.type))return t;({parentNode:t}=t)}}append(...r){for(const s of r)this.insertAt(s)}replaceChildren(...r){for(let s=this.childNodes.length-1;s>=0;s--)this.removeAt(s);this.append(...r)}setText(r,s=0){const t=this.childNodes[s],{type:n,data:i}=t;if(n==="text")return t.replaceData(r),i}toString(r,s=""){return this.childNodes.map(t=>t.toString()).join(s)}lint(r=0){const s=e(8058);if(this instanceof s||this.constructor.hidden||this.type==="ext-inner"&&h.lintIgnoredExt.has(this.name))return[];const t=[];for(let n=0,i=r+this.getPadding();n<this.childNodes.length;n++){const l=this.childNodes[n];t.push(...l.lint(i)),i+=String(l).length+this.getGaps(n)}return t}print(r={}){var s;return String(this)?`<span class="wpb-${(s=r.class)!=null?s:this.type}">${c(this.childNodes,r)}</span>`:""}};let u=h;F(u,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),m.exports=u},3853:(m,S,e)=>{var $,u,q,g,rt;"use strict";const{text:c}=e(231);class T{constructor(){L(this,u);L(this,g);F(this,"type");F(this,"childNodes",[]);L(this,$,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return A(this,$)}get nextSibling(){var t;const s=(t=A(this,$))==null?void 0:t.childNodes;return s&&s[s.indexOf(this)+1]}get previousSibling(){var t;const s=(t=A(this,$))==null?void 0:t.childNodes;return s&&s[s.indexOf(this)-1]}hasAttribute(s){return s in this}getAttribute(s){return this.hasAttribute(s)?String(this[s]):void 0}setAttribute(s,t){return s==="parentNode"?G(this,$,t):this[s]=t,this}text(s=""){return c(this.childNodes,s)}removeAt(s){const t=[...this.childNodes],[n]=t.splice(s,1);return n.setAttribute("parentNode"),this.setAttribute("childNodes",t),n}insertAt(s,t=this.childNodes.length){const n=[...this.childNodes];return-1===-1&&s.setAttribute("parentNode",this),n.splice(t,0,s),this.setAttribute("childNodes",n),s}normalize(){var n;const s=e(7507),t=[...this.childNodes];for(let i=t.length-1;i>=0;i--){const{type:l,data:a}=t[i];this.getGaps(i-1)||(a===""?t.splice(i,1):l==="text"&&((n=t[i-1])==null?void 0:n.type)==="text"&&(t[i-1].setAttribute("data",t[i-1].data+a),t.splice(i,1)))}this.setAttribute("childNodes",t)}getRootNode(){let{parentNode:s}=this;for(;s!=null&&s.parentNode;)({parentNode:s}=s);return s!=null?s:this}posFromIndex(s){const t=String(this);if(s>=-t.length&&s<=t.length){const n=t.slice(0,s).split(`
`);return{top:n.length-1,left:n[n.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(s){let t;const n=(i,l)=>t.slice(0,i).reduce((a,d,p)=>a+String(d).length+l.getGaps(p),0)+l.getPadding();if(s===void 0){const{parentNode:i}=this;return i?({childNodes:t}=i,n(t.indexOf(this),i)):0}return{childNodes:t}=this,n(s,this)}get offsetHeight(){return U(this,u,q).call(this).height}get offsetWidth(){return U(this,u,q).call(this).width}get style(){return{...U(this,g,rt).call(this),...U(this,u,q).call(this),padding:this.getPadding()}}}$=new WeakMap,u=new WeakSet,q=function(){const s=String(this).split(`
`);return{height:s.length,width:s[s.length-1].length}},g=new WeakSet,rt=function(s){var t,n;return s===void 0?(n=(t=this.parentNode)==null?void 0:t.posFromIndex(this.getRelativeIndex()))!=null?n:{top:0,left:0}:this.posFromIndex(this.getRelativeIndex(s))},m.exports=T},7507:(m,S,e)=>{var g,it;"use strict";const c=e(3853),T=e(9205),$=/https?:|[{}]+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu,u=/[{}]+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu;class h extends c{constructor(t=""){super();L(this,g);F(this,"type","text");F(this,"data");this.data=t}toString(){return this.data}text(){return this.data}replaceData(t=""){U(this,g,it).call(this,t)}lint(t=0){const{data:n,parentNode:i}=this,l=i==null?void 0:i.type,a=i==null?void 0:i.name,d=l==="free-ext-link"||l==="ext-link-url"||l==="image-parameter"&&a==="link"||l==="html-attrs"&&a==="img"?u:$,p=[];if(n.search(d)!==-1){d.lastIndex=0;const x=this.getRootNode(),{top:C,left:f}=x.posFromIndex(t);for(let y=d.exec(n);y;y=d.exec(n)){const[,k]=y;let{0:b,index:P}=y;k&&(P+=k.length,b=b.slice(k.length));const E=n.slice(0,P).split(`
`),w=E.length+C-1,H=E[E.length-1],I=E.length>1?H.length:f+H.length,{0:R,length:D}=b;p.push({message:`\u5B64\u7ACB\u7684"${R==="h"?b:R}"`,severity:R==="{"||R==="}"||D>1?"error":"warning",startLine:w,endLine:w,startCol:I,endCol:I+D})}}return p}}g=new WeakSet,it=function(t){return t=String(t),this.setAttribute("data",t),this},m.exports=h},6986:(m,S,e)=>{"use strict";const c=e(6010);class T{constructor(u,h=0,g=c.getConfig(),o=!1){F(this,"valid",!0);F(this,"ns",0);const{namespaces:r,nsid:s}=g;let t=r[h];if(o&&u.includes("%"))try{u=decodeURIComponent(u)}catch(a){}u=u.replace(/_/gu," ").trim(),u[0]===":"&&(t="",u=u.slice(1).trim());const n=u.split(":");if(n.length>1){const a=r[s[n[0].trim().toLowerCase()]];a!==void 0&&(t=a,u=n.slice(1).join(":").trim())}this.ns=s[t.toLowerCase()];const i=u.indexOf("#");let l="";i!==-1&&(l=u.slice(i+1).trim(),u=u.slice(0,i).trim()),this.valid=Boolean(u||l)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(u)}}m.exports=T},2308:m=>{"use strict";const S=e=>{var c;return c=class extends e{text(){return""}},F(c,"hidden",!0),c};m.exports=S},8275:(m,S,e)=>{"use strict";const{removeComment:c}=e(231),T=e(6010),$=e(9450),u=e(1782),h=e(9544),g=(o,r=T.getConfig(),s=[])=>{var C,f,y,k,b;const t="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",n=[],i={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},l={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let a=new RegExp(t,"gmu"),d=a.exec(o),p=o.includes("}}"),x;for(;d||x<=o.length&&((f=(C=n[n.length-1])==null?void 0:C[0])==null?void 0:f[0])==="=";){if(d!=null&&d[1]){const[,{length:B}]=d;d[0]=d[0].slice(B),d.index+=B}const{0:P,index:E}=d!=null?d:{0:`
`,index:o.length},w=(y=n.pop())!=null?y:{},{0:H,index:I,parts:R,findEqual:D,pos:V}=w,W=P==="="&&D;if(P==="]]"||P==="}-")x=E+2;else if(P===`
`){x=E+1;const{pos:B,findEqual:Q}=(k=n[n.length-1])!=null?k:{};if(!B||Q||c(o.slice(B,I))!==""){const J=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(o.slice(I,E));J&&(o=`${o.slice(0,I)}\0${s.length}h\x7F${o.slice(E)}`,x=I+4+String(s.length).length,new $(J[1].length,J.slice(2),r,s))}}else if(P==="|"||W)x=E+1,R[R.length-1].push(o.slice(V,E)),P==="|"&&R.push([]),w.pos=x,w.findEqual=P==="|",n.push(w);else if(P.startsWith("}}")){const B=P.slice(0,Math.min(H.length,3)),Q=H.length-B.length,{length:J}=s;x=E+B.length,R[R.length-1].push(o.slice(V,E));let nt=!1,Y="t";if(B.length===3)new h(R.map(N=>N.join("=")),r,s);else{const N=c(R[0][0]).trim();N in l?Y=l[N]:/^(?:fullurl|canonicalurl|filepath):./iu.test(N)&&(Y="m");try{new u(R[0][0],R.slice(1),r,s)}catch(v){if(v instanceof Error&&v.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))x=I+H.length,nt=!0;else throw v}}nt||(o=`${o.slice(0,I+Q)}\0${J}${Y}\x7F${o.slice(x)}`,x=I+Q+3+String(J).length,Q>1?n.push({0:H.slice(0,Q),index:I,pos:I+Q,parts:[[]]}):Q===1&&o[I-1]==="-"&&n.push({0:"-{",index:I-1,pos:I+1,parts:[[]]}))}else x=E+P.length,P[0]==="{"&&(d.pos=x,d.parts=[[]]),n.push(..."0"in w?[w]:[],d);p&&(p=o.slice(x).includes("}}"));let X=n[n.length-1];!p&&((b=X==null?void 0:X[0])==null?void 0:b[0])==="{"&&(n.pop(),X=n[n.length-1]),a=new RegExp(t+(X?`|${i[X[0][0]]}${X.findEqual?"|=":""}`:""),"gmu"),a.lastIndex=x,d=a.exec(o)}return o};m.exports=g},4907:(m,S,e)=>{"use strict";const c=e(6010),T=e(851),$=e(3423),u=e(8655),h=e(7267),g=e(5749),o=(r,s=c.getConfig(),t=[],n=!1)=>{const i=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(n&&r.search(i)!==-1)return r.replace(i,(x,C)=>{const f=`\0${t.length}e\x7F`;return new T(C,s,t),f}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(x,C,f)=>f===""?C:(new $(f,s,t),`${C}\0${t.length-1}c\x7F`));const l=s.ext.join("|"),a=n?"includeonly":"(?:no|only)include",d=n?"noinclude":"includeonly",p=new RegExp(`<!--.*?(?:-->|$)|<${a}(?:\\s[^>]*?)?>|</${a}\\s*>|<(${l})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${d})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return r.replace(p,(x,C,f,y,k,b,P,E,w)=>{const H=`\0${t.length}${C?"e":"c"}\x7F`;if(C)new h(C,f,y,k,s,t);else if(x.startsWith("<!--")){const I=x.endsWith("-->");new g(x.slice(4,I?-3:void 0),I,s,t)}else b?new u(b,P,E,w,s,t):new $(x,s,t);return H})};m.exports=o},3765:(m,S,e)=>{"use strict";const c=e(6010),T=e(9910),$=(u,h=c.getConfig(),g=[])=>{const o=/-\{/gu,r=/-\{|\}-/gu,s=[];let t=o,n=t.exec(u);for(;n;){const{0:i,index:l}=n;if(i==="}-"){const a=s.pop(),{length:d}=g,p=u.slice(a.index+2,l),x=p.indexOf("|"),[C,f]=x===-1?[[],p]:[p.slice(0,x).split(";"),p.slice(x+1)],y=f.replace(/(&[#a-z\d]+);/giu,"$1"),k=`(?:${h.variants.join("|")})`,b=y.split(new RegExp(`;(?=\\s*(?:${k}|[^;]*?=>\\s*${k})\\s*:)`,"u")).map(P=>P.replace(/\x01/gu,";"));new T(C,b,h,g),u=`${u.slice(0,a.index)}\0${d}v\x7F${u.slice(l+2)}`,s.length===0&&(t=o),t.lastIndex=a.index+3+String(d).length}else s.push(n),t=r,t.lastIndex=l+2;n=t.exec(u)}return u};m.exports=$},7513:(m,S,e)=>{"use strict";const{extUrlChar:c}=e(231),T=e(6010),$=e(741),u=(h,g=T.getConfig(),o=[])=>{const r=new RegExp(`\\[((?:${g.protocol}|//)${c}|\0\\d+m\x7F)(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return h.replace(r,(s,t,n,i)=>{const{length:l}=o,a=/&[lg]t;/u.exec(t);return a&&(t=t.slice(0,a.index),n="",i=`${t.slice(a.index)}${n}${i}`),new $(t,n,i,g,o),`\0${l}w\x7F`})};m.exports=u},2937:(m,S,e)=>{"use strict";const c=e(6010),T=e(7507),$=e(8138),u=e(2582),h=e(7815),g=({firstChild:{data:o},type:r,name:s},t=c.getConfig(),n=[])=>{const{doubleUnderscore:i}=t,l=new Set(i[0]),a=new Set(i[1]);return r!=="root"&&(r!=="ext-inner"||s!=="poem")&&(o=`\0${o}`),o=o.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(d,p,x)=>(new u(x.length,t,n),`${p}\0${n.length-1}r\x7F`)).replace(new RegExp(`__(${i.flat().join("|")})__`,"giu"),(d,p)=>l.has(p.toLowerCase())||a.has(p)?(new h(p,t,n),`\0${n.length-1}u\x7F`):d),r==="root"||r==="ext-inner"&&s==="poem"?o:o.slice(1)};m.exports=g},5130:(m,S,e)=>{"use strict";const c=e(6010),T=e(5649),$=e(2350),u=(h,g=c.getConfig(),o=[])=>{const r=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,s=new Set(g.html.flat()),t=h.split("<");let n=t.shift();for(const i of t){const l=r.exec(i),a=l==null?void 0:l[2],d=a==null?void 0:a.toLowerCase();if(!l||!s.has(d)){n+=`<${i}`;continue}const[,p,,x="",C,f]=l,y=new T(x,"html-attrs",d,g,o),k=y.getAttr("itemprop");if(d==="meta"&&(k===void 0||y.getAttr("content")===void 0)||d==="link"&&(k===void 0||y.getAttr("href")===void 0)){n+=`<${i}`,o.pop();continue}n+=`\0${o.length}x\x7F${f}`,new $(a,y,p==="/",C==="/>",g,o)}return n};m.exports=u},1452:(m,S,e)=>{"use strict";const c=e(6010),T=e(3905),$=e(7625),u=e(337),h=(g,o=c.getConfig(),r=[])=>{const s=e(3360),t=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,n=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,i=new RegExp(`^\\s*(?:${o.protocol})`,"iu"),l=g.split("[[");let a=l.shift();for(let d=0;d<l.length;d++){let p,x,C,f,y;const k=l[d],b=t.exec(k);if(b)[,x,C,f,y]=b,y[0]==="]"&&(f==null?void 0:f.includes("["))&&(f+="]",y=y.slice(1));else{const R=n.exec(k);R&&(p=!0,[,x,C,f]=R)}if(x===void 0||i.test(x)||/\0\d+[exhbru]\x7F/u.test(x)){a+=`[[${k}`;continue}const P=x.trim()[0]===":";if(P&&p){a+=`[[${k}`;continue}const E=c.normalizeTitle(x,0,!1,o,!0,!0),{ns:w,valid:H}=E;if(H){if(p){if(w!==6){a+=`[[${k}`;continue}let R;for(d++;d<l.length;d++){const D=l[d],V=D.split("]]");if(V.length>2){R=!0,f+=`[[${V[0]}]]${V[1]}`,y=V.slice(2).join("]]");break}else if(V.length===2)f+=`[[${V[0]}]]${V[1]}`;else{f+=`[[${D}`;break}}if(f=h(f,o,r),!R){a+=`[[${x}${C}${f}`;continue}}}else{a+=`[[${k}`;continue}f&&(f=s(f,o,r)),a+=`\0${r.length}l\x7F${y}`;let I=T;P||(w===6?I=$:w===14&&(I=u)),new I(x,f,E,o,r,C)}return a};m.exports=h},6622:(m,S,e)=>{"use strict";const c=e(6010),T=e(962),$=e(3434),u=(h,g=c.getConfig(),o=[])=>{const r=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(h);if(!r)return h;const[s,t,n]=r;h=`${t}\0${o.length}d\x7F${h.slice(s.length)}`,new T(n,g,o);let i=n.split(";").length-1;if(!i)return h;let l=/:+|-\{/gu,a=l.exec(h),d=0;for(;a&&i;){const{0:p,index:x}=a;if(p[0]===":"){if(p.length>=i)return new $(":".repeat(i),g,o),`${h.slice(0,x)}\0${o.length-1}d\x7F${h.slice(x+i)}`;h=`${h.slice(0,x)}\0${o.length}d\x7F${h.slice(l.lastIndex)}`,i-=p.length,l.lastIndex=x+4+String(o.length).length,new $(p,g,o)}else if(p==="-{"){if(!d){const{lastIndex:C}=l;l=/-\{|\}-/gu,l.lastIndex=C}d++}else if(d--,!d){const{lastIndex:C}=l;l=/:+|-\{/gu,l.lastIndex=C}a=l.exec(h)}return h};m.exports=u},4737:(m,S,e)=>{"use strict";const{extUrlChar:c}=e(231),T=e(6010),$=e(8962),u=(h,g=T.getConfig(),o=[])=>{const r=new RegExp(`(^|[^\\p{L}\\d_])(?:${g.protocol})(${c})`,"giu");return h.replace(r,(s,t,n)=>{let i="",l=t?s.slice(1):s;const a=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(l);a&&(i=l.slice(a.index),l=l.slice(0,a.index));const d=new RegExp(`[,;.:!?${l.includes("(")?"":")"}]+$`,"u"),p=d.exec(l);if(p){let x=0;p[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(l.slice(0,p.index))&&(x=1),i=`${l.slice(p.index+x)}${i}`,l=l.slice(0,p.index+x)}return i.length>=n.length?s:(new $(l,!1,g,o),`${t}\0${o.length-1}w\x7F${i}`)})};m.exports=u},3360:(m,S,e)=>{"use strict";const c=e(6010),T=e(6714),$=(u,h=c.getConfig(),g=[])=>{var a;const o=u.split(/('{2,})/u),{length:r}=o;if(r===1)return u;let s=0,t=0,n,i,l;for(let d=1;d<r;d+=2){const{length:p}=o[d];switch(p){case 2:t++;break;case 4:o[d-1]+="'",o[d]="'''";case 3:if(s++,n)break;o[d-1].endsWith(" ")?!i&&!l&&(l=d):o[d-1].slice(-2,-1)===" "?n=d:i||(i=d);break;default:o[d-1]+="'".repeat(p-5),o[d]="'''''",t++,s++}}if(t%2===1&&s%2===1){const d=(a=n!=null?n:i)!=null?a:l;o[d]="''",o[d-1]+="'"}for(let d=1;d<r;d+=2)new T(o[d].length,h,g),o[d]=`\0${g.length-1}q\x7F`;return o.join("")};m.exports=$},4624:(m,S,e)=>{"use strict";const c=e(6010),T=e(7507),$=e(8138),u=e(2840),h=e(3125),g=e(5567),o=e(3434),r=({firstChild:{data:s},type:t,name:n},i=c.getConfig(),l=[])=>{const a=[],d=s.split(`
`);let p=t==="root"||t==="parameter-value"||t==="ext-inner"&&n==="poem"?"":`
${d.shift()}`;const x=(C,f)=>{if(!f){p+=C;return}const{lastChild:y}=f;if(y.constructor===$)y.setText(String(y)+C);else{const k=new $(C,i,!0,l);k.type="table-inter",f.insertAt(k.setAttribute("stage",3))}};for(const C of d){let f=a.pop();const[y]=/^(?:\s|\0\d+c\x7F)*/u.exec(C),k=C.slice(y.length),b=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(k);if(b){for(;f&&f.type!=="td";)f=a.pop();const[,R,D,V,W]=b;R&&new o(R,i,l),x(`
${y}${R&&`\0${l.length-1}d\x7F`}${D}\0${l.length}b\x7F`,f);const X=new u(V,W,i,l);a.push(...f?[f]:[],X);continue}else if(!f){p+=`
${C}`;continue}const P=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(k);if(!P){x(`
${C}`,f),a.push(...f?[f]:[]);continue}const[,E,w,H,I]=P;if(E){for(;!(f instanceof u);)f=a.pop();f.close(`
${y}${E}`,!0),x(I,a[a.length-1])}else if(w){f.type==="td"&&(f=a.pop()),f.type==="tr"&&(f=a.pop());const R=new h(`
${y}${w}`,I,i,l);a.push(f,R),f.insertAt(R)}else{f.type==="td"&&(f=a.pop());const R=H==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let D=R.exec(I),V=0,W=`
${y}${H}`;for(;D;){const B=new g(W,I.slice(V,D.index),i,l);f.insertAt(B),{lastIndex:V}=R,[W]=D,D=R.exec(I)}const X=new g(W,I.slice(V),i,l);a.push(f,X),f.insertAt(X)}}return p.slice(1)};m.exports=r},9544:(m,S,e)=>{"use strict";const{text:c}=e(231),{generateForSelf:T,generateForChild:$}=e(8277),u=e(6010),h=e(8138);class g extends h{constructor(s,t=u.getConfig(),n=[]){super(void 0,t,!0,n,{});F(this,"type","arg");for(let i=0;i<s.length;i++)if(i===0||i>1){const l=e(i===0?9237:9263),a=new l(s[i],i===0?"arg-name":void 0,t,n,{});super.insertAt(a)}else{const l=new h(s[i],t,!0,n);l.type="arg-default",super.insertAt(l.setAttribute("stage",2))}}toString(s){return`{{{${super.toString(s,"|")}}}}`}text(){return`{{{${c(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}lint(s=0){if(!this.getAttribute("include"))return[T(this,{start:s},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[t,n,...i]}=this,l=t.lint(s+3);if(n&&l.push(...n.lint(s+4+String(t).length)),i.length>0){const a=this.getRootNode().posFromIndex(s);l.push(...i.map(d=>$(d,a,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return l}}m.exports=g},9263:(m,S,e)=>{"use strict";const c=e(2308),T=e(9237);class $ extends c(T){constructor(){super(...arguments);F(this,"type","hidden")}}m.exports=$},9237:(m,S,e)=>{"use strict";const c=e(6010),T=e(8138);class $ extends T{constructor(g,o,r=c.getConfig(),s=[],t=void 0){super(g,r,!0,s,t);F(this,"type","plain");o&&(this.type=o)}}m.exports=$},5037:(m,S,e)=>{var o,r;"use strict";const{generateForChild:c}=e(8277),{removeComment:T}=e(231),$=e(6010),u=e(8138),h=e(9237);class g extends u{constructor(n,i,l="",a="",d=[],p=$.getConfig(),x=[]){const C=new h(i,"attr-key",p,x,{}),f=i==="title"?new u(a,p,!0,x,{}).setAttribute("type","attr-value").setAttribute("stage",$.MAX_STAGE-1):new h(a,"attr-value",p,x,{});super(void 0,p,!0,x);L(this,o,void 0);L(this,r,void 0);this.type=n,this.append(C,f),G(this,o,l),G(this,r,d),this.setAttribute("name",T(i).trim())}get balanced(){return!A(this,o)||A(this,r)[0]===A(this,r)[1]}afterBuild(){A(this,o).includes("\0")&&G(this,o,String(this.getAttribute("buildFromStr")(A(this,o))))}toString(n){const[i="",l=""]=A(this,r);return A(this,o)?`${super.toString(n,`${A(this,o)}${i}`)}${l}`:this.firstChild.toString(n)}text(){return A(this,o)?`${super.text(`${A(this,o).trim()}"`)}"`:this.firstChild.text()}getGaps(){var n,i;return A(this,o)?A(this,o).length+((i=(n=A(this,r)[0])==null?void 0:n.length)!=null?i:0):0}print(){const[n="",i=""]=A(this,r);return A(this,o)?super.print({sep:`${A(this,o)}${n}`,post:i}):super.print()}lint(n=0){const i=super.lint(n);if(!this.balanced){const{lastChild:l}=this,a=c(l,{token:this,start:n},"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning");i.push({...a,startCol:a.startCol-1})}return i}getValue(){return A(this,o)?this.lastChild.text():!0}}o=new WeakMap,r=new WeakMap,m.exports=g},5649:(m,S,e)=>{"use strict";const{generateForSelf:c}=e(8277),T=e(6010),$=e(8138),u=e(5037);class h extends ${get sanitized(){return this.getDirtyAttrs().length===0}constructor(o,r,s,t=T.getConfig(),n=[]){if(super(void 0,t,!0,n,{}),this.type=r,this.setAttribute("name",s),o){const i=new RegExp(`((?!\0\\d+c\x7F)[^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");o=o.replace(i,(l,a,d,p,x,C,f)=>{if(/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(a)){const y=[p,C];return new u(r.slice(0,-1),a,d,x!=null?x:f,y,t,n),`\0${n.length-(r==="ext-attrs"?0:1)}a\x7F`}return l}),this.insertAt(o)}}getDirtyAttrs(){const o=e(7507),r=new Set(["ext","arg","magic-word","template","heading","html"]),{childNodes:s}=this;return s.filter(({type:t,data:n})=>t==="text"&&n.trim()||r.has(t))}getAttrTokens(o){return this.childNodes.filter(r=>r instanceof u&&r.name===o.toLowerCase().trim())}getAttrToken(o){const r=this.getAttrTokens(o);return r[r.length-1]}getAttr(o){var r;return(r=this.getAttrToken(o))==null?void 0:r.getValue()}lint(o=0){const r=e(2350),s=super.lint(o);let t;return this.type==="html-attrs"&&this.parentNode.closing&&this.text().trim()&&(t=c(this,{start:o},"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"),s.push(t)),this.sanitized||(t||(t=c(this,{start:o},"")),t.message="\u5305\u542B\u65E0\u6548\u5C5E\u6027",s.push(t)),s}}m.exports=h},8103:(m,S,e)=>{"use strict";const c=e(6010),T=e(8138),$=e(2158);class u extends T{constructor(o,r=c.getConfig(),s=[]){super(void 0,r,!0,s,{});F(this,"type","ext-inner");F(this,"name","charinsert");const t=$;this.append(...o.split(`
`).map(n=>new t(n,"charinsert-line",r,s)))}toString(o){return super.toString(o,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}m.exports=u},9910:(m,S,e)=>{"use strict";const{text:c,print:T}=e(231),$=e(6010),u=e(8138),h=e(6719),g=e(8683);class o extends u{constructor(t,n,i=$.getConfig(),l=[]){super(void 0,i,!0,l);F(this,"type","converter");this.append(new h(t,i,l));const[a]=n,d=a.includes(":"),p=new g(a,d,i,l);d&&p.childNodes.length===1?this.insertAt(new g(n.join(";"),!1,i,l)):this.append(p,...n.slice(1).map(x=>new g(x,!0,i,l)))}toString(t){const{childNodes:[n,...i]}=this;return`-{${n.toString()}${n.childNodes.length>0?"|":""}${i.map(String).join(";")}}-`}text(){const{childNodes:[t,...n]}=this;return`-{${t.text()}|${c(n,";")}}-`}getPadding(){return 2}getGaps(t=0){return t=t<0?t+this.childNodes.length:t,t||this.firstChild.childNodes.length>0?1:0}print(){const{childNodes:[t,...n]}=this;return`<span class="wpb-converter">-{${t.print()}${t.childNodes.length>0?"|":""}${T(n,{sep:";"})}}-</span>`}}m.exports=o},6719:(m,S,e)=>{var o;"use strict";const{generateForChild:c}=e(8277),T=e(6010),$=e(8138),u=e(9237),h=new Set(["A","T","R","D","-","H","N"]);class g extends ${constructor(t,n=T.getConfig(),i=[]){super(void 0,n,!0,i,{});F(this,"type","converter-flags");L(this,o,void 0);this.append(...t.map(l=>new u(l,"converter-flag",n,i)))}afterBuild(){return G(this,o,this.childNodes.map(t=>t.text().trim())),this}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t=0){const n=this.getVariantFlags(),i=this.getUnknownFlags(),l=new Set(A(this,o).filter(f=>h.has(f))),{length:a}=A(this,o).filter(f=>!f),d=A(this,o).length-i.size-a,p=super.lint(t);if(n.size===d||l.size===d)return p;const x=this.getRootNode().posFromIndex(t),{childNodes:C}=this;for(let f=0;f<C.length;f++){const y=C[f],k=y.text().trim();if(k&&!n.has(k)&&!i.has(k)&&(n.size>0||!l.has(k))){const b=c(y,x,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");p.push(b)}}return p}getUnknownFlags(){return new Set(A(this,o).filter(t=>/\{\{[^{}]+\}\}/u.test(t)))}getVariantFlags(){const t=new Set(this.getAttribute("config").variants);return new Set(A(this,o).filter(n=>t.has(n)))}}o=new WeakMap,m.exports=g},8683:(m,S,e)=>{"use strict";const c=e(6010),T=e(8138),$=e(9237);class u extends T{constructor(o,r=!0,s=c.getConfig(),t=[]){super(void 0,s,!0,t);F(this,"type","converter-rule");if(r){const n=o.indexOf(":"),i=o.slice(0,n).indexOf("=>"),l=i===-1?o.slice(0,n):o.slice(i+2,n),{variants:a}=s;a.includes(l.trim())?(super.insertAt(new $(l,"converter-rule-variant",s,t)),super.insertAt(new $(o.slice(n+1),"converter-rule-to",s,t)),i!==-1&&super.insertAt(new $(o.slice(0,i),"converter-rule-from",s,t),0)):super.insertAt(new $(o,"converter-rule-noconvert",s,t))}else super.insertAt(new $(o,"converter-rule-noconvert",s,t))}toString(o){if(this.childNodes.length===3){const{childNodes:[r,s,t]}=this;return`${r.toString(o)}=>${s.toString(o)}:${t.toString(o)}`}return super.toString(o,":")}text(){if(this.childNodes.length===3){const{childNodes:[o,r,s]}=this;return`${o.text()}=>${r.text()}:${s.text()}`}return super.text(":")}getGaps(o=0){const{length:r}=this;return o=o<0?o+r:o,o===0&&r===3?2:1}print(){if(this.childNodes.length===3){const{childNodes:[o,r,s]}=this;return`<span class="wpb-converter-rule">${o.print()}=>${r.print()}:${s.print()}</span>`}return super.print({sep:":"})}}m.exports=u},741:(m,S,e)=>{var h;"use strict";const c=e(6010),T=e(8138),$=e(8962);class u extends T{constructor(r,s,t,n=c.getConfig(),i=[]){super(void 0,n,!0,i,{});F(this,"type","ext-link");L(this,h,void 0);if(this.insertAt(new $(r,!0,n,i)),G(this,h,s),t){const l=new T(t,n,!0,i,{});l.type="ext-link-text",this.insertAt(l.setAttribute("stage",c.MAX_STAGE-1))}}toString(r){return this.childNodes.length===1?`[${super.toString(r)}${A(this,h)}]`:`[${super.toString(r,A(this,h))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return A(this,h).length}print(){const{length:r}=this;return super.print(r>1?{pre:"[",sep:A(this,h),post:"]"}:{pre:"[",post:`${A(this,h)}]`})}}h=new WeakMap,m.exports=u},1891:(m,S,e)=>{"use strict";const c=e(6010),T=e(8138),$=e(1031),u=e(9263);class h extends T{constructor(r,s=c.getConfig(),t=[]){var i;super(void 0,s,!0,t,{});F(this,"type","ext-inner");F(this,"name","gallery");const n=JSON.parse(JSON.stringify(s));for(const[l,a]of Object.entries(s.img))a==="width"&&delete n.img[l];for(const l of(i=r==null?void 0:r.split(`
`))!=null?i:[]){const a=/^([^|]+)(?:\|(.*))?/u.exec(l);if(!a){super.insertAt(l.trim()?new u(l,void 0,s,[],{}):l);continue}const[,d,p]=a,x=this.normalizeTitle(d,6,!0,!0);x.valid?super.insertAt(new $(d,p,x,n,t)):super.insertAt(new u(l,void 0,s,[],{}))}}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(r=0){const{top:s,left:t}=this.getRootNode().posFromIndex(r),n=[];for(let i=0,l=r;i<this.childNodes.length;i++){const a=this.childNodes[i],d=String(a),p=d.trim();a.type==="hidden"&&p&&!/^<!--.*-->$/u.test(p)?n.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startLine:s+i,endLine:s+i,startCol:i?0:t,endCol:i?d.length:t+d.length}):a.type!=="hidden"&&a.type!=="text"&&n.push(...a.lint(l)),l+=d.length+1}return n}}m.exports=h},2158:(m,S,e)=>{"use strict";const c=e(6010),T=e(8138),$=e(3423);class u extends T{constructor(g,o,r=c.getConfig(),s=[]){g=g.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(t,n,i,l)=>(new $(n,r,s),new $(l,r,s),`\0${s.length-1}c\x7F${i}\0${s.length}c\x7F`)),super(g,r,!0,s,{}),this.type=o}}m.exports=u},428:(m,S,e)=>{"use strict";const c=e(6010),T=e(2158);class $ extends T{constructor(g,o=c.getConfig(),r=[]){super(g,"ext-inner",o,r);F(this,"name","pre");this.setAttribute("stage",c.MAX_STAGE-1)}isPlain(){return!0}}m.exports=$},9450:(m,S,e)=>{"use strict";const{generateForSelf:c}=e(8277),T=e(6010),$=e(8138),u=e(8058);class h extends ${constructor(r,s,t=T.getConfig(),n=[]){super(void 0,t,!0,n);F(this,"type","heading");this.setAttribute("name",String(r));const i=new $(s[0],t,!0,n);i.type="heading-title",i.setAttribute("stage",2);const l=new u(s[1],/^[^\S\n]*$/u,"heading-trail",t,n,{});this.append(i,l)}toString(r){const s="=".repeat(Number(this.name));return`${s}${this.firstChild.toString()}${s}${this.lastChild.toString()}`}text(){const r="=".repeat(Number(this.name));return`${r}${this.firstChild.text()}${r}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const r="=".repeat(Number(this.name));return super.print({pre:r,sep:r})}lint(r=0){const s=super.lint(r),t=String(this.firstChild);let n;return this.name==="1"&&(n=c(this,{start:r},"<h1>"),s.push(n)),(t[0]==="="||t.endsWith("="))&&(n||(n=c(this,{start:r},"")),s.push({...n,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(n||(n=c(this,{start:r},"")),s.push({...n,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),s}}m.exports=h},2350:(m,S,e)=>{var h,g,o;"use strict";const{generateForSelf:c}=e(8277),T=e(6010),$=e(8138);class u extends ${constructor(t,n,i,l,a=T.getConfig(),d=[]){super(void 0,a,!0,d);F(this,"type","html");L(this,h,void 0);L(this,g,void 0);L(this,o,void 0);this.insertAt(n),this.setAttribute("name",t.toLowerCase()),G(this,h,i),G(this,g,l),G(this,o,t)}get closing(){return A(this,h)}toString(t){return`<${A(this,h)?"/":""}${A(this,o)}${super.toString()}${A(this,g)?"/":""}>`}text(){return`<${A(this,h)?"/":""}${A(this,o)}${A(this,h)?"":super.text()}${A(this,g)?"/":""}>`}getPadding(){return A(this,o).length+(A(this,h)?2:1)}print(){return super.print({pre:`&lt;${A(this,h)?"/":""}${A(this,o)}`,post:`${A(this,g)?"/":""}&gt;`})}lint(t=0){const n=super.lint(t);let i;this.name==="h1"&&!A(this,h)&&(i=c(this,{start:t},"<h1>"),n.push(i)),this.closest("table-attrs")&&(i||(i=c(this,{start:t},"")),n.push({...i,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:l}){i||(i=c(this,{start:t},""));const[a]=l.split("\uFF1A"),d={...i,message:a,severity:a==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};n.push(d)}return n}findMatchingTag(){const{html:t}=this.getAttribute("config"),{name:n,parentNode:i}=this,l=String(this);if(A(this,h)&&(A(this,g)||t[2].includes(n)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${l}`);if(t[2].includes(n)||A(this,g)&&t[1].includes(n))return this;if(A(this,g)&&t[0].includes(n))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${l}`);if(!i)return;const{childNodes:a}=i,d=a.indexOf(this),p=A(this,h)?a.slice(0,d).reverse().filter(({type:C,name:f})=>C==="html"&&f===n):a.slice(d+1).filter(({type:C,name:f})=>C==="html"&&f===n);let x=A(this,h)?-1:1;for(const C of p)if(C.closing?x--:x++,x===0)return C;throw new SyntaxError(`\u672A${A(this,h)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${l}`)}}h=new WeakMap,g=new WeakMap,o=new WeakMap,m.exports=u},1874:(m,S,e)=>{var g,ot,r;"use strict";const{print:c,extUrlChar:T}=e(231),$=e(6010),u=e(8138),t=class extends u{constructor(l,a=$.getConfig(),d=[]){var i=(...s)=>{super(...s);F(this,"type","image-parameter");L(this,r,"")};var C;const p=Object.entries(a.img).map(([f,y])=>[f,y,new RegExp(`^(\\s*)${f.replace("$1","(.*)")}(\\s*)$`,"u")]),x=p.find(([,,f])=>f.test(l));if(x){const f=x[2].exec(l);if(f.length!==4||U(C=t,g,ot).call(C,x[1],f[2],a,!0)){f.length===3?(i(void 0,a,!0,d),G(this,r,l)):(i(f[2],a,!0,d,{}),G(this,r,`${f[1]}${x[0]}${f[3]}`)),this.setAttribute("name",x[1]);return}}i(l,a,!0,d),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(l){return A(this,r)?A(this,r).replace("$1",super.toString(l)):super.toString(l)}text(){return A(this,r)?A(this,r).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,A(this,r).indexOf("$1"))}print(){return A(this,r)?`<span class="wpb-image-parameter">${A(this,r).replace("$1",`<span class="wpb-image-caption">${c(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let h=t;g=new WeakSet,ot=function(l,a,d=$.getConfig(),p=!1){switch(a=a.replace(/\0\d+t\x7F/gu,"").trim(),l){case"width":return/^\d*(?:x\d*)?$/u.test(a);case"link":return!a||new RegExp(`(?:${d.protocol}|//)${T}(?=\0\\d+t\x7F|$)`,"iu").test(a)?!0:(a.startsWith("[[")&&a.endsWith("]]")&&(a=a.slice(2,-2)),$.normalizeTitle(a,0,!1,d,p,!0).valid);case"lang":return d.variants.includes(a);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(a)}},r=new WeakMap,L(h,g),m.exports=h},2641:(m,S,e)=>{"use strict";const{generateForSelf:c,generateForChild:T}=e(8277),$=e(6010),u=e(8138),h=e(3423),g=e(1031),o=e(2571);class r extends u{constructor(n,i=$.getConfig(),l=[]){super(void 0,i,!0,l,{});F(this,"type","ext-inner");F(this,"name","imagemap");if(!n)return;const a=n.split(`
`),d=new Set(i.protocol.split("|")),p=h,x=y=>{super.insertAt(new p(y,i,l))};let C=!0,f=!1;for(const y of a){const k=y.trim();if(!(f||!k||k[0]==="#")){if(C){const[b,...P]=y.split("|"),E=this.normalizeTitle(b,0,!0);if(E.valid&&!E.interwiki&&E.ns===6){const w=new g(b,P.length>0?P.join("|"):void 0,E,i,l);w.type="imagemap-image",super.insertAt(w),C=!1;continue}else f=!0}else if(y.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(y);continue}else if(y.includes("[")){const b=y.indexOf("["),P=y.slice(b),E=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(P);if(E){const w=this.normalizeTitle(E[1],0,!0);if(w.valid){super.insertAt(new o(y.slice(0,b),[...E.slice(1),w],P.slice(P.indexOf("]]")+2),i,l));continue}}else if(d.has(P.slice(1,P.indexOf(":")+1))||d.has(P.slice(1,P.indexOf("//")+2))){const w=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(P);if(w){super.insertAt(new o(y.slice(0,b),w.slice(1),P.slice(P.indexOf("]")+1),i,l));continue}}}}x(y)}}get image(){return this.childNodes.find(({type:n})=>n==="imagemap-image")}toString(n){return super.toString(n,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(n=0){const i=super.lint(n),l=this.getRootNode().posFromIndex(n);return this.image?i.push(...this.childNodes.filter(a=>{const d=String(a).trim();return a.type==="noinclude"&&d&&d[0]!=="#"}).map(a=>T(a,l,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):i.push(c(this,l,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),i}}m.exports=r},2571:(m,S,e)=>{"use strict";const c=e(6986),T=e(8138),$=e(3423),u=e(3905),h=e(741);class g extends T{constructor(s,t,n,i,l){const a=t[2]instanceof c?u:h;super(void 0,i,!0,l);F(this,"type","imagemap-link");this.append(s,new a(...t,i,l),new $(n,i,l))}}m.exports=g},8138:(m,S,e)=>{var g,o,r,s,t,n,i,l,lt,d,ht,x,at,f,dt,k,ut,P,pt,w,gt,I,ct,D,ft,W,xt,B,mt;"use strict";const c=e(6010),T=e(9205),$=e(7507),{MAX_STAGE:u}=c,J=class extends T{constructor(N,v=c.getConfig(),O=!1,K=[],tt=void 0){super();L(this,l);L(this,d);L(this,x);L(this,f);L(this,k);L(this,P);L(this,w);L(this,I);L(this,D);L(this,W);L(this,B);F(this,"type","root");L(this,g,0);L(this,o,void 0);L(this,r,void 0);L(this,s,void 0);L(this,t,(N=A(this,g),v=!1)=>{if(N<A(this,g)||!this.isPlain()||this.childNodes.length===0)return this;switch(N){case 0:this.type==="root"&&A(this,r).shift(),G(this,s,Boolean(v)),U(this,l,lt).call(this,v);break;case 1:U(this,d,ht).call(this);break;case 2:U(this,x,at).call(this);break;case 3:U(this,f,dt).call(this);break;case 4:U(this,k,ut).call(this);break;case 5:U(this,P,pt).call(this);break;case 6:U(this,w,gt).call(this);break;case 7:U(this,I,ct).call(this);break;case 8:U(this,D,ft).call(this);break;case 9:U(this,W,xt).call(this);break;case 10:U(this,B,mt).call(this)}if(this.type==="root")for(const O of A(this,r))O.getAttribute("parseOnce")(N,v);return st(this,g)._++,this});L(this,n,N=>N.split(/[\0\x7F]/u).map((v,O)=>{if(O%2===0)return new $(v);if(isNaN(v[v.length-1]))return A(this,r)[Number(v.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${v}`)}));L(this,i,()=>{G(this,g,u);const{length:N,firstChild:v}=this,O=String(v);if(N===1&&v.type==="text"&&O.includes("\0")&&(this.replaceChildren(...A(this,n).call(this,O)),this.normalize(),this.type==="root"))for(const K of A(this,r))K.getAttribute("build")()});typeof N=="string"&&this.insertAt(O?N:N.replace(/[\0\x7F]/gu,"")),G(this,o,v),G(this,r,K),K.push(this)}getAttribute(N){switch(N){case"config":return JSON.parse(JSON.stringify(A(this,o)));case"accum":return A(this,r);case"parseOnce":return A(this,t);case"buildFromStr":return A(this,n);case"build":return A(this,i);case"include":{if(A(this,s)!==void 0)return A(this,s);const v=this.getRootNode();return v.type==="root"&&v!==this?v.getAttribute("include"):!1}default:return super.getAttribute(N)}}setAttribute(N,v){switch(N){case"stage":return A(this,g)===0&&this.type==="root"&&A(this,r).shift(),G(this,g,v),this;default:return super.setAttribute(N,v)}}isPlain(){return this.constructor===J}insertAt(N,v=this.childNodes.length){return typeof N=="string"&&(N=new $(N)),super.insertAt(N,v),N.type==="root"&&(N.type="plain"),N}normalizeTitle(N,v=0,O=!1,K=!1){return c.normalizeTitle(N,v,A(this,s),A(this,o),O,K)}afterBuild(){if(this.type==="root")for(const N of A(this,r))N.afterBuild();return this}parse(N=u,v=!1){for(;A(this,g)<N;)A(this,t).call(this,A(this,g),v);return N&&(A(this,i).call(this),this.afterBuild()),this}};let h=J;g=new WeakMap,o=new WeakMap,r=new WeakMap,s=new WeakMap,t=new WeakMap,n=new WeakMap,i=new WeakMap,l=new WeakSet,lt=function(N){const v=e(4907);this.setText(v(String(this.firstChild),A(this,o),A(this,r),N))},d=new WeakSet,ht=function(){const N=e(8275),v=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,O=N(v,A(this,o),A(this,r));this.setText(this.type==="root"?O:O.slice(1))},x=new WeakSet,at=function(){const N=e(5130);this.setText(N(String(this.firstChild),A(this,o),A(this,r)))},f=new WeakSet,dt=function(){const N=e(4624),v=e(2840);this.setText(N(this,A(this,o),A(this,r)));for(const O of A(this,r))if(O instanceof v&&O.type!=="td"){O.normalize();const{childNodes:[,K]}=O;if(typeof K=="string"&&K.includes("\0")){O.removeAt(1);const tt=new J(K,A(this,o),!0,A(this,r));O.insertAt(tt,1),tt.setAttribute("stage",4)}}},k=new WeakSet,ut=function(){const N=e(2937);this.setText(N(this,A(this,o),A(this,r)))},P=new WeakSet,pt=function(){const N=e(1452);this.setText(N(String(this.firstChild),A(this,o),A(this,r)))},w=new WeakSet,gt=function(){const N=e(3360),v=String(this.firstChild).split(`
`);for(let O=0;O<v.length;O++)v[O]=N(v[O],A(this,o),A(this,r));this.setText(v.join(`
`))},I=new WeakSet,ct=function(){const N=e(7513);this.setText(N(String(this.firstChild),A(this,o),A(this,r)))},D=new WeakSet,ft=function(){const N=e(4737);this.setText(N(String(this.firstChild),A(this,o),A(this,r)))},W=new WeakSet,xt=function(){if(this.type==="image-parameter")return;const N=e(6622),v=String(this.firstChild).split(`
`);let O=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;O<v.length;O++)v[O]=N(v[O],A(this,o),A(this,r));this.setText(v.join(`
`))},B=new WeakSet,mt=function(){const N=e(3765);this.setText(N(String(this.firstChild),A(this,o),A(this,r)))},m.exports=h},337:(m,S,e)=>{"use strict";const c=e(3905);class T extends c{constructor(){super(...arguments);F(this,"type","category")}}m.exports=T},7625:(m,S,e)=>{var t,_;"use strict";const{explode:c}=e(231),{generateForChild:T}=e(8277),$=e(6010),u=e(3905),h=e(1874),g=new Set(["manualthumb","frameless","framed","thumbnail"]),o=new Set(["left","right","center","none"]),r=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class s extends u{constructor(a,d,p,x=$.getConfig(),C=[],f="|"){super(a,void 0,p,x,C,f);L(this,t);F(this,"type","file");this.append(...c("-{","}-","|",d).map(y=>new h(y,x,C)))}lint(a=0){const d=super.lint(a),p=this.getFrameArgs(),x=this.getHorizAlignArgs(),C=this.getVertAlignArgs(),f=this.getArgs("caption"),y=[...f.slice(0,-1).filter(k=>k.text()),f[f.length-1]];if(p.length>1||x.length>1||C.length>1||f.size>1){const k=this.getRootNode().posFromIndex(a);p.length>1&&d.push(...p.map(b=>T(b,k,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),x.length>1&&d.push(...x.map(b=>T(b,k,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),C.length>1&&d.push(...C.map(b=>T(b,k,"\u91CD\u590D\u6216\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),y.length>1&&d.push(...y.map(b=>T(b,k,"\u91CD\u590D\u7684\u56FE\u7247\u8BF4\u660E")))}return d}getAllArgs(){return this.childNodes.slice(1)}getArgs(a){return this.getAllArgs().filter(({name:d})=>a===d)}getFrameArgs(){return U(this,t,_).call(this,g,"\u6846\u67B6")}getHorizAlignArgs(){return U(this,t,_).call(this,o,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return U(this,t,_).call(this,r,"\u5782\u76F4\u5BF9\u9F50")}}t=new WeakSet,_=function(a,d){return this.getAllArgs().filter(({name:x})=>a.has(x))},m.exports=s},1031:(m,S,e)=>{var g;"use strict";const{generateForSelf:c}=e(8277),T=e(6010),$=e(8138),u=e(7625);class h extends u{constructor(s,t,n,i=T.getConfig(),l=[]){let a;if(t!==void 0){a=new $(t,i,!0,l),a.type="temp";for(let d=1;d<T.MAX_STAGE;d++)a.getAttribute("parseOnce")();l.splice(l.indexOf(a),1)}super(s,a==null?void 0:a.toString(),n,i,l);F(this,"type","gallery-image");L(this,g,!1);this.setAttribute("bracket",!1)}afterBuild(){const s=this.type==="imagemap-image",{interwiki:t,ns:n}=this.normalizeTitle(String(this.firstChild),s?0:6,!0,!s);return G(this,g,t||n!==6),this}getPadding(){return 0}lint(s=0){const t=super.lint(s);return A(this,g)&&t.push(c(this,{start:s},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),t}}g=new WeakMap,m.exports=h},3905:(m,S,e)=>{var o,r;"use strict";const{generateForChild:c}=e(8277),T=e(6010),$=e(7507),u=e(8138),h=e(9237);class g extends u{constructor(n,i,l,a=T.getConfig(),d=[],p="|"){super(void 0,a,!0,d,{});F(this,"type","link");L(this,o,!0);L(this,r,void 0);if(this.insertAt(new h(n,"link-target",a,d,{})),i!==void 0){const x=new u(i,a,!0,d,{});x.type="link-text",this.insertAt(x.setAttribute("stage",T.MAX_STAGE-1))}G(this,r,p)}afterBuild(){var n;return(n=A(this,r))!=null&&n.includes("\0")&&G(this,r,this.getAttribute("buildFromStr")(A(this,r)).map(String).join("")),this}setAttribute(n,i){return n==="bracket"?(G(this,o,Boolean(i)),this):super.setAttribute(n,i)}toString(n){const i=super.toString(n,A(this,r));return A(this,o)?`[[${i}]]`:i}text(){const n=super.text("|");return A(this,o)?`[[${n}]]`:n}getPadding(){return 2}getGaps(){return A(this,r).length}print(){return super.print(A(this,o)?{pre:"[[",post:"]]",sep:A(this,r)}:{sep:A(this,r)})}lint(n=0){var a;const i=super.lint(n),{childNodes:[,l]}=this;return(a=l==null?void 0:l.childNodes)!=null&&a.some(({type:d,data:p})=>d==="text"&&p.includes("|"))&&i.push(c(l,{token:this,start:n},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"')),i}}o=new WeakMap,r=new WeakMap,m.exports=g},8962:(m,S,e)=>{"use strict";const{generateForChild:c}=e(8277),T=e(6010),$=e(8138);class u extends ${constructor(o,r,s=T.getConfig(),t=[]){super(o,s,!0,t,{});F(this,"type","free-ext-link");r&&(this.type="ext-link-url")}lint(o=0){const r=super.lint(o),s="[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]";let t;for(const n of this.childNodes){const i=String(n);if(n.type!=="text"||!new RegExp(s,"u").test(i))continue;t||(t=this.getRootNode().posFromIndex(o));const l=c(n,t,"URL\u4E2D\u7684\u5168\u89D2\u6807\u70B9","warning"),a=new RegExp(s,"gu");for(let d=a.exec(i);d;d=a.exec(i)){const{index:p}=d,x=i.slice(0,p).split(`
`),{length:C}=x,{length:f}=x[C-1],y=l.startLine+C-1,k=C>1?f:l.startCol+f;r.push({...l,startLine:y,endLine:y,startCol:k,endCol:k+1})}}return r}}m.exports=u},9389:(m,S,e)=>{"use strict";const c=e(6010),T=e(8889);class $ extends T{constructor(g,o=c.getConfig(),r=[]){super(g,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],o,r);F(this,"name","choose")}}m.exports=$},9269:(m,S,e)=>{"use strict";const c=e(6010),T=e(8889);class $ extends T{constructor(g,o=c.getConfig(),r=[]){super(g,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],o,r);F(this,"name","combobox")}}m.exports=$},8889:(m,S,e)=>{"use strict";const{generateForChild:c}=e(8277),T=e(6010),$=e(8138),u=e(7267),h=e(3423);class g extends ${constructor(s,t,n,i=T.getConfig(),l=[]){var d;const a=(d=s==null?void 0:s.replace(t,(p,x,C,f,y)=>{const k=`\0${l.length+1}e\x7F`;return new u(x,C,f,y,i,l),k}))==null?void 0:d.replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(p,x,C)=>C===""?x:(new h(C,i,l),`${x}\0${l.length}c\x7F`));super(a,i,!0,l,{});F(this,"type","ext-inner")}lint(s=0){let t;return[...super.lint(s),...this.childNodes.filter(n=>{if(n.type==="ext")return!1;const i=String(n).trim();return i&&!/^<!--.*-->$/u.test(i)}).map(n=>(t||(t=this.getRootNode().posFromIndex(s)),c(n,t,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}m.exports=g},5937:(m,S,e)=>{"use strict";const c=e(6010),T=e(8889);class $ extends T{constructor(g,o=c.getConfig(),r=[]){super(g,/<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],o,r);F(this,"name","references")}}m.exports=$},7033:(m,S,e)=>{var c={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function T(u){var h=$(u);return e(h)}function $(u){if(!e.o(c,u)){var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}return c[u]}T.keys=function(){return Object.keys(c)},T.resolve=$,m.exports=T,T.id=7033},5749:(m,S,e)=>{"use strict";const c=e(2308),{generateForSelf:T}=e(8277),$=e(6010),u=e(6935);class h extends c(u){constructor(r,s=!0,t=$.getConfig(),n=[]){super(r,t,n);F(this,"type","comment");F(this,"closed");this.closed=s}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}lint(r=0){return this.closed?[]:[T(this,{start:r},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(r){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}m.exports=h},3434:(m,S,e)=>{"use strict";const c=e(6935);class T extends c{constructor(){super(...arguments);F(this,"type","dd")}}m.exports=T},7815:(m,S,e)=>{"use strict";const c=e(2308),T=e(6935);class $ extends c(T){constructor(){super(...arguments);F(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(g){return`__${String(this.firstChild)}__`}}m.exports=$},2582:(m,S,e)=>{"use strict";const c=e(6010),T=e(6935);class $ extends T{constructor(g,o=c.getConfig(),r=[]){super("-".repeat(g),o,r);F(this,"type","hr")}}m.exports=$},6935:(m,S,e)=>{"use strict";const{generateForSelf:c}=e(8277),T=e(6010),$=e(8138);class u extends ${constructor(o,r=T.getConfig(),s=[]){super(o,r,!0,s);F(this,"type","ext-inner")}lint(o=0){const{type:r,name:s}=this;return r==="ext-inner"&&(s==="templatestyles"||s==="section")&&String(this)?[c(this,{start:o},`<${s}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(o)}}m.exports=u},962:(m,S,e)=>{"use strict";const c=e(3434);class T extends c{constructor(){super(...arguments);F(this,"type","list")}}m.exports=T},3423:(m,S,e)=>{"use strict";const c=e(2308),T=e(6935);class $ extends c(T){constructor(){super(...arguments);F(this,"type","noinclude")}}m.exports=$},6714:(m,S,e)=>{"use strict";const{generateForSelf:c}=e(8277),T=e(6010),$=e(7507),u=e(6935);class h extends u{constructor(r,s=T.getConfig(),t=[]){super("'".repeat(r),s,t);F(this,"type","quote")}lint(r=0){const{previousSibling:s,nextSibling:t}=this,n=`\u5B64\u7ACB\u7684"'"`,i=[];let l;if((s==null?void 0:s.type)==="text"&&s.data.endsWith("'")){l=c(this,{start:r},n);const{startLine:a,startCol:d}=l,[,{length:p}]=s.data.match(/(?:^|[^'])('+)$/u);i.push({...l,startCol:d-p,endLine:a,endCol:d})}if((t==null?void 0:t.type)==="text"&&t.data[0]==="'"){l||(l=c(this,{start:r},n));const{endLine:a,endCol:d}=l,[{length:p}]=t.data.match(/^'+/u);i.push({...l,startLine:a,startCol:d,endCol:d+p})}return i}}m.exports=h},851:(m,S,e)=>{"use strict";const c=e(6010),T=e(8138);class $ extends T{constructor(g,o=c.getConfig(),r=[]){super(g,o,!0,r);F(this,"type","onlyinclude")}toString(g){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}m.exports=$},9380:(m,S,e)=>{"use strict";const{generateForChild:c}=e(8277),T=e(6010),$=e(8138),u=e(9237);class h extends ${constructor(r,s=T.getConfig(),t=[]){super(void 0,s,!0,t,{});F(this,"type","ext-inner");if(r){const n=u;this.append(...r.split(`
`).map(i=>new n(i,"param-line",s,t,{})))}}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(r=0){let s;return this.childNodes.filter(t=>{const{childNodes:n}=t,i=n.findIndex(({type:a})=>a!=="text"),l=(i>=0?n.slice(0,i).map(String).join(""):String(t)).trim();return l&&!(i>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(l)}).map(t=>(s||(s=this.getRootNode().posFromIndex(r)),c(t,s,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}m.exports=h},9799:(m,S,e)=>{"use strict";const{extUrlChar:c}=e(231),{generateForChild:T}=e(8277),$=e(6010),u=e(8138);class h extends u{constructor(r,s,t=$.getConfig(),n=[]){super(void 0,t,!0,n);F(this,"type","parameter");const i=new u(typeof r=="number"?void 0:r,t,!0,n,{}),l=new u(s,t,!0,n);i.type="parameter-key",l.type="parameter-value",this.append(i,l.setAttribute("stage",2))}get anon(){return this.firstChild.childNodes.length===0}afterBuild(){if(!this.anon){const r=e(1782),s=String(this.firstChild).replace(/<!--.*?-->/gu,"").trim(),{parentNode:t}=this;this.setAttribute("name",s),t instanceof r&&t.getArgs(s,!1,!1).add(this)}return this}toString(r){return this.anon?this.lastChild.toString(r):super.toString(r,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(r=0){var i;const s=super.lint(r),{firstChild:t}=this,n=(i=new RegExp(`https?://${c}$`,"iu").exec(String(t).replace(/<!--.*?-->/gu,"")))==null?void 0:i[0];if(n&&new URL(n).search){const l=T(t,{token:this,start:r},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");s.push({...l,startLine:l.endLine,startCol:l.endCol,endCol:l.endCol+1})}return s}}m.exports=h},8058:(m,S,e)=>{"use strict";const c=e(6010),T=e(8138);class $ extends T{constructor(h,g,o="plain",r=c.getConfig(),s=[],t=void 0){super(h,r,!0,s,t),this.type=o}}m.exports=$},2840:(m,S,e)=>{"use strict";const{generateForChild:c}=e(8277),T=e(3125),$=e(8058);class u extends T{constructor(){super(...arguments);F(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(o=0){const r=super.lint(o);if(!this.closed){const{firstChild:s}=this,t=c(s,{token:this,start:o},"\u672A\u95ED\u5408\u7684\u8868\u683C");r.push(t)}return r}close(o=`
|}`,r=!1){const s=this.getAttribute("config"),t=this.getAttribute("accum");super.insertAt(new $(o,void 0,"table-syntax",s,t))}}m.exports=u},5567:(m,S,e)=>{var h;"use strict";const c=e(6010),T=e(8138),$=e(3125);class u extends ${constructor(r,s,t=c.getConfig(),n=[]){let i=s==null?void 0:s.match(/\||\0\d+!\x7F/u),l=i?s.slice(0,i.index):"";/\[\[|-\{/u.test(l)&&(i=void 0,l="");super(r,l,t,n);F(this,"type","td");L(this,h,"");i&&([st(this,h)._]=i);const a=new T(s==null?void 0:s.slice((i==null?void 0:i.index)+A(this,h).length),t,!0,n);a.type="td-inner",this.insertAt(a.setAttribute("stage",4))}afterBuild(){return A(this,h).includes("\0")&&G(this,h,this.getAttribute("buildFromStr")(A(this,h)).map(String).join("")),this}toString(r){const{childNodes:[s,t,n]}=this;return`${s.toString()}${t.toString()}${A(this,h)}${n.toString()}`}text(){const{childNodes:[r,s,t]}=this;return`${r.text()}${s.text()}${A(this,h)}${t.text()}`}getGaps(r=0){return r=r<0?r+this.childNodes.length:r,r===1?A(this,h).length:0}print(){const{childNodes:[r,s,t]}=this;return`<span class="wpb-td">${r.print()}${s.print()}${A(this,h)}${t.print()}</span>`}}h=new WeakMap,m.exports=u},3125:(m,S,e)=>{"use strict";const{generateForChild:c}=e(8277),T=e(6010),$=e(8138),u=e(8058),h=e(5649);class g extends ${constructor(s,t="",n=T.getConfig(),i=[],l=void 0){super(void 0,n,!0,i,{});F(this,"type","tr");this.append(new u(s,l,"table-syntax",n,i,{}),new h(t,"table-attrs","tr",n,i))}lint(s=0){const t=e(1782),n=super.lint(s),i=this.childNodes.find(({type:d})=>d==="table-inter");if(!i)return n;const l=i.childNodes.find(d=>d.text().trim());if(l){if((l==null?void 0:l.type)==="magic-word")try{if(l.getPossibleValues().every(p=>/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u.test(p.text())))return n}catch(d){}}else return n;const a=c(i,{token:this,start:s},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return n.push({...a,startLine:a.startLine+1,startCol:0}),n}text(){const s=super.text();return this.type==="tr"&&!s.trim().includes(`
`)?"":s}}m.exports=g},7267:(m,S,e)=>{"use strict";const c=e(6010),T=e(8138),$=e(1074),u=e(5649);class h extends ${constructor(r,s="",t="",n=void 0,i=c.getConfig(),l=[]){s=!s||/^\s/u.test(s)?s:` ${s}`;const a=r.toLowerCase(),d=new u(s,"ext-attrs",a,i,l),p=JSON.parse(JSON.stringify(i)),x=new Set(p.ext);let C;switch(x.delete(a),p.ext=[...x],a){case"tab":x.delete("tabs"),p.ext=[...x];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":C=new T(t,p,!0,l);break;case"gallery":{const f=e(1891);C=new f(t,p,l);break}case"pre":{const f=e(428);C=new f(t,p,l);break}case"charinsert":{const f=e(8103);C=new f(t,p,l);break}case"references":case"choose":case"combobox":{const f=e(8889),y=e(7033)(`./${a}`);C=new y(t,p,l);break}case"imagemap":{const f=e(2641);C=new f(t,i,l);break}case"dynamicpagelist":{const f=e(9380);C=new f(t,p,l);break}default:{const f=e(6935);C=new f(t,i)}}C.setAttribute("name",a).type="ext-inner";super(r,d,C,n,i,l);F(this,"type","ext");F(this,"closed",!0)}}m.exports=h},8655:(m,S,e)=>{"use strict";const c=e(2308),{generateForSelf:T}=e(8277),$=e(6010),u=e(1074);class h extends c(u){constructor(r,s="",t=void 0,n=void 0,i=$.getConfig(),l=[]){super(r,s,t!=null?t:"",t===void 0||n!=null?n:"",i,l);F(this,"type","include")}lint(r=0){return this.closed?[]:[T(this,{start:r},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}}m.exports=h},1074:(m,S,e)=>{var u,h,g;"use strict";const c=e(6010),T=e(8138);class $ extends T{constructor(s,t,n,i,l=c.getConfig(),a=[]){super(void 0,l,!0);L(this,u,void 0);L(this,h,void 0);L(this,g,void 0);G(this,g,[s,i||s]),G(this,u,i===void 0),G(this,h,i!==""),this.append(t,n);let d=a.indexOf(t);d===-1&&(d=a.indexOf(n)),d===-1&&(d=1/0),a.splice(d,0,this)}get closed(){return A(this,h)}toString(s){const{firstChild:t,lastChild:n}=this,[i,l]=A(this,g);return A(this,u)?`<${i}${String(t)}/>`:`<${i}${String(t)}>${String(n)}${A(this,h)?`</${l}>`:""}`}text(){const[s,t]=A(this,g);return A(this,u)?`<${s}${this.firstChild.text()}/>`:`<${s}${super.text(">")}${A(this,h)?`</${t}>`:""}`}getPadding(){return A(this,g)[0].length+1}getGaps(){return 1}print(){const[s,t]=A(this,g);return super.print(A(this,u)?{pre:`&lt;${s}`,post:"/&gt;"}:{pre:`&lt;${s}`,sep:"&gt;",post:A(this,h)?`&lt;/${t}&gt;`:""})}}u=new WeakMap,h=new WeakMap,g=new WeakMap,m.exports=$},1782:(m,S,e)=>{var n,i,$t;"use strict";const{removeComment:c,print:T,text:$}=e(231),{generateForChild:u}=e(8277),h=e(6010),g=e(8138),o=e(9799),r=e(9237),s=e(8058);class t extends g{constructor(p,x,C=h.getConfig(),f=[]){super(void 0,C,!0,f,{});L(this,i);F(this,"type","template");F(this,"modifier","");L(this,n,{});const{parserFunction:[y,k,b]}=C;if(p.includes(":")){const[w,...H]=p.split(":");this.setModifier(w)&&(p=H.join(":"))}if(p.includes(":")||x.length===0&&!b.includes(this.modifier.toLowerCase())){const[w,...H]=p.split(":"),I=c(w),R=I.trim(),D=k.includes(R),V=y[R.toLowerCase()];if(!(H.length>0&&/\s$/u.test(I))&&(D||V)){this.setAttribute("name",V||R.toLowerCase()).type="magic-word";const W=new RegExp(`^\\s*${R}\\s*$`,D?"u":"iu"),X=new s(w,W,"magic-word-name",C,f,{});if(this.insertAt(X),H.length>0&&x.unshift([H.join(":")]),this.name==="invoke")for(let B=0;B<2;B++){const Q=x.shift();if(!Q)break;const J=new r(Q.join("="),`invoke-${B?"function":"module"}`,C,f,{});this.insertAt(J)}}}if(this.type==="template"){const w=c(p).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test(w))throw f.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${w}`);const H=new r(p,"template-name",C,f,{});this.insertAt(H)}const P=this.isTemplate();let E=1;for(const w of x)P||(w[0]=w.join("="),w.length=1),w.length===1&&(w.unshift(E),E++),this.insertAt(new o(...w,C,f))}setModifier(p=""){if(/\s$/u.test(p))return!1;const{parserFunction:[,,x,C]}=this.getAttribute("config"),f=p.trim().toLowerCase(),y=x.includes(f),k=C.includes(f);return y||k||p===""?(this.setAttribute("modifier",p),Boolean(p)):!1}toString(p){const{childNodes:x,firstChild:C,modifier:f}=this;return`{{${f}${f&&":"}${this.type==="magic-word"?`${String(C)}${x.length>1?":":""}${x.slice(1).map(String).join("|")}`:super.toString(p,"|")}}}`}text(){const{childNodes:p,firstChild:x,modifier:C}=this;return`{{${C}${C&&":"}${this.type==="magic-word"?`${x.text()}${p.length>1?":":""}${$(p.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:p,firstChild:x,modifier:C}=this;return`<span class="wpb-${this.type}">{{${C}${C&&":"}${this.type==="magic-word"?`${x.print()}${p.length>1?":":""}${T(p.slice(1),{sep:"|"})}`:T(p,{sep:"|"})}}}</span>`}lint(p=0){const x=super.lint(p);if(!this.isTemplate())return x;const C=this.getDuplicatedArgs();if(C.length>0){const f=this.getRootNode().posFromIndex(p);x.push(...C.flatMap(([,y])=>y).map(y=>u(y,f,"\u91CD\u590D\u53C2\u6570")))}return x}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(p,x=this.childNodes.length){return super.insertAt(p,x),p.anon?U(this,i,$t).call(this,p):p.name&&this.getArgs(p.name,!1,!1).add(p),p}getAllArgs(){return this.childNodes.filter(p=>p instanceof o)}getAnonArgs(){return this.getAllArgs().filter(({anon:p})=>p)}getArgs(p,x,C=!0){const f=String(p).trim();let y;return Object.prototype.hasOwnProperty.call(A(this,n),f)?y=A(this,n)[f]:(y=new Set(this.getAllArgs().filter(({name:k})=>f===k)),A(this,n)[f]=y),y}getDuplicatedArgs(){return this.isTemplate()?Object.entries(A(this,n)).filter(([,{size:p}])=>p>1).map(([p,x])=>[p,[...x]]):[]}getPossibleValues(){const{type:p,name:x,childNodes:C,constructor:{name:f}}=this;if(p==="template")throw new Error(`${f}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let y;switch(x){case"if":case"ifexist":case"ifexpr":case"iferror":y=2;break;case"ifeq":y=3;break;default:throw new Error(`${f}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const k=C.slice(y,y+2).map(({childNodes:[,b]})=>b);for(let b=0;b<k.length;){const{length:P,0:E}=k[b].childNodes.filter(w=>w.text().trim());if(P===0)k.splice(b,1);else if(P>1||E.type!=="magic-word")b++;else try{const w=E.getPossibleValues();k.splice(b,1,...w),b+=w.length}catch(w){b++}}return k}}n=new WeakMap,i=new WeakSet,$t=function(p){const x=this.getAnonArgs(),C=x.indexOf(p);for(let f=C;f<x.length;f++){const y=x[f],{name:k}=y,b=String(f+1);k!==b&&this.getArgs(b,!1,!1).add(y.setAttribute("name",b))}},m.exports=t},8277:(m,S,e)=>{"use strict";const c=e(8138),T=(u,h,g,o="error")=>{const{style:{top:r,left:s,height:t,width:n}}=u,{token:i,start:l}=h,{top:a,left:d}=i?i.getRootNode().posFromIndex(l):h,p=a+r,x=p+t-1,C=r?s:d+s,f=t>1?n:C+n;return{message:g,severity:o,startLine:p,endLine:x,startCol:C,endCol:f}},$=(u,h,g,o="error")=>{const{start:r}=h,{offsetHeight:s,offsetWidth:t}=u,{top:n,left:i}=r===void 0?h:u.getRootNode().posFromIndex(r);return{message:g,severity:o,startLine:n,endLine:n+s-1,startCol:i,endCol:s>1?t:i+t}};m.exports={generateForChild:T,generateForSelf:$}},231:(m,S,e)=>{"use strict";const c='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',T=o=>o.replace(/\0\d+c\x7F/gu,""),$=(o,r={})=>{const s=e(7507),t=e(9205),{pre:n="",post:i="",sep:l=""}=r,a={"&":"amp","<":"lt",">":"gt"};return`${n}${o.map(d=>d instanceof t?d.print():String(d).replace(/[&<>]/gu,p=>`&${a[p]};`)).join(l)}${i}`},u=o=>o.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),h=(o,r,s,t)=>{if(t===void 0)return[];const n=new RegExp(`${[o,r,s].map(u).join("|")}`,"gu"),i=[];let l=n.exec(t),a=0,d=0;for(;l;){const{0:p,index:x}=l;p!==s?a+=p===o?1:-1:a===0&&(i.push(t.slice(d,x)),{lastIndex:d}=n),l=n.exec(t)}return i.push(t.slice(d)),i},g=(o,r="")=>{const s=e(3853);return o.map(t=>typeof t=="string"?t:t.text()).join(r)};m.exports={extUrlChar:c,removeComment:T,print:$,escapeRegExp:u,explode:h,text:g}},8166:m=>{"use strict";m.exports=JSON.parse('{"ext":["nowiki","pre","gallery","indicator"],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"0":"","6":"File","14":"Category"},"nsid":{"":0,"file":6,"image":6,"\u56FE\u50CF":6,"\u5716\u50CF":6,"\u6587\u4EF6":6,"\u6863\u6848":6,"\u6A94\u6848":6,"category":14,"\u5206\u7C7B":14,"\u5206\u985E":14},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{"thumbnail":"thumbnail","thumb":"thumbnail","\u7F29\u7565\u56FE":"thumbnail","thumbnail=$1":"manualthumb","thumb=$1":"manualthumb","\u7F29\u7565\u56FE=$1":"manualthumb","left":"left","\u5DE6":"left","right":"right","\u53F3":"right","none":"none","\u65E0":"none","$1px":"width","$1\u50CF\u7D20":"width","center":"center","centre":"center","\u5C45\u4E2D":"center","framed":"framed","enframed":"framed","frame":"framed","\u6709\u6846":"framed","frameless":"frameless","\u65E0\u6846":"frameless","upright":"upright","\u53F3\u4E0A":"upright","upright=$1":"manual-upright","upright $1":"manual-upright","\u53F3\u4E0A=$1":"manual-upright","\u53F3\u4E0A$1":"manual-upright","border":"border","\u8FB9\u6846":"border","alt=$1":"alt","\u66FF\u4EE3=$1":"alt","\u66FF\u4EE3\u6587\u672C=$1":"alt","class=$1":"class","\u7C7B=$1":"class","link=$1":"link","\u94FE\u63A5=$1":"link","baseline":"baseline","\u57FA\u7EBF":"baseline","sub":"sub","\u5B50":"sub","super":"super","sup":"super","\u8D85":"super","top":"top","\u9876\u90E8":"top","text-top":"text-top","\u6587\u5B57\u9876\u90E8":"text-top","middle":"middle","\u4E2D\u95F4":"middle","bottom":"bottom","\u5E95\u90E8":"bottom","text-bottom":"text-bottom","\u6587\u5B57\u5E95\u90E8":"text-bottom","lang=$1":"lang","\u8BED\u8A00=$1":"lang","page=$1":"page","page $1":"page","\u9875\u6570=$1":"page","$1\u9875":"page"},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},j={};function M(m){var S=j[m];if(S!==void 0)return S.exports;var e=j[m]={exports:{}};return z[m](e,e.exports,M),e.exports}M.o=(m,S)=>Object.prototype.hasOwnProperty.call(m,S);var Z=M(6010)})();})();
