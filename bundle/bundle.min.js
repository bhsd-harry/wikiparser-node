(()=>{var Tt=Object.defineProperty;var yt=(D,M,U)=>M in D?Tt(D,M,{enumerable:!0,configurable:!0,writable:!0,value:U}):D[M]=U;var v=(D,M,U)=>(yt(D,typeof M!="symbol"?M+"":M,U),U),st=(D,M,U)=>{if(!M.has(D))throw TypeError("Cannot "+U)};var y=(D,M,U)=>(st(D,M,"read from private field"),U?U.call(D):M.get(D)),E=(D,M,U)=>{if(M.has(D))throw TypeError("Cannot add the same private member more than once");M instanceof WeakSet?M.add(D):M.set(D,U)},B=(D,M,U,q)=>(st(D,M,"write to private field"),q?q.call(D,U):M.set(D,U),U),nt=(D,M,U,q)=>({set _(x){B(D,M,x,U)},get _(){return y(D,M,q)}}),X=(D,M,U)=>(st(D,M,"access private method"),U);(()=>{var D={6010:(x,k,e)=>{"use strict";const f={config:void 0,minConfig:e(8166),MAX_STAGE:11,getConfig(){return{...this.minConfig,...this.config}},normalizeTitle(a,g=0,i=!1,r=f.getConfig(),n=!1,t=!1){let s;if(!n){const h=e(8138);s=this.run(()=>{const d=new h(String(a),r),c=d.getAttribute("parseOnce");return c(0,i),c()}),a=s.firstChild}const o=e(6986);return new o(String(a),g,r,t)},parse(a,g,i=f.MAX_STAGE,r=f.getConfig()){const n=e(8138);let t;return this.run(()=>{typeof a=="string"?t=new n(a,r):a instanceof n&&(t=a,a=String(t));try{t.parse(i,g)}catch(s){}}),t},run(a){return a()}},$={},T=new Set(["MAX_STAGE","minConfig"]),p=new Set(["config","normalizeTitle","parse"]);for(const a in f)T.has(a)?$[a]={enumerable:!1,writable:!1}:p.has(a)||($[a]={enumerable:!1});Object.defineProperties(f,$),typeof self=="object"&&(self.Parser=f),x.exports=f},9205:(x,k,e)=>{"use strict";const{print:f}=e(231),$=e(3853),T=e(7507),a=class extends ${constructor(){super(...arguments);v(this,"name")}get length(){return this.childNodes.length}closest(r){const n=new Set(r.split(",").map(s=>s.trim()));let{parentNode:t}=this;for(;t;){if(n.has(t.type))return t;({parentNode:t}=t)}}append(...r){for(const n of r)this.insertAt(n)}replaceChildren(...r){for(let n=this.length-1;n>=0;n--)this.removeAt(n);this.append(...r)}setText(r,n=0){const t=this.childNodes[n],{type:s,data:o}=t;if(s==="text")return t.replaceData(r),o}toString(r,n=""){return this.childNodes.map(t=>t.toString()).join(n)}lint(r=0){const n=e(8058);if(this instanceof n||this.constructor.hidden||this.type==="ext-inner"&&a.lintIgnoredExt.has(this.name))return[];const t=[];for(let s=0,o=r+this.getPadding();s<this.length;s++){const l=this.childNodes[s];t.push(...l.lint(o)),o+=String(l).length+this.getGaps(s)}return t}print(r={}){return String(this)?`<span class="wpb-${r.class||this.type}">${f(this.childNodes,r)}</span>`:""}json(r){const{childNodes:n,...t}=this;return{...t,childNodes:n.map(o=>o.type==="text"?String(o):o.json())}}};let p=a;v(p,"lintIgnoredExt",new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"])),x.exports=p},3853:(x,k,e)=>{var T,p,rt;"use strict";const{text:f}=e(231);class ${constructor(){E(this,p);v(this,"type");v(this,"childNodes",[]);E(this,T,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return y(this,T)}get nextSibling(){var r;const i=(r=y(this,T))==null?void 0:r.childNodes;return i&&i[i.indexOf(this)+1]}get previousSibling(){var r;const i=(r=y(this,T))==null?void 0:r.childNodes;return i&&i[i.indexOf(this)-1]}hasAttribute(i){const r=typeof i;return r==="string"||r==="number"||r==="symbol"?i in this:!1}getAttribute(i){return this.hasAttribute(i)?String(this[i]):void 0}setAttribute(i,r){return i==="parentNode"?B(this,T,r):this[i]=r,this}text(i=""){return f(this.childNodes,i)}removeAt(i){const r=[...this.childNodes],[n]=r.splice(i,1);return n.setAttribute("parentNode"),this.setAttribute("childNodes",r),n}insertAt(i,r=this.childNodes.length){const n=[...this.childNodes];return-1===-1&&i.setAttribute("parentNode",this),n.splice(r,0,i),this.setAttribute("childNodes",n),i}normalize(){var n;const i=e(7507),r=[...this.childNodes];for(let t=r.length-1;t>=0;t--){const{type:s,data:o}=r[t];this.getGaps(t-1)||(o===""?r.splice(t,1):s==="text"&&((n=r[t-1])==null?void 0:n.type)==="text"&&(r[t-1].setAttribute("data",r[t-1].data+o),r.splice(t,1)))}this.setAttribute("childNodes",r)}getRootNode(){let{parentNode:i}=this;for(;i!=null&&i.parentNode;)({parentNode:i}=i);return i!=null?i:this}posFromIndex(i){const r=String(this);if(i>=-r.length&&i<=r.length){const n=r.slice(0,i).split(`
`);return{top:n.length-1,left:n[n.length-1].length}}}getPadding(){return 0}getGaps(){return 0}getRelativeIndex(i){let r;const n=(t,s)=>r.slice(0,t).reduce((o,l,h)=>o+String(l).length+s.getGaps(h),0)+s.getPadding();if(i===void 0){const{parentNode:t}=this;return t?({childNodes:r}=t,n(r.indexOf(this),t)):0}return{childNodes:r}=this,n(i,this)}get offsetHeight(){return X(this,p,rt).call(this).height}get offsetWidth(){return X(this,p,rt).call(this).width}}T=new WeakMap,p=new WeakSet,rt=function(){const i=String(this).split(`
`);return{height:i.length,width:i[i.length-1].length}},x.exports=$},7507:(x,k,e)=>{var g,it;"use strict";const f=e(3853),$=e(9205),T=/https?:|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu,p=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<(?=\s*\/?[a-z]\w*[\s/>])/giu;class a extends f{constructor(t=""){super();E(this,g);v(this,"type","text");v(this,"data");this.data=t}toString(){return this.data}text(){return this.data}lint(t=0){var u;const{data:s,parentNode:o}=this,l=o==null?void 0:o.type,h=o==null?void 0:o.name,d=l==="free-ext-link"||l==="ext-link-url"||l==="image-parameter"&&h==="link"?p:T,c=[];if(s.search(d)!==-1){d.lastIndex=0;const S=this.getRootNode(),{top:m,left:A}=S.posFromIndex(t);for(let w=d.exec(s);w;w=d.exec(s)){const[,C]=w;let{0:b,index:F}=w;C&&(F+=C.length,b=b.slice(C.length));const P=t+F,R=s.slice(0,F).split(`
`),L=R.length+m-1,I=R[R.length-1],G=R.length>1?I.length:A+I.length,{0:O,length:J}=b,W=P+J;let V=O==="{"||O==="}"||J>1?"error":"warning";if(O==="h")switch(o==null?void 0:o.type){case"ext-link-text":V="warning";break;case"attr-value":{const{parentNode:H}=o;if(((H==null?void 0:H.name)==="src"||(H==null?void 0:H.name)==="srcset")&&((u=H==null?void 0:H.parentNode)==null?void 0:u.name)==="img")continue;break}case"ext-inner":if(h==="sm2"||h==="flashmp3")continue}c.push({message:`\u5B64\u7ACB\u7684"${O==="h"?b:O}"`,severity:V,startIndex:P,endIndex:W,startLine:L,endLine:L,startCol:G,endCol:G+J})}}return c}replaceData(t=""){X(this,g,it).call(this,t)}}g=new WeakSet,it=function(t){return t=String(t),this.setAttribute("data",t),this},x.exports=a},6986:(x,k,e)=>{"use strict";const f=e(6010);class ${constructor(p,a=0,g=f.getConfig(),i=!1){v(this,"valid",!0);v(this,"ns",0);const{namespaces:r,nsid:n}=g;let t=r[a];if(i&&p.includes("%"))try{p=decodeURIComponent(p)}catch(h){}p=p.replace(/_/gu," ").trim(),p[0]===":"&&(t="",p=p.slice(1).trim());const s=p.split(":");if(s.length>1){const h=r[n[s[0].trim().toLowerCase()]];h!==void 0&&(t=h,p=s.slice(1).join(":").trim())}this.ns=n[t.toLowerCase()];const o=p.indexOf("#");let l="";o!==-1&&(l=p.slice(o+1).trim(),p=p.slice(0,o).trim()),this.valid=Boolean(p||l)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]/u.test(p)}}x.exports=$},2308:x=>{"use strict";const k=e=>{var f;return f=class extends e{text(){return""}},v(f,"hidden",!0),f};x.exports=k},8275:(x,k,e)=>{"use strict";const{removeComment:f}=e(231),$=e(6010),T=e(9450),p=e(1782),a=e(9544),g=(i,r=$.getConfig(),n=[])=>{var S,m,A,w,C;const t="^(\0\\d+c\x7F)*={1,6}|\\[\\[|\\{{2,}|-\\{(?!\\{)",s=[],o={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},l={"!":"!","!!":"+","(!":"{","!)":"}","!-":"-","=":"~"};let h=new RegExp(t,"gmu"),d=h.exec(i),c=i.includes("}}"),u;for(;d||u<=i.length&&((m=(S=s[s.length-1])==null?void 0:S[0])==null?void 0:m[0])==="=";){if(d!=null&&d[1]){const[,{length:V}]=d;d[0]=d[0].slice(V),d.index+=V}const{0:b,index:F}=d!=null?d:{0:`
`,index:i.length},P=(A=s.pop())!=null?A:{},{0:R,index:L,parts:I,findEqual:G,pos:O}=P,J=b==="="&&G;if(b==="]]"||b==="}-")u=F+2;else if(b===`
`){u=F+1;const{pos:V,findEqual:H}=(w=s[s.length-1])!=null?w:{};if(!V||H||f(i.slice(V,L))!==""){const K=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(i.slice(L,F));K&&(i=`${i.slice(0,L)}\0${n.length}h\x7F${i.slice(F)}`,u=L+4+String(n.length).length,new T(K[1].length,K.slice(2),r,n))}}else if(b==="|"||J)u=F+1,I[I.length-1].push(i.slice(O,F)),b==="|"&&I.push([]),P.pos=u,P.findEqual=b==="|",s.push(P);else if(b.startsWith("}}")){const V=b.slice(0,Math.min(R.length,3)),H=R.length-V.length,{length:K}=n;u=F+V.length,I[I.length-1].push(i.slice(O,F));let Z=!1,et="t";if(V.length===3)new a(I.map(Y=>Y.join("=")),r,n);else{const Y=f(I[0][0]).trim();Y in l?et=l[Y]:/^(?:fullurl|canonicalurl|filepath):.|^server$/iu.test(Y)&&(et="m");try{new p(I[0][0],I.slice(1),r,n)}catch(N){if(N instanceof Error&&N.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))u=L+R.length,Z=!0;else throw N}}Z||(i=`${i.slice(0,L+H)}\0${K}${et}\x7F${i.slice(u)}`,u=L+H+3+String(K).length,H>1?s.push({0:R.slice(0,H),index:L,pos:L+H,parts:[[]]}):H===1&&i[L-1]==="-"&&s.push({0:"-{",index:L-1,pos:L+1,parts:[[]]}))}else u=F+b.length,b[0]==="{"&&(d.pos=u,d.parts=[[]]),s.push(..."0"in P?[P]:[],d);c&&(c=i.slice(u).includes("}}"));let W=s[s.length-1];!c&&((C=W==null?void 0:W[0])==null?void 0:C[0])==="{"&&(s.pop(),W=s[s.length-1]),h=new RegExp(t+(W?`|${o[W[0][0]]}${W.findEqual?"|=":""}`:""),"gmu"),h.lastIndex=u,d=h.exec(i)}return i};x.exports=g},4907:(x,k,e)=>{"use strict";const f=e(6010),$=e(851),T=e(3423),p=e(8655),a=e(7267),g=e(5749),i=(r,n=f.getConfig(),t=[],s=!1)=>{const o=/<onlyinclude>(.*?)<\/onlyinclude>/gsu;if(s&&r.search(o)!==-1)return r.replace(o,(u,S)=>{const m=`\0${t.length}e\x7F`;return new $(S,n,t),m}).replace(/(^|\0\d+e\x7F)(.*?)(?=$|\0\d+e\x7F)/gsu,(u,S,m)=>m===""?S:(new T(m,n,t),`${S}\0${t.length-1}c\x7F`));const l=n.ext.join("|"),h=s?"includeonly":"(?:no|only)include",d=s?"noinclude":"includeonly",c=new RegExp(`<!--.*?(?:-->|$)|<${h}(?:\\s[^>]*?)?>|</${h}\\s*>|<(${l})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${d})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return r.replace(c,(u,S,m,A,w,C,b,F,P)=>{const R=`\0${t.length}${S?"e":"c"}\x7F`;if(S)new a(S,m,A,w,n,t);else if(u.startsWith("<!--")){const L=u.endsWith("-->");new g(u.slice(4,L?-3:void 0),L,n,t)}else C?new p(C,b,F,P,n,t):new T(u,n,t);return R})};x.exports=i},3765:(x,k,e)=>{"use strict";const f=e(6010),$=e(9910),T=(p,a=f.getConfig(),g=[])=>{const i=/-\{/gu,r=/-\{|\}-/gu,n=[];let t=i,s=t.exec(p);for(;s;){const{0:o,index:l}=s;if(o==="}-"){const h=n.pop(),{length:d}=g,c=p.slice(h.index+2,l),u=c.indexOf("|"),[S,m]=u===-1?[[],c]:[c.slice(0,u).split(";"),c.slice(u+1)],A=m.replace(/(&[#a-z\d]+);/giu,"$1"),w=`(?:${a.variants.join("|")})`,C=A.split(new RegExp(`;(?=\\s*(?:${w}|[^;]*?=>\\s*${w})\\s*:)`,"u")).map(b=>b.replace(/\x01/gu,";"));new $(S,C,a,g),p=`${p.slice(0,h.index)}\0${d}v\x7F${p.slice(l+2)}`,n.length===0&&(t=i),t.lastIndex=h.index+3+String(d).length}else n.push(s),t=r,t.lastIndex=l+2;s=t.exec(p)}return p};x.exports=T},7513:(x,k,e)=>{"use strict";const{extUrlChar:f}=e(231),$=e(6010),T=e(741),p=(a,g=$.getConfig(),i=[])=>{const r=new RegExp(`\\[((?:${g.protocol}|//|\0\\d+m\x7F)${f})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return a.replace(r,(n,t,s,o)=>{const{length:l}=i,h=/&[lg]t;/u.exec(t);return h&&(t=t.slice(0,h.index),s="",o=`${t.slice(h.index)}${s}${o}`),new T(t,s,o,g,i),`\0${l}w\x7F`})};x.exports=p},2937:(x,k,e)=>{"use strict";const f=e(6010),$=e(7507),T=e(8138),p=e(2582),a=e(7815),g=({firstChild:{data:i},type:r,name:n},t=f.getConfig(),s=[])=>{const{doubleUnderscore:o}=t,l=new Set(o[0]),h=new Set(o[1]);return r!=="root"&&(r!=="ext-inner"||n!=="poem")&&(i=`\0${i}`),i=i.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(d,c,u)=>(new p(u.length,t,s),`${c}\0${s.length-1}r\x7F`)).replace(new RegExp(`__(${o.flat().join("|")})__`,"giu"),(d,c)=>l.has(c.toLowerCase())||h.has(c)?(new a(c,t,s),`\0${s.length-1}u\x7F`):d),r==="root"||r==="ext-inner"&&n==="poem"?i:i.slice(1)};x.exports=g},5130:(x,k,e)=>{"use strict";const f=e(6010),$=e(5649),T=e(2350),p=(a,g=f.getConfig(),i=[])=>{const r=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,n=new Set(g.html.flat()),t=a.split("<");let s=t.shift();for(const o of t){const l=r.exec(o),h=l==null?void 0:l[2],d=h==null?void 0:h.toLowerCase();if(!l||!n.has(d)){s+=`<${o}`;continue}const[,c,,u="",S,m]=l,A=new $(u,"html-attrs",d,g,i),w=A.getAttr("itemprop");if(d==="meta"&&(w===void 0||A.getAttr("content")===void 0)||d==="link"&&(w===void 0||A.getAttr("href")===void 0)){s+=`<${o}`,i.pop();continue}s+=`\0${i.length}x\x7F${m}`,new T(h,A,c==="/",S==="/>",g,i)}return s};x.exports=p},1452:(x,k,e)=>{"use strict";const f=e(6010),$=e(3905),T=e(7625),p=e(337),a=(g,i=f.getConfig(),r=[])=>{const n=e(3360),t=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su,s=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,o=new RegExp(`^\\s*(?:${i.protocol})`,"iu"),l=g.split("[[");let h=l.shift();for(let d=0;d<l.length;d++){let c,u,S,m,A;const w=l[d],C=t.exec(w);if(C)[,u,S,m,A]=C,A[0]==="]"&&(m==null?void 0:m.includes("["))&&(m+="]",A=A.slice(1));else{const I=s.exec(w);I&&(c=!0,[,u,S,m]=I)}if(u===void 0||o.test(u)||/\0\d+[exhbru]\x7F/u.test(u)){h+=`[[${w}`;continue}const b=u.trim()[0]===":";if(b&&c){h+=`[[${w}`;continue}const F=f.normalizeTitle(u,0,!1,i,!0,!0),{ns:P,valid:R}=F;if(R){if(c){if(P!==6){h+=`[[${w}`;continue}let I;for(d++;d<l.length;d++){const G=l[d],O=G.split("]]");if(O.length>2){I=!0,m+=`[[${O[0]}]]${O[1]}`,A=O.slice(2).join("]]");break}else if(O.length===2)m+=`[[${O[0]}]]${O[1]}`;else{m+=`[[${G}`;break}}if(m=a(m,i,r),!I){h+=`[[${u}${S}${m}`;continue}}}else{h+=`[[${w}`;continue}m&&(m=n(m,i,r)),h+=`\0${r.length}l\x7F${A}`;let L=$;b||(P===6?L=T:P===14&&(L=p)),new L(u,m,F,i,r,S)}return h};x.exports=a},6622:(x,k,e)=>{"use strict";const f=e(6010),$=e(962),T=e(3434),p=(a,g=f.getConfig(),i=[])=>{const r=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(a);if(!r)return a;const[n,t,s]=r;a=`${t}\0${i.length}d\x7F${a.slice(n.length)}`,new $(s,g,i);let o=s.split(";").length-1;if(!o)return a;let l=/:+|-\{/gu,h=l.exec(a),d=0;for(;h&&o;){const{0:c,index:u}=h;if(c[0]===":"){if(c.length>=o)return new T(":".repeat(o),g,i),`${a.slice(0,u)}\0${i.length-1}d\x7F${a.slice(u+o)}`;a=`${a.slice(0,u)}\0${i.length}d\x7F${a.slice(l.lastIndex)}`,o-=c.length,l.lastIndex=u+4+String(i.length).length,new T(c,g,i)}else if(c==="-{"){if(!d){const{lastIndex:S}=l;l=/-\{|\}-/gu,l.lastIndex=S}d++}else if(d--,!d){const{lastIndex:S}=l;l=/:+|-\{/gu,l.lastIndex=S}h=l.exec(a)}return a};x.exports=p},4737:(x,k,e)=>{"use strict";const{extUrlChar:f}=e(231),$=e(6010),T=e(8962),p=(a,g=$.getConfig(),i=[])=>{const r=new RegExp(`(^|[^\\p{L}\\d_])(?:${g.protocol})(${f})`,"giu");return a.replace(r,(n,t,s)=>{let o="",l=t?n.slice(1):n;const h=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(l);h&&(o=l.slice(h.index),l=l.slice(0,h.index));const d=new RegExp(`[,;.:!?${l.includes("(")?"":")"}]+$`,"u"),c=d.exec(l);if(c){let u=0;c[0][0]===";"&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(l.slice(0,c.index))&&(u=1),o=`${l.slice(c.index+u)}${o}`,l=l.slice(0,c.index+u)}return o.length>=s.length?n:(new T(l,!1,g,i),`${t}\0${i.length-1}w\x7F${o}`)})};x.exports=p},3360:(x,k,e)=>{"use strict";const f=e(6010),$=e(6714),T=(p,a=f.getConfig(),g=[])=>{var h;const i=p.split(/('{2,})/u),{length:r}=i;if(r===1)return p;let n=0,t=0,s,o,l;for(let d=1;d<r;d+=2){const{length:c}=i[d];switch(c){case 2:t++;break;case 4:i[d-1]+="'",i[d]="'''";case 3:if(n++,s)break;i[d-1].endsWith(" ")?!o&&!l&&(l=d):i[d-1].slice(-2,-1)===" "?s=d:o||(o=d);break;default:i[d-1]+="'".repeat(c-5),i[d]="'''''",t++,n++}}if(t%2===1&&n%2===1){const d=(h=s!=null?s:o)!=null?h:l;i[d]="''",i[d-1]+="'"}for(let d=1;d<r;d+=2)new $(i[d].length,a,g),i[d]=`\0${g.length-1}q\x7F`;return i.join("")};x.exports=T},4624:(x,k,e)=>{"use strict";const f=e(6010),$=e(7507),T=e(8138),p=e(2840),a=e(3125),g=e(5567),i=e(3434),r=({firstChild:{data:n},type:t,name:s},o=f.getConfig(),l=[])=>{const h=[],d=n.split(`
`);let c=t==="root"||t==="parameter-value"||t==="ext-inner"&&s==="poem"?"":`
${d.shift()}`;const u=(S,m)=>{if(!m){c+=S;return}const{lastChild:A}=m;if(A.constructor===T)A.setText(String(A)+S);else{const w=new T(S,o,!0,l);w.type="table-inter",m.insertAt(w.setAttribute("stage",3))}};for(const S of d){let m=h.pop();const[A]=/^(?:\s|\0\d+c\x7F)*/u.exec(S),w=S.slice(A.length),C=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(w);if(C){for(;m&&m.type!=="td";)m=h.pop();const[,I,G,O,J]=C;I&&new i(I,o,l),u(`
${A}${I&&`\0${l.length-1}d\x7F`}${G}\0${l.length}b\x7F`,m);const W=new p(O,J,o,l);h.push(...m?[m]:[],W);continue}else if(!m){c+=`
${S}`;continue}const b=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(w);if(!b){u(`
${S}`,m),h.push(...m?[m]:[]);continue}const[,F,P,R,L]=b;if(F){for(;!(m instanceof p);)m=h.pop();m.close(`
${A}${F}`,!0),u(L,h[h.length-1])}else if(P){m.type==="td"&&(m=h.pop()),m.type==="tr"&&(m=h.pop());const I=new a(`
${A}${P}`,L,o,l);h.push(m,I),m.insertAt(I)}else{m.type==="td"&&(m=h.pop());const I=R==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let G=I.exec(L),O=0,J=`
${A}${R}`;for(;G;){const V=new g(J,L.slice(O,G.index),o,l);m.insertAt(V),{lastIndex:O}=I,[J]=G,G=I.exec(L)}const W=new g(J,L.slice(O),o,l);h.push(m,W),m.insertAt(W)}}return c.slice(1)};x.exports=r},9544:(x,k,e)=>{"use strict";const{text:f}=e(231),{generateForSelf:$,generateForChild:T}=e(8277),p=e(6010),a=e(8138);class g extends a{constructor(n,t=p.getConfig(),s=[]){super(void 0,t,!0,s,{});v(this,"type","arg");for(let o=0;o<n.length;o++)if(o===0||o>1){const l=e(o===0?9237:9263),h=new l(n[o],o===0?"arg-name":void 0,t,s,{});super.insertAt(h)}else{const l=new a(n[o],t,!0,s);l.type="arg-default",super.insertAt(l.setAttribute("stage",2))}}toString(n){return`{{{${super.toString(n,"|")}}}}`}text(){return`{{{${f(this.childNodes.slice(0,2),"|")}}}}`}getPadding(){return 3}getGaps(){return 1}print(){return super.print({pre:"{{{",post:"}}}",sep:"|",class:!this.getAttribute("include")&&"arg wpb-error"})}lint(n=0){if(!this.getAttribute("include"))return[$(this,{start:n},"\u672A\u9884\u671F\u7684\u6A21\u677F\u53C2\u6570")];const{childNodes:[t,s,...o]}=this,l=t.lint(n+3);if(s&&l.push(...s.lint(n+4+String(t).length)),o.length>0){const h={start:n,...this.getRootNode().posFromIndex(n)};l.push(...o.map(d=>T(d,h,"\u4E09\u91CD\u62EC\u53F7\u5185\u7684\u4E0D\u53EF\u89C1\u90E8\u5206")))}return l}}x.exports=g},9263:(x,k,e)=>{"use strict";const f=e(2308),$=e(9237);class T extends f($){constructor(){super(...arguments);v(this,"type","hidden")}}x.exports=T},9237:(x,k,e)=>{"use strict";const f=e(6010),$=e(8138);class T extends ${constructor(g,i,r=f.getConfig(),n=[],t=void 0){super(g,r,!0,n,t);v(this,"type","plain");i&&(this.type=i)}}x.exports=T},5037:(x,k,e)=>{var u,S;"use strict";const{generateForChild:f}=e(8277),{removeComment:$}=e(231),T=e(6010),p=e(8138),a=e(9237),g=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),i=new Set(["align"]),r=new Set(["cite"]),n=new Set(["cite","datetime"]),t=new Set(["width"]),s=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),o=new Set(["type"]),l={div:i,h1:i,h2:i,h3:i,h4:i,h5:i,h6:i,blockquote:r,q:r,p:i,br:new Set(["clear"]),pre:t,ins:n,del:n,ul:o,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:i,tr:new Set(["bgcolor","align","valign"]),td:s,th:s,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:t,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix"]),combooption:new Set(["name","for","inline","align"])},h=new Set,d={nowiki:h,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:h,inputbox:h,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:h,poll:new Set(["id","show-results-before-voting"]),sm2:o,flashmp3:o,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])};class c extends p{constructor(w,C,b="",F="",P=[],R=T.getConfig(),L=[]){const I=new a(C,"attr-key",R,L,{}),G=C==="title"?new p(F,R,!0,L,{}).setAttribute("type","attr-value").setAttribute("stage",T.MAX_STAGE-1):new a(F,"attr-value",R,L,{});super(void 0,R,!0,L);E(this,u,void 0);E(this,S,void 0);this.type=w,this.append(I,G),B(this,u,b),B(this,S,P),this.setAttribute("name",$(C).trim().toLowerCase())}get balanced(){return!y(this,u)||y(this,S)[0]===y(this,S)[1]}afterBuild(){return y(this,u).includes("\0")&&B(this,u,this.getAttribute("buildFromStr")(y(this,u),"string")),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(w){const[C="",b=""]=y(this,S);return y(this,u)?`${super.toString(w,`${y(this,u)}${C}`)}${b}`:this.firstChild.toString(w)}text(){return y(this,u)?`${super.text(`${y(this,u).trim()}"`)}"`:this.firstChild.text()}getGaps(){var w,C;return y(this,u)?y(this,u).length+((C=(w=y(this,S)[0])==null?void 0:w.length)!=null?C:0):0}print(){const[w="",C=""]=y(this,S);return y(this,u)?super.print({sep:`${y(this,u)}${w}`,post:C}):super.print()}lint(w=0){var J;const C=super.lint(w),{balanced:b,firstChild:F,lastChild:P,type:R,name:L,parentNode:I}=this,G=I==null?void 0:I.name;let O;if(!b){const W=this.getRootNode();O={start:w,...W.posFromIndex(w)};const V=f(P,O,"\u672A\u95ED\u5408\u7684\u5F15\u53F7","warning"),H=V.startIndex-1,K=V.startCol-1;C.push({...V,startIndex:H,startCol:K})}return!/\{\{[^{]+\}\}/u.test(L)&&(R==="ext-attr"&&!(G in l)&&d[G]&&!d[G].has(L)||(R==="html-attr"||R==="table-attr"||G in l)&&!((J=l[G])!=null&&J.has(L))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(L)&&(G==="meta"||G==="link"||!g.has(L)))&&(O||(O={start:w,...this.getRootNode().posFromIndex(w)}),C.push(f(F,O,"\u975E\u6CD5\u7684\u5C5E\u6027\u540D"))),C}getValue(){return y(this,u)?this.lastChild.text():!0}}u=new WeakMap,S=new WeakMap,x.exports=c},5649:(x,k,e)=>{"use strict";const{generateForSelf:f,generateForChild:$}=e(8277),{removeComment:T}=e(231),p=e(6010),a=e(8138),g=e(9237),i=e(5037);class r extends a{get sanitized(){return this.getDirtyAttrs().length===0}constructor(t,s,o,l=p.getConfig(),h=[]){if(super(void 0,l,!0,h,{}),this.type=s,this.setAttribute("name",o),t){const d=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let c="",u=d.exec(t),S=0;const m=()=>{c&&(super.insertAt(new g(c,`${s.slice(0,-1)}-dirty`,l,h,{})),c="")};for(;u;){const{index:A,0:w,1:C,2:b,3:F,4:P,5:R,6:L}=u;if(c+=t.slice(S,A),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test(T(C).trim())){const I=P!=null?P:L,G=[F,R],O=new i(s.slice(0,-1),C,b,I,G,l,h);m(),super.insertAt(O)}else c+=w;({lastIndex:S}=d),u=d.exec(t)}c+=t.slice(S),m()}}afterBuild(){var s,o;const t=e(5567);return this.type==="table-attrs"&&this.setAttribute("name",((s=this.parentNode)==null?void 0:s.subtype)==="caption"?"caption":(o=this.parentNode)==null?void 0:o.type),this}getDirtyAttrs(){return this.childNodes.filter(t=>t instanceof g&&t.text().trim())}getAttrTokens(t){return this.childNodes.filter(s=>s instanceof i&&s.name===t.toLowerCase().trim())}getAttrToken(t){const s=this.getAttrTokens(t);return s[s.length-1]}getAttr(t){var s;return(s=this.getAttrToken(t))==null?void 0:s.getValue()}lint(t=0){const s=e(2350),o=super.lint(t);let l;if(this.parentNode.closing&&this.text().trim()&&(l={start:t,...this.getRootNode().posFromIndex(t)},o.push(f(this,l,"\u4F4D\u4E8E\u95ED\u5408\u6807\u7B7E\u7684\u5C5E\u6027"))),!this.sanitized){l||(l={start:t,...this.getRootNode().posFromIndex(t)});for(const h of this.getDirtyAttrs())o.push($(h,l,"\u5305\u542B\u65E0\u6548\u5C5E\u6027"))}return o}print(){const t=e(2350);return String(this)?`<span class="wpb-${this.type}${this.parentNode.closing&&this.text().trim()?" wpb-error":""}">${this.childNodes.map(s=>s.print({class:s instanceof g&&s.text().trim()&&"hidden"})).join("")}</span>`:""}}x.exports=r},8103:(x,k,e)=>{"use strict";const f=e(6010),$=e(8138),T=e(2158);class p extends ${constructor(i,r=f.getConfig(),n=[]){super(void 0,r,!0,n,{});v(this,"type","ext-inner");v(this,"name","charinsert");const t=T;this.append(...i.split(`
`).map(s=>new t(s,"charinsert-line",r,n)))}toString(i){return super.toString(i,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}}x.exports=p},9910:(x,k,e)=>{"use strict";const{text:f,print:$}=e(231),T=e(6010),p=e(8138),a=e(6719),g=e(8683);class i extends p{constructor(t,s,o=T.getConfig(),l=[]){super(void 0,o,!0,l);v(this,"type","converter");this.append(new a(t,o,l));const[h]=s,d=h.includes(":"),c=new g(h,d,o,l);d&&c.length===1?this.insertAt(new g(s.join(";"),!1,o,l)):this.append(c,...s.slice(1).map(u=>new g(u,!0,o,l)))}toString(t){const{childNodes:[s,...o]}=this;return`-{${s.toString()}${s.length>0?"|":""}${o.map(String).join(";")}}-`}text(){const{childNodes:[t,...s]}=this;return`-{${t.text()}|${f(s,";")}}-`}getPadding(){return 2}getGaps(t=0){return t=t<0?t+this.length:t,t||this.firstChild.length>0?1:0}print(){const{childNodes:[t,...s]}=this;return`<span class="wpb-converter">-{${t.print()}${t.length>0?"|":""}${$(s,{sep:";"})}}-</span>`}}x.exports=i},6719:(x,k,e)=>{var i;"use strict";const{generateForChild:f}=e(8277),$=e(6010),T=e(8138),p=e(9237),a=new Set(["A","T","R","D","-","H","N"]);class g extends T{constructor(t,s=$.getConfig(),o=[]){super(void 0,s,!0,o,{});v(this,"type","converter-flags");E(this,i,void 0);this.append(...t.map(l=>new p(l,"converter-flag",s,o)))}afterBuild(){return B(this,i,this.childNodes.map(t=>t.text().trim())),this}toString(t){return super.toString(t,";")}text(){return super.text(";")}getGaps(){return 1}print(){return super.print({sep:";"})}lint(t=0){const s=this.getVariantFlags(),o=this.getUnknownFlags(),l=new Set(y(this,i).filter(A=>a.has(A))),{length:h}=y(this,i).filter(A=>!A),d=y(this,i).length-o.size-h,c=super.lint(t);if(s.size===d||l.size===d)return c;const u={start:t,...this.getRootNode().posFromIndex(t)},{childNodes:S,length:m}=this;for(let A=0;A<m;A++){const w=S[A],C=w.text().trim();if(C&&!s.has(C)&&!o.has(C)&&(s.size>0||!l.has(C))){const b=f(w,u,"\u65E0\u6548\u7684\u8F6C\u6362\u6807\u8BB0");c.push(b)}}return c}getUnknownFlags(){return new Set(y(this,i).filter(t=>/\{\{[^{}]+\}\}/u.test(t)))}getVariantFlags(){const t=new Set(this.getAttribute("config").variants);return new Set(y(this,i).filter(s=>t.has(s)))}}i=new WeakMap,x.exports=g},8683:(x,k,e)=>{"use strict";const f=e(6010),$=e(8138),T=e(9237);class p extends ${constructor(i,r=!0,n=f.getConfig(),t=[]){super(void 0,n,!0,t);v(this,"type","converter-rule");if(r){const s=i.indexOf(":"),o=i.slice(0,s).indexOf("=>"),l=o===-1?i.slice(0,s):i.slice(o+2,s),{variants:h}=n;h.includes(l.trim())?(super.insertAt(new T(l,"converter-rule-variant",n,t)),super.insertAt(new T(i.slice(s+1),"converter-rule-to",n,t)),o!==-1&&super.insertAt(new T(i.slice(0,o),"converter-rule-from",n,t),0)):super.insertAt(new T(i,"converter-rule-noconvert",n,t))}else super.insertAt(new T(i,"converter-rule-noconvert",n,t))}toString(i){if(this.length===3){const{childNodes:[r,n,t]}=this;return`${r.toString(i)}=>${n.toString(i)}:${t.toString(i)}`}return super.toString(i,":")}text(){if(this.length===3){const{childNodes:[i,r,n]}=this;return`${i.text()}=>${r.text()}:${n.text()}`}return super.text(":")}getGaps(i=0){const{length:r}=this;return i=i<0?i+r:i,i===0&&r===3?2:1}print(){if(this.length===3){const{childNodes:[i,r,n]}=this;return`<span class="wpb-converter-rule">${i.print()}=>${r.print()}:${n.print()}</span>`}return super.print({sep:":"})}}x.exports=p},741:(x,k,e)=>{var a;"use strict";const f=e(6010),$=e(8138),T=e(8962);class p extends ${constructor(r,n,t,s=f.getConfig(),o=[]){super(void 0,s,!0,o,{});v(this,"type","ext-link");E(this,a,void 0);if(this.insertAt(new T(r,!0,s,o)),B(this,a,n),t){const l=new $(t,s,!0,o,{});l.type="ext-link-text",this.insertAt(l.setAttribute("stage",f.MAX_STAGE-1))}}toString(r){return this.length===1?`[${super.toString(r)}${y(this,a)}]`:`[${super.toString(r,y(this,a))}]`}text(){return`[${super.text(" ")}]`}getPadding(){return 1}getGaps(){return y(this,a).length}print(){const{length:r}=this;return super.print(r>1?{pre:"[",sep:y(this,a),post:"]"}:{pre:"[",post:`${y(this,a)}]`})}}a=new WeakMap,x.exports=p},1891:(x,k,e)=>{"use strict";const f=e(6010),$=e(8138),T=e(1031),p=e(9263);class a extends ${constructor(r,n=f.getConfig(),t=[]){var o;super(void 0,n,!0,t,{});v(this,"type","ext-inner");v(this,"name","gallery");const s=JSON.parse(JSON.stringify(n));for(const[l,h]of Object.entries(n.img))h==="width"&&delete s.img[l];for(const l of(o=r==null?void 0:r.split(`
`))!=null?o:[]){const h=/^([^|]+)(?:\|(.*))?/u.exec(l);if(!h){super.insertAt(l.trim()?new p(l,void 0,n,[],{}):l);continue}const[,d,c]=h,u=this.normalizeTitle(d,6,!0,!0);u.valid?super.insertAt(new T(d,c,u,s,t)):super.insertAt(new p(l,void 0,n,[],{}))}}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(r=0){const{top:n,left:t}=this.getRootNode().posFromIndex(r),s=[];for(let o=0,l=r;o<this.length;o++){const h=this.childNodes[o],d=String(h),{length:c}=d,u=d.trim(),S=n+o,m=o?0:t;h.type==="hidden"&&u&&!/^<!--.*-->$/u.test(u)?s.push({message:"\u56FE\u5E93\u4E2D\u7684\u65E0\u6548\u5185\u5BB9",severity:"error",startIndex:l,endIndex:l+c,startLine:S,endLine:S,startCol:m,endCol:m+c}):h.type!=="hidden"&&h.type!=="text"&&s.push(...h.lint(l)),l+=c+1}return s}}x.exports=a},2158:(x,k,e)=>{"use strict";const f=e(6010),$=e(8138),T=e(3423);class p extends ${constructor(g,i,r=f.getConfig(),n=[]){g=g.replace(/(<nowiki>)(.*?)(<\/nowiki>)/giu,(t,s,o,l)=>(new T(s,r,n),new T(l,r,n),`\0${n.length-1}c\x7F${o}\0${n.length}c\x7F`)),super(g,r,!0,n,{}),this.type=i}}x.exports=p},428:(x,k,e)=>{"use strict";const f=e(6010),$=e(2158);class T extends ${constructor(g,i=f.getConfig(),r=[]){super(g,"ext-inner",i,r);v(this,"name","pre");this.setAttribute("stage",f.MAX_STAGE-1)}isPlain(){return!0}}x.exports=T},9450:(x,k,e)=>{"use strict";const{generateForSelf:f}=e(8277),$=e(6010),T=e(8138),p=e(8058);class a extends T{constructor(r,n,t=$.getConfig(),s=[]){super(void 0,t,!0,s);v(this,"type","heading");this.setAttribute("name",String(r));const o=new T(n[0],t,!0,s);o.type="heading-title",o.setAttribute("stage",2);const l=new p(n[1],/^[^\S\n]*$/u,"heading-trail",t,s,{});this.append(o,l)}toString(r){const n="=".repeat(Number(this.name));return`${n}${this.firstChild.toString()}${n}${this.lastChild.toString()}`}text(){const r="=".repeat(Number(this.name));return`${r}${this.firstChild.text()}${r}`}getPadding(){return super.getPadding()+Number(this.name)}getGaps(){return Number(this.name)}print(){const r="=".repeat(Number(this.name)),n=String(this.firstChild);return super.print({pre:r,sep:r,class:(n[0]==="="||n.endsWith("=")||this.closest("html-attrs, table-attrs"))&&"heading wpb-error"})}lint(r=0){const n=super.lint(r),t=String(this.firstChild);let s;return this.name==="1"&&(s=f(this,{start:r},"<h1>"),n.push(s)),(t[0]==="="||t.endsWith("="))&&(s||(s=f(this,{start:r},"")),n.push({...s,message:'\u6BB5\u843D\u6807\u9898\u4E2D\u4E0D\u5E73\u8861\u7684"="'})),this.closest("html-attrs, table-attrs")&&(s||(s=f(this,{start:r},"")),n.push({...s,message:"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6BB5\u843D\u6807\u9898"})),n}}x.exports=a},2350:(x,k,e)=>{var a,g,i;"use strict";const{generateForSelf:f}=e(8277),$=e(6010),T=e(8138);class p extends T{constructor(t,s,o,l,h=$.getConfig(),d=[]){super(void 0,h,!0,d);v(this,"type","html");E(this,a,void 0);E(this,g,void 0);E(this,i,void 0);this.insertAt(s),this.setAttribute("name",t.toLowerCase()),B(this,a,o),B(this,g,l),B(this,i,t)}get closing(){return y(this,a)}toString(t){return`<${y(this,a)?"/":""}${y(this,i)}${super.toString()}${y(this,g)?"/":""}>`}text(){return`<${y(this,a)?"/":""}${y(this,i)}${y(this,a)?"":super.text()}${y(this,g)?"/":""}>`}getPadding(){return y(this,i).length+(y(this,a)?2:1)}print(){return super.print({pre:`&lt;${y(this,a)?"/":""}${y(this,i)}`,post:`${y(this,g)?"/":""}&gt;`,class:this.closest("table-attrs")&&"html wpb-error"})}lint(t=0){const s=super.lint(t);let o;this.name==="h1"&&!y(this,a)&&(o=f(this,{start:t},"<h1>"),s.push(o)),this.closest("table-attrs")&&(o||(o=f(this,{start:t},"")),s.push({...o,message:"\u8868\u683C\u5C5E\u6027\u4E2D\u7684HTML\u6807\u7B7E"}));try{this.findMatchingTag()}catch({message:l}){o||(o=f(this,{start:t},""));const[h]=l.split("\uFF1A"),d={...o,message:h,severity:h==="\u672A\u95ED\u5408\u7684\u6807\u7B7E"?"warning":"error"};s.push(d)}return s}findMatchingTag(){const{html:t}=this.getAttribute("config"),{name:s,parentNode:o}=this,l=String(this);if(y(this,a)&&(y(this,g)||t[2].includes(s)))throw new SyntaxError(`\u540C\u65F6\u95ED\u5408\u548C\u81EA\u5C01\u95ED\u7684\u6807\u7B7E\uFF1A${l}`);if(t[2].includes(s)||y(this,g)&&t[1].includes(s))return this;if(y(this,g)&&t[0].includes(s))throw new SyntaxError(`\u65E0\u6548\u81EA\u5C01\u95ED\u6807\u7B7E\uFF1A${l}`);if(!o)return;const{childNodes:h}=o,d=h.indexOf(this),c=y(this,a)?h.slice(0,d).reverse().filter(({type:S,name:m})=>S==="html"&&m===s):h.slice(d+1).filter(({type:S,name:m})=>S==="html"&&m===s);let u=y(this,a)?-1:1;for(const S of c)if(S.closing?u--:u++,u===0)return S;throw new SyntaxError(`\u672A${y(this,a)?"\u5339\u914D\u7684\u95ED\u5408":"\u95ED\u5408\u7684"}\u6807\u7B7E\uFF1A${l}`)}}a=new WeakMap,g=new WeakMap,i=new WeakMap,x.exports=p},1874:(x,k,e)=>{var g,ot,r;"use strict";const{print:f,extUrlChar:$}=e(231),T=e(6010),p=e(8138),t=class extends p{constructor(l,h=T.getConfig(),d=[]){var o=(...n)=>{super(...n);v(this,"type","image-parameter");E(this,r,"")};var S;const c=Object.entries(h.img).map(([m,A])=>[m,A,new RegExp(`^(\\s*)${m.replace("$1","(.*)")}(\\s*)$`,"u")]),u=c.find(([,,m])=>m.test(l));if(u){const m=u[2].exec(l);if(m.length!==4||X(S=t,g,ot).call(S,u[1],m[2],h,!0)){m.length===3?(o(void 0,h,!0,d),B(this,r,l)):(o(m[2],h,!0,d,{}),B(this,r,`${m[1]}${u[0]}${m[3]}`)),this.setAttribute("name",u[1]);return}}o(l,h,!0,d),this.setAttribute("name","caption").setAttribute("stage",7)}isPlain(){return this.name==="caption"}toString(l){return y(this,r)?y(this,r).replace("$1",super.toString(l)):super.toString(l)}text(){return y(this,r)?y(this,r).replace("$1",super.text()).trim():super.text().trim()}getPadding(){return Math.max(0,y(this,r).indexOf("$1"))}print(){return y(this,r)?`<span class="wpb-image-parameter">${y(this,r).replace("$1",`<span class="wpb-image-caption">${f(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}};let a=t;g=new WeakSet,ot=function(l,h,d=T.getConfig(),c=!1){switch(h=h.replace(/\0\d+t\x7F/gu,"").trim(),l){case"width":return/^\d*(?:x\d*)?$/u.test(h);case"link":return!h||new RegExp(`(?:${d.protocol}|//)${$}(?=\0\\d+t\x7F|$)`,"iu").test(h)?!0:(h.startsWith("[[")&&h.endsWith("]]")&&(h=h.slice(2,-2)),T.normalizeTitle(h,0,!1,d,c,!0).valid);case"lang":return d.variants.includes(h);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(h)}},r=new WeakMap,E(a,g),x.exports=a},2641:(x,k,e)=>{"use strict";const{generateForSelf:f,generateForChild:$}=e(8277),T=e(6010),p=e(8138),a=e(3423),g=e(1031),i=e(2571);class r extends p{constructor(s,o=T.getConfig(),l=[]){super(void 0,o,!0,l,{});v(this,"type","ext-inner");v(this,"name","imagemap");if(!s)return;const h=s.split(`
`),d=new Set(o.protocol.split("|")),c=a,u=A=>{super.insertAt(new c(A,o,l))};let S=!0,m=!1;for(const A of h){const w=A.trim();if(!(m||!w||w[0]==="#")){if(S){const[C,...b]=A.split("|"),F=this.normalizeTitle(C,0,!0);if(F.valid&&!F.interwiki&&F.ns===6){const P=new g(C,b.length>0?b.join("|"):void 0,F,o,l);P.type="imagemap-image",super.insertAt(P),S=!1;continue}else m=!0}else if(A.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(A);continue}else if(A.includes("[")){const C=A.indexOf("["),b=A.slice(C),F=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(b);if(F){const P=this.normalizeTitle(F[1],0,!0);if(P.valid){super.insertAt(new i(A.slice(0,C),[...F.slice(1),P],b.slice(b.indexOf("]]")+2),o,l));continue}}else if(d.has(b.slice(1,b.indexOf(":")+1))||d.has(b.slice(1,b.indexOf("//")+2))){const P=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(b);if(P){super.insertAt(new i(A.slice(0,C),P.slice(1),b.slice(b.indexOf("]")+1),o,l));continue}}}}u(A)}}get image(){return this.childNodes.find(({type:s})=>s==="imagemap-image")}toString(s){return super.toString(s,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}print(){return super.print({sep:`
`,class:!this.image&&"ext-inner wpb-error"})}lint(s=0){const o=super.lint(s),l={start:s,...this.getRootNode().posFromIndex(s)};return this.image?o.push(...this.childNodes.filter(h=>{const d=String(h).trim();return h.type==="noinclude"&&d&&d[0]!=="#"}).map(h=>$(h,l,"\u65E0\u6548\u7684<imagemap>\u94FE\u63A5"))):o.push(f(this,l,"\u7F3A\u5C11\u56FE\u7247\u7684<imagemap>")),o}}x.exports=r},2571:(x,k,e)=>{"use strict";const f=e(6986),$=e(8138),T=e(3423),p=e(3905),a=e(741);class g extends ${constructor(n,t,s,o,l){const h=t[2]instanceof f?p:a;super(void 0,o,!0,l);v(this,"type","imagemap-link");this.append(n,new h(...t,o,l),new T(s,o,l))}}x.exports=g},8138:(x,k,e)=>{var i,r,n,t,s,o,l,h,lt,c,ht,S,at,A,dt,C,pt,F,ut,R,ct,I,gt,O,ft,W,xt,H,mt;"use strict";const{text:f}=e(231),$=e(6010),T=e(9205),p=e(7507),{MAX_STAGE:a}=$,Z=class extends T{constructor(N,j=$.getConfig(),z=!1,Q=[],_=void 0){super();E(this,h);E(this,c);E(this,S);E(this,A);E(this,C);E(this,F);E(this,R);E(this,I);E(this,O);E(this,W);E(this,H);v(this,"type","root");E(this,i,0);E(this,r,void 0);E(this,n,void 0);E(this,t,void 0);E(this,s,(N=y(this,i),j=!1)=>{if(N<y(this,i)||!this.isPlain()||this.length===0)return this;switch(N){case 0:this.type==="root"&&y(this,n).shift(),B(this,t,Boolean(j)),X(this,h,lt).call(this,j);break;case 1:X(this,c,ht).call(this);break;case 2:X(this,S,at).call(this);break;case 3:X(this,A,dt).call(this);break;case 4:X(this,C,pt).call(this);break;case 5:X(this,F,ut).call(this);break;case 6:X(this,R,ct).call(this);break;case 7:X(this,I,gt).call(this);break;case 8:X(this,O,ft).call(this);break;case 9:X(this,W,xt).call(this);break;case 10:X(this,H,mt).call(this)}if(this.type==="root")for(const z of y(this,n))z.getAttribute("parseOnce")(N,j);return nt(this,i)._++,this});E(this,o,(N,j)=>{const z=N.split(/[\0\x7F]/u).map((Q,_)=>{if(_%2===0)return new p(Q);if(isNaN(Q[Q.length-1]))return y(this,n)[Number(Q.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${Q}`)});return j==="string"?z.map(String).join(""):j==="text"?f(z):z});E(this,l,()=>{B(this,i,a);const{length:N,firstChild:j}=this,z=String(j);if(N===1&&j.type==="text"&&z.includes("\0")&&(this.replaceChildren(...y(this,o).call(this,z)),this.normalize(),this.type==="root"))for(const Q of y(this,n))Q.getAttribute("build")()});typeof N=="string"&&this.insertAt(z?N:N.replace(/[\0\x7F]/gu,"")),B(this,r,j),B(this,n,Q),Q.push(this)}getAttribute(N){switch(N){case"config":return JSON.parse(JSON.stringify(y(this,r)));case"accum":return y(this,n);case"parseOnce":return y(this,s);case"buildFromStr":return y(this,o);case"build":return y(this,l);case"include":{if(y(this,t)!==void 0)return y(this,t);const j=this.getRootNode();return j.type==="root"&&j!==this?j.getAttribute("include"):!1}default:return super.getAttribute(N)}}setAttribute(N,j){switch(N){case"stage":return y(this,i)===0&&this.type==="root"&&y(this,n).shift(),B(this,i,j),this;default:return super.setAttribute(N,j)}}isPlain(){return this.constructor===Z}insertAt(N,j=this.length){return typeof N=="string"&&(N=new p(N)),super.insertAt(N,j),N.type==="root"&&(N.type="plain"),N}normalizeTitle(N,j=0,z=!1,Q=!1){return $.normalizeTitle(N,j,y(this,t),y(this,r),z,Q)}afterBuild(){if(this.type==="root")for(const N of y(this,n))N.afterBuild();return this}parse(N=a,j=!1){for(;y(this,i)<N;)y(this,s).call(this,y(this,i),j);return N&&(y(this,l).call(this),this.afterBuild()),this}};let g=Z;i=new WeakMap,r=new WeakMap,n=new WeakMap,t=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,h=new WeakSet,lt=function(N){const j=e(4907);this.setText(j(String(this.firstChild),y(this,r),y(this,n),N))},c=new WeakSet,ht=function(){const N=e(8275),j=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,z=N(j,y(this,r),y(this,n));this.setText(this.type==="root"?z:z.slice(1))},S=new WeakSet,at=function(){const N=e(5130);this.setText(N(String(this.firstChild),y(this,r),y(this,n)))},A=new WeakSet,dt=function(){const N=e(4624),j=e(2840);this.setText(N(this,y(this,r),y(this,n)));for(const z of y(this,n))if(z instanceof j&&z.type!=="td"){z.normalize();const{childNodes:[,Q]}=z;if(typeof Q=="string"&&Q.includes("\0")){z.removeAt(1);const _=new Z(Q,y(this,r),!0,y(this,n));z.insertAt(_,1),_.setAttribute("stage",4)}}},C=new WeakSet,pt=function(){const N=e(2937);this.setText(N(this,y(this,r),y(this,n)))},F=new WeakSet,ut=function(){const N=e(1452);this.setText(N(String(this.firstChild),y(this,r),y(this,n)))},R=new WeakSet,ct=function(){const N=e(3360),j=String(this.firstChild).split(`
`);for(let z=0;z<j.length;z++)j[z]=N(j[z],y(this,r),y(this,n));this.setText(j.join(`
`))},I=new WeakSet,gt=function(){const N=e(7513);this.setText(N(String(this.firstChild),y(this,r),y(this,n)))},O=new WeakSet,ft=function(){const N=e(4737);this.setText(N(String(this.firstChild),y(this,r),y(this,n)))},W=new WeakSet,xt=function(){if(this.type==="image-parameter")return;const N=e(6622),j=String(this.firstChild).split(`
`);let z=this.type==="root"||this.type==="ext-inner"&&this.type==="poem"?0:1;for(;z<j.length;z++)j[z]=N(j[z],y(this,r),y(this,n));this.setText(j.join(`
`))},H=new WeakSet,mt=function(){const N=e(3765);this.setText(N(String(this.firstChild),y(this,r),y(this,n)))},x.exports=g},337:(x,k,e)=>{"use strict";const f=e(3905);class $ extends f{constructor(){super(...arguments);v(this,"type","category")}}x.exports=$},7625:(x,k,e)=>{var t,tt;"use strict";const{explode:f}=e(231),{generateForChild:$}=e(8277),T=e(6010),p=e(3905),a=e(1874),g=new Set(["manualthumb","frameless","framed","thumbnail"]),i=new Set(["left","right","center","none"]),r=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]);class n extends p{constructor(h,d,c,u=T.getConfig(),S=[],m="|"){super(h,void 0,c,u,S,m);E(this,t);v(this,"type","file");this.append(...f("-{","}-","|",d).map(A=>new a(A,u,S)))}lint(h=0){const d=super.lint(h),c=this.getAllArgs(),u=[...new Set(c.map(({name:C})=>C))],S=u.filter(C=>g.has(C)),m=u.filter(C=>i.has(C)),A=u.filter(C=>r.has(C));if(c.length===u.length&&S.length<2&&m.length<2&&A.length<2)return d;const w={start:h,...this.getRootNode().posFromIndex(h)};for(const C of u){let b=c.filter(({name:F})=>F===C);C==="caption"&&(b=[...b.slice(0,-1).filter(F=>F.text()),b[b.length-1]]),b.length>1&&d.push(...b.map(F=>$(F,w,`\u91CD\u590D\u7684\u56FE\u7247${C}\u53C2\u6570`)))}return S.size>1&&d.push(...c.filter(({name:C})=>g.has(C)).map(C=>$(C,w,"\u51B2\u7A81\u7684\u56FE\u7247\u6846\u67B6\u53C2\u6570"))),m.size>1&&d.push(...c.filter(({name:C})=>i.has(C)).map(C=>$(C,w,"\u51B2\u7A81\u7684\u56FE\u7247\u6C34\u5E73\u5BF9\u9F50\u53C2\u6570"))),A.size>1&&d.push(...c.filter(({name:C})=>r.has(C)).map(C=>$(C,w,"\u51B2\u7A81\u7684\u56FE\u7247\u5782\u76F4\u5BF9\u9F50\u53C2\u6570"))),d}getAllArgs(){return this.childNodes.slice(1)}getArgs(h){return this.getAllArgs().filter(({name:d})=>h===d)}getFrameArgs(){return X(this,t,tt).call(this,g,"\u6846\u67B6")}getHorizAlignArgs(){return X(this,t,tt).call(this,i,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return X(this,t,tt).call(this,r,"\u5782\u76F4\u5BF9\u9F50")}}t=new WeakSet,tt=function(h,d){return this.getAllArgs().filter(({name:u})=>h.has(u))},x.exports=n},1031:(x,k,e)=>{var g;"use strict";const{generateForSelf:f}=e(8277),$=e(6010),T=e(8138),p=e(7625);class a extends p{constructor(n,t,s,o=$.getConfig(),l=[]){let h;if(t!==void 0){h=new T(t,o,!0,l),h.type="temp";for(let d=1;d<$.MAX_STAGE;d++)h.getAttribute("parseOnce")();l.splice(l.indexOf(h),1)}super(n,h==null?void 0:h.toString(),s,o,l);v(this,"type","gallery-image");E(this,g,!1);this.setAttribute("bracket",!1)}afterBuild(){const n=this.type==="imagemap-image",{interwiki:t,ns:s}=this.normalizeTitle(String(this.firstChild),n?0:6,!0,!n);return B(this,g,t||s!==6),this}getPadding(){return 0}lint(n=0){const t=super.lint(n);return y(this,g)&&t.push(f(this,{start:n},"\u65E0\u6548\u7684\u56FE\u5E93\u56FE\u7247")),t}print(){return super.print({class:y(this,g)&&"gallery-image wpb-error"})}}g=new WeakMap,x.exports=a},3905:(x,k,e)=>{var i,r;"use strict";const{generateForChild:f}=e(8277),$=e(6010),T=e(7507),p=e(8138),a=e(9237);class g extends p{constructor(s,o,l,h=$.getConfig(),d=[],c="|"){super(void 0,h,!0,d,{});v(this,"type","link");E(this,i,!0);E(this,r,void 0);if(this.insertAt(new a(s,"link-target",h,d,{})),o!==void 0){const u=new p(o,h,!0,d,{});u.type="link-text",this.insertAt(u.setAttribute("stage",$.MAX_STAGE-1))}B(this,r,c)}afterBuild(){var s;return(s=y(this,r))!=null&&s.includes("\0")&&B(this,r,this.getAttribute("buildFromStr")(y(this,r),"string")),this}setAttribute(s,o){return s==="bracket"?(B(this,i,Boolean(o)),this):super.setAttribute(s,o)}toString(s){const o=super.toString(s,y(this,r));return y(this,i)?`[[${o}]]`:o}text(){const s=super.text("|");return y(this,i)?`[[${s}]]`:s}getPadding(){return 2}getGaps(){return y(this,r).length}print(){return super.print(y(this,i)?{pre:"[[",post:"]]",sep:y(this,r)}:{sep:y(this,r)})}lint(s=0){var h;const o=super.lint(s),{childNodes:[,l]}=this;return(h=l==null?void 0:l.childNodes)!=null&&h.some(({type:d,data:c})=>d==="text"&&c.includes("|"))&&o.push(f(l,{token:this,start:s},'\u94FE\u63A5\u6587\u672C\u4E2D\u591A\u4F59\u7684"|"',"warning")),o}}i=new WeakMap,r=new WeakMap,x.exports=g},8962:(x,k,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(6010),T=e(8138);class p extends T{constructor(i,r,n=$.getConfig(),t=[]){super(i,n,!0,t,{});v(this,"type","free-ext-link");r&&(this.type="ext-link-url")}lint(i=0){const r=super.lint(i),n=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`;let t;for(const s of this.childNodes){const o=String(s);if(s.type!=="text"||!new RegExp(n,"u").test(o))continue;t||(t={start:i,...this.getRootNode().posFromIndex(i)});const l=f(s,t,"","warning"),h=new RegExp(n,"gu");for(let d=h.exec(o);d;d=h.exec(o)){const{index:c,0:{0:u,length:S}}=d,m=o.slice(0,c).split(`
`),{length:A}=m,{length:w}=m[A-1],C=i+c,b=l.startLine+A-1,F=(A>1?0:l.startCol)+w;r.push({...l,message:`URL\u4E2D\u7684${u==="|"?'"|"':"\u5168\u89D2\u6807\u70B9"}`,startIndex:C,endIndex:C+S,startLine:b,endLine:b,startCol:F,endCol:F+S})}}return r}}x.exports=p},9389:(x,k,e)=>{"use strict";const f=e(6010),$=e(8889);class T extends ${constructor(g,i=f.getConfig(),r=[]){super(g,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],i,r);v(this,"name","choose")}}x.exports=T},9269:(x,k,e)=>{"use strict";const f=e(6010),$=e(8889);class T extends ${constructor(g,i=f.getConfig(),r=[]){super(g,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],i,r);v(this,"name","combobox")}}x.exports=T},8889:(x,k,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(6010),T=e(8138),p=e(7267),a=e(3423),g=e(5749);class i extends T{constructor(t,s,o,l=$.getConfig(),h=[]){var c;const d=(c=t==null?void 0:t.replace(s,(u,S,m,A,w)=>{const C=`\0${h.length+1}${S?"e":"c"}\x7F`;if(S)new p(S,m,A,w,l,h);else{const b=u.endsWith("-->");new g(u.slice(4,b?-3:void 0),b,l,h)}return C}))==null?void 0:c.replace(/(^|\0\d+[ce]\x7F)(.*?)(?=$|\0\d+[ce]\x7F)/gsu,(u,S,m)=>m===""?S:(new a(m,l,h),`${S}\0${h.length}c\x7F`));super(d,l,!0,h,{});v(this,"type","ext-inner")}lint(t=0){let s;return[...super.lint(t),...this.childNodes.filter(o=>{if(o.type==="ext"||o.type==="comment")return!1;const l=String(o).trim();return l&&!/^<!--.*-->$/u.test(l)}).map(o=>(s||(s={start:t,...this.getRootNode().posFromIndex(t)}),f(o,s,`<${this.name}>\u5185\u7684\u65E0\u6548\u5185\u5BB9`)))]}}x.exports=i},5937:(x,k,e)=>{"use strict";const f=e(6010),$=e(8889);class T extends ${constructor(g,i=f.getConfig(),r=[]){super(g,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],i,r);v(this,"name","references")}}x.exports=T},7033:(x,k,e)=>{var f={"./":8889,"./choose":9389,"./choose.js":9389,"./combobox":9269,"./combobox.js":9269,"./index":8889,"./index.js":8889,"./references":5937,"./references.js":5937};function $(p){var a=T(p);return e(a)}function T(p){if(!e.o(f,p)){var a=new Error("Cannot find module '"+p+"'");throw a.code="MODULE_NOT_FOUND",a}return f[p]}$.keys=function(){return Object.keys(f)},$.resolve=T,x.exports=$,$.id=7033},5749:(x,k,e)=>{"use strict";const f=e(2308),{generateForSelf:$}=e(8277),T=e(6010),p=e(6935);class a extends f(p){constructor(r,n=!0,t=T.getConfig(),s=[]){super(r,t,s);v(this,"type","comment");v(this,"closed");this.closed=n}getPadding(){return 4}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":"",class:!this.closed&&"comment wpb-error"})}lint(r=0){return this.closed?[]:[$(this,{start:r},"\u672A\u95ED\u5408\u7684HTML\u6CE8\u91CA")]}toString(r){return`<!--${String(this.firstChild)}${this.closed?"-->":""}`}}x.exports=a},3434:(x,k,e)=>{"use strict";const f=e(6935);class $ extends f{constructor(){super(...arguments);v(this,"type","dd")}}x.exports=$},7815:(x,k,e)=>{"use strict";const f=e(2308),$=e(6935);class T extends f($){constructor(){super(...arguments);v(this,"type","double-underscore")}getPadding(){return 2}print(){return super.print({pre:"__",post:"__"})}toString(g){return`__${String(this.firstChild)}__`}}x.exports=T},2582:(x,k,e)=>{"use strict";const f=e(6010),$=e(6935);class T extends ${constructor(g,i=f.getConfig(),r=[]){super("-".repeat(g),i,r);v(this,"type","hr")}}x.exports=T},6935:(x,k,e)=>{"use strict";const{generateForSelf:f}=e(8277),$=e(6010),T=e(8138);class p extends T{constructor(i,r=$.getConfig(),n=[]){super(i,r,!0,n);v(this,"type","ext-inner")}lint(i=0){const{type:r,name:n}=this;return r==="ext-inner"&&(n==="templatestyles"||n==="section")&&String(this)?[f(this,{start:i},`<${n}>\u6807\u7B7E\u5185\u4E0D\u5E94\u6709\u4EFB\u4F55\u5185\u5BB9`)]:super.lint(i)}}x.exports=p},962:(x,k,e)=>{"use strict";const f=e(3434);class $ extends f{constructor(){super(...arguments);v(this,"type","list")}}x.exports=$},3423:(x,k,e)=>{"use strict";const f=e(2308),$=e(6935);class T extends f($){constructor(){super(...arguments);v(this,"type","noinclude")}}x.exports=T},6714:(x,k,e)=>{"use strict";const{generateForSelf:f}=e(8277),$=e(6010),T=e(7507),p=e(6935);class a extends p{constructor(r,n=$.getConfig(),t=[]){super("'".repeat(r),n,t);v(this,"type","quote")}lint(r=0){const{previousSibling:n,nextSibling:t}=this,s=`\u5B64\u7ACB\u7684"'"`,o=[];let l;if((n==null?void 0:n.type)==="text"&&n.data.endsWith("'")){l=f(this,{start:r},s);const{startIndex:h,startLine:d,startCol:c}=l,[,{length:u}]=n.data.match(/(?:^|[^'])('+)$/u),S=r-u;o.push({...l,startIndex:S,endIndex:h,startCol:c-u,endLine:d,endCol:c})}if((t==null?void 0:t.type)==="text"&&t.data[0]==="'"){l||(l=f(this,{start:r},s));const{endIndex:h,endLine:d,endCol:c}=l,[{length:u}]=t.data.match(/^'+/u),S=h+u;o.push({...l,startIndex:h,endIndex:S,startLine:d,startCol:c,endCol:c+u})}return o}}x.exports=a},851:(x,k,e)=>{"use strict";const f=e(6010),$=e(8138);class T extends ${constructor(g,i=f.getConfig(),r=[]){super(g,i,!0,r);v(this,"type","onlyinclude")}toString(g){return`<onlyinclude>${super.toString()}</onlyinclude>`}getPadding(){return 13}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}isPlain(){return!0}}x.exports=T},9380:(x,k,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(6010),T=e(8138),p=e(9237);class a extends T{constructor(r,n=$.getConfig(),t=[]){super(void 0,n,!0,t,{});v(this,"type","ext-inner");if(r){const s=p;this.append(...r.split(`
`).map(o=>new s(o,"param-line",n,t,{})))}}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`)}getGaps(){return 1}print(){return super.print({sep:`
`})}lint(r=0){let n;return this.childNodes.filter(t=>{const{childNodes:s}=t,o=s.findIndex(({type:h})=>h!=="text"),l=(o>=0?s.slice(0,o).map(String).join(""):String(t)).trim();return l&&!(o>=0?/^[a-z]+\s*(?:=|$)/iu:/^[a-z]+\s*=/iu).test(l)}).map(t=>(n||(n={start:r,...this.getRootNode().posFromIndex(r)}),f(t,n,`${this.name}\u7684\u65E0\u6548\u53C2\u6570`)))}}x.exports=a},9799:(x,k,e)=>{"use strict";const{extUrlChar:f}=e(231),{generateForChild:$}=e(8277),T=e(6010),p=e(8138);class a extends p{constructor(r,n,t=T.getConfig(),s=[]){super(void 0,t,!0,s);v(this,"type","parameter");const o=new p(typeof r=="number"?void 0:r,t,!0,s,{}),l=new p(n,t,!0,s);o.type="parameter-key",l.type="parameter-value",this.append(o,l.setAttribute("stage",2))}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const r=e(1782),n=String(this.firstChild).replace(/<!--.*?-->/gu,"").replace(/^[ \t\n\0\v]+|[^ \t\n\0\v][ \t\n\0\v]+$/gu,""),{parentNode:t}=this;this.setAttribute("name",n),t instanceof r&&t.getArgs(n,!1,!1).add(this)}return this}toString(r){return this.anon?this.lastChild.toString(r):super.toString(r,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}print(){return super.print({sep:this.anon?"":"="})}lint(r=0){var o;const n=super.lint(r),{firstChild:t}=this,s=(o=new RegExp(`https?://${f}$`,"iu").exec(String(t).replace(/<!--.*?-->/gu,"")))==null?void 0:o[0];if(s&&new URL(s).search){const l=$(t,{token:this,start:r},"\u533F\u540D\u53C2\u6570\u4E2D\u672A\u8F6C\u4E49\u7684\u67E5\u8BE2\u53C2\u6570");n.push({...l,startIndex:l.endIndex,endIndex:l.endIndex+1,startLine:l.endLine,startCol:l.endCol,endCol:l.endCol+1})}return n}}x.exports=a},8058:(x,k,e)=>{"use strict";const f=e(6010),$=e(8138);class T extends ${constructor(a,g,i="plain",r=f.getConfig(),n=[],t=void 0){super(a,r,!0,n,t),this.type=i}}x.exports=T},2840:(x,k,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(3125),T=e(8058);class p extends ${constructor(){super(...arguments);v(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(i=0){const r=super.lint(i);if(!this.closed){const{firstChild:n}=this,t=f(n,{token:this,start:i},"\u672A\u95ED\u5408\u7684\u8868\u683C");r.push(t)}return r}close(i=`
|}`,r=!1){const n=this.getAttribute("config"),t=this.getAttribute("accum");super.insertAt(new T(i,void 0,"table-syntax",n,t))}}x.exports=p},5567:(x,k,e)=>{var g;"use strict";const{generateForChild:f}=e(8277),$=e(6010),T=e(8138),p=e(3125);class a extends p{constructor(n,t,s=$.getConfig(),o=[]){let l=t==null?void 0:t.match(/\||\0\d+!\x7F/u),h=l?t.slice(0,l.index):"";/\[\[|-\{/u.test(h)&&(l=void 0,h="");super(n,h,s,o);v(this,"type","td");E(this,g,"");l&&([nt(this,g)._]=l);const d=new T(t==null?void 0:t.slice((l==null?void 0:l.index)+y(this,g).length),s,!0,o);d.type="td-inner",this.insertAt(d.setAttribute("stage",4))}get subtype(){return this.getSyntax().subtype}getSyntax(){const n=this.firstChild.text(),t=n[n.length-1];let s="td";return t==="!"?s="th":t==="+"&&(s="caption"),{subtype:s}}afterBuild(){return y(this,g).includes("\0")&&B(this,g,this.getAttribute("buildFromStr")(y(this,g),"string")),this}toString(n){const{childNodes:[t,s,o]}=this;return`${t.toString()}${s.toString()}${y(this,g)}${o.toString()}`}text(){const{childNodes:[n,t,s]}=this;return`${n.text()}${t.text()}${y(this,g)}${s.text()}`}getGaps(n=0){return n=n<0?n+this.length:n,n===1?y(this,g).length:0}lint(n=0){const t=super.lint(n),{lastChild:s}=this,o=this.getRelativeIndex(-1);for(const l of s.childNodes)l.type==="text"&&l.data.includes("|")&&t.push(f(l,{token:s,start:n+o},'\u8868\u683C\u5355\u5143\u683C\u4E2D\u591A\u4F59\u7684"|"'));return t}print(){const{childNodes:[n,t,s]}=this;return`<span class="wpb-td">${n.print()}${t.print()}${y(this,g)}${s.print()}</span>`}}g=new WeakMap,x.exports=a},3125:(x,k,e)=>{"use strict";const{generateForChild:f}=e(8277),$=e(6010),T=e(8138),p=e(8058),a=e(5649);class g extends T{constructor(n,t="",s=$.getConfig(),o=[],l=void 0){super(void 0,s,!0,o,{});v(this,"type","tr");this.append(new p(n,l,"table-syntax",s,o,{}),new a(t,"table-attrs",this.type,s,o))}lint(n=0){const t=e(1782),s=super.lint(n),o=this.childNodes.find(({type:d})=>d==="table-inter");if(!o)return s;const l=o.childNodes.find(d=>d.text().trim());if(l){if((l==null?void 0:l.type)==="magic-word")try{if(l.getPossibleValues().every(c=>/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u.test(c.text())))return s}catch(d){}}else return s;const h=f(o,{token:this,start:n},"\u5C06\u88AB\u79FB\u51FA\u8868\u683C\u7684\u5185\u5BB9");return s.push({...h,startIndex:h.startIndex+1,startLine:h.startLine+1,startCol:0}),s}text(){const n=super.text();return this.type==="tr"&&!n.trim().includes(`
`)?"":n}}x.exports=g},7267:(x,k,e)=>{"use strict";const{generateForSelf:f}=e(8277),$=e(6010),T=e(8138),p=e(1074),a=e(5649);class g extends p{constructor(n,t="",s="",o=void 0,l=$.getConfig(),h=[]){t=!t||/^\s/u.test(t)?t:` ${t}`;const d=n.toLowerCase(),c=new a(t,"ext-attrs",d,l,h),u=JSON.parse(JSON.stringify(l)),S=new Set(u.ext);let m;switch(S.delete(d),u.ext=[...S],d){case"tab":S.delete("tabs"),u.ext=[...S];case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":case"inputbox":m=new T(s,u,!0,h);break;case"gallery":{const A=e(1891);m=new A(s,u,h);break}case"pre":{const A=e(428);m=new A(s,u,h);break}case"charinsert":{const A=e(8103);m=new A(s,u,h);break}case"references":case"choose":case"combobox":{const A=e(8889),w=e(7033)(`./${d}`);m=new w(s,u,h);break}case"imagemap":{const A=e(2641);m=new A(s,l,h);break}case"dynamicpagelist":{const A=e(9380);m=new A(s,u,h);break}default:{const A=e(6935);m=new A(s,l)}}m.setAttribute("name",d).type="ext-inner";super(n,c,m,o,l,h);v(this,"type","ext");v(this,"closed",!0)}lint(n=0){const t=super.lint(n);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const s=this.getRootNode(),o={start:n,...s.posFromIndex(n)};t.push(f(this,o,"HTML\u6807\u7B7E\u5C5E\u6027\u4E2D\u7684\u6269\u5C55\u6807\u7B7E"))}return t}print(){return super.print({class:this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")&&"ext wpb-error"})}}x.exports=g},8655:(x,k,e)=>{"use strict";const f=e(2308),{generateForSelf:$}=e(8277),T=e(6010),p=e(1074);class a extends f(p){constructor(r,n="",t=void 0,s=void 0,o=T.getConfig(),l=[]){super(r,n,t!=null?t:"",t===void 0||s!=null?s:"",o,l);v(this,"type","include")}lint(r=0){return this.closed?[]:[$(this,{start:r},"\u672A\u95ED\u5408\u7684\u6807\u7B7E")]}print(){return super.print({class:!this.closed&&`${this.type} wpb-error`})}}x.exports=a},1074:(x,k,e)=>{var p,a,g;"use strict";const f=e(6010),$=e(8138);class T extends ${constructor(n,t,s,o,l=f.getConfig(),h=[]){super(void 0,l,!0);E(this,p,void 0);E(this,a,void 0);E(this,g,void 0);B(this,g,[n,o||n]),B(this,p,o===void 0),B(this,a,o!==""),this.append(t,s);let d=h.indexOf(t);d===-1&&(d=h.indexOf(s)),d===-1&&(d=1/0),h.splice(d,0,this)}get closed(){return y(this,a)}toString(n){const{firstChild:t,lastChild:s}=this,[o,l]=y(this,g);return y(this,p)?`<${o}${String(t)}/>`:`<${o}${String(t)}>${String(s)}${y(this,a)?`</${l}>`:""}`}text(){const[n,t]=y(this,g);return y(this,p)?`<${n}${this.firstChild.text()}/>`:`<${n}${super.text(">")}${y(this,a)?`</${t}>`:""}`}getPadding(){return y(this,g)[0].length+1}getGaps(){return 1}print(){const[n,t]=y(this,g);return super.print(y(this,p)?{pre:`&lt;${n}`,post:"/&gt;"}:{pre:`&lt;${n}`,sep:"&gt;",post:y(this,a)?`&lt;/${t}&gt;`:""})}}p=new WeakMap,a=new WeakMap,g=new WeakMap,x.exports=T},1782:(x,k,e)=>{var s,o,$t;"use strict";const{removeComment:f,print:$,text:T}=e(231),{generateForChild:p}=e(8277),a=e(6010),g=e(8138),i=e(9799),r=e(9237),n=e(8058);class t extends g{constructor(c,u,S=a.getConfig(),m=[]){super(void 0,S,!0,m,{});E(this,o);v(this,"type","template");v(this,"modifier","");E(this,s,{});const{parserFunction:[A,w,C]}=S;if(c.includes(":")){const[P,...R]=c.split(":");this.setModifier(P)&&(c=R.join(":"))}if(c.includes(":")||u.length===0&&!C.includes(this.modifier.toLowerCase())){const[P,...R]=c.split(":"),L=f(P),I=L.trim(),G=w.includes(I),O=A[I.toLowerCase()];if(!(R.length>0&&/\s$/u.test(L))&&(G||O)){this.setAttribute("name",O||I.toLowerCase()).type="magic-word";const J=new RegExp(`^\\s*${I}\\s*$`,G?"u":"iu"),W=new n(P,J,"magic-word-name",S,m,{});if(this.insertAt(W),R.length>0&&u.unshift([R.join(":")]),this.name==="invoke")for(let V=0;V<2;V++){const H=u.shift();if(!H)break;const K=new r(H.join("="),`invoke-${V?"function":"module"}`,S,m,{});this.insertAt(K)}}}if(this.type==="template"){const P=f(c).split("#")[0].trim();if(/\0\d+[eh!+-]\x7F|[<>[\]{}\n]/u.test(P))throw m.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${P}`);const R=new r(c,"template-name",S,m,{});this.insertAt(R)}const b=this.isTemplate();let F=1;for(const P of u)b||(P[0]=P.join("="),P.length=1),P.length===1&&(P.unshift(F),F++),this.insertAt(new i(...P,S,m))}setModifier(c=""){if(/\s$/u.test(c))return!1;const{parserFunction:[,,u,S]}=this.getAttribute("config"),m=c.trim().toLowerCase(),A=u.includes(m),w=S.includes(m);return A||w||c===""?(this.setAttribute("modifier",c),Boolean(c)):!1}toString(c){const{childNodes:u,firstChild:S,modifier:m}=this;return`{{${m}${m&&":"}${this.type==="magic-word"?`${String(S)}${u.length>1?":":""}${u.slice(1).map(String).join("|")}`:super.toString(c,"|")}}}`}text(){const{childNodes:c,firstChild:u,modifier:S}=this;return`{{${S}${S&&":"}${this.type==="magic-word"?`${u.text()}${c.length>1?":":""}${T(c.slice(1),"|")}`:super.text("|")}}}`}getPadding(){return this.modifier?this.modifier.length+3:2}getGaps(){return 1}print(){const{childNodes:c,firstChild:u,modifier:S}=this;return`<span class="wpb-${this.type}">{{${S}${S&&":"}${this.type==="magic-word"?`${u.print()}${c.length>1?":":""}${$(c.slice(1),{sep:"|"})}`:$(c,{sep:"|"})}}}</span>`}lint(c=0){const u=super.lint(c);if(!this.isTemplate())return u;const S=this.getDuplicatedArgs();if(S.length>0){const m={start:c,...this.getRootNode().posFromIndex(c)};u.push(...S.flatMap(([,A])=>A).map(A=>p(A,m,"\u91CD\u590D\u53C2\u6570")))}return u}isTemplate(){return this.type==="template"||this.type==="magic-word"&&this.name==="invoke"}insertAt(c,u=this.length){return super.insertAt(c,u),c.anon?X(this,o,$t).call(this,c):c.name&&this.getArgs(c.name,!1,!1).add(c),c}getAllArgs(){return this.childNodes.filter(c=>c instanceof i)}getAnonArgs(){return this.getAllArgs().filter(({anon:c})=>c)}getArgs(c,u,S=!0){const m=String(c).trim();let A;return Object.prototype.hasOwnProperty.call(y(this,s),m)?A=y(this,s)[m]:(A=new Set(this.getAllArgs().filter(({name:w})=>m===w)),y(this,s)[m]=A),A}getDuplicatedArgs(){return this.isTemplate()?Object.entries(y(this,s)).filter(([,{size:c}])=>c>1).map(([c,u])=>[c,[...u]]):[]}getPossibleValues(){const{type:c,name:u,childNodes:S,constructor:{name:m}}=this;if(c==="template")throw new Error(`${m}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let A;switch(u){case"if":case"ifexist":case"ifexpr":case"iferror":A=2;break;case"ifeq":A=3;break;default:throw new Error(`${m}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const w=S.slice(A,A+2).map(({childNodes:[,C]})=>C);for(let C=0;C<w.length;){const{length:b,0:F}=w[C].childNodes.filter(P=>P.text().trim());if(b===0)w.splice(C,1);else if(b>1||F.type!=="magic-word")C++;else try{const P=F.getPossibleValues();w.splice(C,1,...P),C+=P.length}catch(P){C++}}return w}}s=new WeakMap,o=new WeakSet,$t=function(c){const u=this.getAnonArgs(),S=u.indexOf(c);for(let m=S;m<u.length;m++){const A=u[m],{name:w}=A,C=String(m+1);w!==C&&this.getArgs(C,!1,!1).add(A.setAttribute("name",C))}},x.exports=t},8277:(x,k,e)=>{"use strict";const f=e(8138),$=(p,a,g,i="error")=>{const r=p.getRelativeIndex(),{offsetHeight:n,offsetWidth:t,parentNode:s,length:o}=p,{top:l,left:h}=s.posFromIndex(r),{token:d,start:c}=a,{top:u,left:S}=d?d.getRootNode().posFromIndex(c):a,m=c+r,A=m+o,w=u+l,C=w+n-1,b=l?h:S+h,F=n>1?t:b+t;return{message:g,severity:i,startIndex:m,endIndex:A,startLine:w,endLine:C,startCol:b,endCol:F}},T=(p,a,g,i="error")=>{const{start:r}=a,{offsetHeight:n,offsetWidth:t,length:s}=p,{top:o,left:l}="top"in a?a:p.getRootNode().posFromIndex(r);return{message:g,severity:i,startIndex:r,endIndex:r+s,startLine:o,endLine:o+n-1,startCol:l,endCol:n>1?t:l+t}};x.exports={generateForChild:$,generateForSelf:T}},231:(x,k,e)=>{"use strict";const f='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',$=i=>i.replace(/\0\d+c\x7F/gu,""),T=(i,r={})=>{const n=e(7507),t=e(9205),{pre:s="",post:o="",sep:l=""}=r,h={"&":"amp","<":"lt",">":"gt"};return`${s}${i.map(d=>d instanceof t?d.print():String(d).replace(/[&<>]/gu,c=>`&${h[c]};`)).join(l)}${o}`},p=i=>i.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),a=(i,r,n,t)=>{if(t===void 0)return[];const s=new RegExp(`${[i,r,n].map(p).join("|")}`,"gu"),o=[];let l=s.exec(t),h=0,d=0;for(;l;){const{0:c,index:u}=l;c!==n?h+=c===i?1:-1:h===0&&(o.push(t.slice(d,u)),{lastIndex:d}=s),l=s.exec(t)}return o.push(t.slice(d)),o},g=(i,r="")=>{const n=e(3853);return i.map(t=>typeof t=="string"?t:t.text()).join(r)};x.exports={extUrlChar:f,removeComment:$,print:T,escapeRegExp:p,explode:a,text:g}},8166:x=>{"use strict";x.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{},"nsid":{},"parserFunction":[{},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":["zh","zh-hans","zh-hant","zh-cn","zh-tw","zh-hk","zh-sg","zh-my","zh-mo"]}')}},M={};function U(x){var k=M[x];if(k!==void 0)return k.exports;var e=M[x]={exports:{}};return D[x](e,e.exports,U),e.exports}U.o=(x,k)=>Object.prototype.hasOwnProperty.call(x,k);var q=U(6010)})();})();
