(()=>{(()=>{"use strict";var Vt={891:(Q,y,t)=>{t.d(y,{Z:()=>T});var C=t(223),b=t(444);const U=f=>f.replace(/[\0\x7F]/gu,""),F={i18n:void 0,getConfig(){return{...b.L,...this.config,excludes:[]}},msg(f,v=""){var d,o;return((o=(d=this.i18n)==null?void 0:d[f])!=null?o:f).replace("$1",v)},normalizeTitle(f,v=0,d=!1,o=F.getConfig(),h=!1,c=!1,p=!1){const{Title:r}=t(599);if(h)return new r(f,v,o,c,p);const{Token:i}=t(541),s=C.j.run(()=>new i(f,o).parseOnce(0,d).parseOnce());return new r(String(s),v,o,c,p)},parse(f,v,d=b.C,o=F.getConfig()){const{Token:h}=t(541);return C.j.run(()=>new h(U(f),o).parse(d,v))}},M={},O=new Set(["normalizeTitle","parse"]);for(const f in F)O.has(f)||(M[f]={enumerable:!1});Object.defineProperties(F,M),typeof self=="object"?Object.assign(self,{Parser:F}):typeof globalThis=="object"&&Object.assign(globalThis,{Parser:F});const T=F},599:(Q,y,t)=>{t.r(y),t.d(y,{Title:()=>O});var C=t(467),b=t(891),U=Object.defineProperty,F=(T,f,v)=>f in T?U(T,f,{enumerable:!0,configurable:!0,writable:!0,value:v}):T[f]=v,M=(T,f,v)=>(F(T,typeof f!="symbol"?f+"":f,v),v);class O{constructor(f,v=0,d=b.Z.getConfig(),o=!1,h=!1){M(this,"valid"),M(this,"ns"),M(this,"fragment"),M(this,"encoded",!1);const{nsid:c}=d;if(f=(0,C.m9)(f),o&&f.includes("%"))try{const s=/%(?!21|3[ce]|5[bd]|7[b-d])[\da-f]{2}/iu.test(f);f=decodeURIComponent(f),this.encoded=s}catch(s){}f=f.replace(/_/gu," ").trim();let p=v;f.startsWith(":")&&(p=0,f=f.slice(1).trim());const r=f.split(":");if(r.length>1){const s=c[r[0].trim().toLowerCase()];s!==void 0&&(p=s,f=r.slice(1).join(":").trim())}this.ns=p;const i=f.indexOf("#");if(i!==-1){let s=f.slice(i+1).trim();this.fragment=s,f=f.slice(0,i).trim()}this.valid=!!(f||h&&this.fragment!==void 0)&&!/\0\d+[eh!+-]\x7F|[<>[\]{}|]|%[\da-f]{2}/iu.test(f)}}},959:(Q,y,t)=>{t.d(y,{a:()=>F});var C=Object.defineProperty,b=(M,O,T)=>O in M?C(M,O,{enumerable:!0,configurable:!0,writable:!0,value:T}):M[O]=T,U=(M,O,T)=>(b(M,typeof O!="symbol"?O+"":O,T),T);const F=M=>{class O extends M{text(){return""}}return U(O,"hidden",!0),O}},313:(Q,y,t)=>{t.r(y),t.d(y,{parseBraces:()=>w});var C=t(467),b=t(891),U=t(485),F=t(169),M=t(541),O=Object.defineProperty,T=(n,e,u)=>e in n?O(n,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[e]=u,f=(n,e,u)=>(T(n,typeof e!="symbol"?e+"":e,u),u);const v=n=>n.toString(new Set(["comment","noinclude","include"])).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");class d extends M.Token{constructor(e,u,$=b.Z.getConfig(),D=[]){super(void 0,$,D),f(this,"type","parameter");const L=new M.Token(typeof e=="number"?void 0:e,$,D,{}),S=new M.Token(u,$,D);L.type="parameter-key",S.type="parameter-value",S.setAttribute("stage",2),this.append(L,S)}get anon(){return this.firstChild.length===0}afterBuild(){if(!this.anon){const{parentNode:e,firstChild:u}=this,$=v(u);this.setAttribute("name",$),e&&e.getArgs($,!1,!1).add(this)}}toString(e){return this.anon?this.lastChild.toString(e):super.toString(e,"=")}text(){return this.anon?this.lastChild.text():super.text("=")}getGaps(){return this.anon?0:1}lint(e=this.getAbsoluteIndex()){var u;const $=super.lint(e),{firstChild:D}=this,L=(u=new RegExp(`https?://${C._X}${C.Qk}$`,"iu").exec(D.toString(new Set(["comment","noinclude","include"]))))==null?void 0:u[0];if(L&&new URL(L).search){const S=(0,F.D)(D,{start:e},"unescaped query string in an anonymous parameter");$.push({...S,startIndex:S.endIndex,endIndex:S.endIndex+1,startLine:S.endLine,startCol:S.endCol,endCol:S.endCol+1})}return $}print(){return super.print({sep:this.anon?"":"="})}}var o=t(34),h=t(669),c=Object.defineProperty,p=(n,e,u)=>e in n?c(n,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[e]=u,r=(n,e,u)=>(p(n,typeof e!="symbol"?e+"":e,u),u),i=(n,e,u)=>{if(!e.has(n))throw TypeError("Cannot "+u)},s=(n,e,u)=>(i(n,e,"read from private field"),u?u.call(n):e.get(n)),a=(n,e,u)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,u)},x=(n,e,u,$)=>(i(n,e,"write to private field"),$?$.call(n,u):e.set(n,u),u),m=(n,e,u)=>(i(n,e,"access private method"),u),P,B,K,G,Y,Z;class l extends M.Token{constructor(e,u,$=b.Z.getConfig(),D=[]){var L,S;super(void 0,$,D,{}),a(this,K),a(this,Y),r(this,"type","template"),r(this,"modifier",""),a(this,P,!1),a(this,B,new Map);const{parserFunction:[z,X]}=$,V=(L=/^(?:\s|\0\d+c\x7F)*\0\d+s\x7F/u.exec(e))==null?void 0:L[0];if(V)this.setAttribute("modifier",V),e=e.slice(V.length);else if(e.includes(":")){const[st,...tt]=e.split(":"),[dt]=/^(?:\s|\0\d+c\x7F)*/u.exec((S=tt[0])!=null?S:"");this.setModifier(`${st}:${dt}`)&&(e=tt.join(":").slice(dt.length))}if(e.includes(":")||u.length===0&&!s(this,P)){const[st,...tt]=e.split(":"),dt=(0,C.PN)(st),nt=dt.trim(),ct=X.includes(nt),j=z[nt.toLowerCase()];if(!(tt.length>0&&/\s$/u.test(dt))&&(ct||j)){this.setAttribute("name",j!=null?j:nt.toLowerCase()),this.type="magic-word";const et=new RegExp(`^\\s*${nt}\\s*$`,ct?"u":"iu"),rt=new h.SyntaxToken(st,et,"magic-word-name",$,D,{});if(super.insertAt(rt),tt.length>0&&u.unshift([tt.join(":")]),this.name==="invoke")for(let lt=0;lt<2;lt++){const at=u.shift();if(!at)break;const ot=new o.D(at.join("="),`invoke-${lt?"function":"module"}`,$,D);super.insertAt(ot)}}}if(this.type==="template"){const st=(0,C.PN)((0,C.m9)(e)).split("#")[0].trim();if(!st||/\0\d+[eh!+-]\x7F|[<>[\]{}\n]|%[\da-f]{2}/u.test(st))throw D.pop(),new SyntaxError(`\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A${(0,C.jq)(st)}`);const tt=new o.D(e,"template-name",$,D,{});super.insertAt(tt)}const q=this.isTemplate();let k=1;for(let st=0;st<u.length;st++){const tt=u[st];!q&&!(this.name==="switch"&&st>0)&&(tt[0]=tt.join("="),tt.length=1),tt.length===1&&(tt.unshift(k),k++),this.insertAt(new d(...tt,$,D))}}setModifier(e){const{parserFunction:[,,u,$]}=this.getAttribute("config"),D=(0,C.PN)(e).trim();if(e&&!D.endsWith(":"))return!1;const L=D.slice(0,-1).toLowerCase(),S=u.includes(L),z=$.includes(L);return s(this,P)&&S||!s(this,P)&&(z||e==="")||this.length>1&&(S||z||e==="")?(this.setAttribute("modifier",e),x(this,P,S),!!e):!1}isTemplate(){return this.type==="template"||this.name==="invoke"}afterBuild(){this.modifier.includes("\0")&&this.setAttribute("modifier",this.buildFromStr(this.modifier,"string"))}toString(e){return`{{${this.modifier}${this.type==="magic-word"?`${this.firstChild.toString(e)}${this.length===1?"":":"}${this.childNodes.slice(1).map(u=>u.toString(e)).join("|")}`:super.toString(e,"|")}}}`}text(){const{childNodes:e,length:u,firstChild:$,modifier:D,type:L,name:S}=this;return L==="magic-word"&&S==="vardefine"?"":`{{${D}${L==="magic-word"?`${$.text()}${u===1?"":":"}${(0,C.fL)(e.slice(1),"|")}`:super.text("|")}}}`}getAttribute(e){switch(e){case"padding":return this.modifier.length+2;default:return super.getAttribute(e)}}getGaps(){return 1}lint(e=this.getAbsoluteIndex()){const u=super.lint(e),{type:$,childNodes:D,length:L}=this;let S;if(!this.isTemplate())return u;const z=m(this,K,G).call(this);if(z)z.fragment!==void 0&&(S={start:e,...this.getRootNode().posFromIndex(e)},u.push((0,F.D)(D[$==="template"?0:1],S,"useless fragment")));else return S={start:e,...this.getRootNode().posFromIndex(e)},u.push((0,F.Y)(this,S,"missing module name")),u;if(z.valid||(S!=null||(S={start:e,...this.getRootNode().posFromIndex(e)}),u.push((0,F.D)(D[1],S,"illegal module name"))),$==="magic-word"&&L===2)return S!=null||(S={start:e,...this.getRootNode().posFromIndex(e)}),u.push((0,F.Y)(this,S,"missing module function")),u;const X=this.getDuplicatedArgs();return X.length>0&&(S!=null||(S={start:e,...this.getRootNode().posFromIndex(e)}),u.push(...X.flatMap(([,V])=>V).map(V=>(0,F.D)(V,S,"duplicated parameter")))),u}insertAt(e,u=this.length){return super.insertAt(e,u),e.anon?m(this,Y,Z).call(this,e):e.name&&this.getArgs(e.name,!1,!1).add(e),e}getAllArgs(){return this.childNodes.filter(e=>e.type==="parameter")}getAnonArgs(){return this.getAllArgs().filter(({anon:e})=>e)}getArgs(e,u=!1,$=!0){const D=String(e).replace(/^[ \t\n\0\v]+|([^ \t\n\0\v])[ \t\n\0\v]+$/gu,"$1");let L;return s(this,B).has(D)?L=s(this,B).get(D):(L=new Set(this.getAllArgs().filter(({name:S})=>D===S)),s(this,B).set(D,L)),L}getDuplicatedArgs(){return this.isTemplate()?[...s(this,B)].filter(([,{size:e}])=>e>1).map(([e,u])=>[e,[...u]]):[]}getPossibleValues(){const{type:e,name:u,childNodes:$,constructor:{name:D}}=this;if(e==="template")throw new Error(`${D}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`);let L;switch(u){case"if":case"ifexist":case"ifexpr":case"iferror":L=2;break;case"ifeq":L=3;break;default:throw new Error(`${D}.getPossibleValues \u65B9\u6CD5\u4EC5\u4F9B\u7279\u5B9A\u9B54\u672F\u5B57\u4F7F\u7528\uFF01`)}const S=$.slice(L,L+2).map(({childNodes:[,z]})=>z);for(let z=0;z<S.length;){const{length:X,0:V}=S[z].childNodes.filter(q=>q.text().trim());if(X===0)S.splice(z,1);else if(X>1||V.type!=="magic-word")z++;else try{const q=V.getPossibleValues();S.splice(z,1,...q),z+=q.length}catch(q){z++}}return S}print(){const{childNodes:e,length:u,firstChild:$,modifier:D,type:L}=this;return`<span class="wpb-${L}">{{${D}${L==="magic-word"?`${$.print()}${u===1?"":":"}${(0,C.S0)(e.slice(1),{sep:"|"})}`:(0,C.S0)(e,{sep:"|"})}}}</span>`}}P=new WeakMap,B=new WeakMap,K=new WeakSet,G=function(){const n=this.type==="template",e=this.childNodes[n?0:1];return e&&this.normalizeTitle(e.text(),n?10:828)},Y=new WeakSet,Z=function(n){const e=this.getAnonArgs(),u=typeof n!="number";for(let $=u?e.indexOf(n):n-1;$<e.length;$++){const D=e[$],{name:L}=D,S=String($+1);L!==S&&(D.setAttribute("name",S),this.getArgs(S,!1,!1).add(D))}};var A=t(465),R=Object.defineProperty,I=(n,e,u)=>e in n?R(n,e,{enumerable:!0,configurable:!0,writable:!0,value:u}):n[e]=u,_=(n,e,u)=>(I(n,typeof e!="symbol"?e+"":e,u),u);class N extends M.Token{constructor(e,u=b.Z.getConfig(),$=[]){super(void 0,u,$,{}),_(this,"type","arg");for(let D=0;D<e.length;D++)if(D===0){const L=new o.D(e[D],"arg-name",u,$,{});super.insertAt(L)}else if(D>1){const L=new A.R(e[D],u,$,{});super.insertAt(L)}else{const L=new M.Token(e[D],u,$);L.type="arg-default",L.setAttribute("stage",2),super.insertAt(L)}}get default(){var e,u;return(u=(e=this.childNodes[1])==null?void 0:e.text())!=null?u:!1}toString(e){return`{{{${super.toString(e,"|")}}}}`}text(){return`{{{${(0,C.fL)(this.childNodes.slice(0,2),"|")}}}}`}getAttribute(e){return e==="padding"?3:super.getAttribute(e)}getGaps(){return 1}lint(e=this.getAbsoluteIndex()){if(!this.getAttribute("include"))return[(0,F.Y)(this,{start:e},"unexpected template argument")];const{childNodes:[u,$,...D]}=this,L=u.lint(e+3);if($&&L.push(...$.lint(e+4+String(u).length)),D.length>0){const S={start:e,...this.getRootNode().posFromIndex(e)};L.push(...D.map(z=>{const X=(0,F.D)(z,S,"invisible content inside triple braces"),{startIndex:V,startCol:q}=X;return{...X,startIndex:V-1,startCol:q-1}}))}return L}print(){return super.print({pre:"{{{",post:"}}}",sep:"|"})}}const w=(n,e=b.Z.getConfig(),u=[])=>{var $,D,L,S,z,X;const V=`${($=e.excludes)!=null&&$.includes("heading")?"":"^(\0\\d+c\x7F)*={1,6}|"}\\[\\[|\\{{2,}|-\\{(?!\\{)`,{parserFunction:[,,,q]}=e,k=[],st={"=":`
`,"{":"\\}{2,}|\\|","-":"\\}-","[":"\\]\\]"},tt=new Map([["!","!"],["!!","+"],["(!","{"],["!)","}"],["!-","-"],["=","~"]]);let dt=new RegExp(V,"gmu"),nt=dt.exec(n),ct=n.includes("}}"),j;for(;nt||j!==void 0&&j<=n.length&&((L=(D=k[k.length-1])==null?void 0:D[0])!=null&&L.startsWith("="));){if(nt!=null&&nt[1]){const[,{length:gt}]=nt;nt[0]=nt[0].slice(gt),nt.index+=gt}const{0:et,index:rt}=nt!=null?nt:{0:`
`,index:n.length},lt=(S=k.pop())!=null?S:{},{0:at,index:ot,parts:ut,findEqual:wt,pos:Tt}=lt,Ot=et==="="&&wt;if(et==="]]"||et==="}-")j=rt+2;else if(et===`
`){j=rt+1;const{pos:gt,findEqual:ft}=(z=k[k.length-1])!=null?z:{};if(gt===void 0||ft||(0,C.PN)(n.slice(gt,ot))!==""){const xt=/^(={1,6})(.+)\1((?:\s|\0\d+c\x7F)*)$/u.exec(n.slice(ot,rt));xt&&(n=`${n.slice(0,ot)}\0${u.length}h\x7F${n.slice(rt)}`,j=ot+4+String(u.length).length,new U.D(xt[1].length,xt.slice(2),e,u))}}else if(et==="|"||Ot)j=rt+1,ut[ut.length-1].push(n.slice(Tt,rt)),et==="|"&&ut.push([]),lt.pos=j,lt.findEqual=et==="|",k.push(lt);else if(et.startsWith("}}")){const gt=et.slice(0,Math.min(at.length,3)),ft=at.length-gt.length,{length:xt}=u;j=rt+gt.length,ut[ut.length-1].push(n.slice(Tt,rt));let Ct=!1,At="t";if(gt.length===3){const ht=ut.map(W=>W.join("=")),$t=ht.length>1&&(0,C.PN)(ht[1]).trim();new N(ht,e,u),$t&&$t.endsWith(":")&&q.includes($t.slice(0,-1).toLowerCase())&&(At="s")}else try{new l(ut[0][0],ut.slice(1),e,u);const ht=(0,C.PN)(ut[0][0]).trim();tt.has(ht)?At=tt.get(ht):/^(?:filepath|(?:full|canonical)urle?):.|^server$/iu.test(ht)?At="m":/^#vardefine:./iu.test(ht)&&(At="c")}catch(ht){if(ht instanceof SyntaxError&&ht.message.startsWith("\u975E\u6CD5\u7684\u6A21\u677F\u540D\u79F0\uFF1A"))j=ot+at.length,Ct=!0;else throw ht}Ct||(n=`${n.slice(0,ot+ft)}\0${xt}${At}\x7F${n.slice(j)}`,j=ot+ft+3+String(xt).length,ft>1?k.push({0:at.slice(0,ft),index:ot,pos:ot+ft,parts:[[]]}):ft===1&&n[ot-1]==="-"&&k.push({0:"-{",index:ot-1,pos:ot+1,parts:[[]]}))}else j=rt+et.length,et.startsWith("{")&&(nt.pos=j,nt.parts=[[]]),k.push(..."0"in lt?[lt]:[],nt);ct&&(ct=n.slice(j).includes("}}"));let vt=k[k.length-1];!ct&&((X=vt==null?void 0:vt[0])!=null&&X.startsWith("{"))&&(k.pop(),vt=k[k.length-1]),dt=new RegExp(V+(vt?`|${st[vt[0][0]]}${vt.findEqual?"|=":""}`:""),"gmu"),dt.lastIndex=j,nt=dt.exec(n)}return n}},551:(Q,y,t)=>{t.r(y),t.d(y,{parseCommentAndExt:()=>i});var C=t(891),b=t(541),U=Object.defineProperty,F=(s,a,x)=>a in s?U(s,a,{enumerable:!0,configurable:!0,writable:!0,value:x}):s[a]=x,M=(s,a,x)=>(F(s,typeof a!="symbol"?a+"":a,x),x);class O extends b.Token{constructor(){super(...arguments),M(this,"type","onlyinclude")}toString(a){return`<onlyinclude>${super.toString()}</onlyinclude>`}getAttribute(a){return a==="padding"?13:a==="plain"||super.getAttribute(a)}print(){return super.print({pre:'<span class="wpb-ext">&lt;onlyinclude&gt;</span>',post:'<span class="wpb-ext">&lt;/onlyinclude&gt;</span>'})}}var T=t(826),f=t(959),v=t(415),d=Object.defineProperty,o=(s,a,x)=>a in s?d(s,a,{enumerable:!0,configurable:!0,writable:!0,value:x}):s[a]=x,h=(s,a,x)=>(o(s,typeof a!="symbol"?a+"":a,x),x);class c extends(0,f.a)(v.m){constructor(a,x="",m,P,B=C.Z.getConfig(),K=[]){super(a,x,m!=null?m:"",m===void 0||P!=null?P:"",B,K),h(this,"type","include")}}var p=t(895),r=t(976);const i=(s,a=C.Z.getConfig(),x=[],m=!1)=>{const P="<onlyinclude>",B="</onlyinclude>",{length:K}=P;if(m){let A=s.indexOf(P),R=s.indexOf(B,A+K);if(A!==-1&&R!==-1){let I="";for(;A!==-1&&R!==-1;){const _=`\0${x.length}e\x7F`;new O(s.slice(A+K,R),a,x),A>0?(new T.O(s.slice(0,A),a,x),I+=`\0${x.length-1}c\x7F${_}`):I+=_,s=s.slice(R+K+1),A=s.indexOf(P),R=s.indexOf(B,A+K)}return s&&(new T.O(s,a,x),I+=`\0${x.length-1}c\x7F`),I}}const G=a.ext.join("|"),Y=m?"includeonly":"(?:no|only)include",Z=m?"noinclude":"includeonly",l=new RegExp(`<!--.*?(?:-->|$)|<${Y}(?:\\s[^>]*?)?>|</${Y}\\s*>|<(${G})(\\s[^>]*?)?(?:/>|>(.*?)</(\\1\\s*)>)|<(${Z})(\\s[^>]*?)?(?:/>|>(.*?)(?:</(\\5\\s*)>|$))`,"gisu");return s.replace(l,(A,R,I,_,N,w,n,e,u)=>{const $=`\0${x.length}${R?"e":"c"}\x7F`;if(R)new p.$(R,I,_,N,a,x);else if(A.startsWith("<!--")){const D=A.endsWith("-->");new r.T(A.slice(4,D?-3:void 0),D,a,x)}else w?new c(w,n,e,u,a,x):new T.O(A,a,x);return $})}},370:(Q,y,t)=>{t.r(y),t.d(y,{parseConverter:()=>Y});var C=t(891),b=t(467);const U=Z=>{class l extends Z{}return l};var F=t(541),M=t(169),O=t(34),T=Object.defineProperty,f=(Z,l,A)=>l in Z?T(Z,l,{enumerable:!0,configurable:!0,writable:!0,value:A}):Z[l]=A,v=(Z,l,A)=>(f(Z,typeof l!="symbol"?l+"":l,A),A),d=(Z,l,A)=>{if(!l.has(Z))throw TypeError("Cannot "+A)},o=(Z,l,A)=>(d(Z,l,"read from private field"),A?A.call(Z):l.get(Z)),h=(Z,l,A)=>{if(l.has(Z))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(Z):l.set(Z,A)},c=(Z,l,A,R)=>(d(Z,l,"write to private field"),R?R.call(Z,A):l.set(Z,A),A),p;const r=new Set(["A","T","R","D","-","H","N"]);class i extends F.Token{constructor(l,A=C.Z.getConfig(),R=[]){super(void 0,A,R,{}),v(this,"type","converter-flags"),h(this,p,void 0),this.append(...l.map(I=>new O.D(I,"converter-flag",A,R)))}afterBuild(){c(this,p,this.childNodes.map(l=>l.text().trim()))}toString(l){return super.toString(l,";")}text(){return super.text(";")}getGaps(){return 1}getUnknownFlags(){return new Set(o(this,p).filter(l=>/\{{3}[^{}]+\}{3}/u.test(l)))}getVariantFlags(){const l=new Set(this.getAttribute("config").variants);return new Set(o(this,p).filter(A=>l.has(A)))}lint(l=this.getAbsoluteIndex()){const A=this.getVariantFlags(),R=this.getUnknownFlags(),I=new Set(o(this,p).filter($=>r.has($))),{length:_}=o(this,p).filter($=>!$),N=o(this,p).length-R.size-_,w=super.lint(l);if(A.size===N||I.size===N)return w;const n={start:l,...this.getRootNode().posFromIndex(l)},{childNodes:e,length:u}=this;for(let $=0;$<u;$++){const D=e[$],L=D.text().trim();if(L&&!A.has(L)&&!R.has(L)&&(A.size>0||!I.has(L))){const S=(0,M.D)(D,n,"invalid conversion flag");w.push(S)}}return w}print(){return super.print({sep:";"})}}p=new WeakMap;var s=Object.defineProperty,a=(Z,l,A)=>l in Z?s(Z,l,{enumerable:!0,configurable:!0,writable:!0,value:A}):Z[l]=A,x=(Z,l,A)=>(a(Z,typeof l!="symbol"?l+"":l,A),A);class m extends F.Token{constructor(l,A=!0,R=C.Z.getConfig(),I=[]){if(super(void 0,R,I),x(this,"type","converter-rule"),A){const _=l.indexOf(":"),N=l.slice(0,_).indexOf("=>"),w=N===-1?l.slice(0,_):l.slice(N+2,_);R.variants.includes(w.trim())?(super.insertAt(new O.D(w,"converter-rule-variant",R,I)),super.insertAt(new O.D(l.slice(_+1),"converter-rule-to",R,I)),N!==-1&&super.insertAt(new O.D(l.slice(0,N),"converter-rule-from",R,I),0)):super.insertAt(new O.D(l,"converter-rule-noconvert",R,I))}else super.insertAt(new O.D(l,"converter-rule-noconvert",R,I))}toString(l){const{childNodes:A}=this;if(A.length===3){const[R,I,_]=A;return`${R.toString(l)}=>${I.toString(l)}:${_.toString(l)}`}return super.toString(l,":")}text(){const{childNodes:l}=this;if(l.length===3){const[A,R,I]=l;return`${A.text()}=>${R.text()}:${I.text()}`}return super.text(":")}getGaps(l){return l===0&&this.length===3?2:1}print(){const{childNodes:l}=this;if(l.length===3){const[A,R,I]=l;return`<span class="wpb-converter-rule">${A.print()}=>${R.print()}:${I.print()}</span>`}return super.print({sep:":"})}}var P=Object.defineProperty,B=(Z,l,A)=>l in Z?P(Z,l,{enumerable:!0,configurable:!0,writable:!0,value:A}):Z[l]=A,K=(Z,l,A)=>(B(Z,typeof l!="symbol"?l+"":l,A),A);class G extends U(F.Token){constructor(l,A,R=C.Z.getConfig(),I=[]){super(void 0,R,I),K(this,"type","converter"),this.append(new i(l,R,I));const[_]=A,N=_.includes(":"),w=new m(_,N,R,I);N&&w.length===1?this.insertAt(new m(A.join(";"),!1,R,I)):this.append(w,...A.slice(1).map(n=>new m(n,!0,R,I)))}toString(l){const{childNodes:[A,...R]}=this;return`-{${A.toString()}${A.length>0?"|":""}${R.map(I=>I.toString()).join(";")}}-`}text(){const{childNodes:[l,...A]}=this;return`-{${l.text()}|${(0,b.fL)(A,";")}}-`}getAttribute(l){return l==="padding"?2:super.getAttribute(l)}getGaps(l){return l||this.firstChild.length>0?1:0}print(){const{childNodes:[l,...A]}=this;return`<span class="wpb-converter">-{${l.print()}${l.length>0?"|":""}${(0,b.S0)(A,{sep:";"})}}-</span>`}}const Y=(Z,l=C.Z.getConfig(),A=[])=>{const R=/-\{/gu,I=/-\{|\}-/gu,_=[];let N=R,w=N.exec(Z);for(;w;){const{0:n,index:e}=w;if(n==="}-"){const u=_.pop(),{length:$}=A,D=Z.slice(u.index+2,e),L=D.indexOf("|"),[S,z]=L===-1?[[],D]:[D.slice(0,L).split(";"),D.slice(L+1)],X=z.replace(/(&[#a-z\d]+);/giu,"$1"),V=`(?:${l.variants.join("|")})`,q=X.split(new RegExp(`;(?=\\s*(?:${V}|[^;]*?=>\\s*${V})\\s*:)`,"u")).map(k=>k.replace(/\x01/gu,";"));new G(S,q,l,A),Z=`${Z.slice(0,u.index)}\0${$}v\x7F${Z.slice(e+2)}`,_.length===0&&(N=R),N.lastIndex=u.index+3+String($).length}else _.push(w),N=I,N.lastIndex=e+2;w=N.exec(Z)}return Z}},418:(Q,y,t)=>{t.r(y),t.d(y,{parseExternalLinks:()=>F});var C=t(467),b=t(891),U=t(876);const F=(M,O=b.Z.getConfig(),T=[])=>{const f=new RegExp(`\\[((?:(?:${O.protocol}|//)${C._X}|\0\\d+m\x7F)${C.Qk})(\\p{Zs}*)([^\\]-\b
-\uFFFD]*)\\]`,"giu");return M.replace(f,(v,d,o,h)=>{const{length:c}=T,p=/&[lg]t;/u.exec(d);return p&&(d=d.slice(0,p.index),o="",h=`${d.slice(p.index)}${o}${h}`),new U.a(d,o,h,O,T),`\0${c}w\x7F`})}},362:(Q,y,t)=>{t.r(y),t.d(y,{parseHrAndDoubleUnderscore:()=>c});var C=t(891),b=t(439),U=Object.defineProperty,F=(p,r,i)=>r in p?U(p,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[r]=i,M=(p,r,i)=>(F(p,typeof r!="symbol"?r+"":r,i),i);class O extends b.h{constructor(){super(...arguments),M(this,"type","hr")}}var T=t(959),f=Object.defineProperty,v=(p,r,i)=>r in p?f(p,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[r]=i,d=(p,r,i)=>(v(p,typeof r!="symbol"?r+"":r,i),i);class o extends(0,T.a)(b.h){constructor(r,i,s=C.Z.getConfig(),a=[]){super(r,s,a),d(this,"type","double-underscore")}getAttribute(r){return r==="padding"?2:super.getAttribute(r)}toString(r){return`__${this.innerText}__`}print(){return super.print({pre:"__",post:"__"})}}var h=t(485);const c=({firstChild:{data:p},type:r,name:i},s=C.Z.getConfig(),a=[])=>{const{doubleUnderscore:x}=s,m=new Set(x[0]),P=new Set(x[1]);return r!=="root"&&(r!=="ext-inner"||i!=="poem")&&(p=`\0${p}`),p=p.replace(/^((?:\0\d+c\x7F)*)(-{4,})/gmu,(B,K,G)=>(new O(G,s,a),`${K}\0${a.length-1}r\x7F`)).replace(new RegExp(`__(${x.flat().join("|")})__`,"giu"),(B,K)=>{const G=P.has(K);return G||m.has(K.toLowerCase())?(new o(K,G,s,a),`\0${a.length-1}u\x7F`):B}).replace(/^((?:\0\d+c\x7F)*)(={1,6})(.+)\2((?:[^\S\n]|\0\d+c\x7F)*)$/gmu,(B,K,G,Y,Z)=>{const l=`${K}\0${a.length}h\x7F`;return new h.D(G.length,[Y,Z],s,a),l}),r==="root"||r==="ext-inner"&&i==="poem"?p:p.slice(1)}},980:(Q,y,t)=>{t.r(y),t.d(y,{parseHtml:()=>a});var C=t(891),b=t(83),U=t(169),F=t(467),M=t(541),O=Object.defineProperty,T=(x,m,P)=>m in x?O(x,m,{enumerable:!0,configurable:!0,writable:!0,value:P}):x[m]=P,f=(x,m,P)=>(T(x,typeof m!="symbol"?m+"":m,P),P),v=(x,m,P)=>{if(!m.has(x))throw TypeError("Cannot "+P)},d=(x,m,P)=>(v(x,m,"read from private field"),P?P.call(x):m.get(x)),o=(x,m,P)=>{if(m.has(x))throw TypeError("Cannot add the same private member more than once");m instanceof WeakSet?m.add(x):m.set(x,P)},h=(x,m,P,B)=>(v(x,m,"write to private field"),B?B.call(x,P):m.set(x,P),P),c,p,r;const i=new Set(["if","ifeq","ifexpr","ifexist","iferror","switch"]);class s extends M.Token{constructor(m,P,B,K,G=C.Z.getConfig(),Y=[]){super(void 0,G,Y),f(this,"type","html"),o(this,c,void 0),o(this,p,void 0),o(this,r,void 0),this.insertAt(P),this.setAttribute("name",m.toLowerCase()),h(this,c,B),h(this,p,K),h(this,r,m)}get closing(){return d(this,c)}toString(m){return`<${this.closing?"/":""}${d(this,r)}${super.toString()}${d(this,p)?"/":""}>`}text(){const{closing:m}=this;return`<${m?"/":""}${d(this,r)}${m?"":super.text()}${d(this,p)?"/":""}>`}getAttribute(m){return m==="padding"?d(this,r).length+(this.closing?2:1):super.getAttribute(m)}lint(m=this.getAbsoluteIndex()){const P=super.lint(m);let B;this.name==="h1"&&!this.closing&&(B=(0,U.Y)(this,{start:m},"<h1>"),P.push(B)),this.closest("table-attrs")&&(B!=null||(B=(0,U.Y)(this,{start:m},"")),P.push({...B,message:C.Z.msg("HTML tag in table attributes")}));try{this.findMatchingTag()}catch(K){if(K instanceof SyntaxError){const{message:G}=K;B!=null||(B=(0,U.Y)(this,{start:m},""));const[Y]=G.split(":"),Z={...B,message:C.Z.msg(Y)};if(Y==="unclosed tag")Z.severity="warning";else if(Y==="unmatched closing tag"){const l=this.closest("magic-word");l&&i.has(l.name)&&(Z.severity="warning")}P.push(Z)}}return P}findMatchingTag(){const{html:m}=this.getAttribute("config"),{name:P,parentNode:B,closing:K}=this,G=(0,F.jq)(String(this));if(K&&(d(this,p)||m[2].includes(P)))throw new SyntaxError(`tag that is both closing and self-closing: ${G}`);if(m[2].includes(P)||d(this,p)&&m[1].includes(P))return this;if(d(this,p)&&m[0].includes(P))throw new SyntaxError(`invalid self-closing tag: ${G}`);if(!B)return;const{childNodes:Y}=B,Z=Y.indexOf(this),l=K?Y.slice(0,Z).reverse().filter(({type:R,name:I})=>R==="html"&&I===P):Y.slice(Z+1).filter(({type:R,name:I})=>R==="html"&&I===P);let A=K?-1:1;for(const R of l)if(d(R,c)?A--:A++,A===0)return R;throw new SyntaxError(`${K?"unmatched closing":"unclosed"} tag: ${G}`)}print(){return super.print({pre:`&lt;${this.closing?"/":""}${d(this,r)}`,post:`${d(this,p)?"/":""}&gt;`})}}c=new WeakMap,p=new WeakMap,r=new WeakMap;const a=(x,m=C.Z.getConfig(),P=[])=>{const B=/^(\/?)([a-z][^\s/>]*)((?:\s|\/(?!>))[^>]*?)?(\/?>)([^<]*)$/iu,K=new Set(m.html.flat()),G=x.split("<");let Y=G.shift();for(const Z of G){const l=B.exec(Z),A=l==null?void 0:l[2],R=A==null?void 0:A.toLowerCase();if(!l||!K.has(R)){Y+=`<${Z}`;continue}const[,I,,_="",N,w]=l,n=new b.x(_,"html-attrs",R,m,P),e=n.getAttr("itemprop");if(R==="meta"&&(e===void 0||n.getAttr("content")===void 0)||R==="link"&&(e===void 0||n.getAttr("href")===void 0)){Y+=`<${Z}`,P.pop();continue}Y+=`\0${P.length}x\x7F${w}`,new s(A,n,I==="/",N==="/>",m,P)}return Y}},106:(Q,y,t)=>{t.r(y),t.d(y,{parseLinks:()=>v});var C=t(891),b=t(524),U=t(533),F=t(299),M=Object.defineProperty,O=(d,o,h)=>o in d?M(d,o,{enumerable:!0,configurable:!0,writable:!0,value:h}):d[o]=h,T=(d,o,h)=>(O(d,typeof o!="symbol"?o+"":o,h),h);class f extends F.o{constructor(){super(...arguments),T(this,"type","category")}}const v=(d,o=C.Z.getConfig(),h=[])=>{const{parseQuotes:c}=t(704),p=o.inExt?/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]]))?\]\](.*)$/su:/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(?:(\||\0\d+!\x7F)(.*?[^\]])?)?\]\](.*)$/su,r=/^((?:(?!\0\d+!\x7F)[^\n<>[\]{}|])+)(\||\0\d+!\x7F)(.*)$/su,i=new RegExp(`^\\s*(?:${o.protocol})`,"iu"),s=d.split("[[");let a=s.shift();for(let x=0;x<s.length;x++){let m=!1,P,B,K,G;const Y=s[x],Z=p.exec(Y);if(Z)[,P,B,K,G]=Z,G.startsWith("]")&&(K!=null&&K.includes("["))&&(K+="]",G=G.slice(1));else{const N=r.exec(Y);N&&(m=!0,[,P,B,K]=N)}if(P===void 0||i.test(P)||/\0\d+[exhbru]\x7F/u.test(P)){a+=`[[${Y}`;continue}const l=P.trim().startsWith(":");if(l&&m){a+=`[[${Y}`;continue}const A=C.Z.normalizeTitle(P,0,!1,o,!0,!0,!0),{ns:R,valid:I}=A;if(I){if(m){if(R!==6){a+=`[[${Y}`;continue}let N=!1;for(x++;x<s.length;x++){const w=s[x],n=w.split("]]");if(n.length>2){N=!0,K+=`[[${n[0]}]]${n[1]}`,G=n.slice(2).join("]]");break}else if(n.length===2)K+=`[[${n[0]}]]${n[1]}`;else{K+=`[[${w}`;break}}if(K=v(K,o,h),!N){a+=`[[${P}${B}${K}`;continue}}}else{a+=`[[${Y}`;continue}K&&(K=c(K,o,h)),a+=`\0${h.length}l\x7F${G}`;let _=b.h;l||(R===6?_=U.q:R===14&&(_=f)),K===void 0&&B&&(K=""),new _(P,K,o,h,B)}return a}},904:(Q,y,t)=>{t.r(y),t.d(y,{parseList:()=>f});var C=t(891),b=t(933),U=Object.defineProperty,F=(v,d,o)=>d in v?U(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,M=(v,d,o)=>(F(v,typeof d!="symbol"?d+"":d,o),o);class O extends b.T{constructor(){super(...arguments),M(this,"type","list")}}var T=t(461);const f=(v,d=C.Z.getConfig(),o=[])=>{const h=/^((?:\0\d+c\x7F)*)([;:*#]+)/u.exec(v);if(!h)return v;const[c,p,r]=h;let i=`${p}\0${o.length}d\x7F${v.slice(c.length)}`,s=r.split(";").length-1;if(new O(r,d,o),!s)return i;let a=/:+|-\{/gu,x=a.exec(i),m=0;for(;x&&s;){const{0:P,index:B}=x;if(P.startsWith(":")){if(P.length>=s)return new T.k(":".repeat(s),d,o),`${i.slice(0,B)}\0${o.length-1}d\x7F${i.slice(B+s)}`;i=`${i.slice(0,B)}\0${o.length}d\x7F${i.slice(a.lastIndex)}`,s-=P.length,a.lastIndex=B+4+String(o.length).length,new T.k(P,d,o)}else if(P==="-{"){if(!m){const{lastIndex:K}=a;a=/-\{|\}-/gu,a.lastIndex=K}m++}else if(m--,!m){const{lastIndex:K}=a;a=/:+|-\{/gu,a.lastIndex=K}x=a.exec(i)}return i}},311:(Q,y,t)=>{t.r(y),t.d(y,{parseMagicLinks:()=>F});var C=t(467),b=t(891),U=t(686);const F=(M,O=b.Z.getConfig(),T=[])=>{const f=new RegExp(`(^|[^\\p{L}\\d_])(?:${O.protocol})(${C._X}${C.Qk})`,"giu");return M.replace(f,(v,d,o)=>{let h="",c=d?v.slice(1):v;const p=/&(?:lt|gt|nbsp|#x0*(?:3[ce]|a0)|#0*(?:6[02]|160));/iu.exec(c);p&&(h=c.slice(p.index),c=c.slice(0,p.index));const r=new RegExp(`[,;.:!?${c.includes("(")?"":")"}]+$`,"u"),i=r.exec(c);if(i){let s=0;i[0].startsWith(";")&&/&(?:[a-z]+|#x[\da-f]+|#\d+)$/iu.test(c.slice(0,i.index))&&(s=1),h=`${c.slice(i.index+s)}${h}`,c=c.slice(0,i.index+s)}return h.length>=o.length?v:(new U.k(c,!1,O,T),`${d}\0${T.length-1}w\x7F${h}`)})}},704:(Q,y,t)=>{t.r(y),t.d(y,{parseQuotes:()=>f});var C=t(891),b=t(169),U=t(439),F=Object.defineProperty,M=(v,d,o)=>d in v?F(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,O=(v,d,o)=>(M(v,typeof d!="symbol"?d+"":d,o),o);class T extends U.h{constructor(){super(...arguments),O(this,"type","quote")}lint(d=this.getAbsoluteIndex()){const{previousSibling:o,nextSibling:h}=this,c=C.Z.msg('lonely "$1"',"'"),p=[];let r;if((o==null?void 0:o.type)==="text"&&o.data.endsWith("'")){r=(0,b.Y)(this,{start:d},c);const{startIndex:i,startLine:s,startCol:a}=r,[,{length:x}]=o.data.match(/(?:^|[^'])('+)$/u),m=d-x;p.push({...r,startIndex:m,endIndex:i,startCol:a-x,endLine:s,endCol:a})}if((h==null?void 0:h.type)==="text"&&h.data.startsWith("'")){r!=null||(r=(0,b.Y)(this,{start:d},c));const{endIndex:i,endLine:s,endCol:a}=r,[{length:x}]=h.data.match(/^'+/u),m=i+x;p.push({...r,startIndex:i,endIndex:m,startLine:s,startCol:a,endCol:a+x})}return p}}const f=(v,d=C.Z.getConfig(),o=[])=>{var h;const c=v.split(/('{2,})/u),{length:p}=c;if(p===1)return v;let r=0,i=0,s,a,x;for(let m=1;m<p;m+=2){const{length:P}=c[m];switch(P){case 2:i++;break;case 4:c[m-1]+="'",c[m]="'''";case 3:if(r++,s!==void 0)break;c[m-1].endsWith(" ")?a===void 0&&x===void 0&&(x=m):c[m-1].slice(-2,-1)===" "?s=m:a!=null||(a=m);break;default:c[m-1]+="'".repeat(P-5),c[m]="'''''",i++,r++}}if(i%2===1&&r%2===1){const m=(h=s!=null?s:a)!=null?h:x;m!==void 0&&(c[m]="''",c[m-1]+="'")}for(let m=1;m<p;m+=2)new T(c[m],d,o),c[m]=`\0${o.length-1}q\x7F`;return c.join("")}},508:(Q,y,t)=>{t.r(y),t.d(y,{parseTable:()=>N});var C=t(891),b=t(541),U=t(169),F=t(223),M=t(669),O=t(83);class T extends b.Token{constructor(n,e,u,$=C.Z.getConfig(),D=[],L={}){super(void 0,$,D,L),this.append(new M.SyntaxToken(e,n,"table-syntax",$,D,{}),new O.x(u,"table-attrs",this.type,$,D))}}class f extends T{lint(n=this.getAbsoluteIndex()){const e=super.lint(n),u=this.childNodes.find(({type:S})=>S==="table-inter");if(!u)return e;const $=u.childNodes.find(S=>S.text().trim()),D=/^\s*(?:!|\{\{\s*![!-]?\s*\}\})/u;if(!$||D.test(String($))||$.type==="arg"&&D.test($.default||""))return e;if($.type==="magic-word")try{if($.getPossibleValues().every(S=>D.test(S.text())))return e}catch(S){}const L=(0,U.D)(u,{start:n},"content to be moved out from the table");return e.push({...L,startIndex:L.startIndex+1,startLine:L.startLine+1,startCol:0}),e}}var v=Object.defineProperty,d=(w,n,e)=>n in w?v(w,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):w[n]=e,o=(w,n,e)=>(d(w,typeof n!="symbol"?n+"":n,e),e);const h=/^\n[^\S\n]*(?:\|\}|\{\{\s*!\s*\}\}\}|\{\{\s*!\)\s*\}\})$/u;class c extends f{constructor(n,e,u=C.Z.getConfig(),$=[]){super(/^(?:\{\||\{\{\{\s*!\s*\}\}|\{\{\s*\(!\s*\}\})$/u,n,e,u,$,{}),o(this,"type","table")}get closed(){return this.lastChild.type==="table-syntax"}lint(n=this.getAbsoluteIndex()){const e=super.lint(n);if(!this.closed){const{firstChild:u}=this,$=(0,U.D)(u,{start:n},"unclosed table");e.push($)}return e}close(n=`
|}`,e=!1){const u=this.getAttribute("config"),$=this.getAttribute("accum"),D=[n],L=F.j.run(()=>super.insertAt(new M.SyntaxToken(void 0,h,"table-syntax",u,$,{})));this.lastChild.replaceChildren(...D)}}var p=Object.defineProperty,r=(w,n,e)=>n in w?p(w,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):w[n]=e,i=(w,n,e)=>(r(w,typeof n!="symbol"?n+"":n,e),e);class s extends f{constructor(n,e,u=C.Z.getConfig(),$=[]){super(/^\n[^\S\n]*(?:\|-+|\{\{\s*!\s*\}\}-+|\{\{\s*!-\s*\}\}-*)$/u,n,e,u,$,{}),i(this,"type","tr")}}var a=Object.defineProperty,x=(w,n,e)=>n in w?a(w,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):w[n]=e,m=(w,n,e)=>(x(w,typeof n!="symbol"?n+"":n,e),e),P=(w,n,e)=>{if(!n.has(w))throw TypeError("Cannot "+e)},B=(w,n,e)=>(P(w,n,"read from private field"),e?e.call(w):n.get(w)),K=(w,n,e)=>{if(n.has(w))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(w):n.set(w,e)},G=(w,n,e,u)=>(P(w,n,"write to private field"),u?u.call(w,e):n.set(w,e),e),Y=(w,n,e,u)=>({set _($){G(w,n,$,e)},get _(){return B(w,n,u)}}),Z=(w,n,e)=>(P(w,n,"access private method"),e),l,A,R;class I extends T{constructor(n,e,u=C.Z.getConfig(),$=[]){var D;let L=e==null?void 0:e.match(/\||\0\d+!\x7F/u),S=L?e.slice(0,L.index):"";/\[\[|-\{/u.test(S)&&(L=void 0,S=""),super(/^(?:\n[^\S\n]*(?:[|!]|\|\+|\{\{\s*!\s*\}\}\+?)|(?:\||\{\{\s*!\s*\}\}){2}|!!|\{\{\s*!!\s*\}\})$/u,n,S,u,$),K(this,A),m(this,"type","td"),K(this,l,""),L&&([Y(this,l)._]=L);const z=new b.Token(e==null?void 0:e.slice(((D=L==null?void 0:L.index)!=null?D:NaN)+B(this,l).length),u,$);z.type="td-inner",z.setAttribute("stage",4),this.insertAt(z)}get subtype(){return Z(this,A,R).call(this).subtype}afterBuild(){B(this,l).includes("\0")&&G(this,l,this.buildFromStr(B(this,l),"string"))}toString(n){const{childNodes:[e,u,$]}=this;return`${e.toString()}${u.toString()}${B(this,l)}${$.toString()}`}text(){const{childNodes:[n,e,u]}=this;return`${n.text()}${e.text()}${B(this,l)}${u.text()}`}getGaps(n){return n===1?B(this,l).length:0}lint(n=this.getAbsoluteIndex()){const e=super.lint(n);n+=this.getRelativeIndex(this.length-1);for(const u of this.lastChild.childNodes)u.type==="text"&&u.data.includes("|")&&e.push((0,U.D)(u,{start:n},'additional "|" in a table cell',"warning"));return e}print(){const{childNodes:[n,e,u]}=this;return`<span class="wpb-td">${n.print()}${e.print()}${B(this,l)}${u.print()}</span>`}}l=new WeakMap,A=new WeakSet,R=function(){const w=this.firstChild.text(),n=w[w.length-1];let e="td";return n==="!"?e="th":n==="+"&&(e="caption"),{subtype:e}};var _=t(461);const N=({firstChild:{data:w},type:n,name:e},u=C.Z.getConfig(),$=[])=>{const D=[],L=w.split(`
`);let S=n==="root"||n==="parameter-value"||n==="ext-inner"&&e==="poem"?"":`
${L.shift()}`;const z=(X,V)=>{if(!V){S+=X;return}const{lastChild:q}=V;if(q.constructor===b.Token)q.setText(String(q)+X);else{const k=new b.Token(X,u,$);k.type="table-inter",k.setAttribute("stage",3),V.insertAt(k)}};for(const X of L){let V=D.pop();const[q]=/^(?:\s|\0\d+c\x7F)*/u.exec(X),k=X.slice(q.length),st=/^(:*)((?:\s|\0\d+c\x7F)*)(\{\||\{(?:\0\d+c\x7F)*\0\d+!\x7F|\0\d+\{\x7F)(.*)$/u.exec(k);if(st){for(;V&&V.type!=="td";)V=D.pop();const[,et,rt,lt,at]=st;et&&new _.k(et,u,$),z(`
${q}${et&&`\0${$.length-1}d\x7F`}${rt}\0${$.length}b\x7F`,V),D.push(...V?[V]:[],new c(lt,at,u,$));continue}else if(!V){S+=`
${X}`;continue}const tt=/^(?:(\|\}|\0\d+!\x7F\}|\0\d+\}\x7F)|(\|-+|\0\d+!\x7F-+|\0\d+-\x7F-*)(?!-)|(!|(?:\||\0\d+!\x7F)\+?))(.*)$/u.exec(k);if(!tt){z(`
${X}`,V),D.push(V);continue}const[,dt,nt,ct,j]=tt;if(dt){for(;V.type!=="table";)V=D.pop();V.close(`
${q}${dt}`,!0),z(j,D[D.length-1])}else if(nt){V.type==="td"&&(V=D.pop()),V.type==="tr"&&(V=D.pop());const et=new s(`
${q}${nt}`,j,u,$);D.push(V,et),V.insertAt(et)}else{V.type==="td"&&(V=D.pop());const et=ct==="!"?/!!|(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu:/(?:\||\0\d+!\x7F){2}|\0\d+\+\x7F/gu;let rt=et.exec(j),lt=0,at=`
${q}${ct}`;for(;rt;)V.insertAt(new I(at,j.slice(lt,rt.index),u,$)),{lastIndex:lt}=et,[at]=rt,rt=et.exec(j);const ot=new I(at,j.slice(lt),u,$);D.push(V,ot),V.insertAt(ot)}}return S.slice(1)}},34:(Q,y,t)=>{t.d(y,{D:()=>U});var C=t(891),b=t(541);class U extends b.Token{constructor(M,O,T=C.Z.getConfig(),f=[],v){super(M,T,f,v),this.type=O}}},83:(Q,y,t)=>{t.d(y,{x:()=>Y});var C=t(169),b=t(467),U=t(891),F=t(541),M=t(34),O=t(444),T=(Z,l,A)=>{if(!l.has(Z))throw TypeError("Cannot "+A)},f=(Z,l,A)=>(T(Z,l,"read from private field"),A?A.call(Z):l.get(Z)),v=(Z,l,A)=>{if(l.has(Z))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(Z):l.set(Z,A)},d=(Z,l,A,R)=>(T(Z,l,"write to private field"),R?R.call(Z,A):l.set(Z,A),A),o,h;const c=new Set(["id","class","style","lang","dir","title","tabindex","aria-describedby","aria-flowto","aria-hidden","aria-label","aria-labelledby","aria-owns","role","about","property","resource","datatype","typeof","itemid","itemprop","itemref","itemscope","itemtype"]),p=new Set(["align"]),r=new Set(["cite"]),i=new Set(["cite","datetime"]),s=new Set(["width"]),a=new Set(["align","valign","abbr","axis","headers","scope","rowspan","colspan","width","height","bgcolor"]),x=new Set(["type"]),m={div:p,h1:p,h2:p,h3:p,h4:p,h5:p,h6:p,blockquote:r,q:r,p,br:new Set(["clear"]),pre:s,ins:i,del:i,ul:x,ol:new Set(["type","start","reversed"]),li:new Set(["type","value"]),table:new Set(["summary","width","border","frame","rules","cellspacing","cellpadding","align","bgcolor"]),caption:p,tr:new Set(["bgcolor","align","valign"]),td:a,th:a,img:new Set(["alt","src","width","height","srcset"]),font:new Set(["size","color","face"]),hr:s,rt:new Set(["rbspan"]),data:new Set(["value"]),time:new Set(["datetime"]),meta:new Set(["itemprop","content"]),link:new Set(["itemprop","href","title"]),gallery:new Set(["mode","showfilename","caption","perrow","widths","heights","showthumbnails","type"]),poem:new Set(["compact","align"]),categorytree:new Set(["align","hideroot","onlyroot","depth","mode","hideprefix","namespaces","showcount","notranslations"]),combooption:new Set(["name","for","inline","align"])},P=new Set,B={nowiki:P,indicator:new Set(["name"]),langconvert:new Set(["from","to"]),ref:new Set(["group","name","extends","follow","dir"]),references:new Set(["group","responsive"]),charinsert:new Set(["label"]),choose:new Set(["uncached","before","after"]),option:new Set(["weight"]),imagemap:P,inputbox:P,templatestyles:new Set(["src","wrapper"]),dynamicpagelist:P,poll:new Set(["id","show-results-before-voting"]),sm2:x,flashmp3:x,tab:new Set(["nested","name","index","class","block","inline","openname","closename","collapsed","dropdown","style","bgcolor","container","id","title"]),tabs:new Set(["plain","class","container","id","title","style"]),combobox:new Set(["placeholder","value","id","class","text","dropdown","style"])},K=new RegExp("expression|(?:filter|accelerator|-o-link(?:-source)?|-o-replace)\\s*:|(?:url|image(?:-set)?)\\s*\\(|attr\\s*\\([^)]+[\\s,]url","u");class G extends F.Token{constructor(l,A,R,I="",_,N=[],w=U.Z.getConfig(),n=[]){const e=new M.D(R,"attr-key",w,n,{});let u;if(R==="title"||A==="img"&&R==="alt")u=new F.Token(_,w,n,{}),u.type="attr-value",u.setAttribute("stage",O.C-1);else if(A==="gallery"&&R==="caption"){const $={...w,excludes:[...w.excludes,"quote","extLink","magicLink","list"]};u=new F.Token(_,$,n,{}),u.type="attr-value",u.setAttribute("stage",5)}else if(A==="choose"&&(R==="before"||R==="after")){const $={...w,excludes:[...w.excludes,"heading","html","table","hr","list"]};u=new F.Token(_,$,n,{}),u.type="attr-value",u.setAttribute("stage",1)}else u=new M.D(_,"attr-value",w,n,{});super(void 0,w,n),v(this,o,void 0),v(this,h,void 0),this.type=l,this.append(e,u),d(this,o,I),d(this,h,N),this.tag=A,this.setAttribute("name",(0,b.PN)(R).trim().toLowerCase())}get balanced(){return!f(this,o)||f(this,h)[0]===f(this,h)[1]}afterBuild(){f(this,o).includes("\0")&&d(this,o,this.buildFromStr(f(this,o),"string")),this.parentNode&&this.setAttribute("tag",this.parentNode.name),this.setAttribute("name",this.firstChild.text().trim().toLowerCase())}toString(l){const[A="",R=""]=f(this,h);return f(this,o)?`${super.toString(l,`${f(this,o)}${A}`)}${R}`:this.firstChild.toString(l)}text(){return f(this,o)?`${super.text(`${f(this,o).trim()}"`)}"`:this.firstChild.text()}getGaps(){var l,A;return f(this,o)?f(this,o).length+((A=(l=f(this,h)[0])==null?void 0:l.length)!=null?A:0):0}lint(l=this.getAbsoluteIndex()){var A;const R=super.lint(l),{balanced:I,firstChild:_,lastChild:N,type:w,name:n,tag:e}=this,u=this.getValue();let $;if(!I){const D=this.getRootNode();$={start:l,...D.posFromIndex(l)};const L=(0,C.D)(N,$,"unclosed quotes","warning"),S=L.startIndex-1;R.push({...L,startIndex:S,startCol:L.startCol-1})}return B[e]&&!B[e].has(n)||(w==="ext-attr"?e in m:!/\{\{[^{]+\}\}/u.test(n))&&!((A=m[e])!=null&&A.has(n))&&!/^(?:xmlns:[\w:.-]+|data-[^:]*)$/u.test(n)&&(e==="meta"||e==="link"||!c.has(n))?($!=null||($={start:l,...this.getRootNode().posFromIndex(l)}),R.push((0,C.D)(_,$,"illegal attribute name"))):n==="style"&&typeof u=="string"&&K.test(u)?($!=null||($={start:l,...this.getRootNode().posFromIndex(l)}),R.push((0,C.D)(N,$,"insecure style"))):n==="tabindex"&&typeof u=="string"&&u.trim()!=="0"&&($!=null||($={start:l,...this.getRootNode().posFromIndex(l)}),R.push((0,C.D)(N,$,"nonzero tabindex"))),R}getValue(){if(f(this,o)){const l=this.lastChild.text();return f(this,h)[1]?l:l.trim()}return this.type==="ext-attr"||""}print(){const[l="",A=""]=f(this,h);return f(this,o)?super.print({sep:`${f(this,o)}${l}`,post:A}):super.print()}}o=new WeakMap,h=new WeakMap;class Y extends F.Token{constructor(l,A,R,I=U.Z.getConfig(),_=[]){if(super(void 0,I,_,{}),this.type=A,this.setAttribute("name",R),l){const N=new RegExp(`([^\\s/](?:(?!\0\\d+~\x7F)[^\\s/=])*)(?:((?:\\s|\0\\d+c\x7F)*(?:=|\0\\d+~\x7F)(?:\\s|\0\\d+c\x7F)*)(?:(["'])(.*?)(\\3|$)|(\\S*)))?`,"gsu");let w="",n=N.exec(l),e=0;const u=()=>{w&&(super.insertAt(new M.D(w,`${A.slice(0,-1)}-dirty`,I,_)),w="")};for(;n;){const{index:$,0:D,1:L,2:S,3:z,4:X,5:V,6:q}=n;if(w+=l.slice(e,$),/^(?:[\w:]|\0\d+[t!~{}+-]\x7F)(?:[\w:.-]|\0\d+[t!~{}+-]\x7F)*$/u.test((0,b.PN)(L).trim())){const k=X!=null?X:q,st=[z,V],tt=new G(A.slice(0,-1),R,L,S,k,st,I,_);u(),super.insertAt(tt)}else w+=D;({lastIndex:e}=N),n=N.exec(l)}w+=l.slice(e),u()}}afterBuild(){if(this.type==="table-attrs"){const{parentNode:l}=this;this.setAttribute("name",(l==null?void 0:l.type)==="td"&&l.subtype==="caption"?"caption":l==null?void 0:l.type)}}getAttrTokens(l){return this.childNodes.filter(A=>A instanceof G&&(!l||A.name===l.toLowerCase().trim()))}getAttrToken(l){const A=this.getAttrTokens(l);return A[A.length-1]}getAttr(l){var A;return(A=this.getAttrToken(l))==null?void 0:A.getValue()}lint(l=this.getAbsoluteIndex()){const A=super.lint(l),{parentNode:R,length:I,childNodes:_}=this,N=new Map,w=new Set;let n;(R==null?void 0:R.type)==="html"&&R.closing&&this.text().trim()&&(n={start:l,...this.getRootNode().posFromIndex(l)},A.push((0,C.Y)(this,n,"attributes of a closing tag")));for(let e=0;e<I;e++){const u=_[e];if(u instanceof M.D&&u.text().trim())n!=null||(n={start:l,...this.getRootNode().posFromIndex(l)}),A.push((0,C.D)(u,n,"containing invalid attribute"));else if(u instanceof G){const{name:$}=u;N.has($)?(w.add($),N.get($).push(u)):$!=="class"&&N.set($,[u])}}if(w.size>0){n!=null||(n={start:l,...this.getRootNode().posFromIndex(l)});for(const e of w)A.push(...N.get(e).map(u=>(0,C.D)(u,n,U.Z.msg("duplicated $1 attribute",e))))}return A}print(){return String(this)?`<span class="wpb-${this.type}">${this.childNodes.map(l=>l.print(l instanceof M.D&&l.text().trim()?{class:"hidden"}:void 0)).join("")}</span>`:""}}},876:(Q,y,t)=>{t.d(y,{a:()=>p});var C=t(444);const b=r=>{class i extends r{}return i};var U=t(891),F=t(541),M=t(686),O=Object.defineProperty,T=(r,i,s)=>i in r?O(r,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[i]=s,f=(r,i,s)=>(T(r,typeof i!="symbol"?i+"":i,s),s),v=(r,i,s)=>{if(!i.has(r))throw TypeError("Cannot "+s)},d=(r,i,s)=>(v(r,i,"read from private field"),s?s.call(r):i.get(r)),o=(r,i,s)=>{if(i.has(r))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(r):i.set(r,s)},h=(r,i,s,a)=>(v(r,i,"write to private field"),a?a.call(r,s):i.set(r,s),s),c;class p extends b(F.Token){constructor(i,s="",a="",x=U.Z.getConfig(),m=[]){if(super(void 0,x,m,{}),f(this,"type","ext-link"),o(this,c,void 0),this.insertAt(new M.k(i,!0,x,m)),h(this,c,s),a){const P=new F.Token(a,x,m,{});P.type="ext-link-text",P.setAttribute("stage",C.C-1),this.insertAt(P)}}toString(i){return this.length===1?`[${super.toString(i)}${d(this,c)}]`:`[${super.toString(i,d(this,c))}]`}text(){return`[${super.text(" ")}]`}getAttribute(i){return i==="padding"?1:super.getAttribute(i)}getGaps(){return d(this,c).length}print(){return super.print(this.length===1?{pre:"[",post:`${d(this,c)}]`}:{pre:"[",sep:d(this,c),post:"]"})}}c=new WeakMap},420:(Q,y,t)=>{t.r(y),t.d(y,{GalleryToken:()=>c});var C=t(891),b=t(541),U=t(39),F=t(465),M=Object.defineProperty,O=(p,r,i)=>r in p?M(p,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[r]=i,T=(p,r,i)=>(O(p,typeof r!="symbol"?r+"":r,i),i),f=(p,r,i)=>{if(!r.has(p))throw TypeError("Cannot "+i)},v=(p,r,i)=>{if(r.has(p))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(p):r.set(p,i)},d=(p,r,i)=>(f(p,r,"access private method"),i),o,h;class c extends b.Token{constructor(r,i=C.Z.getConfig(),s=[]){var a;super(void 0,i,s,{}),v(this,o),T(this,"type","ext-inner");for(const x of(a=r==null?void 0:r.split(`
`))!=null?a:[]){const m=/^([^|]+)(?:\|(.*))?/u.exec(x);if(!m){super.insertAt(x.trim()?new F.R(x,i,[],{}):x);continue}const[,P,B]=m;d(this,o,h).call(this,P)?super.insertAt(new U._("gallery",P,B,i,s)):super.insertAt(new F.R(x,i,[],{}))}}toString(r){return super.toString(r,`
`)}text(){return super.text(`
`).replace(/\n\s*\n/gu,`
`)}getGaps(){return 1}lint(r=this.getAbsoluteIndex()){const{top:i,left:s}=this.getRootNode().posFromIndex(r),a=[];for(let x=0;x<this.length;x++){const m=this.childNodes[x],P=String(m),{length:B}=P,K=P.trim(),G=i+x,Y=x?0:s;m.type==="hidden"&&K&&!/^<!--.*-->$/u.test(K)?a.push({message:C.Z.msg("invalid content in <$1>","gallery"),severity:"error",startIndex:r,endIndex:r+B,startLine:G,endLine:G,startCol:Y,endCol:Y+B}):m.type!=="hidden"&&m.type!=="text"&&a.push(...m.lint(r)),r+=B+1}return a}print(){return super.print({sep:`
`})}}o=new WeakSet,h=function(p){return this.normalizeTitle(p,6,!0,!0).valid}},485:(Q,y,t)=>{t.d(y,{D:()=>c});var C=t(169),b=t(891),U=t(541),F=t(669),M=Object.defineProperty,O=(p,r,i)=>r in p?M(p,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):p[r]=i,T=(p,r,i)=>(O(p,typeof r!="symbol"?r+"":r,i),i),f=(p,r,i)=>{if(!r.has(p))throw TypeError("Cannot "+i)},v=(p,r,i)=>(f(p,r,"read from private field"),i?i.call(p):r.get(p)),d=(p,r,i)=>{if(r.has(p))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(p):r.set(p,i)},o,h;class c extends U.Token{constructor(r,i,s=b.Z.getConfig(),a=[]){super(void 0,s,a),d(this,o),T(this,"type","heading"),this.setAttribute("name",String(r));const x=new U.Token(i[0],s,a);x.type="heading-title",x.setAttribute("stage",2);const m=new F.SyntaxToken(i[1],/^[^\S\n]*$/u,"heading-trail",s,a,{});this.append(x,m)}get level(){return Number(this.name)}toString(r){const i=v(this,o,h);return`${i}${this.firstChild.toString()}${i}${this.lastChild.toString()}`}text(){const r=v(this,o,h);return`${r}${this.firstChild.text()}${r}`}getAttribute(r){return r==="padding"?super.getAttribute("padding")+this.level:super.getAttribute(r)}getGaps(){return this.level}lint(r=this.getAbsoluteIndex()){const i=super.lint(r),s=String(this.firstChild);let a;return this.name==="1"&&(a=(0,C.Y)(this,{start:r},"<h1>"),i.push(a)),(s.startsWith("=")||s.endsWith("="))&&(a!=null||(a=(0,C.Y)(this,{start:r},"")),i.push({...a,message:b.Z.msg('unbalanced "=" in a section header')})),this.closest("html-attrs, table-attrs")&&(a!=null||(a=(0,C.Y)(this,{start:r},"")),i.push({...a,message:b.Z.msg("section header in a HTML tag")})),i}print(){const r=v(this,o,h);return super.print({pre:r,sep:r})}}o=new WeakSet,h=function(){return"=".repeat(this.level)}},465:(Q,y,t)=>{t.d(y,{R:()=>O});var C=t(959),b=t(541),U=Object.defineProperty,F=(T,f,v)=>f in T?U(T,f,{enumerable:!0,configurable:!0,writable:!0,value:v}):T[f]=v,M=(T,f,v)=>(F(T,typeof f!="symbol"?f+"":f,v),v);class O extends(0,C.a)(b.Token){constructor(){super(...arguments),M(this,"type","hidden")}}},842:(Q,y,t)=>{t.r(y),t.d(y,{ImagemapToken:()=>r});var C=t(169),b=t(891),U=t(541),F=t(826),M=t(39),O=t(524),T=t(876),f=Object.defineProperty,v=(i,s,a)=>s in i?f(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,d=(i,s,a)=>(v(i,typeof s!="symbol"?s+"":s,a),a);class o extends U.Token{constructor(s,a,x,m=b.Z.getConfig(),P=[]){super(void 0,m,P),d(this,"type","imagemap-link"),this.append(s,a.length===2?new O.h(...a,m,P):new T.a(...a,m,P),new F.O(x,m,P))}}var h=Object.defineProperty,c=(i,s,a)=>s in i?h(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a,p=(i,s,a)=>(c(i,typeof s!="symbol"?s+"":s,a),a);class r extends U.Token{constructor(s,a=b.Z.getConfig(),x=[]){if(super(void 0,a,x,{}),p(this,"type","ext-inner"),!s)return;const m=s.split(`
`),P=new Set(a.protocol.split("|")),B=F.O;let K=!0,G=!1;for(const Y of m){const Z=Y.trim();if(!(G||!Z||Z.startsWith("#"))){if(K){const[l,...A]=Y.split("|"),R=this.normalizeTitle(l,0,!0);if(R.valid&&R.ns===6){const I=new M._("imagemap",l,A.length>0?A.join("|"):void 0,a,x);super.insertAt(I),K=!1;continue}else G=!0}else if(Y.trim().split(/[\t ]/u)[0]==="desc"){super.insertAt(Y);continue}else if(Y.includes("[")){const l=Y.indexOf("["),A=Y.slice(l),R=/^\[{2}([^|]+)(?:\|([^\]]+))?\]{2}[\w\s]*$/u.exec(A);if(R){if(this.normalizeTitle(R[1],0,!0,!1,!0).valid){super.insertAt(new o(Y.slice(0,l),R.slice(1),A.slice(A.indexOf("]]")+2),a,x));continue}}else if(P.has(A.slice(1,A.indexOf(":")+1))||P.has(A.slice(1,A.indexOf("//")+2))){const I=/^\[([^\]\s]+)(?:(\s+)(\S[^\]]*)?)?\][\w\s]*$/u.exec(A);if(I){super.insertAt(new o(Y.slice(0,l),I.slice(1),A.slice(A.indexOf("]")+1),a,x));continue}}}}super.insertAt(new B(Y,a,x))}}get image(){return this.childNodes.find(({type:s})=>s==="imagemap-image")}toString(s){return super.toString(s,`
`)}text(){return super.text(`
`).replace(/\n{2,}/gu,`
`)}getGaps(){return 1}lint(s=this.getAbsoluteIndex()){const a=super.lint(s),x={start:s,...this.getRootNode().posFromIndex(s)};return this.image?a.push(...this.childNodes.filter(m=>{const P=String(m).trim();return m.type==="noinclude"&&P&&!P.startsWith("#")}).map(m=>(0,C.D)(m,x,"invalid link in <imagemap>"))):a.push((0,C.Y)(this,x,"<imagemap> without an image")),a}print(){return super.print({sep:`
`})}}},541:(Q,y,t)=>{t.r(y),t.d(y,{Token:()=>$t});var C=t(467),b=t(444),U=t(891),F=Object.defineProperty,M=(W,g,E)=>g in W?F(W,g,{enumerable:!0,configurable:!0,writable:!0,value:E}):W[g]=E,O=(W,g,E)=>(M(W,typeof g!="symbol"?g+"":g,E),E),T=(W,g,E)=>{if(!g.has(W))throw TypeError("Cannot "+E)},f=(W,g,E)=>(T(W,g,"read from private field"),E?E.call(W):g.get(W)),v=(W,g,E)=>{if(g.has(W))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(W):g.set(W,E)},d=(W,g,E,H)=>(T(W,g,"write to private field"),H?H.call(W,E):g.set(W,E),E),o=(W,g,E)=>(T(W,g,"access private method"),E),h,c,p;class r{constructor(){v(this,c),O(this,"childNodes",[]),v(this,h,void 0)}get firstChild(){return this.childNodes[0]}get lastChild(){return this.childNodes[this.childNodes.length-1]}get parentNode(){return f(this,h)}get nextSibling(){var g;const E=(g=this.parentNode)==null?void 0:g.childNodes;return E&&E[E.indexOf(this)+1]}get previousSibling(){var g;const E=(g=this.parentNode)==null?void 0:g.childNodes;return E&&E[E.indexOf(this)-1]}get offsetHeight(){return o(this,c,p).call(this).height}get offsetWidth(){return o(this,c,p).call(this).width}getAttribute(g){return g==="padding"?0:g in this?String(this[g]):void 0}setAttribute(g,E){g==="parentNode"?d(this,h,E):this[g]=E}getRootNode(){let{parentNode:g}=this;for(;g!=null&&g.parentNode;)({parentNode:g}=g);return g!=null?g:this}posFromIndex(g){const E=String(this);if(g>=-E.length&&g<=E.length){const H=E.slice(0,g).split(`
`);return{top:H.length-1,left:H[H.length-1].length}}}getGaps(g){return 0}getRelativeIndex(g){let E;const H=(J,it)=>E.slice(0,J).reduce((mt,bt,Mt)=>mt+String(bt).length+it.getGaps(Mt),0)+it.getAttribute("padding");if(g===void 0){const{parentNode:J}=this;return J?({childNodes:E}=J,H(E.indexOf(this),J)):0}return{childNodes:E}=this,H(g,this)}getAbsoluteIndex(){const{parentNode:g}=this;return g?g.getAbsoluteIndex()+this.getRelativeIndex():0}}h=new WeakMap,c=new WeakSet,p=function(){const W=String(this).split(`
`);return{height:W.length,width:W[W.length-1].length}};const i=new Set(["nowiki","pre","charinsert","score","syntaxhighlight","source","math","chem","ce","graph","mapframe","maplink","quiz","templatedata","timeline"]);class s extends r{get length(){return this.childNodes.length}text(g){return(0,C.fL)(this.childNodes,g)}normalize(){const{childNodes:g}=this;for(let E=g.length-1;E>=0;E--){const{type:H,data:J}=g[E],it=g[E-1];H!=="text"||this.getGaps(E-1)||(J===""?g.splice(E,1):(it==null?void 0:it.type)==="text"&&(it.setAttribute("data",it.data+J),g.splice(E,1)))}}removeAt(g){const{childNodes:E}=this,[H]=E.splice(g,1);return H}insertAt(g,E=this.length){const{childNodes:H}=this;return g.setAttribute("parentNode",this),H.splice(E,0,g),g}closest(g){let{parentNode:E}=this,H;const J=new Set(g.split(",").map(it=>it.trim()));for(H=({type:it})=>J.has(it);E;){if(H(E))return E;({parentNode:E}=E)}}append(...g){for(const E of g)this.insertAt(E)}replaceChildren(...g){this.childNodes.length=0,this.append(...g)}setText(g,E=0){const H=this.childNodes[E],{data:J}=H;return H.replaceData(g),J}toString(g,E=""){return this.childNodes.map(H=>H.toString()).join(E)}lint(g=this.getAbsoluteIndex()){const{SyntaxToken:E}=t(669);if(this instanceof E||this.constructor.hidden||this.type==="ext-inner"&&i.has(this.name))return[];const H=[];for(let J=0,it=g+this.getAttribute("padding");J<this.length;J++){const mt=this.childNodes[J];H.push(...mt.lint(it)),it+=String(mt).length+this.getGaps(J)}return H}print(g={}){var E;return String(this)?`<span class="wpb-${(E=g.class)!=null?E:this.type}">${(0,C.S0)(this.childNodes,g)}</span>`:""}}var a=Object.defineProperty,x=(W,g,E)=>g in W?a(W,g,{enumerable:!0,configurable:!0,writable:!0,value:E}):W[g]=E,m=(W,g,E)=>(x(W,typeof g!="symbol"?g+"":g,E),E),P=(W,g,E)=>{if(!g.has(W))throw TypeError("Cannot "+E)},B=(W,g,E)=>{if(g.has(W))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(W):g.set(W,E)},K=(W,g,E)=>(P(W,g,"access private method"),E),G,Y;const Z=/https?:\/\/|\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,l=/\{+|\}+|\[{2,}|\[(?![^[]*\])|((?:^|\])[^[]*?)\]+|<\s*\/?([a-z]\w*)/giu,A=["html","head","style","title","body","a","audio","img","video","embed","iframe","object","canvas","script","col","colgroup","tbody","tfoot","thead","button","input","label","option","select","textarea"];class R extends r{constructor(g){super(),B(this,G),m(this,"type","text"),m(this,"data",""),this.data=g}toString(){return this.data}text(){return this.data}lint(g=this.getAbsoluteIndex()){const{data:E,parentNode:H,nextSibling:J,previousSibling:it}=this,mt=H==null?void 0:H.type,bt=H==null?void 0:H.name,Mt=J==null?void 0:J.type,Xt=it==null?void 0:it.type,_t=mt==="free-ext-link"||mt==="ext-link-url"||mt==="image-parameter"&&bt==="link"?l:Z,Bt=[],{ext:Jt,html:kt}=this.getRootNode().getAttribute("config");if(E.search(_t)!==-1){_t.lastIndex=0;const Ut=this.getRootNode(),{top:jt,left:qt}=Ut.posFromIndex(g),te=new Set([Jt,kt,A].flat(2));for(let yt=_t.exec(E);yt;yt=_t.exec(E)){const[,It,ee]=yt;let{0:Ft,index:Pt}=yt;if(It&&It!=="]"){const{length:Yt}=It;Pt+=Yt,Ft=Ft.slice(Yt)}const Nt=g+Pt,Dt=E.slice(0,Pt).split(`
`),Kt=Dt.length+jt-1,Zt=Dt[Dt.length-1],Gt=Dt.length===1?qt+Zt.length:Zt.length,{0:pt,length:Lt}=Ft,zt=Nt+Lt,Ht=String(Ut),St=Ht[zt],Wt=Ht[Nt-1],ne=Lt>1&&(pt!=="<"||/[\s/>]/u.test(St!=null?St:""))||pt==="{"&&(St===pt||Wt==="-")||pt==="}"&&(Wt===pt||St==="-")||pt==="["&&(St===pt||mt==="ext-link-text"||!E.slice(Pt+1).trim()&&Mt==="free-ext-link")||pt==="]"&&(Wt===pt||!E.slice(0,Pt).trim()&&Xt==="free-ext-link")?"error":"warning";(pt!=="h"||Pt>0)&&(pt!=="<"||te.has(ee.toLowerCase()))&&Bt.push({message:U.Z.msg('lonely "$1"',pt==="h"?Ft:pt),severity:ne,startIndex:Nt,endIndex:zt,startLine:Kt,endLine:Kt,startCol:Gt,endCol:Gt+Lt})}return Bt}return[]}replaceData(g){K(this,G,Y).call(this,g)}}G=new WeakSet,Y=function(W){this.setAttribute("data",W)};var I=Object.defineProperty,_=(W,g,E)=>g in W?I(W,g,{enumerable:!0,configurable:!0,writable:!0,value:E}):W[g]=E,N=(W,g,E)=>(_(W,typeof g!="symbol"?g+"":g,E),E),w=(W,g,E)=>{if(!g.has(W))throw TypeError("Cannot "+E)},n=(W,g,E)=>(w(W,g,"read from private field"),E?E.call(W):g.get(W)),e=(W,g,E)=>{if(g.has(W))throw TypeError("Cannot add the same private member more than once");g instanceof WeakSet?g.add(W):g.set(W,E)},u=(W,g,E,H)=>(w(W,g,"write to private field"),H?H.call(W,E):g.set(W,E),E),$=(W,g,E,H)=>({set _(J){u(W,g,J,E)},get _(){return n(W,g,H)}}),D=(W,g,E)=>(w(W,g,"access private method"),E),L,S,z,X,V,q,k,st,tt,dt,nt,ct,j,et,rt,lt,at,ot,ut,wt,Tt,Ot,vt,gt,ft,xt,Ct,At;const ht=class Qt extends s{constructor(g,E=U.Z.getConfig(),H=[],J){super(),e(this,V),e(this,k),e(this,tt),e(this,nt),e(this,j),e(this,rt),e(this,at),e(this,ut),e(this,Tt),e(this,vt),e(this,ft),e(this,Ct),N(this,"type","root"),e(this,L,0),e(this,S,void 0),e(this,z,void 0),e(this,X,void 0),typeof g=="string"&&this.insertAt(g),u(this,S,E),u(this,z,H),H.push(this)}parseOnce(g=n(this,L),E=!1){if(g<n(this,L)||!this.getAttribute("plain")||this.length===0)return this;switch(g){case 0:this.type==="root"&&n(this,z).shift(),u(this,X,E),D(this,k,st).call(this,E);break;case 1:D(this,tt,dt).call(this);break;case 2:D(this,nt,ct).call(this);break;case 3:D(this,j,et).call(this);break;case 4:D(this,rt,lt).call(this);break;case 5:D(this,at,ot).call(this);break;case 6:D(this,ut,wt).call(this);break;case 7:D(this,Tt,Ot).call(this);break;case 8:D(this,vt,gt).call(this);break;case 9:D(this,ft,xt).call(this);break;case 10:D(this,Ct,At).call(this)}if(this.type==="root")for(const H of n(this,z))H.parseOnce(g,E);return $(this,L)._++,this}buildFromStr(g,E){const H=g.split(/[\0\x7F]/u).map((J,it)=>{if(it%2===0)return new R(J);if(isNaN(J[J.lengtht-1]))return n(this,z)[Number(J.slice(0,-1))];throw new Error(`\u89E3\u6790\u9519\u8BEF\uFF01\u672A\u6B63\u786E\u6807\u8BB0\u7684 Token\uFF1A${J}`)});return E==="string"?H.map(String).join(""):E==="text"?(0,C.fL)(H):H}afterBuild(){if(this.type==="root")for(const g of n(this,z))g.afterBuild()}parse(g=b.C,E=!1){for(;n(this,L)<g;)this.parseOnce(n(this,L),E);return g&&(D(this,V,q).call(this),this.afterBuild()),this}getAttribute(g){switch(g){case"plain":return this.constructor===Qt;case"config":return JSON.parse(JSON.stringify(n(this,S)));case"accum":return n(this,z);case"include":{if(n(this,X)!==void 0)return n(this,X);const E=this.getRootNode();return E!==this?E.getAttribute("include"):!1}default:return super.getAttribute(g)}}setAttribute(g,E){switch(g){case"stage":n(this,L)===0&&this.type==="root"&&n(this,z).shift(),u(this,L,E);break;default:super.setAttribute(g,E)}}insertAt(g,E=this.length){const H=typeof g=="string"?new R(g):g;return super.insertAt(H,E),H.type==="root"&&(H.type="plain"),H}normalizeTitle(g,E=0,H=!1,J=!1,it=!1){return U.Z.normalizeTitle(g,E,n(this,X),n(this,S),H,J,it)}};L=new WeakMap,S=new WeakMap,z=new WeakMap,X=new WeakMap,V=new WeakSet,q=function(){var W;u(this,L,b.C);const{length:g,firstChild:E}=this,H=String(E);if(g===1&&E.type==="text"&&H.includes("\0")&&(this.replaceChildren(...this.buildFromStr(H)),this.normalize(),this.type==="root"))for(const J of n(this,z))D(W=J,V,q).call(W)},k=new WeakSet,st=function(W){const{parseCommentAndExt:g}=t(551);this.setText(g(String(this.firstChild),n(this,S),n(this,z),W))},tt=new WeakSet,dt=function(){const{parseBraces:W}=t(313),g=this.type==="root"?String(this.firstChild):`\0${String(this.firstChild)}`,E=W(g,n(this,S),n(this,z));this.setText(this.type==="root"?E:E.slice(1))},nt=new WeakSet,ct=function(){var W;if((W=n(this,S).excludes)!=null&&W.includes("html"))return;const{parseHtml:g}=t(980);this.setText(g(String(this.firstChild),n(this,S),n(this,z)))},j=new WeakSet,et=function(){var W;if((W=n(this,S).excludes)!=null&&W.includes("table"))return;const{parseTable:g}=t(508);this.setText(g(this,n(this,S),n(this,z)))},rt=new WeakSet,lt=function(){var W;if((W=n(this,S).excludes)!=null&&W.includes("hr"))return;const{parseHrAndDoubleUnderscore:g}=t(362);this.setText(g(this,n(this,S),n(this,z)))},at=new WeakSet,ot=function(){const{parseLinks:W}=t(106);this.setText(W(String(this.firstChild),n(this,S),n(this,z)))},ut=new WeakSet,wt=function(){var W;if((W=n(this,S).excludes)!=null&&W.includes("quote"))return;const{parseQuotes:g}=t(704),E=String(this.firstChild).split(`
`);for(let H=0;H<E.length;H++)E[H]=g(E[H],n(this,S),n(this,z));this.setText(E.join(`
`))},Tt=new WeakSet,Ot=function(){var W;if((W=n(this,S).excludes)!=null&&W.includes("extLink"))return;const{parseExternalLinks:g}=t(418);this.setText(g(String(this.firstChild),n(this,S),n(this,z)))},vt=new WeakSet,gt=function(){var W;if((W=n(this,S).excludes)!=null&&W.includes("magicLink"))return;const{parseMagicLinks:g}=t(311);this.setText(g(String(this.firstChild),n(this,S),n(this,z)))},ft=new WeakSet,xt=function(){var W;if((W=n(this,S).excludes)!=null&&W.includes("list"))return;const{parseList:g}=t(904),E=String(this.firstChild).split(`
`);let H=this.type==="root"||this.type==="ext-inner"&&this.name==="poem"?0:1;for(;H<E.length;H++)E[H]=g(E[H],n(this,S),n(this,z));this.setText(E.join(`
`))},Ct=new WeakSet,At=function(){if(n(this,S).variants.length>0){const{parseConverter:W}=t(370);this.setText(W(String(this.firstChild),n(this,S),n(this,z)))}};let $t=ht},299:(Q,y,t)=>{t.d(y,{o:()=>r});var C=t(169),b=t(444),U=t(891),F=t(541),M=t(34),O=(i,s,a)=>{if(!s.has(i))throw TypeError("Cannot "+a)},T=(i,s,a)=>(O(i,s,"read from private field"),a?a.call(i):s.get(i)),f=(i,s,a)=>{if(s.has(i))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(i):s.set(i,a)},v=(i,s,a,x)=>(O(i,s,"write to private field"),x?x.call(i,a):s.set(i,a),a),d=(i,s,a)=>(O(i,s,"access private method"),a),o,h,c,p;class r extends F.Token{constructor(s,a,x=U.Z.getConfig(),m=[],P="|"){if(super(void 0,x,m,{}),f(this,c),f(this,o,!0),f(this,h,void 0),this.insertAt(new M.D(s,"link-target",x,m,{})),a!==void 0){const B=new F.Token(a,x,m,{});B.type="link-text",B.setAttribute("stage",b.C-1),this.insertAt(B)}v(this,h,P)}afterBuild(){T(this,h).includes("\0")&&v(this,h,this.buildFromStr(T(this,h),"string"))}setAttribute(s,a){s==="bracket"?v(this,o,!!a):super.setAttribute(s,a)}toString(s){const a=super.toString(s,T(this,h));return T(this,o)?`[[${a}]]`:a}text(){const s=super.text("|");return T(this,o)?`[[${s}]]`:s}getAttribute(s){return s==="padding"?2:super.getAttribute(s)}getGaps(s){return s===0?T(this,h).length:1}lint(s=this.getAbsoluteIndex()){const a=super.lint(s),{childNodes:[x,m],type:P}=this,{encoded:B,fragment:K}=d(this,c,p).call(this);let G;return P==="link"&&x.childNodes.some(({type:Y})=>Y==="template")&&(G={start:s,...this.getRootNode().posFromIndex(s)},a.push((0,C.D)(x,G,"template in an internal link target","warning"))),B&&(G!=null||(G={start:s,...this.getRootNode().posFromIndex(s)}),a.push((0,C.D)(x,G,"unnecessary URL encoding in an internal link"))),P==="link"&&(m!=null&&m.childNodes.some(({type:Y,data:Z})=>Y==="text"&&Z.includes("|")))?(G!=null||(G={start:s,...this.getRootNode().posFromIndex(s)}),a.push((0,C.D)(m,G,'additional "|" in the link text',"warning"))):P!=="link"&&K!==void 0&&(G!=null||(G={start:s,...this.getRootNode().posFromIndex(s)}),a.push((0,C.D)(x,G,"useless fragment"))),a}print(){return super.print(T(this,o)?{pre:"[[",post:"]]",sep:T(this,h)}:{sep:T(this,h)})}}o=new WeakMap,h=new WeakMap,c=new WeakSet,p=function(){return this.normalizeTitle(this.firstChild.text(),0,!1,!0,!0)}},533:(Q,y,t)=>{t.d(y,{q:()=>R});var C=t(467),b=t(169),U=t(891),F=t(299),M=t(541),O=Object.defineProperty,T=(I,_,N)=>_ in I?O(I,_,{enumerable:!0,configurable:!0,writable:!0,value:N}):I[_]=N,f=(I,_,N)=>(T(I,typeof _!="symbol"?_+"":_,N),N),v=(I,_,N)=>{if(!_.has(I))throw TypeError("Cannot "+N)},d=(I,_,N)=>(v(I,_,"read from private field"),N?N.call(I):_.get(I)),o=(I,_,N)=>{if(_.has(I))throw TypeError("Cannot add the same private member more than once");_ instanceof WeakSet?_.add(I):_.set(I,N)},h=(I,_,N,w)=>(v(I,_,"write to private field"),w?w.call(I,N):_.set(I,N),N),c;const p=new Set(["alt","link","lang","page","caption"]);function r(I,_,N=U.Z.getConfig(),w=!1){_=_.trim();let n=_.replace(/\0\d+t\x7F/gu,"").trim();switch(I){case"width":return!n||/^(?:\d+x?|\d*x\d+)$/u.test(n);case"link":{if(!n||new RegExp(`^(?:(?:${N.protocol}|//)${C._X}|\0\\d+m\x7F)${C.Qk}$`,"iu").test(n))return _;n.startsWith("[[")&&n.endsWith("]]")&&(n=n.slice(2,-2));const u=U.Z.normalizeTitle(n,0,!1,N,w,!0,!0);return u.valid&&u}case"lang":return!n||N.variants.includes(n);case"alt":case"class":case"manualthumb":return!0;default:return!isNaN(n)}}class i extends M.Token{constructor(_,N=U.Z.getConfig(),w=[]){var n=(...L)=>{super(...L),f(this,"type","image-parameter"),o(this,c,"")},e;let u;const $=Object.entries(N.img).map(([L,S])=>[L,S,new RegExp(`^(\\s*)${L.replace("$1","(.*)")}(\\s*)$`,"u")]),D=$.find(([,L,S])=>(u=S.exec(_),u&&(u.length!==4||r(L,u[2],N,!0)!==!1)));if(D&&u){u.length===3?(n(void 0,N,w),h(this,c,_)):(n(u[2],N,w,{}),h(this,c,`${u[1]}${D[0]}${u[3]}`)),this.setAttribute("name",D[1]);return}n(_,{...N,excludes:[...(e=N.excludes)!=null?e:[],"list"]},w),this.setAttribute("name","caption"),this.setAttribute("stage",7)}get link(){return this.name==="link"?r("link",super.text(),this.getAttribute("config")):void 0}afterBuild(){var _;((_=this.parentNode)==null?void 0:_.type)==="gallery-image"&&!p.has(this.name)&&this.setAttribute("name","invalid")}toString(_){return d(this,c)?d(this,c).replace("$1",super.toString(_)):super.toString(_)}text(){return d(this,c)?d(this,c).replace("$1",super.text()).trim():super.text().trim()}getAttribute(_){return _==="plain"?this.name==="caption":_==="padding"?Math.max(0,d(this,c).indexOf("$1")):super.getAttribute(_)}lint(_=this.getAbsoluteIndex()){const N=super.lint(_),{link:w,name:n}=this;return n==="invalid"?N.push((0,b.Y)(this,{start:_},"invalid gallery image parameter")):typeof w=="object"&&w.encoded&&N.push((0,b.Y)(this,{start:_},"unnecessary URL encoding in an internal link")),N}print(){return d(this,c)?`<span class="wpb-image-parameter">${d(this,c).replace("$1",`<span class="wpb-image-caption">${(0,C.S0)(this.childNodes)}</span>`)}</span>`:super.print({class:"image-caption"})}}c=new WeakMap;var s=Object.defineProperty,a=(I,_,N)=>_ in I?s(I,_,{enumerable:!0,configurable:!0,writable:!0,value:N}):I[_]=N,x=(I,_,N)=>(a(I,typeof _!="symbol"?_+"":_,N),N),m=(I,_,N)=>{if(!_.has(I))throw TypeError("Cannot "+N)},P=(I,_,N)=>{if(_.has(I))throw TypeError("Cannot add the same private member more than once");_ instanceof WeakSet?_.add(I):_.set(I,N)},B=(I,_,N)=>(m(I,_,"access private method"),N),K,G;const Y=new Set(["manualthumb","frameless","framed","thumbnail"]),Z=new Set(["left","right","center","none"]),l=new Set(["baseline","sub","super","top","text-top","middle","bottom","text-bottom"]),A=(I,_,N,w)=>{if(w===void 0)return[];const n=new RegExp(`${[I,_,N].map(C.hr).join("|")}`,"gu"),e=[];let u=n.exec(w),$=0,D=0;for(;u;){const{0:L,index:S}=u;L!==N?$+=L===I?1:-1:$===0&&(e.push(w.slice(D,S)),{lastIndex:D}=n),u=n.exec(w)}return e.push(w.slice(D)),e};class R extends F.o{constructor(_,N,w=U.Z.getConfig(),n=[],e="|"){super(_,void 0,w,n,e),P(this,K),x(this,"type","file"),this.append(...A("-{","}-","|",N).map(u=>new i(u,w,n)))}lint(_=this.getAbsoluteIndex()){const N=super.lint(_),w=this.getAllArgs().filter(({childNodes:S})=>{const z=S.filter(X=>X.text().trim());return z.length!==1||z[0].type!=="arg"}),n=[...new Set(w.map(({name:S})=>S))].filter(S=>S!=="invalid"),e=n.filter(S=>Y.has(S)),u=n.filter(S=>Z.has(S)),$=n.filter(S=>l.has(S));if(w.length===n.length&&e.length<2&&u.length<2&&$.length<2)return N;const D={start:_,...this.getRootNode().posFromIndex(_)},L=(S,z)=>X=>(0,b.D)(X,D,U.Z.msg(`${S} image $1 parameter`,z));for(const S of n){let z=w.filter(({name:X})=>X===S);S==="caption"&&(z=[...z.slice(0,-1).filter(X=>X.text()),...z.slice(-1)]),z.length>1&&N.push(...z.map(L("duplicated",S)))}return e.length>1&&N.push(...w.filter(({name:S})=>Y.has(S)).map(L("conflicting","frame"))),u.length>1&&N.push(...w.filter(({name:S})=>Z.has(S)).map(L("conflicting","horizontal-alignment"))),$.length>1&&N.push(...w.filter(({name:S})=>l.has(S)).map(L("conflicting","vertical-alignment"))),N}getAllArgs(){return this.childNodes.slice(1)}getArgs(_){return this.getAllArgs().filter(({name:N})=>_===N)}getFrameArgs(){return B(this,K,G).call(this,Y,"\u6846\u67B6")}getHorizAlignArgs(){return B(this,K,G).call(this,Z,"\u6C34\u5E73\u5BF9\u9F50")}getVertAlignArgs(){return B(this,K,G).call(this,l,"\u5782\u76F4\u5BF9\u9F50")}}K=new WeakSet,G=function(I,_){return this.getAllArgs().filter(({name:w})=>I.has(w))}},39:(Q,y,t)=>{t.d(y,{_:()=>o});var C=t(169),b=t(444),U=t(891),F=t(541),M=t(533),O=(h,c,p)=>{if(!c.has(h))throw TypeError("Cannot "+p)},T=(h,c,p)=>{if(c.has(h))throw TypeError("Cannot add the same private member more than once");c instanceof WeakSet?c.add(h):c.set(h,p)},f=(h,c,p)=>(O(h,c,"access private method"),p),v,d;class o extends M.q{constructor(c,p,r,i=U.Z.getConfig(),s=[]){let a;if(r!==void 0){a=new F.Token(r,i,s),a.type="plain";for(let x=1;x<b.C;x++)a.parseOnce();s.splice(s.indexOf(a),1)}super(p,a==null?void 0:a.toString(),i,s),T(this,v),this.setAttribute("bracket",!1),this.type=`${c}-image`}getAttribute(c){return c==="padding"?0:super.getAttribute(c)}lint(c=this.getAbsoluteIndex()){const p=super.lint(c),{ns:r}=f(this,v,d).call(this);return r!==6&&p.push((0,C.Y)(this,{start:c},"invalid gallery image")),p}}v=new WeakSet,d=function(){const h=this.type==="imagemap-image";return this.normalizeTitle(String(this.firstChild),h?0:6,!0,!h)}},524:(Q,y,t)=>{t.d(y,{h:()=>M});var C=t(299),b=Object.defineProperty,U=(O,T,f)=>T in O?b(O,T,{enumerable:!0,configurable:!0,writable:!0,value:f}):O[T]=f,F=(O,T,f)=>(U(O,typeof T!="symbol"?T+"":T,f),f);class M extends C.o{constructor(){super(...arguments),F(this,"type","link")}}},686:(Q,y,t)=>{t.d(y,{k:()=>F});var C=t(169),b=t(891),U=t(541);class F extends U.Token{constructor(O,T=!1,f=b.Z.getConfig(),v=[]){super(O,f,v,{}),this.type=T?"ext-link-url":"free-ext-link"}lint(O=this.getAbsoluteIndex()){const T=super.lint(O),f=`[\uFF0C\uFF1B\u3002\uFF1A\uFF01\uFF1F\uFF08\uFF09]+${this.type==="ext-link-url"?"|\\|+":""}`,v=new RegExp(f,"u"),d=new RegExp(f,"gu");let o;for(const h of this.childNodes){const{type:c,data:p}=h;if(c!=="text"||!v.test(p))continue;o!=null||(o={start:O,...this.getRootNode().posFromIndex(O)});const r=(0,C.D)(h,o,"","warning");d.lastIndex=0;for(let i=d.exec(p);i;i=d.exec(p)){const{index:s,0:a}=i,x=p.slice(0,s).split(`
`),{length:m}=x,{length:P}=x[x.length-1],B=O+s,K=r.startLine+m-1,G=m===1?r.startCol+P:P;T.push({...r,message:b.Z.msg("$1 in URL",a.startsWith("|")?'"|"':b.Z.msg("full-width punctuation")),startIndex:B,endIndex:B+a.length,startLine:K,endLine:K,startCol:G,endCol:G+a.length})}}return T}}},57:(Q,y,t)=>{t.r(y),t.d(y,{NestedToken:()=>d});var C=t(169),b=t(891),U=t(541),F=t(895),M=t(826),O=t(976),T=Object.defineProperty,f=(o,h,c)=>h in o?T(o,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[h]=c,v=(o,h,c)=>(f(o,typeof h!="symbol"?h+"":h,c),c);class d extends U.Token{constructor(h,c,p,r=b.Z.getConfig(),i=[]){var s;h=(s=h==null?void 0:h.replace(c,(a,x,m,P,B)=>{const K=`\0${i.length+1}${x?"e":"c"}\x7F`;if(x)new F.$(x,m,P,B,r,i);else{const G=a.endsWith("-->");new O.T(a.slice(4,G?-3:void 0),G,r,i)}return K}))==null?void 0:s.replace(/(^|\0\d+[ce]\x7F)([^\0]+)(?=$|\0\d+[ce]\x7F)/gu,(a,x,m)=>(new M.O(m,r,i),`${x}\0${i.length}c\x7F`)),super(h,r,i,{}),v(this,"type","ext-inner")}lint(h=this.getAbsoluteIndex()){let c;return[...super.lint(h),...this.childNodes.filter(p=>{if(p.type==="ext"||p.type==="comment")return!1;const r=String(p).trim();return r&&!/^<!--.*-->$/su.test(r)}).map(p=>(c!=null||(c={start:h,...this.getRootNode().posFromIndex(h)}),(0,C.D)(p,c,b.Z.msg("invalid content in <$1>",this.name))))]}}},439:(Q,y,t)=>{t.d(y,{h:()=>U});var C=t(891),b=t(541);class U extends b.Token{get innerText(){return this.firstChild.data}constructor(M="",O=C.Z.getConfig(),T=[]){super(M,O,T)}}},976:(Q,y,t)=>{t.d(y,{T:()=>f});var C=t(169),b=t(959),U=t(891),F=t(439),M=Object.defineProperty,O=(v,d,o)=>d in v?M(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,T=(v,d,o)=>(O(v,typeof d!="symbol"?d+"":d,o),o);class f extends(0,b.a)(F.h){constructor(d,o=!0,h=U.Z.getConfig(),c=[]){super(d,h,c),T(this,"type","comment"),T(this,"closed"),this.closed=o}getAttribute(d){return d==="padding"?4:super.getAttribute(d)}lint(d=this.getAbsoluteIndex()){return this.closed?[]:[(0,C.Y)(this,{start:d},"unclosed HTML comment")]}toString(d){return`<!--${this.innerText}${this.closed?"-->":""}`}print(){return super.print({pre:"&lt;!--",post:this.closed?"--&gt;":""})}}},461:(Q,y,t)=>{t.d(y,{k:()=>M});var C=t(933),b=Object.defineProperty,U=(O,T,f)=>T in O?b(O,T,{enumerable:!0,configurable:!0,writable:!0,value:f}):O[T]=f,F=(O,T,f)=>(U(O,typeof T!="symbol"?T+"":T,f),f);class M extends C.T{constructor(){super(...arguments),F(this,"type","dd")}}},491:(Q,y,t)=>{t.r(y),t.d(y,{NowikiToken:()=>T});var C=t(169),b=t(891),U=t(439),F=Object.defineProperty,M=(f,v,d)=>v in f?F(f,v,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[v]=d,O=(f,v,d)=>(M(f,typeof v!="symbol"?v+"":v,d),d);class T extends U.h{constructor(){super(...arguments),O(this,"type","ext-inner")}lint(v=this.getAbsoluteIndex()){const{name:d,firstChild:{data:o}}=this;return(d==="templatestyles"||d==="section")&&o?[(0,C.Y)(this,{start:v},b.Z.msg("nothing should be in <$1>",d))]:super.lint(v)}}},933:(Q,y,t)=>{t.d(y,{T:()=>b});var C=t(439);class b extends C.h{}},826:(Q,y,t)=>{t.d(y,{O:()=>O});var C=t(959),b=t(439),U=Object.defineProperty,F=(T,f,v)=>f in T?U(T,f,{enumerable:!0,configurable:!0,writable:!0,value:v}):T[f]=v,M=(T,f,v)=>(F(T,typeof f!="symbol"?f+"":f,v),v);class O extends(0,C.a)(b.h){constructor(){super(...arguments),M(this,"type","noinclude")}}},160:(Q,y,t)=>{t.r(y),t.d(y,{ParamTagToken:()=>f});var C=t(169),b=t(891),U=t(541),F=t(34),M=Object.defineProperty,O=(v,d,o)=>d in v?M(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,T=(v,d,o)=>(O(v,typeof d!="symbol"?d+"":d,o),o);class f extends U.Token{constructor(d,o=b.Z.getConfig(),h=[],c={}){if(super(void 0,o,h,{}),T(this,"type","ext-inner"),d){const p=F.D;this.append(...d.split(`
`).map(r=>new p(r,"param-line",o,h,{})))}}toString(d){return super.toString(d,`
`)}text(){return super.text(`
`)}getGaps(){return 1}lint(d=this.getAbsoluteIndex()){let o;return this.childNodes.filter(h=>{const{childNodes:c}=h,p=c.findIndex(({type:i})=>i!=="text"),r=(p>=0?c.slice(0,p).map(String).join(""):String(h)).trim();return r&&!(p>=0?/^[a-z]+(?:\[\])?\s*(?:=|$)/iu:/^[a-z]+(?:\[\])?\s*=/iu).test(r)}).map(h=>(o!=null||(o={start:d,...this.getRootNode().posFromIndex(d)}),(0,C.D)(h,o,b.Z.msg("invalid parameter of $1",this.name))))}print(){return super.print({sep:`
`})}}},504:(Q,y,t)=>{t.r(y),t.d(y,{InputboxToken:()=>F});var C=t(313),b=t(891),U=t(160);class F extends U.ParamTagToken{constructor(O,T=b.Z.getConfig(),f=[]){const v=Symbol("InputboxToken");f.push(v),O&&(O=(0,C.parseBraces)(O,T,f)),f.splice(f.indexOf(v),1),super(O,T,f,{})}}},435:(Q,y,t)=>{t.r(y),t.d(y,{PreToken:()=>f});var C=t(444),b=t(891),U=t(541),F=t(826),M=Object.defineProperty,O=(v,d,o)=>d in v?M(v,d,{enumerable:!0,configurable:!0,writable:!0,value:o}):v[d]=o,T=(v,d,o)=>(O(v,typeof d!="symbol"?d+"":d,o),o);class f extends U.Token{constructor(d,o=b.Z.getConfig(),h=[]){if(d){const c="<nowiki>",p="</nowiki>",{length:r}=c;let i=d.indexOf(c),s=d.indexOf(p,i+r),a="";for(;i!==-1&&s!==-1;)new F.O(c,o,h),new F.O(p,o,h),a+=`${d.slice(0,i)}\0${h.length-1}c\x7F${d.slice(i+r,s)}\0${h.length}c\x7F`,d=d.slice(s+r+1),i=d.indexOf(c),s=d.indexOf(p,i+r);d=`${a}${d}`}super(d,o,h,{}),T(this,"type","ext-inner"),this.setAttribute("stage",C.C-1)}getAttribute(d){return d==="plain"||super.getAttribute(d)}}},669:(Q,y,t)=>{t.r(y),t.d(y,{SyntaxToken:()=>U});var C=t(891),b=t(541);class U extends b.Token{constructor(M,O,T="plain",f=C.Z.getConfig(),v=[],d){super(M,f,v,d),this.type=T}}},895:(Q,y,t)=>{t.d(y,{$:()=>d});var C=t(169),b=t(891),U=t(541),F=t(415),M=t(83),O=Object.defineProperty,T=(o,h,c)=>h in o?O(o,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):o[h]=c,f=(o,h,c)=>(T(o,typeof h!="symbol"?h+"":h,c),c);const v=(o,h)=>{const c=new Set(o);return c.delete(h),[...c]};class d extends F.m{constructor(h,c,p,r,i=b.Z.getConfig(),s=[]){var a;const x=h.toLowerCase(),m=new M.x(!c||/^\s/u.test(c)?c:` ${c}`,"ext-attrs",x,i,s),P={...i,ext:v(i.ext,x),excludes:[...(a=i.excludes)!=null?a:[]]};let B;switch(P.inExt=!0,x){case"tab":P.ext=v(P.ext,"tabs");case"indicator":case"poem":case"ref":case"option":case"combooption":case"tabs":case"poll":case"seo":x==="poem"&&P.excludes.push("heading"),B=new U.Token(p,P,s);break;case"pre":{const{PreToken:K}=t(435);B=new K(p,P,s);break}case"dynamicpagelist":{const{ParamTagToken:K}=t(160);B=new K(p,P,s);break}case"inputbox":{P.excludes.push("heading");const{InputboxToken:K}=t(504);B=new K(p,P,s);break}case"references":{const{NestedToken:K}=t(57);B=new K(p,/<!--.*?(?:-->|$)|<(ref)(\s[^>]*)?>(.*?)<\/(ref\s*)>/gisu,["ref"],P,s);break}case"choose":{const{NestedToken:K}=t(57);B=new K(p,/<(option|choicetemplate)(\s[^>]*)?>(.*?)<\/(\1)>/gsu,["option","choicetemplate"],P,s);break}case"combobox":{const{NestedToken:K}=t(57);B=new K(p,/<(combooption)(\s[^>]*)?>(.*?)<\/(combooption\s*)>/gisu,["combooption"],P,s);break}case"gallery":{const{GalleryToken:K}=t(420);B=new K(p,P,s);break}case"imagemap":{const{ImagemapToken:K}=t(842);B=new K(p,P,s);break}default:{const{NowikiToken:K}=t(491);B=new K(p,P)}}B.setAttribute("name",x),B.type="ext-inner",super(h,m,B,r,i,s),f(this,"type","ext")}lint(h=this.getAbsoluteIndex()){const c=super.lint(h);if(this.name!=="nowiki"&&this.closest("html-attrs, table-attrs")){const p=this.getRootNode(),r={start:h,...p.posFromIndex(h)};c.push((0,C.Y)(this,r,"extension tag in HTML tag attributes"))}return c}}},415:(Q,y,t)=>{t.d(y,{m:()=>d});var C=t(891),b=t(541),U=(o,h,c)=>{if(!h.has(o))throw TypeError("Cannot "+c)},F=(o,h,c)=>(U(o,h,"read from private field"),c?c.call(o):h.get(o)),M=(o,h,c)=>{if(h.has(o))throw TypeError("Cannot add the same private member more than once");h instanceof WeakSet?h.add(o):h.set(o,c)},O=(o,h,c,p)=>(U(o,h,"write to private field"),p?p.call(o,c):h.set(o,c),c),T,f,v;class d extends b.Token{constructor(h,c,p,r,i=C.Z.getConfig(),s=[]){super(void 0,i),M(this,T,void 0),M(this,f,void 0),M(this,v,void 0),this.setAttribute("name",h.toLowerCase()),O(this,v,[h,r||h]),O(this,T,r===void 0),O(this,f,r!==""),this.append(c,p);const a=typeof c=="string"?-1:s.indexOf(c);s.splice(a===-1?1/0:a,0,this)}get closed(){return F(this,f)}toString(h){const{firstChild:c,lastChild:p}=this,[r,i]=F(this,v);return F(this,T)?`<${r}${c.toString(h)}/>`:`<${r}${c.toString(h)}>${p.toString(h)}${this.closed?`</${i}>`:""}`}text(){const[h,c]=F(this,v);return F(this,T)?`<${h}${this.firstChild.text()}/>`:`<${h}${super.text(">")}${this.closed?`</${c}>`:""}`}getAttribute(h){return h==="padding"?F(this,v)[0].length+1:super.getAttribute(h)}getGaps(){return 1}print(){const[h,c]=F(this,v);return super.print(F(this,T)?{pre:`&lt;${h}`,post:"/&gt;"}:{pre:`&lt;${h}`,sep:"&gt;",post:this.closed?`&lt;/${c}&gt;`:""})}}T=new WeakMap,f=new WeakMap,v=new WeakMap},444:(Q,y,t)=>{t.d(y,{C:()=>C,L:()=>b});const C=11,b=t(166)},223:(Q,y,t)=>{t.d(y,{j:()=>C});const C={run(b){return b()}}},169:(Q,y,t)=>{t.d(y,{D:()=>b,Y:()=>U});var C=t(891);const b=(F,M,O,T="error")=>{const f=F.getRelativeIndex(),{offsetHeight:v,offsetWidth:d,parentNode:o}=F,{top:h,left:c}=o.posFromIndex(f),{start:p}=M,{top:r,left:i}="top"in M?M:F.getRootNode().posFromIndex(p),s=String(F),a=p+f,x=r+h,m=h?c:i+c;return{message:C.Z.msg(O),severity:T,startIndex:a,endIndex:a+s.length,startLine:x,endLine:x+v-1,startCol:m,endCol:v===1?m+d:d}},U=(F,M,O,T="error")=>{const{start:f}=M,{offsetHeight:v,offsetWidth:d}=F,o=String(F),{top:h,left:c}="top"in M?M:F.getRootNode().posFromIndex(f);return{message:C.Z.msg(O),severity:T,startIndex:f,endIndex:f+o.length,startLine:h,endLine:h+v-1,startCol:c,endCol:v===1?c+d:d}}},467:(Q,y,t)=>{t.d(y,{PN:()=>U,Qk:()=>b,S0:()=>f,_X:()=>C,fL:()=>M,hr:()=>F,jq:()=>T,m9:()=>O});const C='(?:\\[[\\da-f:.]+\\]|[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD])',b='(?:[^[\\]<>"\\0-\\x1F\\x7F\\p{Zs}\\uFFFD]|\\0\\d+c\\x7F)*',U=v=>v.replace(/\0\d+c\x7F/gu,""),F=v=>v.replace(/[\\{}()|.?*+^$[\]]/gu,"\\$&"),M=(v,d="")=>v.map(o=>typeof o=="string"?o:o.text()).join(d),O=v=>v.replace(/&#(\d+|x[\da-f]+);/giu,(d,o)=>String.fromCodePoint(+`${o[0].toLowerCase()==="x"?"0":""}${o}`)),T=v=>v.replace(/\n/gu,"\\n"),f=(v,d={})=>{const{pre:o="",post:h="",sep:c=""}=d,p={"&":"amp","<":"lt",">":"gt"};return`${o}${v.map(r=>r.type==="text"?r.data.replace(/[&<>]/gu,i=>`&${p[i]};`):r.print()).join(c)}${h}`}},166:Q=>{Q.exports=JSON.parse('{"ext":[],"html":[["b","bdi","del","i","ins","u","font","big","small","sub","sup","h1","h2","h3","h4","h5","h6","cite","code","em","s","strike","strong","tt","var","div","center","blockquote","ol","ul","dl","table","caption","pre","ruby","rb","rp","rt","rtc","p","span","abbr","dfn","kbd","samp","data","time","mark","tr","td","th","q","bdo"],["li","dt","dd"],["br","wbr","hr","meta","link","img"]],"namespaces":{"6":"File","10":"Template"},"nsid":{},"parserFunction":[{"#language":"language","#special":"special","#speciale":"speciale","#tag":"tag","#formatdate":"formatdate","#invoke":"invoke","#while":"while","#dowhile":"dowhile","#loop":"loop","#forargs":"forargs","#fornumargs":"fornumargs","#if":"if","#ifeq":"ifeq","#switch":"switch","#ifexist":"ifexist","#ifexpr":"ifexpr","#iferror":"iferror","#time":"time","#timel":"timel","#expr":"expr","#rel2abs":"rel2abs","#titleparts":"titleparts","#categorytree":"categorytree","#urldecode":"urldecode","#choose":"choose","#var":"var","#varexists":"varexists","#var_final":"var_final","#vardefine":"vardefine","#vardefineecho":"vardefineecho","#widget":"widget","#regex":"regex","#related":"related","#cscore":"cscore"},[],["msg","\u539F\u59CB","raw"],["\u66FF\u4EE3","subst","\u5B89\u5168\u66FF\u4EE3","safesubst"]],"doubleUnderscore":[[],[]],"protocol":"bitcoin:|ftp://|ftps://|geo:|git://|gopher://|http://|https://|irc://|ircs://|magnet:|mailto:|mms://|news:|nntp://|redis://|sftp://|sip:|sips:|sms:|ssh://|svn://|tel:|telnet://|urn:|worldwind://|xmpp:","interwiki":[],"img":{},"variants":[]}')}},Rt={};function Et(Q){var y=Rt[Q];if(y!==void 0)return y.exports;var t=Rt[Q]={exports:{}};return Vt[Q](t,t.exports,Et),t.exports}Et.d=(Q,y)=>{for(var t in y)Et.o(y,t)&&!Et.o(Q,t)&&Object.defineProperty(Q,t,{enumerable:!0,get:y[t]})},Et.o=(Q,y)=>Object.prototype.hasOwnProperty.call(Q,y),Et.r=Q=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var se=Et(891)})();})();
